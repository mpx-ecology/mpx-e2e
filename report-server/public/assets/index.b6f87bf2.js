var fpe=Object.defineProperty,gpe=Object.defineProperties;var ppe=Object.getOwnPropertyDescriptors;var cS=Object.getOwnPropertySymbols;var $H=Object.prototype.hasOwnProperty,zH=Object.prototype.propertyIsEnumerable;var aE=(n,e,t)=>e in n?fpe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,It=(n,e)=>{for(var t in e||(e={}))$H.call(e,t)&&aE(n,t,e[t]);if(cS)for(var t of cS(e))zH.call(e,t)&&aE(n,t,e[t]);return n},Di=(n,e)=>gpe(n,ppe(e));var UH=(n,e)=>{var t={};for(var i in n)$H.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&cS)for(var i of cS(n))e.indexOf(i)<0&&zH.call(n,i)&&(t[i]=n[i]);return t};var On=(n,e,t)=>(aE(n,typeof e!="symbol"?e+"":e,t),t);const mpe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}};mpe();function hR(n,e){const t=Object.create(null),i=n.split(",");for(let s=0;s<i.length;s++)t[i[s]]=!0;return e?s=>!!t[s.toLowerCase()]:s=>!!t[s]}const _pe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vpe=hR(_pe);function PY(n){return!!n||n===""}function kn(n){if(Gt(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],s=Ai(i)?wpe(i):kn(i);if(s)for(const o in s)e[o]=s[o]}return e}else{if(Ai(n))return n;if(tn(n))return n}}const bpe=/;(?![^(]*\))/g,Cpe=/:(.+)/;function wpe(n){const e={};return n.split(bpe).forEach(t=>{if(t){const i=t.split(Cpe);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function it(n){let e="";if(Ai(n))e=n;else if(Gt(n))for(let t=0;t<n.length;t++){const i=it(n[t]);i&&(e+=i+" ")}else if(tn(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function ype(n){if(!n)return null;let{class:e,style:t}=n;return e&&!Ai(e)&&(n.class=it(e)),t&&(n.style=kn(t)),n}function Spe(n,e){if(n.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<n.length;i++)t=JL(n[i],e[i]);return t}function JL(n,e){if(n===e)return!0;let t=jH(n),i=jH(e);if(t||i)return t&&i?n.getTime()===e.getTime():!1;if(t=MC(n),i=MC(e),t||i)return n===e;if(t=Gt(n),i=Gt(e),t||i)return t&&i?Spe(n,e):!1;if(t=tn(n),i=tn(e),t||i){if(!t||!i)return!1;const s=Object.keys(n).length,o=Object.keys(e).length;if(s!==o)return!1;for(const r in n){const a=n.hasOwnProperty(r),l=e.hasOwnProperty(r);if(a&&!l||!a&&l||!JL(n[r],e[r]))return!1}}return String(n)===String(e)}function FY(n,e){return n.findIndex(t=>JL(t,e))}const Rn=n=>Ai(n)?n:n==null?"":Gt(n)||tn(n)&&(n.toString===WY||!oi(n.toString))?JSON.stringify(n,BY,2):String(n),BY=(n,e)=>e&&e.__v_isRef?BY(n,e.value):m1(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,s])=>(t[`${i} =>`]=s,t),{})}:tx(e)?{[`Set(${e.size})`]:[...e.values()]}:tn(e)&&!Gt(e)&&!HY(e)?String(e):e,Gn={},p1=[],Zo=()=>{},Lpe=()=>!1,xpe=/^on[^a-z]/,ex=n=>xpe.test(n),fR=n=>n.startsWith("onUpdate:"),Jo=Object.assign,gR=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},Dpe=Object.prototype.hasOwnProperty,Gi=(n,e)=>Dpe.call(n,e),Gt=Array.isArray,m1=n=>wy(n)==="[object Map]",tx=n=>wy(n)==="[object Set]",jH=n=>wy(n)==="[object Date]",oi=n=>typeof n=="function",Ai=n=>typeof n=="string",MC=n=>typeof n=="symbol",tn=n=>n!==null&&typeof n=="object",VY=n=>tn(n)&&oi(n.then)&&oi(n.catch),WY=Object.prototype.toString,wy=n=>WY.call(n),K3=n=>wy(n).slice(8,-1),HY=n=>wy(n)==="[object Object]",pR=n=>Ai(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,q3=hR(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ix=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},kpe=/-(\w)/g,Vc=ix(n=>n.replace(kpe,(e,t)=>t?t.toUpperCase():"")),Epe=/\B([A-Z])/g,$g=ix(n=>n.replace(Epe,"-$1").toLowerCase()),nx=ix(n=>n.charAt(0).toUpperCase()+n.slice(1)),G3=ix(n=>n?`on${nx(n)}`:""),AC=(n,e)=>!Object.is(n,e),Y3=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},H6=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},$6=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let KH;const Ipe=()=>KH||(KH=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Fa;class $Y{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Fa&&(this.parent=Fa,this.index=(Fa.scopes||(Fa.scopes=[])).push(this)-1)}run(e){if(this.active){const t=Fa;try{return Fa=this,e()}finally{Fa=t}}}on(){Fa=this}off(){Fa=this.parent}stop(e){if(this.active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function zY(n){return new $Y(n)}function Tpe(n,e=Fa){e&&e.active&&e.effects.push(n)}function Npe(){return Fa}function UY(n){Fa&&Fa.cleanups.push(n)}const mR=n=>{const e=new Set(n);return e.w=0,e.n=0,e},jY=n=>(n.w&_g)>0,KY=n=>(n.n&_g)>0,Mpe=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=_g},Ape=n=>{const{deps:e}=n;if(e.length){let t=0;for(let i=0;i<e.length;i++){const s=e[i];jY(s)&&!KY(s)?s.delete(n):e[t++]=s,s.w&=~_g,s.n&=~_g}e.length=t}},YT=new WeakMap;let wb=0,_g=1;const ZT=30;let Lc;const am=Symbol(""),XT=Symbol("");class _R{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Tpe(this,i)}run(){if(!this.active)return this.fn();let e=Lc,t=eg;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Lc,Lc=this,eg=!0,_g=1<<++wb,wb<=ZT?Mpe(this):qH(this),this.fn()}finally{wb<=ZT&&Ape(this),_g=1<<--wb,Lc=this.parent,eg=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Lc===this?this.deferStop=!0:this.active&&(qH(this),this.onStop&&this.onStop(),this.active=!1)}}function qH(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let eg=!0;const qY=[];function m_(){qY.push(eg),eg=!1}function __(){const n=qY.pop();eg=n===void 0?!0:n}function al(n,e,t){if(eg&&Lc){let i=YT.get(n);i||YT.set(n,i=new Map);let s=i.get(t);s||i.set(t,s=mR()),GY(s)}}function GY(n,e){let t=!1;wb<=ZT?KY(n)||(n.n|=_g,t=!jY(n)):t=!n.has(Lc),t&&(n.add(Lc),Lc.deps.push(n))}function kh(n,e,t,i,s,o){const r=YT.get(n);if(!r)return;let a=[];if(e==="clear")a=[...r.values()];else if(t==="length"&&Gt(n))r.forEach((l,c)=>{(c==="length"||c>=i)&&a.push(l)});else switch(t!==void 0&&a.push(r.get(t)),e){case"add":Gt(n)?pR(t)&&a.push(r.get("length")):(a.push(r.get(am)),m1(n)&&a.push(r.get(XT)));break;case"delete":Gt(n)||(a.push(r.get(am)),m1(n)&&a.push(r.get(XT)));break;case"set":m1(n)&&a.push(r.get(am));break}if(a.length===1)a[0]&&QT(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);QT(mR(l))}}function QT(n,e){const t=Gt(n)?n:[...n];for(const i of t)i.computed&&GH(i);for(const i of t)i.computed||GH(i)}function GH(n,e){(n!==Lc||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const Rpe=hR("__proto__,__v_isRef,__isVue"),YY=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(MC)),Ope=vR(),Ppe=vR(!1,!0),Fpe=vR(!0),YH=Bpe();function Bpe(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=Ki(this);for(let o=0,r=this.length;o<r;o++)al(i,"get",o+"");const s=i[e](...t);return s===-1||s===!1?i[e](...t.map(Ki)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){m_();const i=Ki(this)[e].apply(this,t);return __(),i}}),n}function vR(n=!1,e=!1){return function(i,s,o){if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&o===(n?e?eme:eZ:e?JY:QY).get(i))return i;const r=Gt(i);if(!n&&r&&Gi(YH,s))return Reflect.get(YH,s,o);const a=Reflect.get(i,s,o);return(MC(s)?YY.has(s):Rpe(s))||(n||al(i,"get",s),e)?a:Zn(a)?r&&pR(s)?a:a.value:tn(a)?n?ox(a):hs(a):a}}const Vpe=ZY(),Wpe=ZY(!0);function ZY(n=!1){return function(t,i,s,o){let r=t[i];if(RC(r)&&Zn(r)&&!Zn(s))return!1;if(!n&&!RC(s)&&(JT(s)||(s=Ki(s),r=Ki(r)),!Gt(t)&&Zn(r)&&!Zn(s)))return r.value=s,!0;const a=Gt(t)&&pR(i)?Number(i)<t.length:Gi(t,i),l=Reflect.set(t,i,s,o);return t===Ki(o)&&(a?AC(s,r)&&kh(t,"set",i,s):kh(t,"add",i,s)),l}}function Hpe(n,e){const t=Gi(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&t&&kh(n,"delete",e,void 0),i}function $pe(n,e){const t=Reflect.has(n,e);return(!MC(e)||!YY.has(e))&&al(n,"has",e),t}function zpe(n){return al(n,"iterate",Gt(n)?"length":am),Reflect.ownKeys(n)}const XY={get:Ope,set:Vpe,deleteProperty:Hpe,has:$pe,ownKeys:zpe},Upe={get:Fpe,set(n,e){return!0},deleteProperty(n,e){return!0}},jpe=Jo({},XY,{get:Ppe,set:Wpe}),bR=n=>n,sx=n=>Reflect.getPrototypeOf(n);function uS(n,e,t=!1,i=!1){n=n.__v_raw;const s=Ki(n),o=Ki(e);t||(e!==o&&al(s,"get",e),al(s,"get",o));const{has:r}=sx(s),a=i?bR:t?yR:OC;if(r.call(s,e))return a(n.get(e));if(r.call(s,o))return a(n.get(o));n!==s&&n.get(e)}function dS(n,e=!1){const t=this.__v_raw,i=Ki(t),s=Ki(n);return e||(n!==s&&al(i,"has",n),al(i,"has",s)),n===s?t.has(n):t.has(n)||t.has(s)}function hS(n,e=!1){return n=n.__v_raw,!e&&al(Ki(n),"iterate",am),Reflect.get(n,"size",n)}function ZH(n){n=Ki(n);const e=Ki(this);return sx(e).has.call(e,n)||(e.add(n),kh(e,"add",n,n)),this}function XH(n,e){e=Ki(e);const t=Ki(this),{has:i,get:s}=sx(t);let o=i.call(t,n);o||(n=Ki(n),o=i.call(t,n));const r=s.call(t,n);return t.set(n,e),o?AC(e,r)&&kh(t,"set",n,e):kh(t,"add",n,e),this}function QH(n){const e=Ki(this),{has:t,get:i}=sx(e);let s=t.call(e,n);s||(n=Ki(n),s=t.call(e,n)),i&&i.call(e,n);const o=e.delete(n);return s&&kh(e,"delete",n,void 0),o}function JH(){const n=Ki(this),e=n.size!==0,t=n.clear();return e&&kh(n,"clear",void 0,void 0),t}function fS(n,e){return function(i,s){const o=this,r=o.__v_raw,a=Ki(r),l=e?bR:n?yR:OC;return!n&&al(a,"iterate",am),r.forEach((c,u)=>i.call(s,l(c),l(u),o))}}function gS(n,e,t){return function(...i){const s=this.__v_raw,o=Ki(s),r=m1(o),a=n==="entries"||n===Symbol.iterator&&r,l=n==="keys"&&r,c=s[n](...i),u=t?bR:e?yR:OC;return!e&&al(o,"iterate",l?XT:am),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function cf(n){return function(...e){return n==="delete"?!1:this}}function Kpe(){const n={get(o){return uS(this,o)},get size(){return hS(this)},has:dS,add:ZH,set:XH,delete:QH,clear:JH,forEach:fS(!1,!1)},e={get(o){return uS(this,o,!1,!0)},get size(){return hS(this)},has:dS,add:ZH,set:XH,delete:QH,clear:JH,forEach:fS(!1,!0)},t={get(o){return uS(this,o,!0)},get size(){return hS(this,!0)},has(o){return dS.call(this,o,!0)},add:cf("add"),set:cf("set"),delete:cf("delete"),clear:cf("clear"),forEach:fS(!0,!1)},i={get(o){return uS(this,o,!0,!0)},get size(){return hS(this,!0)},has(o){return dS.call(this,o,!0)},add:cf("add"),set:cf("set"),delete:cf("delete"),clear:cf("clear"),forEach:fS(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=gS(o,!1,!1),t[o]=gS(o,!0,!1),e[o]=gS(o,!1,!0),i[o]=gS(o,!0,!0)}),[n,t,e,i]}const[qpe,Gpe,Ype,Zpe]=Kpe();function CR(n,e){const t=e?n?Zpe:Ype:n?Gpe:qpe;return(i,s,o)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(Gi(t,s)&&s in i?t:i,s,o)}const Xpe={get:CR(!1,!1)},Qpe={get:CR(!1,!0)},Jpe={get:CR(!0,!1)},QY=new WeakMap,JY=new WeakMap,eZ=new WeakMap,eme=new WeakMap;function tme(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ime(n){return n.__v_skip||!Object.isExtensible(n)?0:tme(K3(n))}function hs(n){return RC(n)?n:wR(n,!1,XY,Xpe,QY)}function nme(n){return wR(n,!1,jpe,Qpe,JY)}function ox(n){return wR(n,!0,Upe,Jpe,eZ)}function wR(n,e,t,i,s){if(!tn(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const o=s.get(n);if(o)return o;const r=ime(n);if(r===0)return n;const a=new Proxy(n,r===2?i:t);return s.set(n,a),a}function tg(n){return RC(n)?tg(n.__v_raw):!!(n&&n.__v_isReactive)}function RC(n){return!!(n&&n.__v_isReadonly)}function JT(n){return!!(n&&n.__v_isShallow)}function tZ(n){return tg(n)||RC(n)}function Ki(n){const e=n&&n.__v_raw;return e?Ki(e):n}function U1(n){return H6(n,"__v_skip",!0),n}const OC=n=>tn(n)?hs(n):n,yR=n=>tn(n)?ox(n):n;function iZ(n){eg&&Lc&&(n=Ki(n),GY(n.dep||(n.dep=mR())))}function SR(n,e){n=Ki(n),n.dep&&QT(n.dep)}function Zn(n){return!!(n&&n.__v_isRef===!0)}function ze(n){return nZ(n,!1)}function _1(n){return nZ(n,!0)}function nZ(n,e){return Zn(n)?n:new sme(n,e)}class sme{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ki(e),this._value=t?e:OC(e)}get value(){return iZ(this),this._value}set value(e){e=this.__v_isShallow?e:Ki(e),AC(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:OC(e),SR(this))}}function F2(n){SR(n)}function B(n){return Zn(n)?n.value:n}const ome={get:(n,e,t)=>B(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const s=n[e];return Zn(s)&&!Zn(t)?(s.value=t,!0):Reflect.set(n,e,t,i)}};function sZ(n){return tg(n)?n:new Proxy(n,ome)}function zg(n){const e=Gt(n)?new Array(n.length):{};for(const t in n)e[t]=_r(n,t);return e}class rme{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function _r(n,e,t){const i=n[e];return Zn(i)?i:new rme(n,e,t)}class ame{constructor(e,t,i,s){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new _R(e,()=>{this._dirty||(this._dirty=!0,SR(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Ki(this);return iZ(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function oZ(n,e,t=!1){let i,s;const o=oi(n);return o?(i=n,s=Zo):(i=n.get,s=n.set),new ame(i,s,o||!s,t)}const zb=[];function lme(n,...e){m_();const t=zb.length?zb[zb.length-1].component:null,i=t&&t.appContext.config.warnHandler,s=cme();if(i)Ch(i,t,11,[n+e.join(""),t&&t.proxy,s.map(({vnode:o})=>`at <${WZ(t,o.type)}>`).join(`
`),s]);else{const o=[`[Vue warn]: ${n}`,...e];s.length&&o.push(`
`,...ume(s)),console.warn(...o)}__()}function cme(){let n=zb[zb.length-1];if(!n)return[];const e=[];for(;n;){const t=e[0];t&&t.vnode===n?t.recurseCount++:e.push({vnode:n,recurseCount:0});const i=n.component&&n.component.parent;n=i&&i.vnode}return e}function ume(n){const e=[];return n.forEach((t,i)=>{e.push(...i===0?[]:[`
`],...dme(t))}),e}function dme({vnode:n,recurseCount:e}){const t=e>0?`... (${e} recursive calls)`:"",i=n.component?n.component.parent==null:!1,s=` at <${WZ(n.component,n.type,i)}`,o=">"+t;return n.props?[s,...hme(n.props),o]:[s+o]}function hme(n){const e=[],t=Object.keys(n);return t.slice(0,3).forEach(i=>{e.push(...rZ(i,n[i]))}),t.length>3&&e.push(" ..."),e}function rZ(n,e,t){return Ai(e)?(e=JSON.stringify(e),t?e:[`${n}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?t?e:[`${n}=${e}`]:Zn(e)?(e=rZ(n,Ki(e.value),!0),t?e:[`${n}=Ref<`,e,">"]):oi(e)?[`${n}=fn${e.name?`<${e.name}>`:""}`]:(e=Ki(e),t?e:[`${n}=`,e])}function Ch(n,e,t,i){let s;try{s=i?n(...i):n()}catch(o){rx(o,e,t)}return s}function zl(n,e,t,i){if(oi(n)){const o=Ch(n,e,t,i);return o&&VY(o)&&o.catch(r=>{rx(r,e,t)}),o}const s=[];for(let o=0;o<n.length;o++)s.push(zl(n[o],e,t,i));return s}function rx(n,e,t,i){if(e&&e.vnode,e){let s=e.parent;const o=e.proxy,r=t;for(;s;){const l=s.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](n,o,r)===!1)return}s=s.parent}const a=e.appContext.config.errorHandler;if(a){Ch(a,null,10,[n,o,r]);return}}fme(n)}function fme(n,e,t,i){console.error(n)}let z6=!1,e9=!1;const Ua=[];let eh=0;const Ub=[];let yb=null,A0=0;const jb=[];let wf=null,R0=0;const aZ=Promise.resolve();let LR=null,t9=null;function hn(n){const e=LR||aZ;return n?e.then(this?n.bind(this):n):e}function gme(n){let e=eh+1,t=Ua.length;for(;e<t;){const i=e+t>>>1;PC(Ua[i])<n?e=i+1:t=i}return e}function lZ(n){(!Ua.length||!Ua.includes(n,z6&&n.allowRecurse?eh+1:eh))&&n!==t9&&(n.id==null?Ua.push(n):Ua.splice(gme(n.id),0,n),cZ())}function cZ(){!z6&&!e9&&(e9=!0,LR=aZ.then(hZ))}function pme(n){const e=Ua.indexOf(n);e>eh&&Ua.splice(e,1)}function uZ(n,e,t,i){Gt(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?i+1:i))&&t.push(n),cZ()}function mme(n){uZ(n,yb,Ub,A0)}function _me(n){uZ(n,wf,jb,R0)}function ax(n,e=null){if(Ub.length){for(t9=e,yb=[...new Set(Ub)],Ub.length=0,A0=0;A0<yb.length;A0++)yb[A0]();yb=null,A0=0,t9=null,ax(n,e)}}function dZ(n){if(ax(),jb.length){const e=[...new Set(jb)];if(jb.length=0,wf){wf.push(...e);return}for(wf=e,wf.sort((t,i)=>PC(t)-PC(i)),R0=0;R0<wf.length;R0++)wf[R0]();wf=null,R0=0}}const PC=n=>n.id==null?1/0:n.id;function hZ(n){e9=!1,z6=!0,ax(n),Ua.sort((t,i)=>PC(t)-PC(i));const e=Zo;try{for(eh=0;eh<Ua.length;eh++){const t=Ua[eh];t&&t.active!==!1&&Ch(t,null,14)}}finally{eh=0,Ua.length=0,dZ(),z6=!1,LR=null,(Ua.length||Ub.length||jb.length)&&hZ(n)}}function vme(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||Gn;let s=t;const o=e.startsWith("update:"),r=o&&e.slice(7);if(r&&r in i){const u=`${r==="modelValue"?"model":r}Modifiers`,{number:d,trim:h}=i[u]||Gn;h&&(s=t.map(f=>f.trim())),d&&(s=t.map($6))}let a,l=i[a=G3(e)]||i[a=G3(Vc(e))];!l&&o&&(l=i[a=G3($g(e))]),l&&zl(l,n,6,s);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,zl(c,n,6,s)}}function fZ(n,e,t=!1){const i=e.emitsCache,s=i.get(n);if(s!==void 0)return s;const o=n.emits;let r={},a=!1;if(!oi(n)){const l=c=>{const u=fZ(c,e,!0);u&&(a=!0,Jo(r,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!o&&!a?(i.set(n,null),null):(Gt(o)?o.forEach(l=>r[l]=null):Jo(r,o),i.set(n,r),r)}function lx(n,e){return!n||!ex(e)?!1:(e=e.slice(2).replace(/Once$/,""),Gi(n,e[0].toLowerCase()+e.slice(1))||Gi(n,$g(e))||Gi(n,e))}let gr=null,cx=null;function U6(n){const e=gr;return gr=n,cx=n&&n.type.__scopeId||null,e}function gZ(n){cx=n}function pZ(){cx=null}function Oe(n,e=gr,t){if(!e||n._n)return n;const i=(...s)=>{i._d&&d$(-1);const o=U6(e),r=n(...s);return U6(o),i._d&&d$(1),r};return i._n=!0,i._c=!0,i._d=!0,i}function lE(n){const{type:e,vnode:t,proxy:i,withProxy:s,props:o,propsOptions:[r],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=n;let b,w;const y=U6(n);try{if(t.shapeFlag&4){const D=s||i;b=yu(u.call(D,D,d,o,f,h,p)),w=l}else{const D=e;b=yu(D.length>1?D(o,{attrs:l,slots:a,emit:c}):D(o,null)),w=e.props?l:bme(l)}}catch(D){Gb.length=0,rx(D,n,1),b=Ue(il)}let L=b;if(w&&m!==!1){const D=Object.keys(w),{shapeFlag:E}=L;D.length&&E&7&&(r&&D.some(fR)&&(w=Cme(w,r)),L=Eh(L,w))}return t.dirs&&(L=Eh(L),L.dirs=L.dirs?L.dirs.concat(t.dirs):t.dirs),t.transition&&(L.transition=t.transition),b=L,U6(y),b}const bme=n=>{let e;for(const t in n)(t==="class"||t==="style"||ex(t))&&((e||(e={}))[t]=n[t]);return e},Cme=(n,e)=>{const t={};for(const i in n)(!fR(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function wme(n,e,t){const{props:i,children:s,component:o}=n,{props:r,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?e$(i,r,c):!!r;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(r[h]!==i[h]&&!lx(c,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===r?!1:i?r?e$(i,r,c):!0:!!r;return!1}function e$(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==n[o]&&!lx(t,o))return!0}return!1}function yme({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const Sme=n=>n.__isSuspense;function Lme(n,e){e&&e.pendingBranch?Gt(n)?e.effects.push(...n):e.effects.push(n):_me(n)}function Hn(n,e){if(Po){let t=Po.provides;const i=Po.parent&&Po.parent.provides;i===t&&(t=Po.provides=Object.create(i)),t[n]=e}}function Wt(n,e,t=!1){const i=Po||gr;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&n in s)return s[n];if(arguments.length>1)return t&&oi(e)?e.call(i.proxy):e}}function xme(n,e){return xR(n,null,e)}const t$={};function $t(n,e,t){return xR(n,e,t)}function xR(n,e,{immediate:t,deep:i,flush:s,onTrack:o,onTrigger:r}=Gn){const a=Po;let l,c=!1,u=!1;if(Zn(n)?(l=()=>n.value,c=JT(n)):tg(n)?(l=()=>n,i=!0):Gt(n)?(u=!0,c=n.some(w=>tg(w)||JT(w)),l=()=>n.map(w=>{if(Zn(w))return w.value;if(tg(w))return Kp(w);if(oi(w))return Ch(w,a,2)})):oi(n)?e?l=()=>Ch(n,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),zl(n,a,3,[h])}:l=Zo,e&&i){const w=l;l=()=>Kp(w())}let d,h=w=>{d=b.onStop=()=>{Ch(w,a,4)}};if(BC)return h=Zo,e?t&&zl(e,a,3,[l(),u?[]:void 0,h]):l(),Zo;let f=u?[]:t$;const p=()=>{if(!!b.active)if(e){const w=b.run();(i||c||(u?w.some((y,L)=>AC(y,f[L])):AC(w,f)))&&(d&&d(),zl(e,a,3,[w,f===t$?void 0:f,h]),f=w)}else b.run()};p.allowRecurse=!!e;let m;s==="sync"?m=p:s==="post"?m=()=>na(p,a&&a.suspense):m=()=>mme(p);const b=new _R(l,m);return e?t?p():f=b.run():s==="post"?na(b.run.bind(b),a&&a.suspense):b.run(),()=>{b.stop(),a&&a.scope&&gR(a.scope.effects,b)}}function Dme(n,e,t){const i=this.proxy,s=Ai(n)?n.includes(".")?mZ(i,n):()=>i[n]:n.bind(i,i);let o;oi(e)?o=e:(o=e.handler,t=e);const r=Po;j1(this);const a=xR(s,o.bind(i),t);return r?j1(r):lm(),a}function mZ(n,e){const t=e.split(".");return()=>{let i=n;for(let s=0;s<t.length&&i;s++)i=i[t[s]];return i}}function Kp(n,e){if(!tn(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Zn(n))Kp(n.value,e);else if(Gt(n))for(let t=0;t<n.length;t++)Kp(n[t],e);else if(tx(n)||m1(n))n.forEach(t=>{Kp(t,e)});else if(HY(n))for(const t in n)Kp(n[t],e);return n}function kme(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ds(()=>{n.isMounted=!0}),xo(()=>{n.isUnmounting=!0}),n}const Tl=[Function,Array],Eme={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tl,onEnter:Tl,onAfterEnter:Tl,onEnterCancelled:Tl,onBeforeLeave:Tl,onLeave:Tl,onAfterLeave:Tl,onLeaveCancelled:Tl,onBeforeAppear:Tl,onAppear:Tl,onAfterAppear:Tl,onAppearCancelled:Tl},setup(n,{slots:e}){const t=Do(),i=kme();let s;return()=>{const o=e.default&&bZ(e.default(),!0);if(!o||!o.length)return;let r=o[0];if(o.length>1){for(const m of o)if(m.type!==il){r=m;break}}const a=Ki(n),{mode:l}=a;if(i.isLeaving)return cE(r);const c=i$(r);if(!c)return cE(r);const u=i9(c,a,i,t);n9(c,u);const d=t.subTree,h=d&&i$(d);let f=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();s===void 0?s=m:m!==s&&(s=m,f=!0)}if(h&&h.type!==il&&(!Mp(c,h)||f)){const m=i9(h,a,i,t);if(n9(h,m),l==="out-in")return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,t.update()},cE(r);l==="in-out"&&c.type!==il&&(m.delayLeave=(b,w,y)=>{const L=vZ(i,h);L[String(h.key)]=h,b._leaveCb=()=>{w(),b._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=y})}return r}}},_Z=Eme;function vZ(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function i9(n,e,t,i){const{appear:s,mode:o,persisted:r=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:m,onAppear:b,onAfterAppear:w,onAppearCancelled:y}=e,L=String(n.key),D=vZ(t,n),E=(k,N)=>{k&&zl(k,i,9,N)},T=(k,N)=>{const V=N[1];E(k,N),Gt(k)?k.every(H=>H.length<=1)&&V():k.length<=1&&V()},x={mode:o,persisted:r,beforeEnter(k){let N=a;if(!t.isMounted)if(s)N=m||a;else return;k._leaveCb&&k._leaveCb(!0);const V=D[L];V&&Mp(n,V)&&V.el._leaveCb&&V.el._leaveCb(),E(N,[k])},enter(k){let N=l,V=c,H=u;if(!t.isMounted)if(s)N=b||l,V=w||c,H=y||u;else return;let G=!1;const te=k._enterCb=ae=>{G||(G=!0,ae?E(H,[k]):E(V,[k]),x.delayedLeave&&x.delayedLeave(),k._enterCb=void 0)};N?T(N,[k,te]):te()},leave(k,N){const V=String(n.key);if(k._enterCb&&k._enterCb(!0),t.isUnmounting)return N();E(d,[k]);let H=!1;const G=k._leaveCb=te=>{H||(H=!0,N(),te?E(p,[k]):E(f,[k]),k._leaveCb=void 0,D[V]===n&&delete D[V])};D[V]=n,h?T(h,[k,G]):G()},clone(k){return i9(k,e,t,i)}};return x}function cE(n){if(ux(n))return n=Eh(n),n.children=null,n}function i$(n){return ux(n)?n.children?n.children[0]:void 0:n}function n9(n,e){n.shapeFlag&6&&n.component?n9(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function bZ(n,e=!1,t){let i=[],s=0;for(let o=0;o<n.length;o++){let r=n[o];const a=t==null?r.key:String(t)+String(r.key!=null?r.key:o);r.type===Ui?(r.patchFlag&128&&s++,i=i.concat(bZ(r.children,e,a))):(e||r.type!==il)&&i.push(a!=null?Eh(r,{key:a}):r)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function Ht(n){return oi(n)?{setup:n,name:n.name}:n}const Kb=n=>!!n.type.__asyncLoader,ux=n=>n.type.__isKeepAlive;function Ime(n,e){CZ(n,"a",e)}function Tme(n,e){CZ(n,"da",e)}function CZ(n,e,t=Po){const i=n.__wdc||(n.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(dx(e,i,t),t){let s=t.parent;for(;s&&s.parent;)ux(s.parent.vnode)&&Nme(i,e,t,s),s=s.parent}}function Nme(n,e,t,i){const s=dx(e,n,i,!0);yy(()=>{gR(i[e],s)},t)}function dx(n,e,t=Po,i=!1){if(t){const s=t[n]||(t[n]=[]),o=e.__weh||(e.__weh=(...r)=>{if(t.isUnmounted)return;m_(),j1(t);const a=zl(e,t,n,r);return lm(),__(),a});return i?s.unshift(o):s.push(o),o}}const Hh=n=>(e,t=Po)=>(!BC||n==="sp")&&dx(n,e,t),wZ=Hh("bm"),Ds=Hh("m"),Mme=Hh("bu"),hx=Hh("u"),xo=Hh("bum"),yy=Hh("um"),Ame=Hh("sp"),Rme=Hh("rtg"),Ome=Hh("rtc");function Pme(n,e=Po){dx("ec",n,e)}function vr(n,e){const t=gr;if(t===null)return n;const i=gx(t)||t.proxy,s=n.dirs||(n.dirs=[]);for(let o=0;o<e.length;o++){let[r,a,l,c=Gn]=e[o];oi(r)&&(r={mounted:r,updated:r}),r.deep&&Kp(a),s.push({dir:r,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c})}return n}function fp(n,e,t,i){const s=n.dirs,o=e&&e.dirs;for(let r=0;r<s.length;r++){const a=s[r];o&&(a.oldValue=o[r].value);let l=a.dir[i];l&&(m_(),zl(l,t,8,[n.el,a,n,e]),__())}}const DR="components",Fme="directives";function Bi(n,e){return kR(DR,n,!0,e)||n}const yZ=Symbol();function Pr(n){return Ai(n)?kR(DR,n)||n:n||yZ}function Bme(n){return kR(Fme,n)}function kR(n,e,t,i=!1){const s=gr||Po;if(s){const o=s.type;if(n===DR){const a=VZ(o);if(a&&(a===e||a===Vc(e)||a===nx(Vc(e))))return o}const r=n$(s[n]||o[n],e)||n$(s.appContext[n],e);return!r&&i?o:r}}function n$(n,e){return n&&(n[e]||n[Vc(e)]||n[nx(Vc(e))])}function Ru(n,e,t,i){let s;const o=t&&t[i];if(Gt(n)||Ai(n)){s=new Array(n.length);for(let r=0,a=n.length;r<a;r++)s[r]=e(n[r],r,void 0,o&&o[r])}else if(typeof n=="number"){s=new Array(n);for(let r=0;r<n;r++)s[r]=e(r+1,r,void 0,o&&o[r])}else if(tn(n))if(n[Symbol.iterator])s=Array.from(n,(r,a)=>e(r,a,void 0,o&&o[a]));else{const r=Object.keys(n);s=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const c=r[a];s[a]=e(n[c],c,a,o&&o[a])}}else s=[];return t&&(t[i]=s),s}function ER(n,e){for(let t=0;t<e.length;t++){const i=e[t];if(Gt(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.fn)}return n}function xt(n,e,t={},i,s){if(gr.isCE||gr.parent&&Kb(gr.parent)&&gr.parent.isCE)return Ue("slot",e==="default"?null:{name:e},i&&i());let o=n[e];o&&o._c&&(o._d=!1),O();const r=o&&SZ(o(t)),a=St(Ui,{key:t.key||`_${e}`},r||(i?i():[]),r&&n._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function SZ(n){return n.some(e=>oh(e)?!(e.type===il||e.type===Ui&&!SZ(e.children)):!0)?n:null}function Vme(n){const e={};for(const t in n)e[G3(t)]=n[t];return e}const s9=n=>n?PZ(n)?gx(n)||n.proxy:s9(n.parent):null,j6=Jo(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>s9(n.parent),$root:n=>s9(n.root),$emit:n=>n.emit,$options:n=>xZ(n),$forceUpdate:n=>n.f||(n.f=()=>lZ(n.update)),$nextTick:n=>n.n||(n.n=hn.bind(n.proxy)),$watch:n=>Dme.bind(n)}),Wme={get({_:n},e){const{ctx:t,setupState:i,data:s,props:o,accessCache:r,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const f=r[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return s[e];case 4:return t[e];case 3:return o[e]}else{if(i!==Gn&&Gi(i,e))return r[e]=1,i[e];if(s!==Gn&&Gi(s,e))return r[e]=2,s[e];if((c=n.propsOptions[0])&&Gi(c,e))return r[e]=3,o[e];if(t!==Gn&&Gi(t,e))return r[e]=4,t[e];o9&&(r[e]=0)}}const u=j6[e];let d,h;if(u)return e==="$attrs"&&al(n,"get",e),u(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==Gn&&Gi(t,e))return r[e]=4,t[e];if(h=l.config.globalProperties,Gi(h,e))return h[e]},set({_:n},e,t){const{data:i,setupState:s,ctx:o}=n;return s!==Gn&&Gi(s,e)?(s[e]=t,!0):i!==Gn&&Gi(i,e)?(i[e]=t,!0):Gi(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(o[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:s,propsOptions:o}},r){let a;return!!t[r]||n!==Gn&&Gi(n,r)||e!==Gn&&Gi(e,r)||(a=o[0])&&Gi(a,r)||Gi(i,r)||Gi(j6,r)||Gi(s.config.globalProperties,r)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Gi(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};let o9=!0;function Hme(n){const e=xZ(n),t=n.proxy,i=n.ctx;o9=!1,e.beforeCreate&&s$(e.beforeCreate,n,"bc");const{data:s,computed:o,methods:r,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:b,beforeDestroy:w,beforeUnmount:y,destroyed:L,unmounted:D,render:E,renderTracked:T,renderTriggered:x,errorCaptured:k,serverPrefetch:N,expose:V,inheritAttrs:H,components:G,directives:te,filters:ae}=e;if(c&&$me(c,i,null,n.appContext.config.unwrapInjectedRef),r)for(const be in r){const Me=r[be];oi(Me)&&(i[be]=Me.bind(t))}if(s){const be=s.call(t,t);tn(be)&&(n.data=hs(be))}if(o9=!0,o)for(const be in o){const Me=o[be],He=oi(Me)?Me.bind(t,t):oi(Me.get)?Me.get.bind(t,t):Zo,mt=!oi(Me)&&oi(Me.set)?Me.set.bind(t):Zo,ot=fe({get:He,set:mt});Object.defineProperty(i,be,{enumerable:!0,configurable:!0,get:()=>ot.value,set:De=>ot.value=De})}if(a)for(const be in a)LZ(a[be],i,t,be);if(l){const be=oi(l)?l.call(t):l;Reflect.ownKeys(be).forEach(Me=>{Hn(Me,be[Me])})}u&&s$(u,n,"c");function we(be,Me){Gt(Me)?Me.forEach(He=>be(He.bind(t))):Me&&be(Me.bind(t))}if(we(wZ,d),we(Ds,h),we(Mme,f),we(hx,p),we(Ime,m),we(Tme,b),we(Pme,k),we(Ome,T),we(Rme,x),we(xo,y),we(yy,D),we(Ame,N),Gt(V))if(V.length){const be=n.exposed||(n.exposed={});V.forEach(Me=>{Object.defineProperty(be,Me,{get:()=>t[Me],set:He=>t[Me]=He})})}else n.exposed||(n.exposed={});E&&n.render===Zo&&(n.render=E),H!=null&&(n.inheritAttrs=H),G&&(n.components=G),te&&(n.directives=te)}function $me(n,e,t,i=!1){Gt(n)&&(n=r9(n));for(const s in n){const o=n[s];let r;tn(o)?"default"in o?r=Wt(o.from||s,o.default,!0):r=Wt(o.from||s):r=Wt(o),Zn(r)&&i?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[s]=r}}function s$(n,e,t){zl(Gt(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function LZ(n,e,t,i){const s=i.includes(".")?mZ(t,i):()=>t[i];if(Ai(n)){const o=e[n];oi(o)&&$t(s,o)}else if(oi(n))$t(s,n.bind(t));else if(tn(n))if(Gt(n))n.forEach(o=>LZ(o,e,t,i));else{const o=oi(n.handler)?n.handler.bind(t):e[n.handler];oi(o)&&$t(s,o,n)}}function xZ(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:r}}=n.appContext,a=o.get(e);let l;return a?l=a:!s.length&&!t&&!i?l=e:(l={},s.length&&s.forEach(c=>K6(l,c,r,!0)),K6(l,e,r)),o.set(e,l),l}function K6(n,e,t,i=!1){const{mixins:s,extends:o}=e;o&&K6(n,o,t,!0),s&&s.forEach(r=>K6(n,r,t,!0));for(const r in e)if(!(i&&r==="expose")){const a=zme[r]||t&&t[r];n[r]=a?a(n[r],e[r]):e[r]}return n}const zme={data:o$,props:Dp,emits:Dp,methods:Dp,computed:Dp,beforeCreate:Nr,created:Nr,beforeMount:Nr,mounted:Nr,beforeUpdate:Nr,updated:Nr,beforeDestroy:Nr,beforeUnmount:Nr,destroyed:Nr,unmounted:Nr,activated:Nr,deactivated:Nr,errorCaptured:Nr,serverPrefetch:Nr,components:Dp,directives:Dp,watch:jme,provide:o$,inject:Ume};function o$(n,e){return e?n?function(){return Jo(oi(n)?n.call(this,this):n,oi(e)?e.call(this,this):e)}:e:n}function Ume(n,e){return Dp(r9(n),r9(e))}function r9(n){if(Gt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Nr(n,e){return n?[...new Set([].concat(n,e))]:e}function Dp(n,e){return n?Jo(Jo(Object.create(null),n),e):e}function jme(n,e){if(!n)return e;if(!e)return n;const t=Jo(Object.create(null),n);for(const i in e)t[i]=Nr(n[i],e[i]);return t}function Kme(n,e,t,i=!1){const s={},o={};H6(o,fx,1),n.propsDefaults=Object.create(null),DZ(n,e,s,o);for(const r in n.propsOptions[0])r in s||(s[r]=void 0);t?n.props=i?s:nme(s):n.type.props?n.props=s:n.props=o,n.attrs=o}function qme(n,e,t,i){const{props:s,attrs:o,vnode:{patchFlag:r}}=n,a=Ki(s),[l]=n.propsOptions;let c=!1;if((i||r>0)&&!(r&16)){if(r&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(lx(n.emitsOptions,h))continue;const f=e[h];if(l)if(Gi(o,h))f!==o[h]&&(o[h]=f,c=!0);else{const p=Vc(h);s[p]=a9(l,a,p,f,n,!1)}else f!==o[h]&&(o[h]=f,c=!0)}}}else{DZ(n,e,s,o)&&(c=!0);let u;for(const d in a)(!e||!Gi(e,d)&&((u=$g(d))===d||!Gi(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(s[d]=a9(l,a,d,void 0,n,!0)):delete s[d]);if(o!==a)for(const d in o)(!e||!Gi(e,d)&&!0)&&(delete o[d],c=!0)}c&&kh(n,"set","$attrs")}function DZ(n,e,t,i){const[s,o]=n.propsOptions;let r=!1,a;if(e)for(let l in e){if(q3(l))continue;const c=e[l];let u;s&&Gi(s,u=Vc(l))?!o||!o.includes(u)?t[u]=c:(a||(a={}))[u]=c:lx(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,r=!0)}if(o){const l=Ki(t),c=a||Gn;for(let u=0;u<o.length;u++){const d=o[u];t[d]=a9(s,l,d,c[d],n,!Gi(c,d))}}return r}function a9(n,e,t,i,s,o){const r=n[t];if(r!=null){const a=Gi(r,"default");if(a&&i===void 0){const l=r.default;if(r.type!==Function&&oi(l)){const{propsDefaults:c}=s;t in c?i=c[t]:(j1(s),i=c[t]=l.call(null,e),lm())}else i=l}r[0]&&(o&&!a?i=!1:r[1]&&(i===""||i===$g(t))&&(i=!0))}return i}function kZ(n,e,t=!1){const i=e.propsCache,s=i.get(n);if(s)return s;const o=n.props,r={},a=[];let l=!1;if(!oi(n)){const u=d=>{l=!0;const[h,f]=kZ(d,e,!0);Jo(r,h),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!o&&!l)return i.set(n,p1),p1;if(Gt(o))for(let u=0;u<o.length;u++){const d=Vc(o[u]);r$(d)&&(r[d]=Gn)}else if(o)for(const u in o){const d=Vc(u);if(r$(d)){const h=o[u],f=r[d]=Gt(h)||oi(h)?{type:h}:h;if(f){const p=c$(Boolean,f.type),m=c$(String,f.type);f[0]=p>-1,f[1]=m<0||p<m,(p>-1||Gi(f,"default"))&&a.push(d)}}}const c=[r,a];return i.set(n,c),c}function r$(n){return n[0]!=="$"}function a$(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function l$(n,e){return a$(n)===a$(e)}function c$(n,e){return Gt(e)?e.findIndex(t=>l$(t,n)):oi(e)&&l$(e,n)?0:-1}const EZ=n=>n[0]==="_"||n==="$stable",IR=n=>Gt(n)?n.map(yu):[yu(n)],Gme=(n,e,t)=>{if(e._n)return e;const i=Oe((...s)=>IR(e(...s)),t);return i._c=!1,i},IZ=(n,e,t)=>{const i=n._ctx;for(const s in n){if(EZ(s))continue;const o=n[s];if(oi(o))e[s]=Gme(s,o,i);else if(o!=null){const r=IR(o);e[s]=()=>r}}},TZ=(n,e)=>{const t=IR(e);n.slots.default=()=>t},Yme=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=Ki(e),H6(e,"_",t)):IZ(e,n.slots={})}else n.slots={},e&&TZ(n,e);H6(n.slots,fx,1)},Zme=(n,e,t)=>{const{vnode:i,slots:s}=n;let o=!0,r=Gn;if(i.shapeFlag&32){const a=e._;a?t&&a===1?o=!1:(Jo(s,e),!t&&a===1&&delete s._):(o=!e.$stable,IZ(e,s)),r=e}else e&&(TZ(n,e),r={default:1});if(o)for(const a in s)!EZ(a)&&!(a in r)&&delete s[a]};function NZ(){return{app:null,config:{isNativeTag:Lpe,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xme=0;function Qme(n,e){return function(i,s=null){oi(i)||(i=Object.assign({},i)),s!=null&&!tn(s)&&(s=null);const o=NZ(),r=new Set;let a=!1;const l=o.app={_uid:Xme++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:v_e,get config(){return o.config},set config(c){},use(c,...u){return r.has(c)||(c&&oi(c.install)?(r.add(c),c.install(l,...u)):oi(c)&&(r.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,d){if(!a){const h=Ue(i,s);return h.appContext=o,u&&e?e(h,c):n(h,c,d),a=!0,l._container=c,c.__vue_app__=l,gx(h.component)||h.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l}};return l}}function l9(n,e,t,i,s=!1){if(Gt(n)){n.forEach((h,f)=>l9(h,e&&(Gt(e)?e[f]:e),t,i,s));return}if(Kb(i)&&!s)return;const o=i.shapeFlag&4?gx(i.component)||i.component.proxy:i.el,r=s?null:o,{i:a,r:l}=n,c=e&&e.r,u=a.refs===Gn?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(Ai(c)?(u[c]=null,Gi(d,c)&&(d[c]=null)):Zn(c)&&(c.value=null)),oi(l))Ch(l,a,12,[r,u]);else{const h=Ai(l),f=Zn(l);if(h||f){const p=()=>{if(n.f){const m=h?u[l]:l.value;s?Gt(m)&&gR(m,o):Gt(m)?m.includes(o)||m.push(o):h?(u[l]=[o],Gi(d,l)&&(d[l]=u[l])):(l.value=[o],n.k&&(u[n.k]=l.value))}else h?(u[l]=r,Gi(d,l)&&(d[l]=r)):Zn(l)&&(l.value=r,n.k&&(u[n.k]=r))};r?(p.id=-1,na(p,t)):p()}}}const na=Lme;function Jme(n){return e_e(n)}function e_e(n,e){const t=Ipe();t.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=Zo,cloneNode:p,insertStaticContent:m}=n,b=(ee,le,Ce,$e=null,Be=null,tt=null,ft=!1,ie=null,X=!!le.dynamicChildren)=>{if(ee===le)return;ee&&!Mp(ee,le)&&($e=We(ee),pe(ee,Be,tt,!0),ee=null),le.patchFlag===-2&&(X=!1,le.dynamicChildren=null);const{type:Q,ref:P,shapeFlag:R}=le;switch(Q){case Sy:w(ee,le,Ce,$e);break;case il:y(ee,le,Ce,$e);break;case Z3:ee==null&&L(le,Ce,$e,ft);break;case Ui:te(ee,le,Ce,$e,Be,tt,ft,ie,X);break;default:R&1?T(ee,le,Ce,$e,Be,tt,ft,ie,X):R&6?ae(ee,le,Ce,$e,Be,tt,ft,ie,X):(R&64||R&128)&&Q.process(ee,le,Ce,$e,Be,tt,ft,ie,X,rt)}P!=null&&Be&&l9(P,ee&&ee.ref,tt,le||ee,!le)},w=(ee,le,Ce,$e)=>{if(ee==null)i(le.el=a(le.children),Ce,$e);else{const Be=le.el=ee.el;le.children!==ee.children&&c(Be,le.children)}},y=(ee,le,Ce,$e)=>{ee==null?i(le.el=l(le.children||""),Ce,$e):le.el=ee.el},L=(ee,le,Ce,$e)=>{[ee.el,ee.anchor]=m(ee.children,le,Ce,$e,ee.el,ee.anchor)},D=({el:ee,anchor:le},Ce,$e)=>{let Be;for(;ee&&ee!==le;)Be=h(ee),i(ee,Ce,$e),ee=Be;i(le,Ce,$e)},E=({el:ee,anchor:le})=>{let Ce;for(;ee&&ee!==le;)Ce=h(ee),s(ee),ee=Ce;s(le)},T=(ee,le,Ce,$e,Be,tt,ft,ie,X)=>{ft=ft||le.type==="svg",ee==null?x(le,Ce,$e,Be,tt,ft,ie,X):V(ee,le,Be,tt,ft,ie,X)},x=(ee,le,Ce,$e,Be,tt,ft,ie)=>{let X,Q;const{type:P,props:R,shapeFlag:j,transition:q,patchFlag:ue,dirs:ve}=ee;if(ee.el&&p!==void 0&&ue===-1)X=ee.el=p(ee.el);else{if(X=ee.el=r(ee.type,tt,R&&R.is,R),j&8?u(X,ee.children):j&16&&N(ee.children,X,null,$e,Be,tt&&P!=="foreignObject",ft,ie),ve&&fp(ee,null,$e,"created"),R){for(const ne in R)ne!=="value"&&!q3(ne)&&o(X,ne,null,R[ne],tt,ee.children,$e,Be,ye);"value"in R&&o(X,"value",null,R.value),(Q=R.onVnodeBeforeMount)&&uu(Q,$e,ee)}k(X,ee,ee.scopeId,ft,$e)}ve&&fp(ee,null,$e,"beforeMount");const Ze=(!Be||Be&&!Be.pendingBranch)&&q&&!q.persisted;Ze&&q.beforeEnter(X),i(X,le,Ce),((Q=R&&R.onVnodeMounted)||Ze||ve)&&na(()=>{Q&&uu(Q,$e,ee),Ze&&q.enter(X),ve&&fp(ee,null,$e,"mounted")},Be)},k=(ee,le,Ce,$e,Be)=>{if(Ce&&f(ee,Ce),$e)for(let tt=0;tt<$e.length;tt++)f(ee,$e[tt]);if(Be){let tt=Be.subTree;if(le===tt){const ft=Be.vnode;k(ee,ft,ft.scopeId,ft.slotScopeIds,Be.parent)}}},N=(ee,le,Ce,$e,Be,tt,ft,ie,X=0)=>{for(let Q=X;Q<ee.length;Q++){const P=ee[Q]=ie?Tf(ee[Q]):yu(ee[Q]);b(null,P,le,Ce,$e,Be,tt,ft,ie)}},V=(ee,le,Ce,$e,Be,tt,ft)=>{const ie=le.el=ee.el;let{patchFlag:X,dynamicChildren:Q,dirs:P}=le;X|=ee.patchFlag&16;const R=ee.props||Gn,j=le.props||Gn;let q;Ce&&gp(Ce,!1),(q=j.onVnodeBeforeUpdate)&&uu(q,Ce,le,ee),P&&fp(le,ee,Ce,"beforeUpdate"),Ce&&gp(Ce,!0);const ue=Be&&le.type!=="foreignObject";if(Q?H(ee.dynamicChildren,Q,ie,Ce,$e,ue,tt):ft||He(ee,le,ie,null,Ce,$e,ue,tt,!1),X>0){if(X&16)G(ie,le,R,j,Ce,$e,Be);else if(X&2&&R.class!==j.class&&o(ie,"class",null,j.class,Be),X&4&&o(ie,"style",R.style,j.style,Be),X&8){const ve=le.dynamicProps;for(let Ze=0;Ze<ve.length;Ze++){const ne=ve[Ze],ke=R[ne],Ke=j[ne];(Ke!==ke||ne==="value")&&o(ie,ne,ke,Ke,Be,ee.children,Ce,$e,ye)}}X&1&&ee.children!==le.children&&u(ie,le.children)}else!ft&&Q==null&&G(ie,le,R,j,Ce,$e,Be);((q=j.onVnodeUpdated)||P)&&na(()=>{q&&uu(q,Ce,le,ee),P&&fp(le,ee,Ce,"updated")},$e)},H=(ee,le,Ce,$e,Be,tt,ft)=>{for(let ie=0;ie<le.length;ie++){const X=ee[ie],Q=le[ie],P=X.el&&(X.type===Ui||!Mp(X,Q)||X.shapeFlag&70)?d(X.el):Ce;b(X,Q,P,null,$e,Be,tt,ft,!0)}},G=(ee,le,Ce,$e,Be,tt,ft)=>{if(Ce!==$e){for(const ie in $e){if(q3(ie))continue;const X=$e[ie],Q=Ce[ie];X!==Q&&ie!=="value"&&o(ee,ie,Q,X,ft,le.children,Be,tt,ye)}if(Ce!==Gn)for(const ie in Ce)!q3(ie)&&!(ie in $e)&&o(ee,ie,Ce[ie],null,ft,le.children,Be,tt,ye);"value"in $e&&o(ee,"value",Ce.value,$e.value)}},te=(ee,le,Ce,$e,Be,tt,ft,ie,X)=>{const Q=le.el=ee?ee.el:a(""),P=le.anchor=ee?ee.anchor:a("");let{patchFlag:R,dynamicChildren:j,slotScopeIds:q}=le;q&&(ie=ie?ie.concat(q):q),ee==null?(i(Q,Ce,$e),i(P,Ce,$e),N(le.children,Ce,P,Be,tt,ft,ie,X)):R>0&&R&64&&j&&ee.dynamicChildren?(H(ee.dynamicChildren,j,Ce,Be,tt,ft,ie),(le.key!=null||Be&&le===Be.subTree)&&TR(ee,le,!0)):He(ee,le,Ce,P,Be,tt,ft,ie,X)},ae=(ee,le,Ce,$e,Be,tt,ft,ie,X)=>{le.slotScopeIds=ie,ee==null?le.shapeFlag&512?Be.ctx.activate(le,Ce,$e,ft,X):me(le,Ce,$e,Be,tt,ft,X):we(ee,le,X)},me=(ee,le,Ce,$e,Be,tt,ft)=>{const ie=ee.component=u_e(ee,$e,Be);if(ux(ee)&&(ie.ctx.renderer=rt),d_e(ie),ie.asyncDep){if(Be&&Be.registerDep(ie,be),!ee.el){const X=ie.subTree=Ue(il);y(null,X,le,Ce)}return}be(ie,ee,le,Ce,Be,tt,ft)},we=(ee,le,Ce)=>{const $e=le.component=ee.component;if(wme(ee,le,Ce))if($e.asyncDep&&!$e.asyncResolved){Me($e,le,Ce);return}else $e.next=le,pme($e.update),$e.update();else le.el=ee.el,$e.vnode=le},be=(ee,le,Ce,$e,Be,tt,ft)=>{const ie=()=>{if(ee.isMounted){let{next:P,bu:R,u:j,parent:q,vnode:ue}=ee,ve=P,Ze;gp(ee,!1),P?(P.el=ue.el,Me(ee,P,ft)):P=ue,R&&Y3(R),(Ze=P.props&&P.props.onVnodeBeforeUpdate)&&uu(Ze,q,P,ue),gp(ee,!0);const ne=lE(ee),ke=ee.subTree;ee.subTree=ne,b(ke,ne,d(ke.el),We(ke),ee,Be,tt),P.el=ne.el,ve===null&&yme(ee,ne.el),j&&na(j,Be),(Ze=P.props&&P.props.onVnodeUpdated)&&na(()=>uu(Ze,q,P,ue),Be)}else{let P;const{el:R,props:j}=le,{bm:q,m:ue,parent:ve}=ee,Ze=Kb(le);if(gp(ee,!1),q&&Y3(q),!Ze&&(P=j&&j.onVnodeBeforeMount)&&uu(P,ve,le),gp(ee,!0),R&&ht){const ne=()=>{ee.subTree=lE(ee),ht(R,ee.subTree,ee,Be,null)};Ze?le.type.__asyncLoader().then(()=>!ee.isUnmounted&&ne()):ne()}else{const ne=ee.subTree=lE(ee);b(null,ne,Ce,$e,ee,Be,tt),le.el=ne.el}if(ue&&na(ue,Be),!Ze&&(P=j&&j.onVnodeMounted)){const ne=le;na(()=>uu(P,ve,ne),Be)}(le.shapeFlag&256||ve&&Kb(ve.vnode)&&ve.vnode.shapeFlag&256)&&ee.a&&na(ee.a,Be),ee.isMounted=!0,le=Ce=$e=null}},X=ee.effect=new _R(ie,()=>lZ(Q),ee.scope),Q=ee.update=()=>X.run();Q.id=ee.uid,gp(ee,!0),Q()},Me=(ee,le,Ce)=>{le.component=ee;const $e=ee.vnode.props;ee.vnode=le,ee.next=null,qme(ee,le.props,$e,Ce),Zme(ee,le.children,Ce),m_(),ax(void 0,ee.update),__()},He=(ee,le,Ce,$e,Be,tt,ft,ie,X=!1)=>{const Q=ee&&ee.children,P=ee?ee.shapeFlag:0,R=le.children,{patchFlag:j,shapeFlag:q}=le;if(j>0){if(j&128){ot(Q,R,Ce,$e,Be,tt,ft,ie,X);return}else if(j&256){mt(Q,R,Ce,$e,Be,tt,ft,ie,X);return}}q&8?(P&16&&ye(Q,Be,tt),R!==Q&&u(Ce,R)):P&16?q&16?ot(Q,R,Ce,$e,Be,tt,ft,ie,X):ye(Q,Be,tt,!0):(P&8&&u(Ce,""),q&16&&N(R,Ce,$e,Be,tt,ft,ie,X))},mt=(ee,le,Ce,$e,Be,tt,ft,ie,X)=>{ee=ee||p1,le=le||p1;const Q=ee.length,P=le.length,R=Math.min(Q,P);let j;for(j=0;j<R;j++){const q=le[j]=X?Tf(le[j]):yu(le[j]);b(ee[j],q,Ce,null,Be,tt,ft,ie,X)}Q>P?ye(ee,Be,tt,!0,!1,R):N(le,Ce,$e,Be,tt,ft,ie,X,R)},ot=(ee,le,Ce,$e,Be,tt,ft,ie,X)=>{let Q=0;const P=le.length;let R=ee.length-1,j=P-1;for(;Q<=R&&Q<=j;){const q=ee[Q],ue=le[Q]=X?Tf(le[Q]):yu(le[Q]);if(Mp(q,ue))b(q,ue,Ce,null,Be,tt,ft,ie,X);else break;Q++}for(;Q<=R&&Q<=j;){const q=ee[R],ue=le[j]=X?Tf(le[j]):yu(le[j]);if(Mp(q,ue))b(q,ue,Ce,null,Be,tt,ft,ie,X);else break;R--,j--}if(Q>R){if(Q<=j){const q=j+1,ue=q<P?le[q].el:$e;for(;Q<=j;)b(null,le[Q]=X?Tf(le[Q]):yu(le[Q]),Ce,ue,Be,tt,ft,ie,X),Q++}}else if(Q>j)for(;Q<=R;)pe(ee[Q],Be,tt,!0),Q++;else{const q=Q,ue=Q,ve=new Map;for(Q=ue;Q<=j;Q++){const Qt=le[Q]=X?Tf(le[Q]):yu(le[Q]);Qt.key!=null&&ve.set(Qt.key,Q)}let Ze,ne=0;const ke=j-ue+1;let Ke=!1,Ct=0;const kt=new Array(ke);for(Q=0;Q<ke;Q++)kt[Q]=0;for(Q=q;Q<=R;Q++){const Qt=ee[Q];if(ne>=ke){pe(Qt,Be,tt,!0);continue}let Zt;if(Qt.key!=null)Zt=ve.get(Qt.key);else for(Ze=ue;Ze<=j;Ze++)if(kt[Ze-ue]===0&&Mp(Qt,le[Ze])){Zt=Ze;break}Zt===void 0?pe(Qt,Be,tt,!0):(kt[Zt-ue]=Q+1,Zt>=Ct?Ct=Zt:Ke=!0,b(Qt,le[Zt],Ce,null,Be,tt,ft,ie,X),ne++)}const pt=Ke?t_e(kt):p1;for(Ze=pt.length-1,Q=ke-1;Q>=0;Q--){const Qt=ue+Q,Zt=le[Qt],vn=Qt+1<P?le[Qt+1].el:$e;kt[Q]===0?b(null,Zt,Ce,vn,Be,tt,ft,ie,X):Ke&&(Ze<0||Q!==pt[Ze]?De(Zt,Ce,vn,2):Ze--)}}},De=(ee,le,Ce,$e,Be=null)=>{const{el:tt,type:ft,transition:ie,children:X,shapeFlag:Q}=ee;if(Q&6){De(ee.component.subTree,le,Ce,$e);return}if(Q&128){ee.suspense.move(le,Ce,$e);return}if(Q&64){ft.move(ee,le,Ce,rt);return}if(ft===Ui){i(tt,le,Ce);for(let R=0;R<X.length;R++)De(X[R],le,Ce,$e);i(ee.anchor,le,Ce);return}if(ft===Z3){D(ee,le,Ce);return}if($e!==2&&Q&1&&ie)if($e===0)ie.beforeEnter(tt),i(tt,le,Ce),na(()=>ie.enter(tt),Be);else{const{leave:R,delayLeave:j,afterLeave:q}=ie,ue=()=>i(tt,le,Ce),ve=()=>{R(tt,()=>{ue(),q&&q()})};j?j(tt,ue,ve):ve()}else i(tt,le,Ce)},pe=(ee,le,Ce,$e=!1,Be=!1)=>{const{type:tt,props:ft,ref:ie,children:X,dynamicChildren:Q,shapeFlag:P,patchFlag:R,dirs:j}=ee;if(ie!=null&&l9(ie,null,Ce,ee,!0),P&256){le.ctx.deactivate(ee);return}const q=P&1&&j,ue=!Kb(ee);let ve;if(ue&&(ve=ft&&ft.onVnodeBeforeUnmount)&&uu(ve,le,ee),P&6)Ge(ee.component,Ce,$e);else{if(P&128){ee.suspense.unmount(Ce,$e);return}q&&fp(ee,null,le,"beforeUnmount"),P&64?ee.type.remove(ee,le,Ce,Be,rt,$e):Q&&(tt!==Ui||R>0&&R&64)?ye(Q,le,Ce,!1,!0):(tt===Ui&&R&384||!Be&&P&16)&&ye(X,le,Ce),$e&&_t(ee)}(ue&&(ve=ft&&ft.onVnodeUnmounted)||q)&&na(()=>{ve&&uu(ve,le,ee),q&&fp(ee,null,le,"unmounted")},Ce)},_t=ee=>{const{type:le,el:Ce,anchor:$e,transition:Be}=ee;if(le===Ui){_e(Ce,$e);return}if(le===Z3){E(ee);return}const tt=()=>{s(Ce),Be&&!Be.persisted&&Be.afterLeave&&Be.afterLeave()};if(ee.shapeFlag&1&&Be&&!Be.persisted){const{leave:ft,delayLeave:ie}=Be,X=()=>ft(Ce,tt);ie?ie(ee.el,tt,X):X()}else tt()},_e=(ee,le)=>{let Ce;for(;ee!==le;)Ce=h(ee),s(ee),ee=Ce;s(le)},Ge=(ee,le,Ce)=>{const{bum:$e,scope:Be,update:tt,subTree:ft,um:ie}=ee;$e&&Y3($e),Be.stop(),tt&&(tt.active=!1,pe(ft,ee,le,Ce)),ie&&na(ie,le),na(()=>{ee.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&ee.asyncDep&&!ee.asyncResolved&&ee.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},ye=(ee,le,Ce,$e=!1,Be=!1,tt=0)=>{for(let ft=tt;ft<ee.length;ft++)pe(ee[ft],le,Ce,$e,Be)},We=ee=>ee.shapeFlag&6?We(ee.component.subTree):ee.shapeFlag&128?ee.suspense.next():h(ee.anchor||ee.el),gt=(ee,le,Ce)=>{ee==null?le._vnode&&pe(le._vnode,null,null,!0):b(le._vnode||null,ee,le,null,null,null,Ce),dZ(),le._vnode=ee},rt={p:b,um:pe,m:De,r:_t,mt:me,mc:N,pc:He,pbc:H,n:We,o:n};let Fe,ht;return e&&([Fe,ht]=e(rt)),{render:gt,hydrate:Fe,createApp:Qme(gt,Fe)}}function gp({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function TR(n,e,t=!1){const i=n.children,s=e.children;if(Gt(i)&&Gt(s))for(let o=0;o<i.length;o++){const r=i[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=Tf(s[o]),a.el=r.el),t||TR(r,a))}}function t_e(n){const e=n.slice(),t=[0];let i,s,o,r,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(s=t[t.length-1],n[s]<c){e[i]=s,t.push(i);continue}for(o=0,r=t.length-1;o<r;)a=o+r>>1,n[t[a]]<c?o=a+1:r=a;c<n[t[o]]&&(o>0&&(e[i]=t[o-1]),t[o]=i)}}for(o=t.length,r=t[o-1];o-- >0;)t[o]=r,r=e[r];return t}const i_e=n=>n.__isTeleport,qb=n=>n&&(n.disabled||n.disabled===""),u$=n=>typeof SVGElement!="undefined"&&n instanceof SVGElement,c9=(n,e)=>{const t=n&&n.to;return Ai(t)?e?e(t):null:t},n_e={__isTeleport:!0,process(n,e,t,i,s,o,r,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:b}}=c,w=qb(e.props);let{shapeFlag:y,children:L,dynamicChildren:D}=e;if(n==null){const E=e.el=m(""),T=e.anchor=m("");f(E,t,i),f(T,t,i);const x=e.target=c9(e.props,p),k=e.targetAnchor=m("");x&&(f(k,x),r=r||u$(x));const N=(V,H)=>{y&16&&u(L,V,H,s,o,r,a,l)};w?N(t,T):x&&N(x,k)}else{e.el=n.el;const E=e.anchor=n.anchor,T=e.target=n.target,x=e.targetAnchor=n.targetAnchor,k=qb(n.props),N=k?t:T,V=k?E:x;if(r=r||u$(T),D?(h(n.dynamicChildren,D,N,s,o,r,a),TR(n,e,!0)):l||d(n,e,N,V,s,o,r,a,!1),w)k||pS(e,t,E,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const H=e.target=c9(e.props,p);H&&pS(e,H,null,c,0)}else k&&pS(e,T,x,c,1)}},remove(n,e,t,i,{um:s,o:{remove:o}},r){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:h}=n;if(d&&o(u),(r||!qb(h))&&(o(c),a&16))for(let f=0;f<l.length;f++){const p=l[f];s(p,e,t,!0,!!p.dynamicChildren)}},move:pS,hydrate:s_e};function pS(n,e,t,{o:{insert:i},m:s},o=2){o===0&&i(n.targetAnchor,e,t);const{el:r,anchor:a,shapeFlag:l,children:c,props:u}=n,d=o===2;if(d&&i(r,e,t),(!d||qb(u))&&l&16)for(let h=0;h<c.length;h++)s(c[h],e,t,2);d&&i(a,e,t)}function s_e(n,e,t,i,s,o,{o:{nextSibling:r,parentNode:a,querySelector:l}},c){const u=e.target=c9(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(qb(e.props))e.anchor=c(r(n),e,a(n),t,i,s,o),e.targetAnchor=d;else{e.anchor=r(n);let h=d;for(;h;)if(h=r(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,u._lpa=e.targetAnchor&&r(e.targetAnchor);break}c(d,e,u,t,i,s,o)}}return e.anchor&&r(e.anchor)}const MZ=n_e,Ui=Symbol(void 0),Sy=Symbol(void 0),il=Symbol(void 0),Z3=Symbol(void 0),Gb=[];let xc=null;function O(n=!1){Gb.push(xc=n?null:[])}function o_e(){Gb.pop(),xc=Gb[Gb.length-1]||null}let FC=1;function d$(n){FC+=n}function AZ(n){return n.dynamicChildren=FC>0?xc||p1:null,o_e(),FC>0&&xc&&xc.push(n),n}function W(n,e,t,i,s,o){return AZ(M(n,e,t,i,s,o,!0))}function St(n,e,t,i,s){return AZ(Ue(n,e,t,i,s,!0))}function oh(n){return n?n.__v_isVNode===!0:!1}function Mp(n,e){return n.type===e.type&&n.key===e.key}const fx="__vInternal",RZ=({key:n})=>n!=null?n:null,X3=({ref:n,ref_key:e,ref_for:t})=>n!=null?Ai(n)||Zn(n)||oi(n)?{i:gr,r:n,k:e,f:!!t}:n:null;function M(n,e=null,t=null,i=0,s=null,o=n===Ui?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&RZ(e),ref:e&&X3(e),scopeId:cx,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(NR(l,t),o&128&&n.normalize(l)):t&&(l.shapeFlag|=Ai(t)?8:16),FC>0&&!r&&xc&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&xc.push(l),l}const Ue=r_e;function r_e(n,e=null,t=null,i=0,s=null,o=!1){if((!n||n===yZ)&&(n=il),oh(n)){const a=Eh(n,e,!0);return t&&NR(a,t),FC>0&&!o&&xc&&(a.shapeFlag&6?xc[xc.indexOf(n)]=a:xc.push(a)),a.patchFlag|=-2,a}if(m_e(n)&&(n=n.__vccOpts),e){e=OZ(e);let{class:a,style:l}=e;a&&!Ai(a)&&(e.class=it(a)),tn(l)&&(tZ(l)&&!Gt(l)&&(l=Jo({},l)),e.style=kn(l))}const r=Ai(n)?1:Sme(n)?128:i_e(n)?64:tn(n)?4:oi(n)?2:0;return M(n,e,t,i,s,r,o,!0)}function OZ(n){return n?tZ(n)||fx in n?Jo({},n):n:null}function Eh(n,e,t=!1){const{props:i,ref:s,patchFlag:o,children:r}=n,a=e?pa(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&RZ(a),ref:e&&e.ref?t&&s?Gt(s)?s.concat(X3(e)):[s,X3(e)]:X3(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:r,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ui?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Eh(n.ssContent),ssFallback:n.ssFallback&&Eh(n.ssFallback),el:n.el,anchor:n.anchor}}function wr(n=" ",e=0){return Ue(Sy,null,n,e)}function a_e(n,e){const t=Ue(Z3,null,n);return t.staticCount=e,t}function Mt(n,e=!1){return e?(O(),St(il,null,n)):Ue(il,null,n)}function yu(n){return n==null||typeof n=="boolean"?Ue(il):Gt(n)?Ue(Ui,null,n.slice()):typeof n=="object"?Tf(n):Ue(Sy,null,String(n))}function Tf(n){return n.el===null||n.memo?n:Eh(n)}function NR(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(Gt(e))t=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),NR(n,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!(fx in e)?e._ctx=gr:s===3&&gr&&(gr.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else oi(e)?(e={default:e,_ctx:gr},t=32):(e=String(e),i&64?(t=16,e=[wr(e)]):t=8);n.children=e,n.shapeFlag|=t}function pa(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=it([e.class,i.class]));else if(s==="style")e.style=kn([e.style,i.style]);else if(ex(s)){const o=e[s],r=i[s];r&&o!==r&&!(Gt(o)&&o.includes(r))&&(e[s]=o?[].concat(o,r):r)}else s!==""&&(e[s]=i[s])}return e}function uu(n,e,t,i=null){zl(n,e,7,[t,i])}const l_e=NZ();let c_e=0;function u_e(n,e,t){const i=n.type,s=(e?e.appContext:n.appContext)||l_e,o={uid:c_e++,vnode:n,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new $Y(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kZ(i,s),emitsOptions:fZ(i,s),emit:null,emitted:null,propsDefaults:Gn,inheritAttrs:i.inheritAttrs,ctx:Gn,data:Gn,props:Gn,attrs:Gn,slots:Gn,refs:Gn,setupState:Gn,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=vme.bind(null,o),n.ce&&n.ce(o),o}let Po=null;const Do=()=>Po||gr,j1=n=>{Po=n,n.scope.on()},lm=()=>{Po&&Po.scope.off(),Po=null};function PZ(n){return n.vnode.shapeFlag&4}let BC=!1;function d_e(n,e=!1){BC=e;const{props:t,children:i}=n.vnode,s=PZ(n);Kme(n,t,s,e),Yme(n,i);const o=s?h_e(n,e):void 0;return BC=!1,o}function h_e(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=U1(new Proxy(n.ctx,Wme));const{setup:i}=t;if(i){const s=n.setupContext=i.length>1?BZ(n):null;j1(n),m_();const o=Ch(i,n,0,[n.props,s]);if(__(),lm(),VY(o)){if(o.then(lm,lm),e)return o.then(r=>{h$(n,r,e)}).catch(r=>{rx(r,n,0)});n.asyncDep=o}else h$(n,o,e)}else FZ(n,e)}function h$(n,e,t){oi(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:tn(e)&&(n.setupState=sZ(e)),FZ(n,t)}let f$;function FZ(n,e,t){const i=n.type;if(!n.render){if(!e&&f$&&!i.render){const s=i.template;if(s){const{isCustomElement:o,compilerOptions:r}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,c=Jo(Jo({isCustomElement:o,delimiters:a},r),l);i.render=f$(s,c)}}n.render=i.render||Zo}j1(n),m_(),Hme(n),__(),lm()}function f_e(n){return new Proxy(n.attrs,{get(e,t){return al(n,"get","$attrs"),e[t]}})}function BZ(n){const e=i=>{n.exposed=i||{}};let t;return{get attrs(){return t||(t=f_e(n))},slots:n.slots,emit:n.emit,expose:e}}function gx(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(sZ(U1(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in j6)return j6[t](n)}}))}const g_e=/(?:^|[-_])(\w)/g,p_e=n=>n.replace(g_e,e=>e.toUpperCase()).replace(/[-_]/g,"");function VZ(n){return oi(n)&&n.displayName||n.name}function WZ(n,e,t=!1){let i=VZ(e);if(!i&&e.__file){const s=e.__file.match(/([^/\\]+)\.\w+$/);s&&(i=s[1])}if(!i&&n&&n.parent){const s=o=>{for(const r in o)if(o[r]===e)return r};i=s(n.components||n.parent.type.components)||s(n.appContext.components)}return i?p_e(i):t?"App":"Anonymous"}function m_e(n){return oi(n)&&"__vccOpts"in n}const fe=(n,e)=>oZ(n,e,BC);function Ly(){return HZ().slots}function __e(){return HZ().attrs}function HZ(){const n=Do();return n.setupContext||(n.setupContext=BZ(n))}function cs(n,e,t){const i=arguments.length;return i===2?tn(e)&&!Gt(e)?oh(e)?Ue(n,null,[e]):Ue(n,e):Ue(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&oh(t)&&(t=[t]),Ue(n,e,t))}const v_e="3.2.36",b_e="http://www.w3.org/2000/svg",Ap=typeof document!="undefined"?document:null,g$=Ap&&Ap.createElement("template"),C_e={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const s=e?Ap.createElementNS(b_e,n):Ap.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>Ap.createTextNode(n),createComment:n=>Ap.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Ap.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,i,s,o){const r=t?t.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===o||!(s=s.nextSibling)););else{g$.innerHTML=i?`<svg>${n}</svg>`:n;const a=g$.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[r?r.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function w_e(n,e,t){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function y_e(n,e,t){const i=n.style,s=Ai(t);if(t&&!s){for(const o in t)u9(i,o,t[o]);if(e&&!Ai(e))for(const o in e)t[o]==null&&u9(i,o,"")}else{const o=i.display;s?e!==t&&(i.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=o)}}const p$=/\s*!important$/;function u9(n,e,t){if(Gt(t))t.forEach(i=>u9(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=S_e(n,e);p$.test(t)?n.setProperty($g(i),t.replace(p$,""),"important"):n[i]=t}}const m$=["Webkit","Moz","ms"],uE={};function S_e(n,e){const t=uE[e];if(t)return t;let i=Vc(e);if(i!=="filter"&&i in n)return uE[e]=i;i=nx(i);for(let s=0;s<m$.length;s++){const o=m$[s]+i;if(o in n)return uE[e]=o}return e}const _$="http://www.w3.org/1999/xlink";function L_e(n,e,t,i,s){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(_$,e.slice(6,e.length)):n.setAttributeNS(_$,e,t);else{const o=vpe(e);t==null||o&&!PY(t)?n.removeAttribute(e):n.setAttribute(e,o?"":t)}}function x_e(n,e,t,i,s,o,r){if(e==="innerHTML"||e==="textContent"){i&&r(i,s,o),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;const l=t==null?"":t;(n.value!==l||n.tagName==="OPTION")&&(n.value=l),t==null&&n.removeAttribute(e);return}let a=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=PY(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{n[e]=t}catch{}a&&n.removeAttribute(e)}const[$Z,D_e]=(()=>{let n=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[n,e]})();let d9=0;const k_e=Promise.resolve(),E_e=()=>{d9=0},I_e=()=>d9||(k_e.then(E_e),d9=$Z());function Rp(n,e,t,i){n.addEventListener(e,t,i)}function T_e(n,e,t,i){n.removeEventListener(e,t,i)}function N_e(n,e,t,i,s=null){const o=n._vei||(n._vei={}),r=o[e];if(i&&r)r.value=i;else{const[a,l]=M_e(e);if(i){const c=o[e]=A_e(i,s);Rp(n,a,c,l)}else r&&(T_e(n,a,r,l),o[e]=void 0)}}const v$=/(?:Once|Passive|Capture)$/;function M_e(n){let e;if(v$.test(n)){e={};let t;for(;t=n.match(v$);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[$g(n.slice(2)),e]}function A_e(n,e){const t=i=>{const s=i.timeStamp||$Z();(D_e||s>=t.attached-1)&&zl(R_e(i,t.value),e,5,[i])};return t.value=n,t.attached=I_e(),t}function R_e(n,e){if(Gt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const b$=/^on[a-z]/,O_e=(n,e,t,i,s=!1,o,r,a,l)=>{e==="class"?w_e(n,i,s):e==="style"?y_e(n,t,i):ex(e)?fR(e)||N_e(n,e,t,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):P_e(n,e,i,s))?x_e(n,e,i,o,r,a,l):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),L_e(n,e,i,s))};function P_e(n,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&b$.test(e)&&oi(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||b$.test(e)&&Ai(t)?!1:e in n}const uf="transition",B2="animation",gl=(n,{slots:e})=>cs(_Z,F_e(n),e);gl.displayName="Transition";const zZ={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};gl.props=Jo({},_Z.props,zZ);const pp=(n,e)=>{Gt(n)?n.forEach(t=>t(...e)):n&&n(...e)},C$=n=>n?Gt(n)?n.some(e=>e.length>1):n.length>1:!1;function F_e(n){const e={};for(const G in n)G in zZ||(e[G]=n[G]);if(n.css===!1)return e;const{name:t="v",type:i,duration:s,enterFromClass:o=`${t}-enter-from`,enterActiveClass:r=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=o,appearActiveClass:c=r,appearToClass:u=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:h=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=n,p=B_e(s),m=p&&p[0],b=p&&p[1],{onBeforeEnter:w,onEnter:y,onEnterCancelled:L,onLeave:D,onLeaveCancelled:E,onBeforeAppear:T=w,onAppear:x=y,onAppearCancelled:k=L}=e,N=(G,te,ae)=>{mp(G,te?u:a),mp(G,te?c:r),ae&&ae()},V=(G,te)=>{G._isLeaving=!1,mp(G,d),mp(G,f),mp(G,h),te&&te()},H=G=>(te,ae)=>{const me=G?x:y,we=()=>N(te,G,ae);pp(me,[te,we]),w$(()=>{mp(te,G?l:o),df(te,G?u:a),C$(me)||y$(te,i,m,we)})};return Jo(e,{onBeforeEnter(G){pp(w,[G]),df(G,o),df(G,r)},onBeforeAppear(G){pp(T,[G]),df(G,l),df(G,c)},onEnter:H(!1),onAppear:H(!0),onLeave(G,te){G._isLeaving=!0;const ae=()=>V(G,te);df(G,d),H_e(),df(G,h),w$(()=>{!G._isLeaving||(mp(G,d),df(G,f),C$(D)||y$(G,i,b,ae))}),pp(D,[G,ae])},onEnterCancelled(G){N(G,!1),pp(L,[G])},onAppearCancelled(G){N(G,!0),pp(k,[G])},onLeaveCancelled(G){V(G),pp(E,[G])}})}function B_e(n){if(n==null)return null;if(tn(n))return[dE(n.enter),dE(n.leave)];{const e=dE(n);return[e,e]}}function dE(n){return $6(n)}function df(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n._vtc||(n._vtc=new Set)).add(e)}function mp(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:t}=n;t&&(t.delete(e),t.size||(n._vtc=void 0))}function w$(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let V_e=0;function y$(n,e,t,i){const s=n._endId=++V_e,o=()=>{s===n._endId&&i()};if(t)return setTimeout(o,t);const{type:r,timeout:a,propCount:l}=W_e(n,e);if(!r)return i();const c=r+"end";let u=0;const d=()=>{n.removeEventListener(c,h),o()},h=f=>{f.target===n&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),n.addEventListener(c,h)}function W_e(n,e){const t=window.getComputedStyle(n),i=p=>(t[p]||"").split(", "),s=i(uf+"Delay"),o=i(uf+"Duration"),r=S$(s,o),a=i(B2+"Delay"),l=i(B2+"Duration"),c=S$(a,l);let u=null,d=0,h=0;e===uf?r>0&&(u=uf,d=r,h=o.length):e===B2?c>0&&(u=B2,d=c,h=l.length):(d=Math.max(r,c),u=d>0?r>c?uf:B2:null,h=u?u===uf?o.length:l.length:0);const f=u===uf&&/\b(transform|all)(,|$)/.test(t[uf+"Property"]);return{type:u,timeout:d,propCount:h,hasTransform:f}}function S$(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>L$(t)+L$(n[i])))}function L$(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function H_e(){return document.body.offsetHeight}const q6=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Gt(e)?t=>Y3(e,t):e};function $_e(n){n.target.composing=!0}function x$(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const z_e={created(n,{modifiers:{lazy:e,trim:t,number:i}},s){n._assign=q6(s);const o=i||s.props&&s.props.type==="number";Rp(n,e?"change":"input",r=>{if(r.target.composing)return;let a=n.value;t&&(a=a.trim()),o&&(a=$6(a)),n._assign(a)}),t&&Rp(n,"change",()=>{n.value=n.value.trim()}),e||(Rp(n,"compositionstart",$_e),Rp(n,"compositionend",x$),Rp(n,"change",x$))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:i,number:s}},o){if(n._assign=q6(o),n.composing||document.activeElement===n&&n.type!=="range"&&(t||i&&n.value.trim()===e||(s||n.type==="number")&&$6(n.value)===e))return;const r=e==null?"":e;n.value!==r&&(n.value=r)}},d9t={deep:!0,created(n,e,t){n._assign=q6(t),Rp(n,"change",()=>{const i=n._modelValue,s=U_e(n),o=n.checked,r=n._assign;if(Gt(i)){const a=FY(i,s),l=a!==-1;if(o&&!l)r(i.concat(s));else if(!o&&l){const c=[...i];c.splice(a,1),r(c)}}else if(tx(i)){const a=new Set(i);o?a.add(s):a.delete(s),r(a)}else r(UZ(n,o))})},mounted:D$,beforeUpdate(n,e,t){n._assign=q6(t),D$(n,e,t)}};function D$(n,{value:e,oldValue:t},i){n._modelValue=e,Gt(e)?n.checked=FY(e,i.props.value)>-1:tx(e)?n.checked=e.has(i.props.value):e!==t&&(n.checked=JL(e,UZ(n,!0)))}function U_e(n){return"_value"in n?n._value:n.value}function UZ(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const j_e=["ctrl","shift","alt","meta"],K_e={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>j_e.some(t=>n[`${t}Key`]&&!e.includes(t))},Va=(n,e)=>(t,...i)=>{for(let s=0;s<e.length;s++){const o=K_e[e[s]];if(o&&o(t,e))return}return n(t,...i)},q_e={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},uc=(n,e)=>t=>{if(!("key"in t))return;const i=$g(t.key);if(e.some(s=>s===i||q_e[s]===i))return n(t)},Gc={beforeMount(n,{value:e},{transition:t}){n._vod=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):V2(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),V2(n,!0),i.enter(n)):i.leave(n,()=>{V2(n,!1)}):V2(n,e))},beforeUnmount(n,{value:e}){V2(n,e)}};function V2(n,e){n.style.display=e?n._vod:"none"}const G_e=Jo({patchProp:O_e},C_e);let k$;function jZ(){return k$||(k$=Jme(G_e))}const E$=(...n)=>{jZ().render(...n)},KZ=(...n)=>{const e=jZ().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=Y_e(i);if(!s)return;const o=e._component;!oi(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const r=t(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),r},e};function Y_e(n){return Ai(n)?document.querySelector(n):n}var Z_e=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let qZ;const px=n=>qZ=n,GZ=Symbol();function h9(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Yb;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Yb||(Yb={}));function X_e(){const n=zY(!0),e=n.run(()=>ze({}));let t=[],i=[];const s=U1({install(o){px(s),s._a=o,o.provide(GZ,s),o.config.globalProperties.$pinia=s,i.forEach(r=>t.push(r)),i=[]},use(o){return!this._a&&!Z_e?i.push(o):t.push(o),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return s}const YZ=()=>{};function I$(n,e,t,i=YZ){n.push(e);const s=()=>{const o=n.indexOf(e);o>-1&&(n.splice(o,1),i())};return!t&&Do()&&yy(s),s}function i0(n,...e){n.slice().forEach(t=>{t(...e)})}function f9(n,e){for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t],s=n[t];h9(s)&&h9(i)&&n.hasOwnProperty(t)&&!Zn(i)&&!tg(i)?n[t]=f9(s,i):n[t]=i}return n}const Q_e=Symbol();function J_e(n){return!h9(n)||!n.hasOwnProperty(Q_e)}const{assign:Wd}=Object;function e0e(n){return!!(Zn(n)&&n.effect)}function t0e(n,e,t,i){const{state:s,actions:o,getters:r}=e,a=t.state.value[n];let l;function c(){a||(t.state.value[n]=s?s():{});const u=zg(t.state.value[n]);return Wd(u,o,Object.keys(r||{}).reduce((d,h)=>(d[h]=U1(fe(()=>{px(t);const f=t._s.get(n);return r[h].call(f,f)})),d),{}))}return l=ZZ(n,c,e,t,i,!0),l.$reset=function(){const d=s?s():{};this.$patch(h=>{Wd(h,d)})},l}function ZZ(n,e,t={},i,s,o){let r;const a=Wd({actions:{}},t),l={deep:!0};let c,u,d=U1([]),h=U1([]),f;const p=i.state.value[n];!o&&!p&&(i.state.value[n]={}),ze({});let m;function b(x){let k;c=u=!1,typeof x=="function"?(x(i.state.value[n]),k={type:Yb.patchFunction,storeId:n,events:f}):(f9(i.state.value[n],x),k={type:Yb.patchObject,payload:x,storeId:n,events:f});const N=m=Symbol();hn().then(()=>{m===N&&(c=!0)}),u=!0,i0(d,k,i.state.value[n])}const w=YZ;function y(){r.stop(),d=[],h=[],i._s.delete(n)}function L(x,k){return function(){px(i);const N=Array.from(arguments),V=[],H=[];function G(me){V.push(me)}function te(me){H.push(me)}i0(h,{args:N,name:x,store:E,after:G,onError:te});let ae;try{ae=k.apply(this&&this.$id===n?this:E,N)}catch(me){throw i0(H,me),me}return ae instanceof Promise?ae.then(me=>(i0(V,me),me)).catch(me=>(i0(H,me),Promise.reject(me))):(i0(V,ae),ae)}}const D={_p:i,$id:n,$onAction:I$.bind(null,h),$patch:b,$reset:w,$subscribe(x,k={}){const N=I$(d,x,k.detached,()=>V()),V=r.run(()=>$t(()=>i.state.value[n],H=>{(k.flush==="sync"?u:c)&&x({storeId:n,type:Yb.direct,events:f},H)},Wd({},l,k)));return N},$dispose:y},E=hs(Wd({},D));i._s.set(n,E);const T=i._e.run(()=>(r=zY(),r.run(()=>e())));for(const x in T){const k=T[x];if(Zn(k)&&!e0e(k)||tg(k))o||(p&&J_e(k)&&(Zn(k)?k.value=p[x]:f9(k,p[x])),i.state.value[n][x]=k);else if(typeof k=="function"){const N=L(x,k);T[x]=N,a.actions[x]=k}}return Wd(E,T),Wd(Ki(E),T),Object.defineProperty(E,"$state",{get:()=>i.state.value[n],set:x=>{b(k=>{Wd(k,x)})}}),i._p.forEach(x=>{Wd(E,r.run(()=>x({store:E,app:i._a,pinia:i,options:a})))}),p&&o&&t.hydrate&&t.hydrate(E.$state,p),c=!0,u=!0,E}function h9t(n,e,t){let i,s;const o=typeof e=="function";typeof n=="string"?(i=n,s=o?t:e):(s=n,i=n.id);function r(a,l){const c=Do();return a=a||c&&Wt(GZ),a&&px(a),a=qZ,a._s.has(i)||(o?ZZ(i,e,s,a):t0e(i,s,a)),a._s.get(i)}return r.$id=i,r}function i0e(){const n=new WebSocket("ws://localhost:8885");n.onopen=function(){console.log("\u5BA2\u6237\u7AEF\u8FDE\u63A5\u6210\u529F")},n.onmessage=function(){},n.onclose=function(){console.log("\u5BA2\u6237\u7AEF\u8FDE\u63A5\u5173\u95ED")},n.onerror=function(){console.log("\u5BA2\u6237\u7AEF\u8FDE\u63A5\u9519\u8BEF")}}/*! Element Plus Icons Vue v2.0.10 */var n0e={name:"AddLocation"},Z=(n,e)=>{let t=n.__vccOpts||n;for(let[i,s]of e)t[i]=s;return t},s0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},o0e=M("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),r0e=M("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),a0e=M("path",{fill:"currentColor",d:"M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"},null,-1),l0e=[o0e,r0e,a0e];function c0e(n,e,t,i,s,o){return O(),W("svg",s0e,l0e)}var u0e=Z(n0e,[["render",c0e],["__file","add-location.vue"]]),d0e={name:"Aim"},h0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},f0e=M("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),g0e=M("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"},null,-1),p0e=[f0e,g0e];function m0e(n,e,t,i,s,o){return O(),W("svg",h0e,p0e)}var _0e=Z(d0e,[["render",m0e],["__file","aim.vue"]]),v0e={name:"AlarmClock"},b0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},C0e=M("path",{fill:"currentColor",d:"M512 832a320 320 0 1 0 0-640 320 320 0 0 0 0 640zm0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768z"},null,-1),w0e=M("path",{fill:"currentColor",d:"m292.288 824.576 55.424 32-48 83.136a32 32 0 1 1-55.424-32l48-83.136zm439.424 0-55.424 32 48 83.136a32 32 0 1 0 55.424-32l-48-83.136zM512 512h160a32 32 0 1 1 0 64H480a32 32 0 0 1-32-32V320a32 32 0 0 1 64 0v192zM90.496 312.256A160 160 0 0 1 312.32 90.496l-46.848 46.848a96 96 0 0 0-128 128L90.56 312.256zm835.264 0A160 160 0 0 0 704 90.496l46.848 46.848a96 96 0 0 1 128 128l46.912 46.912z"},null,-1),y0e=[C0e,w0e];function S0e(n,e,t,i,s,o){return O(),W("svg",b0e,y0e)}var L0e=Z(v0e,[["render",S0e],["__file","alarm-clock.vue"]]),x0e={name:"Apple"},D0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},k0e=M("path",{fill:"currentColor",d:"M599.872 203.776a189.44 189.44 0 0 1 64.384-4.672l2.624.128c31.168 1.024 51.2 4.096 79.488 16.32 37.632 16.128 74.496 45.056 111.488 89.344 96.384 115.264 82.752 372.8-34.752 521.728-7.68 9.728-32 41.6-30.72 39.936a426.624 426.624 0 0 1-30.08 35.776c-31.232 32.576-65.28 49.216-110.08 50.048-31.36.64-53.568-5.312-84.288-18.752l-6.528-2.88c-20.992-9.216-30.592-11.904-47.296-11.904-18.112 0-28.608 2.88-51.136 12.672l-6.464 2.816c-28.416 12.224-48.32 18.048-76.16 19.2-74.112 2.752-116.928-38.08-180.672-132.16-96.64-142.08-132.608-349.312-55.04-486.4 46.272-81.92 129.92-133.632 220.672-135.04 32.832-.576 60.288 6.848 99.648 22.72 27.136 10.88 34.752 13.76 37.376 14.272 16.256-20.16 27.776-36.992 34.56-50.24 13.568-26.304 27.2-59.968 40.704-100.8a32 32 0 1 1 60.8 20.224c-12.608 37.888-25.408 70.4-38.528 97.664zm-51.52 78.08c-14.528 17.792-31.808 37.376-51.904 58.816a32 32 0 1 1-46.72-43.776l12.288-13.248c-28.032-11.2-61.248-26.688-95.68-26.112-70.4 1.088-135.296 41.6-171.648 105.792C121.6 492.608 176 684.16 247.296 788.992c34.816 51.328 76.352 108.992 130.944 106.944 52.48-2.112 72.32-34.688 135.872-34.688 63.552 0 81.28 34.688 136.96 33.536 56.448-1.088 75.776-39.04 126.848-103.872 107.904-136.768 107.904-362.752 35.776-449.088-72.192-86.272-124.672-84.096-151.68-85.12-41.472-4.288-81.6 12.544-113.664 25.152z"},null,-1),E0e=[k0e];function I0e(n,e,t,i,s,o){return O(),W("svg",D0e,E0e)}var T0e=Z(x0e,[["render",I0e],["__file","apple.vue"]]),N0e={name:"ArrowDownBold"},M0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},A0e=M("path",{fill:"currentColor",d:"M104.704 338.752a64 64 0 0 1 90.496 0l316.8 316.8 316.8-316.8a64 64 0 0 1 90.496 90.496L557.248 791.296a64 64 0 0 1-90.496 0L104.704 429.248a64 64 0 0 1 0-90.496z"},null,-1),R0e=[A0e];function O0e(n,e,t,i,s,o){return O(),W("svg",M0e,R0e)}var P0e=Z(N0e,[["render",O0e],["__file","arrow-down-bold.vue"]]),F0e={name:"ArrowDown"},B0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},V0e=M("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),W0e=[V0e];function H0e(n,e,t,i,s,o){return O(),W("svg",B0e,W0e)}var MR=Z(F0e,[["render",H0e],["__file","arrow-down.vue"]]),$0e={name:"ArrowLeftBold"},z0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},U0e=M("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"},null,-1),j0e=[U0e];function K0e(n,e,t,i,s,o){return O(),W("svg",z0e,j0e)}var q0e=Z($0e,[["render",K0e],["__file","arrow-left-bold.vue"]]),G0e={name:"ArrowLeft"},Y0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Z0e=M("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),X0e=[Z0e];function Q0e(n,e,t,i,s,o){return O(),W("svg",Y0e,X0e)}var J0e=Z(G0e,[["render",Q0e],["__file","arrow-left.vue"]]),e1e={name:"ArrowRightBold"},t1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},i1e=M("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"},null,-1),n1e=[i1e];function s1e(n,e,t,i,s,o){return O(),W("svg",t1e,n1e)}var o1e=Z(e1e,[["render",s1e],["__file","arrow-right-bold.vue"]]),r1e={name:"ArrowRight"},a1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l1e=M("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),c1e=[l1e];function u1e(n,e,t,i,s,o){return O(),W("svg",a1e,c1e)}var XZ=Z(r1e,[["render",u1e],["__file","arrow-right.vue"]]),d1e={name:"ArrowUpBold"},h1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},f1e=M("path",{fill:"currentColor",d:"M104.704 685.248a64 64 0 0 0 90.496 0l316.8-316.8 316.8 316.8a64 64 0 0 0 90.496-90.496L557.248 232.704a64 64 0 0 0-90.496 0L104.704 594.752a64 64 0 0 0 0 90.496z"},null,-1),g1e=[f1e];function p1e(n,e,t,i,s,o){return O(),W("svg",h1e,g1e)}var m1e=Z(d1e,[["render",p1e],["__file","arrow-up-bold.vue"]]),_1e={name:"ArrowUp"},v1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},b1e=M("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),C1e=[b1e];function w1e(n,e,t,i,s,o){return O(),W("svg",v1e,C1e)}var QZ=Z(_1e,[["render",w1e],["__file","arrow-up.vue"]]),y1e={name:"Avatar"},S1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},L1e=M("path",{fill:"currentColor",d:"M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704l116.736-175.104zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0z"},null,-1),x1e=[L1e];function D1e(n,e,t,i,s,o){return O(),W("svg",S1e,x1e)}var k1e=Z(y1e,[["render",D1e],["__file","avatar.vue"]]),E1e={name:"Back"},I1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},T1e=M("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),N1e=M("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),M1e=[T1e,N1e];function A1e(n,e,t,i,s,o){return O(),W("svg",I1e,M1e)}var R1e=Z(E1e,[["render",A1e],["__file","back.vue"]]),O1e={name:"Baseball"},P1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},F1e=M("path",{fill:"currentColor",d:"M195.2 828.8a448 448 0 1 1 633.6-633.6 448 448 0 0 1-633.6 633.6zm45.248-45.248a384 384 0 1 0 543.104-543.104 384 384 0 0 0-543.104 543.104z"},null,-1),B1e=M("path",{fill:"currentColor",d:"M497.472 96.896c22.784 4.672 44.416 9.472 64.896 14.528a256.128 256.128 0 0 0 350.208 350.208c5.056 20.48 9.856 42.112 14.528 64.896A320.128 320.128 0 0 1 497.472 96.896zM108.48 491.904a320.128 320.128 0 0 1 423.616 423.68c-23.04-3.648-44.992-7.424-65.728-11.52a256.128 256.128 0 0 0-346.496-346.432 1736.64 1736.64 0 0 1-11.392-65.728z"},null,-1),V1e=[F1e,B1e];function W1e(n,e,t,i,s,o){return O(),W("svg",P1e,V1e)}var H1e=Z(O1e,[["render",W1e],["__file","baseball.vue"]]),$1e={name:"Basketball"},z1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},U1e=M("path",{fill:"currentColor",d:"M778.752 788.224a382.464 382.464 0 0 0 116.032-245.632 256.512 256.512 0 0 0-241.728-13.952 762.88 762.88 0 0 1 125.696 259.584zm-55.04 44.224a699.648 699.648 0 0 0-125.056-269.632 256.128 256.128 0 0 0-56.064 331.968 382.72 382.72 0 0 0 181.12-62.336zm-254.08 61.248A320.128 320.128 0 0 1 557.76 513.6a715.84 715.84 0 0 0-48.192-48.128 320.128 320.128 0 0 1-379.264 88.384 382.4 382.4 0 0 0 110.144 229.696 382.4 382.4 0 0 0 229.184 110.08zM129.28 481.088a256.128 256.128 0 0 0 331.072-56.448 699.648 699.648 0 0 0-268.8-124.352 382.656 382.656 0 0 0-62.272 180.8zm106.56-235.84a762.88 762.88 0 0 1 258.688 125.056 256.512 256.512 0 0 0-13.44-241.088A382.464 382.464 0 0 0 235.84 245.248zm318.08-114.944c40.576 89.536 37.76 193.92-8.448 281.344a779.84 779.84 0 0 1 66.176 66.112 320.832 320.832 0 0 1 282.112-8.128 382.4 382.4 0 0 0-110.144-229.12 382.4 382.4 0 0 0-229.632-110.208zM828.8 828.8a448 448 0 1 1-633.6-633.6 448 448 0 0 1 633.6 633.6z"},null,-1),j1e=[U1e];function K1e(n,e,t,i,s,o){return O(),W("svg",z1e,j1e)}var q1e=Z($1e,[["render",K1e],["__file","basketball.vue"]]),G1e={name:"BellFilled"},Y1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Z1e=M("path",{fill:"currentColor",d:"M640 832a128 128 0 0 1-256 0h256zm192-64H134.4a38.4 38.4 0 0 1 0-76.8H192V448c0-154.88 110.08-284.16 256.32-313.6a64 64 0 1 1 127.36 0A320.128 320.128 0 0 1 832 448v243.2h57.6a38.4 38.4 0 0 1 0 76.8H832z"},null,-1),X1e=[Z1e];function Q1e(n,e,t,i,s,o){return O(),W("svg",Y1e,X1e)}var J1e=Z(G1e,[["render",Q1e],["__file","bell-filled.vue"]]),eve={name:"Bell"},tve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ive=M("path",{fill:"currentColor",d:"M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64z"},null,-1),nve=M("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 1 0-512 0v320zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320z"},null,-1),sve=M("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm352 128h128a64 64 0 0 1-128 0z"},null,-1),ove=[ive,nve,sve];function rve(n,e,t,i,s,o){return O(),W("svg",tve,ove)}var ave=Z(eve,[["render",rve],["__file","bell.vue"]]),lve={name:"Bicycle"},cve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uve=a_e('<path fill="currentColor" d="M256 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"></path><path fill="currentColor" d="M288 672h320q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"></path><path fill="currentColor" d="M768 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"></path><path fill="currentColor" d="M480 192a32 32 0 0 1 0-64h160a32 32 0 0 1 31.04 24.256l96 384a32 32 0 0 1-62.08 15.488L615.04 192H480zM96 384a32 32 0 0 1 0-64h128a32 32 0 0 1 30.336 21.888l64 192a32 32 0 1 1-60.672 20.224L200.96 384H96z"></path><path fill="currentColor" d="m373.376 599.808-42.752-47.616 320-288 42.752 47.616z"></path>',5),dve=[uve];function hve(n,e,t,i,s,o){return O(),W("svg",cve,dve)}var fve=Z(lve,[["render",hve],["__file","bicycle.vue"]]),gve={name:"BottomLeft"},pve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mve=M("path",{fill:"currentColor",d:"M256 768h416a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V352a32 32 0 0 1 64 0v416z"},null,-1),_ve=M("path",{fill:"currentColor",d:"M246.656 822.656a32 32 0 0 1-45.312-45.312l544-544a32 32 0 0 1 45.312 45.312l-544 544z"},null,-1),vve=[mve,_ve];function bve(n,e,t,i,s,o){return O(),W("svg",pve,vve)}var Cve=Z(gve,[["render",bve],["__file","bottom-left.vue"]]),wve={name:"BottomRight"},yve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Sve=M("path",{fill:"currentColor",d:"M352 768a32 32 0 1 0 0 64h448a32 32 0 0 0 32-32V352a32 32 0 0 0-64 0v416H352z"},null,-1),Lve=M("path",{fill:"currentColor",d:"M777.344 822.656a32 32 0 0 0 45.312-45.312l-544-544a32 32 0 0 0-45.312 45.312l544 544z"},null,-1),xve=[Sve,Lve];function Dve(n,e,t,i,s,o){return O(),W("svg",yve,xve)}var kve=Z(wve,[["render",Dve],["__file","bottom-right.vue"]]),Eve={name:"Bottom"},Ive={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Tve=M("path",{fill:"currentColor",d:"M544 805.888V168a32 32 0 1 0-64 0v637.888L246.656 557.952a30.72 30.72 0 0 0-45.312 0 35.52 35.52 0 0 0 0 48.064l288 306.048a30.72 30.72 0 0 0 45.312 0l288-306.048a35.52 35.52 0 0 0 0-48 30.72 30.72 0 0 0-45.312 0L544 805.824z"},null,-1),Nve=[Tve];function Mve(n,e,t,i,s,o){return O(),W("svg",Ive,Nve)}var Ave=Z(Eve,[["render",Mve],["__file","bottom.vue"]]),Rve={name:"Bowl"},Ove={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Pve=M("path",{fill:"currentColor",d:"M714.432 704a351.744 351.744 0 0 0 148.16-256H161.408a351.744 351.744 0 0 0 148.16 256h404.864zM288 766.592A415.68 415.68 0 0 1 96 416a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32 415.68 415.68 0 0 1-192 350.592V832a64 64 0 0 1-64 64H352a64 64 0 0 1-64-64v-65.408zM493.248 320h-90.496l254.4-254.4a32 32 0 1 1 45.248 45.248L493.248 320zm187.328 0h-128l269.696-155.712a32 32 0 0 1 32 55.424L680.576 320zM352 768v64h320v-64H352z"},null,-1),Fve=[Pve];function Bve(n,e,t,i,s,o){return O(),W("svg",Ove,Fve)}var Vve=Z(Rve,[["render",Bve],["__file","bowl.vue"]]),Wve={name:"Box"},Hve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$ve=M("path",{fill:"currentColor",d:"M317.056 128 128 344.064V896h768V344.064L706.944 128H317.056zm-14.528-64h418.944a32 32 0 0 1 24.064 10.88l206.528 236.096A32 32 0 0 1 960 332.032V928a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V332.032a32 32 0 0 1 7.936-21.12L278.4 75.008A32 32 0 0 1 302.528 64z"},null,-1),zve=M("path",{fill:"currentColor",d:"M64 320h896v64H64z"},null,-1),Uve=M("path",{fill:"currentColor",d:"M448 327.872V640h128V327.872L526.08 128h-28.16L448 327.872zM448 64h128l64 256v352a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V320l64-256z"},null,-1),jve=[$ve,zve,Uve];function Kve(n,e,t,i,s,o){return O(),W("svg",Hve,jve)}var qve=Z(Wve,[["render",Kve],["__file","box.vue"]]),Gve={name:"Briefcase"},Yve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Zve=M("path",{fill:"currentColor",d:"M320 320V128h384v192h192v192H128V320h192zM128 576h768v320H128V576zm256-256h256.064V192H384v128z"},null,-1),Xve=[Zve];function Qve(n,e,t,i,s,o){return O(),W("svg",Yve,Xve)}var Jve=Z(Gve,[["render",Qve],["__file","briefcase.vue"]]),e2e={name:"BrushFilled"},t2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},i2e=M("path",{fill:"currentColor",d:"M608 704v160a96 96 0 0 1-192 0V704h-96a128 128 0 0 1-128-128h640a128 128 0 0 1-128 128h-96zM192 512V128.064h640V512H192z"},null,-1),n2e=[i2e];function s2e(n,e,t,i,s,o){return O(),W("svg",t2e,n2e)}var o2e=Z(e2e,[["render",s2e],["__file","brush-filled.vue"]]),r2e={name:"Brush"},a2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l2e=M("path",{fill:"currentColor",d:"M896 448H128v192a64 64 0 0 0 64 64h192v192h256V704h192a64 64 0 0 0 64-64V448zm-770.752-64c0-47.552 5.248-90.24 15.552-128 14.72-54.016 42.496-107.392 83.2-160h417.28l-15.36 70.336L736 96h211.2c-24.832 42.88-41.92 96.256-51.2 160a663.872 663.872 0 0 0-6.144 128H960v256a128 128 0 0 1-128 128H704v160a32 32 0 0 1-32 32H352a32 32 0 0 1-32-32V768H192A128 128 0 0 1 64 640V384h61.248zm64 0h636.544c-2.048-45.824.256-91.584 6.848-137.216 4.48-30.848 10.688-59.776 18.688-86.784h-96.64l-221.12 141.248L561.92 160H256.512c-25.856 37.888-43.776 75.456-53.952 112.832-8.768 32.064-13.248 69.12-13.312 111.168z"},null,-1),c2e=[l2e];function u2e(n,e,t,i,s,o){return O(),W("svg",a2e,c2e)}var d2e=Z(r2e,[["render",u2e],["__file","brush.vue"]]),h2e={name:"Burger"},f2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},g2e=M("path",{fill:"currentColor",d:"M160 512a32 32 0 0 0-32 32v64a32 32 0 0 0 30.08 32H864a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H160zm736-58.56A96 96 0 0 1 960 544v64a96 96 0 0 1-51.968 85.312L855.36 833.6a96 96 0 0 1-89.856 62.272H258.496A96 96 0 0 1 168.64 833.6l-52.608-140.224A96 96 0 0 1 64 608v-64a96 96 0 0 1 64-90.56V448a384 384 0 1 1 768 5.44zM832 448a320 320 0 0 0-640 0h640zM512 704H188.352l40.192 107.136a32 32 0 0 0 29.952 20.736h507.008a32 32 0 0 0 29.952-20.736L835.648 704H512z"},null,-1),p2e=[g2e];function m2e(n,e,t,i,s,o){return O(),W("svg",f2e,p2e)}var _2e=Z(h2e,[["render",m2e],["__file","burger.vue"]]),v2e={name:"Calendar"},b2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},C2e=M("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),w2e=[C2e];function y2e(n,e,t,i,s,o){return O(),W("svg",b2e,w2e)}var S2e=Z(v2e,[["render",y2e],["__file","calendar.vue"]]),L2e={name:"CameraFilled"},x2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},D2e=M("path",{fill:"currentColor",d:"M160 224a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h704a64 64 0 0 0 64-64V288a64 64 0 0 0-64-64H748.416l-46.464-92.672A64 64 0 0 0 644.736 96H379.328a64 64 0 0 0-57.216 35.392L275.776 224H160zm352 435.2a115.2 115.2 0 1 0 0-230.4 115.2 115.2 0 0 0 0 230.4zm0 140.8a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),k2e=[D2e];function E2e(n,e,t,i,s,o){return O(),W("svg",x2e,k2e)}var I2e=Z(L2e,[["render",E2e],["__file","camera-filled.vue"]]),T2e={name:"Camera"},N2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},M2e=M("path",{fill:"currentColor",d:"M896 256H128v576h768V256zm-199.424-64-32.064-64h-304.96l-32 64h369.024zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32zm416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448z"},null,-1),A2e=[M2e];function R2e(n,e,t,i,s,o){return O(),W("svg",N2e,A2e)}var O2e=Z(T2e,[["render",R2e],["__file","camera.vue"]]),P2e={name:"CaretBottom"},F2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},B2e=M("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"},null,-1),V2e=[B2e];function W2e(n,e,t,i,s,o){return O(),W("svg",F2e,V2e)}var H2e=Z(P2e,[["render",W2e],["__file","caret-bottom.vue"]]),$2e={name:"CaretLeft"},z2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},U2e=M("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"},null,-1),j2e=[U2e];function K2e(n,e,t,i,s,o){return O(),W("svg",z2e,j2e)}var q2e=Z($2e,[["render",K2e],["__file","caret-left.vue"]]),G2e={name:"CaretRight"},Y2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Z2e=M("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),X2e=[Z2e];function Q2e(n,e,t,i,s,o){return O(),W("svg",Y2e,X2e)}var J2e=Z(G2e,[["render",Q2e],["__file","caret-right.vue"]]),ebe={name:"CaretTop"},tbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ibe=M("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),nbe=[ibe];function sbe(n,e,t,i,s,o){return O(),W("svg",tbe,nbe)}var obe=Z(ebe,[["render",sbe],["__file","caret-top.vue"]]),rbe={name:"Cellphone"},abe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lbe=M("path",{fill:"currentColor",d:"M256 128a64 64 0 0 0-64 64v640a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H256zm0-64h512a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V192A128 128 0 0 1 256 64zm128 128h256a32 32 0 1 1 0 64H384a32 32 0 0 1 0-64zm128 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128z"},null,-1),cbe=[lbe];function ube(n,e,t,i,s,o){return O(),W("svg",abe,cbe)}var dbe=Z(rbe,[["render",ube],["__file","cellphone.vue"]]),hbe={name:"ChatDotRound"},fbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gbe=M("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"},null,-1),pbe=M("path",{fill:"currentColor",d:"M512 563.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"},null,-1),mbe=[gbe,pbe];function _be(n,e,t,i,s,o){return O(),W("svg",fbe,mbe)}var vbe=Z(hbe,[["render",_be],["__file","chat-dot-round.vue"]]),bbe={name:"ChatDotSquare"},Cbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wbe=M("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88L273.536 736zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),ybe=M("path",{fill:"currentColor",d:"M512 499.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"},null,-1),Sbe=[wbe,ybe];function Lbe(n,e,t,i,s,o){return O(),W("svg",Cbe,Sbe)}var xbe=Z(bbe,[["render",Lbe],["__file","chat-dot-square.vue"]]),Dbe={name:"ChatLineRound"},kbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ebe=M("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"},null,-1),Ibe=M("path",{fill:"currentColor",d:"M352 576h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm32-192h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32z"},null,-1),Tbe=[Ebe,Ibe];function Nbe(n,e,t,i,s,o){return O(),W("svg",kbe,Tbe)}var Mbe=Z(Dbe,[["render",Nbe],["__file","chat-line-round.vue"]]),Abe={name:"ChatLineSquare"},Rbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Obe=M("path",{fill:"currentColor",d:"M160 826.88 273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),Pbe=M("path",{fill:"currentColor",d:"M352 512h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm0-192h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32z"},null,-1),Fbe=[Obe,Pbe];function Bbe(n,e,t,i,s,o){return O(),W("svg",Rbe,Fbe)}var Vbe=Z(Abe,[["render",Bbe],["__file","chat-line-square.vue"]]),Wbe={name:"ChatRound"},Hbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$be=M("path",{fill:"currentColor",d:"m174.72 855.68 130.048-43.392 23.424 11.392C382.4 849.984 444.352 864 512 864c223.744 0 384-159.872 384-352 0-192.832-159.104-352-384-352S128 319.168 128 512a341.12 341.12 0 0 0 69.248 204.288l21.632 28.8-44.16 110.528zm-45.248 82.56A32 32 0 0 1 89.6 896l56.512-141.248A405.12 405.12 0 0 1 64 512C64 299.904 235.648 96 512 96s448 203.904 448 416-173.44 416-448 416c-79.68 0-150.848-17.152-211.712-46.72l-170.88 56.96z"},null,-1),zbe=[$be];function Ube(n,e,t,i,s,o){return O(),W("svg",Hbe,zbe)}var jbe=Z(Wbe,[["render",Ube],["__file","chat-round.vue"]]),Kbe={name:"ChatSquare"},qbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Gbe=M("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88L273.536 736zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),Ybe=[Gbe];function Zbe(n,e,t,i,s,o){return O(),W("svg",qbe,Ybe)}var Xbe=Z(Kbe,[["render",Zbe],["__file","chat-square.vue"]]),Qbe={name:"Check"},Jbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eCe=M("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),tCe=[eCe];function iCe(n,e,t,i,s,o){return O(),W("svg",Jbe,tCe)}var nCe=Z(Qbe,[["render",iCe],["__file","check.vue"]]),sCe={name:"Checked"},oCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rCe=M("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160.064v64H704v-64zM311.616 537.28l-45.312 45.248L447.36 763.52l316.8-316.8-45.312-45.184L447.36 673.024 311.616 537.28zM384 192V96h256v96H384z"},null,-1),aCe=[rCe];function lCe(n,e,t,i,s,o){return O(),W("svg",oCe,aCe)}var cCe=Z(sCe,[["render",lCe],["__file","checked.vue"]]),uCe={name:"Cherry"},dCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hCe=M("path",{fill:"currentColor",d:"M261.056 449.6c13.824-69.696 34.88-128.96 63.36-177.728 23.744-40.832 61.12-88.64 112.256-143.872H320a32 32 0 0 1 0-64h384a32 32 0 1 1 0 64H554.752c14.912 39.168 41.344 86.592 79.552 141.76 47.36 68.48 84.8 106.752 106.304 114.304a224 224 0 1 1-84.992 14.784c-22.656-22.912-47.04-53.76-73.92-92.608-38.848-56.128-67.008-105.792-84.352-149.312-55.296 58.24-94.528 107.52-117.76 147.2-23.168 39.744-41.088 88.768-53.568 147.072a224.064 224.064 0 1 1-64.96-1.6zM288 832a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm448-64a160 160 0 1 0 0-320 160 160 0 0 0 0 320z"},null,-1),fCe=[hCe];function gCe(n,e,t,i,s,o){return O(),W("svg",dCe,fCe)}var pCe=Z(uCe,[["render",gCe],["__file","cherry.vue"]]),mCe={name:"Chicken"},_Ce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vCe=M("path",{fill:"currentColor",d:"M349.952 716.992 478.72 588.16a106.688 106.688 0 0 1-26.176-19.072 106.688 106.688 0 0 1-19.072-26.176L304.704 671.744c.768 3.072 1.472 6.144 2.048 9.216l2.048 31.936 31.872 1.984c3.136.64 6.208 1.28 9.28 2.112zm57.344 33.152a128 128 0 1 1-216.32 114.432l-1.92-32-32-1.92a128 128 0 1 1 114.432-216.32L416.64 469.248c-2.432-101.44 58.112-239.104 149.056-330.048 107.328-107.328 231.296-85.504 316.8 0 85.44 85.44 107.328 209.408 0 316.8-91.008 90.88-228.672 151.424-330.112 149.056L407.296 750.08zm90.496-226.304c49.536 49.536 233.344-7.04 339.392-113.088 78.208-78.208 63.232-163.072 0-226.304-63.168-63.232-148.032-78.208-226.24 0C504.896 290.496 448.32 474.368 497.792 523.84zM244.864 708.928a64 64 0 1 0-59.84 59.84l56.32-3.52 3.52-56.32zm8.064 127.68a64 64 0 1 0 59.84-59.84l-56.32 3.52-3.52 56.32z"},null,-1),bCe=[vCe];function CCe(n,e,t,i,s,o){return O(),W("svg",_Ce,bCe)}var wCe=Z(mCe,[["render",CCe],["__file","chicken.vue"]]),yCe={name:"ChromeFilled"},SCe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},LCe=M("path",{d:"M938.67 512.01c0-44.59-6.82-87.6-19.54-128H682.67a212.372 212.372 0 0 1 42.67 128c.06 38.71-10.45 76.7-30.42 109.87l-182.91 316.8c235.65-.01 426.66-191.02 426.66-426.67z",fill:"currentColor"},null,-1),xCe=M("path",{d:"M576.79 401.63a127.92 127.92 0 0 0-63.56-17.6c-22.36-.22-44.39 5.43-63.89 16.38s-35.79 26.82-47.25 46.02a128.005 128.005 0 0 0-2.16 127.44l1.24 2.13a127.906 127.906 0 0 0 46.36 46.61 127.907 127.907 0 0 0 63.38 17.44c22.29.2 44.24-5.43 63.68-16.33a127.94 127.94 0 0 0 47.16-45.79v-.01l1.11-1.92a127.984 127.984 0 0 0 .29-127.46 127.957 127.957 0 0 0-46.36-46.91z",fill:"currentColor"},null,-1),DCe=M("path",{d:"M394.45 333.96A213.336 213.336 0 0 1 512 298.67h369.58A426.503 426.503 0 0 0 512 85.34a425.598 425.598 0 0 0-171.74 35.98 425.644 425.644 0 0 0-142.62 102.22l118.14 204.63a213.397 213.397 0 0 1 78.67-94.21zm117.56 604.72H512zm-97.25-236.73a213.284 213.284 0 0 1-89.54-86.81L142.48 298.6c-36.35 62.81-57.13 135.68-57.13 213.42 0 203.81 142.93 374.22 333.95 416.55h.04l118.19-204.71a213.315 213.315 0 0 1-122.77-21.91z",fill:"currentColor"},null,-1),kCe=[LCe,xCe,DCe];function ECe(n,e,t,i,s,o){return O(),W("svg",SCe,kCe)}var ICe=Z(yCe,[["render",ECe],["__file","chrome-filled.vue"]]),TCe={name:"CircleCheckFilled"},NCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},MCe=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),ACe=[MCe];function RCe(n,e,t,i,s,o){return O(),W("svg",NCe,ACe)}var OCe=Z(TCe,[["render",RCe],["__file","circle-check-filled.vue"]]),PCe={name:"CircleCheck"},FCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},BCe=M("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),VCe=M("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),WCe=[BCe,VCe];function HCe(n,e,t,i,s,o){return O(),W("svg",FCe,WCe)}var JZ=Z(PCe,[["render",HCe],["__file","circle-check.vue"]]),$Ce={name:"CircleCloseFilled"},zCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},UCe=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),jCe=[UCe];function KCe(n,e,t,i,s,o){return O(),W("svg",zCe,jCe)}var AR=Z($Ce,[["render",KCe],["__file","circle-close-filled.vue"]]),qCe={name:"CircleClose"},GCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YCe=M("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),ZCe=M("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),XCe=[YCe,ZCe];function QCe(n,e,t,i,s,o){return O(),W("svg",GCe,XCe)}var mx=Z(qCe,[["render",QCe],["__file","circle-close.vue"]]),JCe={name:"CirclePlusFilled"},ewe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},twe=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-38.4 409.6H326.4a38.4 38.4 0 1 0 0 76.8h147.2v147.2a38.4 38.4 0 0 0 76.8 0V550.4h147.2a38.4 38.4 0 0 0 0-76.8H550.4V326.4a38.4 38.4 0 1 0-76.8 0v147.2z"},null,-1),iwe=[twe];function nwe(n,e,t,i,s,o){return O(),W("svg",ewe,iwe)}var swe=Z(JCe,[["render",nwe],["__file","circle-plus-filled.vue"]]),owe={name:"CirclePlus"},rwe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},awe=M("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),lwe=M("path",{fill:"currentColor",d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0z"},null,-1),cwe=M("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),uwe=[awe,lwe,cwe];function dwe(n,e,t,i,s,o){return O(),W("svg",rwe,uwe)}var hwe=Z(owe,[["render",dwe],["__file","circle-plus.vue"]]),fwe={name:"Clock"},gwe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pwe=M("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),mwe=M("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),_we=M("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),vwe=[pwe,mwe,_we];function bwe(n,e,t,i,s,o){return O(),W("svg",gwe,vwe)}var Cwe=Z(fwe,[["render",bwe],["__file","clock.vue"]]),wwe={name:"CloseBold"},ywe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Swe=M("path",{fill:"currentColor",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"},null,-1),Lwe=[Swe];function xwe(n,e,t,i,s,o){return O(),W("svg",ywe,Lwe)}var Dwe=Z(wwe,[["render",xwe],["__file","close-bold.vue"]]),kwe={name:"Close"},Ewe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Iwe=M("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),Twe=[Iwe];function Nwe(n,e,t,i,s,o){return O(),W("svg",Ewe,Twe)}var VC=Z(kwe,[["render",Nwe],["__file","close.vue"]]),Mwe={name:"Cloudy"},Awe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Rwe=M("path",{fill:"currentColor",d:"M598.4 831.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 831.872zm-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 381.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"},null,-1),Owe=[Rwe];function Pwe(n,e,t,i,s,o){return O(),W("svg",Awe,Owe)}var Fwe=Z(Mwe,[["render",Pwe],["__file","cloudy.vue"]]),Bwe={name:"CoffeeCup"},Vwe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Wwe=M("path",{fill:"currentColor",d:"M768 192a192 192 0 1 1-8 383.808A256.128 256.128 0 0 1 512 768H320A256 256 0 0 1 64 512V160a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v32zm0 64v256a128 128 0 1 0 0-256zM96 832h640a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64zm32-640v320a192 192 0 0 0 192 192h192a192 192 0 0 0 192-192V192H128z"},null,-1),Hwe=[Wwe];function $we(n,e,t,i,s,o){return O(),W("svg",Vwe,Hwe)}var zwe=Z(Bwe,[["render",$we],["__file","coffee-cup.vue"]]),Uwe={name:"Coffee"},jwe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Kwe=M("path",{fill:"currentColor",d:"M822.592 192h14.272a32 32 0 0 1 31.616 26.752l21.312 128A32 32 0 0 1 858.24 384h-49.344l-39.04 546.304A32 32 0 0 1 737.92 960H285.824a32 32 0 0 1-32-29.696L214.912 384H165.76a32 32 0 0 1-31.552-37.248l21.312-128A32 32 0 0 1 187.136 192h14.016l-6.72-93.696A32 32 0 0 1 226.368 64h571.008a32 32 0 0 1 31.936 34.304L822.592 192zm-64.128 0 4.544-64H260.736l4.544 64h493.184zm-548.16 128H820.48l-10.688-64H214.208l-10.688 64h6.784zm68.736 64 36.544 512H708.16l36.544-512H279.04z"},null,-1),qwe=[Kwe];function Gwe(n,e,t,i,s,o){return O(),W("svg",jwe,qwe)}var Ywe=Z(Uwe,[["render",Gwe],["__file","coffee.vue"]]),Zwe={name:"Coin"},Xwe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Qwe=M("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),Jwe=M("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),eye=M("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224zm0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160z"},null,-1),tye=[Qwe,Jwe,eye];function iye(n,e,t,i,s,o){return O(),W("svg",Xwe,tye)}var nye=Z(Zwe,[["render",iye],["__file","coin.vue"]]),sye={name:"ColdDrink"},oye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rye=M("path",{fill:"currentColor",d:"M768 64a192 192 0 1 1-69.952 370.88L480 725.376V896h96a32 32 0 1 1 0 64H320a32 32 0 1 1 0-64h96V725.376L76.8 273.536a64 64 0 0 1-12.8-38.4v-10.688a32 32 0 0 1 32-32h71.808l-65.536-83.84a32 32 0 0 1 50.432-39.424l96.256 123.264h337.728A192.064 192.064 0 0 1 768 64zM656.896 192.448H800a32 32 0 0 1 32 32v10.624a64 64 0 0 1-12.8 38.4l-80.448 107.2a128 128 0 1 0-81.92-188.16v-.064zm-357.888 64 129.472 165.76a32 32 0 0 1-50.432 39.36l-160.256-205.12H144l304 404.928 304-404.928H299.008z"},null,-1),aye=[rye];function lye(n,e,t,i,s,o){return O(),W("svg",oye,aye)}var cye=Z(sye,[["render",lye],["__file","cold-drink.vue"]]),uye={name:"CollectionTag"},dye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hye=M("path",{fill:"currentColor",d:"M256 128v698.88l196.032-156.864a96 96 0 0 1 119.936 0L768 826.816V128H256zm-32-64h576a32 32 0 0 1 32 32v797.44a32 32 0 0 1-51.968 24.96L531.968 720a32 32 0 0 0-39.936 0L243.968 918.4A32 32 0 0 1 192 893.44V96a32 32 0 0 1 32-32z"},null,-1),fye=[hye];function gye(n,e,t,i,s,o){return O(),W("svg",dye,fye)}var pye=Z(uye,[["render",gye],["__file","collection-tag.vue"]]),mye={name:"Collection"},_ye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vye=M("path",{fill:"currentColor",d:"M192 736h640V128H256a64 64 0 0 0-64 64v544zm64-672h608a32 32 0 0 1 32 32v672a32 32 0 0 1-32 32H160l-32 57.536V192A128 128 0 0 1 256 64z"},null,-1),bye=M("path",{fill:"currentColor",d:"M240 800a48 48 0 1 0 0 96h592v-96H240zm0-64h656v160a64 64 0 0 1-64 64H240a112 112 0 0 1 0-224zm144-608v250.88l96-76.8 96 76.8V128H384zm-64-64h320v381.44a32 32 0 0 1-51.968 24.96L480 384l-108.032 86.4A32 32 0 0 1 320 445.44V64z"},null,-1),Cye=[vye,bye];function wye(n,e,t,i,s,o){return O(),W("svg",_ye,Cye)}var yye=Z(mye,[["render",wye],["__file","collection.vue"]]),Sye={name:"Comment"},Lye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xye=M("path",{fill:"currentColor",d:"M736 504a56 56 0 1 1 0-112 56 56 0 0 1 0 112zm-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112zm-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112zM128 128v640h192v160l224-160h352V128H128z"},null,-1),Dye=[xye];function kye(n,e,t,i,s,o){return O(),W("svg",Lye,Dye)}var Eye=Z(Sye,[["render",kye],["__file","comment.vue"]]),Iye={name:"Compass"},Tye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Nye=M("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Mye=M("path",{fill:"currentColor",d:"M725.888 315.008C676.48 428.672 624 513.28 568.576 568.64c-55.424 55.424-139.968 107.904-253.568 157.312a12.8 12.8 0 0 1-16.896-16.832c49.536-113.728 102.016-198.272 157.312-253.632 55.36-55.296 139.904-107.776 253.632-157.312a12.8 12.8 0 0 1 16.832 16.832z"},null,-1),Aye=[Nye,Mye];function Rye(n,e,t,i,s,o){return O(),W("svg",Tye,Aye)}var Oye=Z(Iye,[["render",Rye],["__file","compass.vue"]]),Pye={name:"Connection"},Fye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Bye=M("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192h192z"},null,-1),Vye=M("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192H384z"},null,-1),Wye=[Bye,Vye];function Hye(n,e,t,i,s,o){return O(),W("svg",Fye,Wye)}var $ye=Z(Pye,[["render",Hye],["__file","connection.vue"]]),zye={name:"Coordinate"},Uye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jye=M("path",{fill:"currentColor",d:"M480 512h64v320h-64z"},null,-1),Kye=M("path",{fill:"currentColor",d:"M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64zm64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128zm256-256a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),qye=[jye,Kye];function Gye(n,e,t,i,s,o){return O(),W("svg",Uye,qye)}var Yye=Z(zye,[["render",Gye],["__file","coordinate.vue"]]),Zye={name:"CopyDocument"},Xye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Qye=M("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64h64z"},null,-1),Jye=M("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H384zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64z"},null,-1),e4e=[Qye,Jye];function t4e(n,e,t,i,s,o){return O(),W("svg",Xye,e4e)}var i4e=Z(Zye,[["render",t4e],["__file","copy-document.vue"]]),n4e={name:"Cpu"},s4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},o4e=M("path",{fill:"currentColor",d:"M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64H320zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128z"},null,-1),r4e=M("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zm160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zm-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zM64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32zm0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32zm0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32z"},null,-1),a4e=[o4e,r4e];function l4e(n,e,t,i,s,o){return O(),W("svg",s4e,a4e)}var c4e=Z(n4e,[["render",l4e],["__file","cpu.vue"]]),u4e={name:"CreditCard"},d4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},h4e=M("path",{fill:"currentColor",d:"M896 324.096c0-42.368-2.496-55.296-9.536-68.48a52.352 52.352 0 0 0-22.144-22.08c-13.12-7.04-26.048-9.536-68.416-9.536H228.096c-42.368 0-55.296 2.496-68.48 9.536a52.352 52.352 0 0 0-22.08 22.144c-7.04 13.12-9.536 26.048-9.536 68.416v375.808c0 42.368 2.496 55.296 9.536 68.48a52.352 52.352 0 0 0 22.144 22.08c13.12 7.04 26.048 9.536 68.416 9.536h567.808c42.368 0 55.296-2.496 68.48-9.536a52.352 52.352 0 0 0 22.08-22.144c7.04-13.12 9.536-26.048 9.536-68.416V324.096zm64 0v375.808c0 57.088-5.952 77.76-17.088 98.56-11.136 20.928-27.52 37.312-48.384 48.448-20.864 11.136-41.6 17.088-98.56 17.088H228.032c-57.088 0-77.76-5.952-98.56-17.088a116.288 116.288 0 0 1-48.448-48.384c-11.136-20.864-17.088-41.6-17.088-98.56V324.032c0-57.088 5.952-77.76 17.088-98.56 11.136-20.928 27.52-37.312 48.384-48.448 20.864-11.136 41.6-17.088 98.56-17.088H795.84c57.088 0 77.76 5.952 98.56 17.088 20.928 11.136 37.312 27.52 48.448 48.384 11.136 20.864 17.088 41.6 17.088 98.56z"},null,-1),f4e=M("path",{fill:"currentColor",d:"M64 320h896v64H64v-64zm0 128h896v64H64v-64zm128 192h256v64H192z"},null,-1),g4e=[h4e,f4e];function p4e(n,e,t,i,s,o){return O(),W("svg",d4e,g4e)}var m4e=Z(u4e,[["render",p4e],["__file","credit-card.vue"]]),_4e={name:"Crop"},v4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},b4e=M("path",{fill:"currentColor",d:"M256 768h672a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V96a32 32 0 0 1 64 0v672z"},null,-1),C4e=M("path",{fill:"currentColor",d:"M832 224v704a32 32 0 1 1-64 0V256H96a32 32 0 0 1 0-64h704a32 32 0 0 1 32 32z"},null,-1),w4e=[b4e,C4e];function y4e(n,e,t,i,s,o){return O(),W("svg",v4e,w4e)}var S4e=Z(_4e,[["render",y4e],["__file","crop.vue"]]),L4e={name:"DArrowLeft"},x4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},D4e=M("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),k4e=[D4e];function E4e(n,e,t,i,s,o){return O(),W("svg",x4e,k4e)}var I4e=Z(L4e,[["render",E4e],["__file","d-arrow-left.vue"]]),T4e={name:"DArrowRight"},N4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},M4e=M("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),A4e=[M4e];function R4e(n,e,t,i,s,o){return O(),W("svg",N4e,A4e)}var O4e=Z(T4e,[["render",R4e],["__file","d-arrow-right.vue"]]),P4e={name:"DCaret"},F4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},B4e=M("path",{fill:"currentColor",d:"m512 128 288 320H224l288-320zM224 576h576L512 896 224 576z"},null,-1),V4e=[B4e];function W4e(n,e,t,i,s,o){return O(),W("svg",F4e,V4e)}var H4e=Z(P4e,[["render",W4e],["__file","d-caret.vue"]]),$4e={name:"DataAnalysis"},z4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},U4e=M("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216zM832 192H192v512h640V192zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32zm160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32zm160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32z"},null,-1),j4e=[U4e];function K4e(n,e,t,i,s,o){return O(),W("svg",z4e,j4e)}var q4e=Z($4e,[["render",K4e],["__file","data-analysis.vue"]]),G4e={name:"DataBoard"},Y4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Z4e=M("path",{fill:"currentColor",d:"M32 128h960v64H32z"},null,-1),X4e=M("path",{fill:"currentColor",d:"M192 192v512h640V192H192zm-64-64h768v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V128z"},null,-1),Q4e=M("path",{fill:"currentColor",d:"M322.176 960H248.32l144.64-250.56 55.424 32L322.176 960zm453.888 0h-73.856L576 741.44l55.424-32L776.064 960z"},null,-1),J4e=[Z4e,X4e,Q4e];function eSe(n,e,t,i,s,o){return O(),W("svg",Y4e,J4e)}var tSe=Z(G4e,[["render",eSe],["__file","data-board.vue"]]),iSe={name:"DataLine"},nSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},sSe=M("path",{fill:"currentColor",d:"M359.168 768H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216l110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192zM832 192H192v512h640V192zM342.656 534.656a32 32 0 1 1-45.312-45.312L444.992 341.76l125.44 94.08L679.04 300.032a32 32 0 1 1 49.92 39.936L581.632 524.224 451.008 426.24 342.656 534.592z"},null,-1),oSe=[sSe];function rSe(n,e,t,i,s,o){return O(),W("svg",nSe,oSe)}var aSe=Z(iSe,[["render",rSe],["__file","data-line.vue"]]),lSe={name:"DeleteFilled"},cSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uSe=M("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64h256zm64 0h192v-64H416v64zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32H192zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32zm192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32z"},null,-1),dSe=[uSe];function hSe(n,e,t,i,s,o){return O(),W("svg",cSe,dSe)}var fSe=Z(lSe,[["render",hSe],["__file","delete-filled.vue"]]),gSe={name:"DeleteLocation"},pSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mSe=M("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),_Se=M("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),vSe=M("path",{fill:"currentColor",d:"M384 384h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32z"},null,-1),bSe=[mSe,_Se,vSe];function CSe(n,e,t,i,s,o){return O(),W("svg",pSe,bSe)}var wSe=Z(gSe,[["render",CSe],["__file","delete-location.vue"]]),ySe={name:"Delete"},SSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},LSe=M("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),xSe=[LSe];function DSe(n,e,t,i,s,o){return O(),W("svg",SSe,xSe)}var kSe=Z(ySe,[["render",DSe],["__file","delete.vue"]]),ESe={name:"Dessert"},ISe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TSe=M("path",{fill:"currentColor",d:"M128 416v-48a144 144 0 0 1 168.64-141.888 224.128 224.128 0 0 1 430.72 0A144 144 0 0 1 896 368v48a384 384 0 0 1-352 382.72V896h-64v-97.28A384 384 0 0 1 128 416zm287.104-32.064h193.792a143.808 143.808 0 0 1 58.88-132.736 160.064 160.064 0 0 0-311.552 0 143.808 143.808 0 0 1 58.88 132.8zm-72.896 0a72 72 0 1 0-140.48 0h140.48zm339.584 0h140.416a72 72 0 1 0-140.48 0zM512 736a320 320 0 0 0 318.4-288.064H193.6A320 320 0 0 0 512 736zM384 896.064h256a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64z"},null,-1),NSe=[TSe];function MSe(n,e,t,i,s,o){return O(),W("svg",ISe,NSe)}var ASe=Z(ESe,[["render",MSe],["__file","dessert.vue"]]),RSe={name:"Discount"},OSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},PSe=M("path",{fill:"currentColor",d:"M224 704h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336V704zm0 64v128h576V768H224zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"},null,-1),FSe=M("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),BSe=[PSe,FSe];function VSe(n,e,t,i,s,o){return O(),W("svg",OSe,BSe)}var WSe=Z(RSe,[["render",VSe],["__file","discount.vue"]]),HSe={name:"DishDot"},$Se={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zSe=M("path",{fill:"currentColor",d:"m384.064 274.56.064-50.688A128 128 0 0 1 512.128 96c70.528 0 127.68 57.152 127.68 127.68v50.752A448.192 448.192 0 0 1 955.392 768H68.544A448.192 448.192 0 0 1 384 274.56zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64zm32-128h768a384 384 0 1 0-768 0zm447.808-448v-32.32a63.68 63.68 0 0 0-63.68-63.68 64 64 0 0 0-64 63.936V256h127.68z"},null,-1),USe=[zSe];function jSe(n,e,t,i,s,o){return O(),W("svg",$Se,USe)}var KSe=Z(HSe,[["render",jSe],["__file","dish-dot.vue"]]),qSe={name:"Dish"},GSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YSe=M("path",{fill:"currentColor",d:"M480 257.152V192h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96v65.152A448 448 0 0 1 955.52 768H68.48A448 448 0 0 1 480 257.152zM128 704h768a384 384 0 1 0-768 0zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64z"},null,-1),ZSe=[YSe];function XSe(n,e,t,i,s,o){return O(),W("svg",GSe,ZSe)}var QSe=Z(qSe,[["render",XSe],["__file","dish.vue"]]),JSe={name:"DocumentAdd"},e3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},t3e=M("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm320 512V448h64v128h128v64H544v128h-64V640H352v-64h128z"},null,-1),i3e=[t3e];function n3e(n,e,t,i,s,o){return O(),W("svg",e3e,i3e)}var s3e=Z(JSe,[["render",n3e],["__file","document-add.vue"]]),o3e={name:"DocumentChecked"},r3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},a3e=M("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm318.4 582.144 180.992-180.992L704.64 510.4 478.4 736.64 320 578.304l45.248-45.312L478.4 646.144z"},null,-1),l3e=[a3e];function c3e(n,e,t,i,s,o){return O(),W("svg",r3e,l3e)}var u3e=Z(o3e,[["render",c3e],["__file","document-checked.vue"]]),d3e={name:"DocumentCopy"},h3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},f3e=M("path",{fill:"currentColor",d:"M128 320v576h576V320H128zm-32-64h640a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32zM960 96v704a32 32 0 0 1-32 32h-96v-64h64V128H384v64h-64V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32zM256 672h320v64H256v-64zm0-192h320v64H256v-64z"},null,-1),g3e=[f3e];function p3e(n,e,t,i,s,o){return O(),W("svg",h3e,g3e)}var m3e=Z(d3e,[["render",p3e],["__file","document-copy.vue"]]),_3e={name:"DocumentDelete"},v3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},b3e=M("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm308.992 546.304-90.496-90.624 45.248-45.248 90.56 90.496 90.496-90.432 45.248 45.248-90.496 90.56 90.496 90.496-45.248 45.248-90.496-90.496-90.56 90.496-45.248-45.248 90.496-90.496z"},null,-1),C3e=[b3e];function w3e(n,e,t,i,s,o){return O(),W("svg",v3e,C3e)}var y3e=Z(_3e,[["render",w3e],["__file","document-delete.vue"]]),S3e={name:"DocumentRemove"},L3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},x3e=M("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm192 512h320v64H352v-64z"},null,-1),D3e=[x3e];function k3e(n,e,t,i,s,o){return O(),W("svg",L3e,D3e)}var E3e=Z(S3e,[["render",k3e],["__file","document-remove.vue"]]),I3e={name:"Document"},T3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},N3e=M("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),M3e=[N3e];function A3e(n,e,t,i,s,o){return O(),W("svg",T3e,M3e)}var R3e=Z(I3e,[["render",A3e],["__file","document.vue"]]),O3e={name:"Download"},P3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},F3e=M("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64v450.304z"},null,-1),B3e=[F3e];function V3e(n,e,t,i,s,o){return O(),W("svg",P3e,B3e)}var W3e=Z(O3e,[["render",V3e],["__file","download.vue"]]),H3e={name:"Drizzling"},$3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},z3e=M("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480zM288 800h64v64h-64v-64zm192 0h64v64h-64v-64zm-96 96h64v64h-64v-64zm192 0h64v64h-64v-64zm96-96h64v64h-64v-64z"},null,-1),U3e=[z3e];function j3e(n,e,t,i,s,o){return O(),W("svg",$3e,U3e)}var K3e=Z(H3e,[["render",j3e],["__file","drizzling.vue"]]),q3e={name:"EditPen"},G3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Y3e=M("path",{d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696L175.168 732.8zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336L104.32 708.8zm384 254.272v-64h448v64h-448z",fill:"currentColor"},null,-1),Z3e=[Y3e];function X3e(n,e,t,i,s,o){return O(),W("svg",G3e,Z3e)}var Q3e=Z(q3e,[["render",X3e],["__file","edit-pen.vue"]]),J3e={name:"Edit"},e6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},t6e=M("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),i6e=M("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),n6e=[t6e,i6e];function s6e(n,e,t,i,s,o){return O(),W("svg",e6e,n6e)}var g9=Z(J3e,[["render",s6e],["__file","edit.vue"]]),o6e={name:"ElemeFilled"},r6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},a6e=M("path",{fill:"currentColor",d:"M176 64h672c61.824 0 112 50.176 112 112v672a112 112 0 0 1-112 112H176A112 112 0 0 1 64 848V176c0-61.824 50.176-112 112-112zm150.528 173.568c-152.896 99.968-196.544 304.064-97.408 456.96a330.688 330.688 0 0 0 456.96 96.64c9.216-5.888 17.6-11.776 25.152-18.56a18.24 18.24 0 0 0 4.224-24.32L700.352 724.8a47.552 47.552 0 0 0-65.536-14.272A234.56 234.56 0 0 1 310.592 641.6C240 533.248 271.104 387.968 379.456 316.48a234.304 234.304 0 0 1 276.352 15.168c1.664.832 2.56 2.56 3.392 4.224 5.888 8.384 3.328 19.328-5.12 25.216L456.832 489.6a47.552 47.552 0 0 0-14.336 65.472l16 24.384c5.888 8.384 16.768 10.88 25.216 5.056l308.224-199.936a19.584 19.584 0 0 0 6.72-23.488v-.896c-4.992-9.216-10.048-17.6-15.104-26.88-99.968-151.168-304.064-194.88-456.96-95.744zM786.88 504.704l-62.208 40.32c-8.32 5.888-10.88 16.768-4.992 25.216L760 632.32c5.888 8.448 16.768 11.008 25.152 5.12l31.104-20.16a55.36 55.36 0 0 0 16-76.48l-20.224-31.04a19.52 19.52 0 0 0-25.152-5.12z"},null,-1),l6e=[a6e];function c6e(n,e,t,i,s,o){return O(),W("svg",r6e,l6e)}var u6e=Z(o6e,[["render",c6e],["__file","eleme-filled.vue"]]),d6e={name:"Eleme"},h6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},f6e=M("path",{fill:"currentColor",d:"M300.032 188.8c174.72-113.28 408-63.36 522.24 109.44 5.76 10.56 11.52 20.16 17.28 30.72v.96a22.4 22.4 0 0 1-7.68 26.88l-352.32 228.48c-9.6 6.72-22.08 3.84-28.8-5.76l-18.24-27.84a54.336 54.336 0 0 1 16.32-74.88l225.6-146.88c9.6-6.72 12.48-19.2 5.76-28.8-.96-1.92-1.92-3.84-3.84-4.8a267.84 267.84 0 0 0-315.84-17.28c-123.84 81.6-159.36 247.68-78.72 371.52a268.096 268.096 0 0 0 370.56 78.72 54.336 54.336 0 0 1 74.88 16.32l17.28 26.88c5.76 9.6 3.84 21.12-4.8 27.84-8.64 7.68-18.24 14.4-28.8 21.12a377.92 377.92 0 0 1-522.24-110.4c-113.28-174.72-63.36-408 111.36-522.24zm526.08 305.28a22.336 22.336 0 0 1 28.8 5.76l23.04 35.52a63.232 63.232 0 0 1-18.24 87.36l-35.52 23.04c-9.6 6.72-22.08 3.84-28.8-5.76l-46.08-71.04c-6.72-9.6-3.84-22.08 5.76-28.8l71.04-46.08z"},null,-1),g6e=[f6e];function p6e(n,e,t,i,s,o){return O(),W("svg",h6e,g6e)}var m6e=Z(d6e,[["render",p6e],["__file","eleme.vue"]]),_6e={name:"ElementPlus"},v6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},b6e=M("path",{d:"M839.7 734.7c0 33.3-17.9 41-17.9 41S519.7 949.8 499.2 960c-10.2 5.1-20.5 5.1-30.7 0 0 0-314.9-184.3-325.1-192-5.1-5.1-10.2-12.8-12.8-20.5V368.6c0-17.9 20.5-28.2 20.5-28.2L466 158.6c12.8-5.1 25.6-5.1 38.4 0 0 0 279 161.3 309.8 179.2 17.9 7.7 28.2 25.6 25.6 46.1-.1-5-.1 317.5-.1 350.8zM714.2 371.2c-64-35.8-217.6-125.4-217.6-125.4-7.7-5.1-20.5-5.1-30.7 0L217.6 389.1s-17.9 10.2-17.9 23v297c0 5.1 5.1 12.8 7.7 17.9 7.7 5.1 256 148.5 256 148.5 7.7 5.1 17.9 5.1 25.6 0 15.4-7.7 250.9-145.9 250.9-145.9s12.8-5.1 12.8-30.7v-74.2l-276.5 169v-64c0-17.9 7.7-30.7 20.5-46.1L745 535c5.1-7.7 10.2-20.5 10.2-30.7v-66.6l-279 169v-69.1c0-15.4 5.1-30.7 17.9-38.4l220.1-128zM919 135.7c0-5.1-5.1-7.7-7.7-7.7h-58.9V66.6c0-5.1-5.1-5.1-10.2-5.1l-30.7 5.1c-5.1 0-5.1 2.6-5.1 5.1V128h-56.3c-5.1 0-5.1 5.1-7.7 5.1v38.4h69.1v64c0 5.1 5.1 5.1 10.2 5.1l30.7-5.1c5.1 0 5.1-2.6 5.1-5.1v-56.3h64l-2.5-38.4z",fill:"currentColor"},null,-1),C6e=[b6e];function w6e(n,e,t,i,s,o){return O(),W("svg",v6e,C6e)}var y6e=Z(_6e,[["render",w6e],["__file","element-plus.vue"]]),S6e={name:"Expand"},L6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},x6e=M("path",{fill:"currentColor",d:"M128 192h768v128H128V192zm0 256h512v128H128V448zm0 256h768v128H128V704zm576-352 192 160-192 128V352z"},null,-1),D6e=[x6e];function k6e(n,e,t,i,s,o){return O(),W("svg",L6e,D6e)}var E6e=Z(S6e,[["render",k6e],["__file","expand.vue"]]),I6e={name:"Failed"},T6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},N6e=M("path",{fill:"currentColor",d:"m557.248 608 135.744-135.744-45.248-45.248-135.68 135.744-135.808-135.68-45.248 45.184L466.752 608l-135.68 135.68 45.184 45.312L512 653.248l135.744 135.744 45.248-45.248L557.312 608zM704 192h160v736H160V192h160v64h384v-64zm-320 0V96h256v96H384z"},null,-1),M6e=[N6e];function A6e(n,e,t,i,s,o){return O(),W("svg",T6e,M6e)}var R6e=Z(I6e,[["render",A6e],["__file","failed.vue"]]),O6e={name:"Female"},P6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},F6e=M("path",{fill:"currentColor",d:"M512 640a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),B6e=M("path",{fill:"currentColor",d:"M512 640q32 0 32 32v256q0 32-32 32t-32-32V672q0-32 32-32z"},null,-1),V6e=M("path",{fill:"currentColor",d:"M352 800h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32z"},null,-1),W6e=[F6e,B6e,V6e];function H6e(n,e,t,i,s,o){return O(),W("svg",P6e,W6e)}var $6e=Z(O6e,[["render",H6e],["__file","female.vue"]]),z6e={name:"Files"},U6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},j6e=M("path",{fill:"currentColor",d:"M128 384v448h768V384H128zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32zm64-128h704v64H160zm96-128h512v64H256z"},null,-1),K6e=[j6e];function q6e(n,e,t,i,s,o){return O(),W("svg",U6e,K6e)}var G6e=Z(z6e,[["render",q6e],["__file","files.vue"]]),Y6e={name:"Film"},Z6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},X6e=M("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),Q6e=M("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64h192z"},null,-1),J6e=[X6e,Q6e];function e8e(n,e,t,i,s,o){return O(),W("svg",Z6e,J6e)}var t8e=Z(Y6e,[["render",e8e],["__file","film.vue"]]),i8e={name:"Filter"},n8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},s8e=M("path",{fill:"currentColor",d:"M384 523.392V928a32 32 0 0 0 46.336 28.608l192-96A32 32 0 0 0 640 832V523.392l280.768-343.104a32 32 0 1 0-49.536-40.576l-288 352A32 32 0 0 0 576 512v300.224l-128 64V512a32 32 0 0 0-7.232-20.288L195.52 192H704a32 32 0 1 0 0-64H128a32 32 0 0 0-24.768 52.288L384 523.392z"},null,-1),o8e=[s8e];function r8e(n,e,t,i,s,o){return O(),W("svg",n8e,o8e)}var a8e=Z(i8e,[["render",r8e],["__file","filter.vue"]]),l8e={name:"Finished"},c8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},u8e=M("path",{fill:"currentColor",d:"M280.768 753.728 691.456 167.04a32 32 0 1 1 52.416 36.672L314.24 817.472a32 32 0 0 1-45.44 7.296l-230.4-172.8a32 32 0 0 1 38.4-51.2l203.968 152.96zM736 448a32 32 0 1 1 0-64h192a32 32 0 1 1 0 64H736zM608 640a32 32 0 0 1 0-64h319.936a32 32 0 1 1 0 64H608zM480 832a32 32 0 1 1 0-64h447.936a32 32 0 1 1 0 64H480z"},null,-1),d8e=[u8e];function h8e(n,e,t,i,s,o){return O(),W("svg",c8e,d8e)}var f8e=Z(l8e,[["render",h8e],["__file","finished.vue"]]),g8e={name:"FirstAidKit"},p8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},m8e=M("path",{fill:"currentColor",d:"M192 256a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64H192zm0-64h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128z"},null,-1),_8e=M("path",{fill:"currentColor",d:"M544 512h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96zM352 128v64h320v-64H352zm-32-64h384a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32H320a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),v8e=[m8e,_8e];function b8e(n,e,t,i,s,o){return O(),W("svg",p8e,v8e)}var C8e=Z(g8e,[["render",b8e],["__file","first-aid-kit.vue"]]),w8e={name:"Flag"},y8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},S8e=M("path",{fill:"currentColor",d:"M288 128h608L736 384l160 256H288v320h-96V64h96v64z"},null,-1),L8e=[S8e];function x8e(n,e,t,i,s,o){return O(),W("svg",y8e,L8e)}var D8e=Z(w8e,[["render",x8e],["__file","flag.vue"]]),k8e={name:"Fold"},E8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},I8e=M("path",{fill:"currentColor",d:"M896 192H128v128h768V192zm0 256H384v128h512V448zm0 256H128v128h768V704zM320 384 128 512l192 128V384z"},null,-1),T8e=[I8e];function N8e(n,e,t,i,s,o){return O(),W("svg",E8e,T8e)}var M8e=Z(k8e,[["render",N8e],["__file","fold.vue"]]),A8e={name:"FolderAdd"},R8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},O8e=M("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm384 416V416h64v128h128v64H544v128h-64V608H352v-64h128z"},null,-1),P8e=[O8e];function F8e(n,e,t,i,s,o){return O(),W("svg",R8e,P8e)}var B8e=Z(A8e,[["render",F8e],["__file","folder-add.vue"]]),V8e={name:"FolderChecked"},W8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},H8e=M("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm414.08 502.144 180.992-180.992L736.32 494.4 510.08 720.64l-158.4-158.336 45.248-45.312L510.08 630.144z"},null,-1),$8e=[H8e];function z8e(n,e,t,i,s,o){return O(),W("svg",W8e,$8e)}var U8e=Z(V8e,[["render",z8e],["__file","folder-checked.vue"]]),j8e={name:"FolderDelete"},K8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},q8e=M("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm370.752 448-90.496-90.496 45.248-45.248L512 530.752l90.496-90.496 45.248 45.248L557.248 576l90.496 90.496-45.248 45.248L512 621.248l-90.496 90.496-45.248-45.248L466.752 576z"},null,-1),G8e=[q8e];function Y8e(n,e,t,i,s,o){return O(),W("svg",K8e,G8e)}var Z8e=Z(j8e,[["render",Y8e],["__file","folder-delete.vue"]]),X8e={name:"FolderOpened"},Q8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},J8e=M("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"},null,-1),eLe=[J8e];function tLe(n,e,t,i,s,o){return O(),W("svg",Q8e,eLe)}var iLe=Z(X8e,[["render",tLe],["__file","folder-opened.vue"]]),nLe={name:"FolderRemove"},sLe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oLe=M("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm256 416h320v64H352v-64z"},null,-1),rLe=[oLe];function aLe(n,e,t,i,s,o){return O(),W("svg",sLe,rLe)}var lLe=Z(nLe,[["render",aLe],["__file","folder-remove.vue"]]),cLe={name:"Folder"},uLe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dLe=M("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32z"},null,-1),hLe=[dLe];function fLe(n,e,t,i,s,o){return O(),W("svg",uLe,hLe)}var gLe=Z(cLe,[["render",fLe],["__file","folder.vue"]]),pLe={name:"Food"},mLe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_Le=M("path",{fill:"currentColor",d:"M128 352.576V352a288 288 0 0 1 491.072-204.224 192 192 0 0 1 274.24 204.48 64 64 0 0 1 57.216 74.24C921.6 600.512 850.048 710.656 736 756.992V800a96 96 0 0 1-96 96H384a96 96 0 0 1-96-96v-43.008c-114.048-46.336-185.6-156.48-214.528-330.496A64 64 0 0 1 128 352.64zm64-.576h64a160 160 0 0 1 320 0h64a224 224 0 0 0-448 0zm128 0h192a96 96 0 0 0-192 0zm439.424 0h68.544A128.256 128.256 0 0 0 704 192c-15.36 0-29.952 2.688-43.52 7.616 11.328 18.176 20.672 37.76 27.84 58.304A64.128 64.128 0 0 1 759.424 352zM672 768H352v32a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32v-32zm-342.528-64h365.056c101.504-32.64 165.76-124.928 192.896-288H136.576c27.136 163.072 91.392 255.36 192.896 288z"},null,-1),vLe=[_Le];function bLe(n,e,t,i,s,o){return O(),W("svg",mLe,vLe)}var CLe=Z(pLe,[["render",bLe],["__file","food.vue"]]),wLe={name:"Football"},yLe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},SLe=M("path",{fill:"currentColor",d:"M512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896zm0-64a384 384 0 1 0 0-768 384 384 0 0 0 0 768z"},null,-1),LLe=M("path",{fill:"currentColor",d:"M186.816 268.288c16-16.384 31.616-31.744 46.976-46.08 17.472 30.656 39.808 58.112 65.984 81.28l-32.512 56.448a385.984 385.984 0 0 1-80.448-91.648zm653.696-5.312a385.92 385.92 0 0 1-83.776 96.96l-32.512-56.384a322.923 322.923 0 0 0 68.48-85.76c15.552 14.08 31.488 29.12 47.808 45.184zM465.984 445.248l11.136-63.104a323.584 323.584 0 0 0 69.76 0l11.136 63.104a387.968 387.968 0 0 1-92.032 0zm-62.72-12.8A381.824 381.824 0 0 1 320 396.544l32-55.424a319.885 319.885 0 0 0 62.464 27.712l-11.2 63.488zm300.8-35.84a381.824 381.824 0 0 1-83.328 35.84l-11.2-63.552A319.885 319.885 0 0 0 672 341.184l32 55.424zm-520.768 364.8a385.92 385.92 0 0 1 83.968-97.28l32.512 56.32c-26.88 23.936-49.856 52.352-67.52 84.032-16-13.44-32.32-27.712-48.96-43.072zm657.536.128a1442.759 1442.759 0 0 1-49.024 43.072 321.408 321.408 0 0 0-67.584-84.16l32.512-56.32c33.216 27.456 61.696 60.352 84.096 97.408zM465.92 578.752a387.968 387.968 0 0 1 92.032 0l-11.136 63.104a323.584 323.584 0 0 0-69.76 0l-11.136-63.104zm-62.72 12.8 11.2 63.552a319.885 319.885 0 0 0-62.464 27.712L320 627.392a381.824 381.824 0 0 1 83.264-35.84zm300.8 35.84-32 55.424a318.272 318.272 0 0 0-62.528-27.712l11.2-63.488c29.44 8.64 57.28 20.736 83.264 35.776z"},null,-1),xLe=[SLe,LLe];function DLe(n,e,t,i,s,o){return O(),W("svg",yLe,xLe)}var kLe=Z(wLe,[["render",DLe],["__file","football.vue"]]),ELe={name:"ForkSpoon"},ILe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TLe=M("path",{fill:"currentColor",d:"M256 410.304V96a32 32 0 0 1 64 0v314.304a96 96 0 0 0 64-90.56V96a32 32 0 0 1 64 0v223.744a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.544a160 160 0 0 1-128-156.8V96a32 32 0 0 1 64 0v223.744a96 96 0 0 0 64 90.56zM672 572.48C581.184 552.128 512 446.848 512 320c0-141.44 85.952-256 192-256s192 114.56 192 256c0 126.848-69.184 232.128-160 252.48V928a32 32 0 1 1-64 0V572.48zM704 512c66.048 0 128-82.56 128-192s-61.952-192-128-192-128 82.56-128 192 61.952 192 128 192z"},null,-1),NLe=[TLe];function MLe(n,e,t,i,s,o){return O(),W("svg",ILe,NLe)}var ALe=Z(ELe,[["render",MLe],["__file","fork-spoon.vue"]]),RLe={name:"Fries"},OLe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},PLe=M("path",{fill:"currentColor",d:"M608 224v-64a32 32 0 0 0-64 0v336h26.88A64 64 0 0 0 608 484.096V224zm101.12 160A64 64 0 0 0 672 395.904V384h64V224a32 32 0 1 0-64 0v160h37.12zm74.88 0a92.928 92.928 0 0 1 91.328 110.08l-60.672 323.584A96 96 0 0 1 720.32 896H303.68a96 96 0 0 1-94.336-78.336L148.672 494.08A92.928 92.928 0 0 1 240 384h-16V224a96 96 0 0 1 188.608-25.28A95.744 95.744 0 0 1 480 197.44V160a96 96 0 0 1 188.608-25.28A96 96 0 0 1 800 224v160h-16zM670.784 512a128 128 0 0 1-99.904 48H453.12a128 128 0 0 1-99.84-48H352v-1.536a128.128 128.128 0 0 1-9.984-14.976L314.88 448H240a28.928 28.928 0 0 0-28.48 34.304L241.088 640h541.824l29.568-157.696A28.928 28.928 0 0 0 784 448h-74.88l-27.136 47.488A132.405 132.405 0 0 1 672 510.464V512h-1.216zM480 288a32 32 0 0 0-64 0v196.096A64 64 0 0 0 453.12 496H480V288zm-128 96V224a32 32 0 0 0-64 0v160h64-37.12A64 64 0 0 1 352 395.904zm-98.88 320 19.072 101.888A32 32 0 0 0 303.68 832h416.64a32 32 0 0 0 31.488-26.112L770.88 704H253.12z"},null,-1),FLe=[PLe];function BLe(n,e,t,i,s,o){return O(),W("svg",OLe,FLe)}var VLe=Z(RLe,[["render",BLe],["__file","fries.vue"]]),WLe={name:"FullScreen"},HLe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$Le=M("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),zLe=[$Le];function ULe(n,e,t,i,s,o){return O(),W("svg",HLe,zLe)}var jLe=Z(WLe,[["render",ULe],["__file","full-screen.vue"]]),KLe={name:"GobletFull"},qLe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},GLe=M("path",{fill:"currentColor",d:"M256 320h512c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320zm503.936 64H264.064a256.128 256.128 0 0 0 495.872 0zM544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4z"},null,-1),YLe=[GLe];function ZLe(n,e,t,i,s,o){return O(),W("svg",qLe,YLe)}var XLe=Z(KLe,[["render",ZLe],["__file","goblet-full.vue"]]),QLe={name:"GobletSquareFull"},JLe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},exe=M("path",{fill:"currentColor",d:"M256 270.912c10.048 6.72 22.464 14.912 28.992 18.624a220.16 220.16 0 0 0 114.752 30.72c30.592 0 49.408-9.472 91.072-41.152l.64-.448c52.928-40.32 82.368-55.04 132.288-54.656 55.552.448 99.584 20.8 142.72 57.408l1.536 1.28V128H256v142.912zm.96 76.288C266.368 482.176 346.88 575.872 512 576c157.44.064 237.952-85.056 253.248-209.984a952.32 952.32 0 0 1-40.192-35.712c-32.704-27.776-63.36-41.92-101.888-42.24-31.552-.256-50.624 9.28-93.12 41.6l-.576.448c-52.096 39.616-81.024 54.208-129.792 54.208-54.784 0-100.48-13.376-142.784-37.056zM480 638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848z"},null,-1),txe=[exe];function ixe(n,e,t,i,s,o){return O(),W("svg",JLe,txe)}var nxe=Z(QLe,[["render",ixe],["__file","goblet-square-full.vue"]]),sxe={name:"GobletSquare"},oxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rxe=M("path",{fill:"currentColor",d:"M544 638.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912zM256 319.68c0 149.568 80 256.192 256 256.256C688.128 576 768 469.568 768 320V128H256v191.68z"},null,-1),axe=[rxe];function lxe(n,e,t,i,s,o){return O(),W("svg",oxe,axe)}var cxe=Z(sxe,[["render",lxe],["__file","goblet-square.vue"]]),uxe={name:"Goblet"},dxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hxe=M("path",{fill:"currentColor",d:"M544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4zM256 320a256 256 0 1 0 512 0c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320z"},null,-1),fxe=[hxe];function gxe(n,e,t,i,s,o){return O(),W("svg",dxe,fxe)}var pxe=Z(uxe,[["render",gxe],["__file","goblet.vue"]]),mxe={name:"GoldMedal"},_xe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},vxe=M("path",{d:"m772.13 452.84 53.86-351.81c1.32-10.01-1.17-18.68-7.49-26.02S804.35 64 795.01 64H228.99v-.01h-.06c-9.33 0-17.15 3.67-23.49 11.01s-8.83 16.01-7.49 26.02l53.87 351.89C213.54 505.73 193.59 568.09 192 640c2 90.67 33.17 166.17 93.5 226.5S421.33 957.99 512 960c90.67-2 166.17-33.17 226.5-93.5 60.33-60.34 91.49-135.83 93.5-226.5-1.59-71.94-21.56-134.32-59.87-187.16zM640.01 128h117.02l-39.01 254.02c-20.75-10.64-40.74-19.73-59.94-27.28-5.92-3-11.95-5.8-18.08-8.41V128h.01zM576 128v198.76c-13.18-2.58-26.74-4.43-40.67-5.55-8.07-.8-15.85-1.2-23.33-1.2-10.54 0-21.09.66-31.64 1.96a359.844 359.844 0 0 0-32.36 4.79V128h128zm-192 0h.04v218.3c-6.22 2.66-12.34 5.5-18.36 8.56-19.13 7.54-39.02 16.6-59.66 27.16L267.01 128H384zm308.99 692.99c-48 48-108.33 73-180.99 75.01-72.66-2.01-132.99-27.01-180.99-75.01S258.01 712.66 256 640c2.01-72.66 27.01-132.99 75.01-180.99 19.67-19.67 41.41-35.47 65.22-47.41 38.33-15.04 71.15-23.92 98.44-26.65 5.07-.41 10.2-.7 15.39-.88.63-.01 1.28-.03 1.91-.03.66 0 1.35.03 2.02.04 5.11.17 10.15.46 15.13.86 27.4 2.71 60.37 11.65 98.91 26.79 23.71 11.93 45.36 27.69 64.96 47.29 48 48 73 108.33 75.01 180.99-2.01 72.65-27.01 132.98-75.01 180.98z",fill:"currentColor"},null,-1),bxe=M("path",{d:"M544 480H416v64h64v192h-64v64h192v-64h-64z",fill:"currentColor"},null,-1),Cxe=[vxe,bxe];function wxe(n,e,t,i,s,o){return O(),W("svg",_xe,Cxe)}var yxe=Z(mxe,[["render",wxe],["__file","gold-medal.vue"]]),Sxe={name:"GoodsFilled"},Lxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xxe=M("path",{fill:"currentColor",d:"M192 352h640l64 544H128l64-544zm128 224h64V448h-64v128zm320 0h64V448h-64v128zM384 288h-64a192 192 0 1 1 384 0h-64a128 128 0 1 0-256 0z"},null,-1),Dxe=[xxe];function kxe(n,e,t,i,s,o){return O(),W("svg",Lxe,Dxe)}var Exe=Z(Sxe,[["render",kxe],["__file","goods-filled.vue"]]),Ixe={name:"Goods"},Txe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Nxe=M("path",{fill:"currentColor",d:"M320 288v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4h131.072a32 32 0 0 1 31.808 28.8l57.6 576a32 32 0 0 1-31.808 35.2H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320zm64 0h256v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4zm-64 64H217.92l-51.2 512h690.56l-51.264-512H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96z"},null,-1),Mxe=[Nxe];function Axe(n,e,t,i,s,o){return O(),W("svg",Txe,Mxe)}var Rxe=Z(Ixe,[["render",Axe],["__file","goods.vue"]]),Oxe={name:"Grape"},Pxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Fxe=M("path",{fill:"currentColor",d:"M544 195.2a160 160 0 0 1 96 60.8 160 160 0 1 1 146.24 254.976 160 160 0 0 1-128 224 160 160 0 1 1-292.48 0 160 160 0 0 1-128-224A160 160 0 1 1 384 256a160 160 0 0 1 96-60.8V128h-64a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64h-64v67.2zM512 448a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm-256 0a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192z"},null,-1),Bxe=[Fxe];function Vxe(n,e,t,i,s,o){return O(),W("svg",Pxe,Bxe)}var Wxe=Z(Oxe,[["render",Vxe],["__file","grape.vue"]]),Hxe={name:"Grid"},$xe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zxe=M("path",{fill:"currentColor",d:"M640 384v256H384V384h256zm64 0h192v256H704V384zm-64 512H384V704h256v192zm64 0V704h192v192H704zm-64-768v192H384V128h256zm64 0h192v192H704V128zM320 384v256H128V384h192zm0 512H128V704h192v192zm0-768v192H128V128h192z"},null,-1),Uxe=[zxe];function jxe(n,e,t,i,s,o){return O(),W("svg",$xe,Uxe)}var Kxe=Z(Hxe,[["render",jxe],["__file","grid.vue"]]),qxe={name:"Guide"},Gxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Yxe=M("path",{fill:"currentColor",d:"M640 608h-64V416h64v192zm0 160v160a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V768h64v128h128V768h64zM384 608V416h64v192h-64zm256-352h-64V128H448v128h-64V96a32 32 0 0 1 32-32h192a32 32 0 0 1 32 32v160z"},null,-1),Zxe=M("path",{fill:"currentColor",d:"m220.8 256-71.232 80 71.168 80H768V256H220.8zm-14.4-64H800a32 32 0 0 1 32 32v224a32 32 0 0 1-32 32H206.4a32 32 0 0 1-23.936-10.752l-99.584-112a32 32 0 0 1 0-42.496l99.584-112A32 32 0 0 1 206.4 192zm678.784 496-71.104 80H266.816V608h547.2l71.168 80zm-56.768-144H234.88a32 32 0 0 0-32 32v224a32 32 0 0 0 32 32h593.6a32 32 0 0 0 23.936-10.752l99.584-112a32 32 0 0 0 0-42.496l-99.584-112A32 32 0 0 0 828.48 544z"},null,-1),Xxe=[Yxe,Zxe];function Qxe(n,e,t,i,s,o){return O(),W("svg",Gxe,Xxe)}var Jxe=Z(qxe,[["render",Qxe],["__file","guide.vue"]]),e5e={name:"Handbag"},t5e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},i5e=M("path",{d:"M887.01 264.99c-6-5.99-13.67-8.99-23.01-8.99H704c-1.34-54.68-20.01-100.01-56-136s-81.32-54.66-136-56c-54.68 1.34-100.01 20.01-136 56s-54.66 81.32-56 136H160c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.67-8.99 23.01v640c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V288c0-9.35-2.99-17.02-8.99-23.01zM421.5 165.5c24.32-24.34 54.49-36.84 90.5-37.5 35.99.68 66.16 13.18 90.5 37.5s36.84 54.49 37.5 90.5H384c.68-35.99 13.18-66.16 37.5-90.5zM832 896H192V320h128v128h64V320h256v128h64V320h128v576z",fill:"currentColor"},null,-1),n5e=[i5e];function s5e(n,e,t,i,s,o){return O(),W("svg",t5e,n5e)}var o5e=Z(e5e,[["render",s5e],["__file","handbag.vue"]]),r5e={name:"Headset"},a5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l5e=M("path",{fill:"currentColor",d:"M896 529.152V512a384 384 0 1 0-768 0v17.152A128 128 0 0 1 320 640v128a128 128 0 1 1-256 0V512a448 448 0 1 1 896 0v256a128 128 0 1 1-256 0V640a128 128 0 0 1 192-110.848zM896 640a64 64 0 0 0-128 0v128a64 64 0 0 0 128 0V640zm-768 0v128a64 64 0 0 0 128 0V640a64 64 0 1 0-128 0z"},null,-1),c5e=[l5e];function u5e(n,e,t,i,s,o){return O(),W("svg",a5e,c5e)}var d5e=Z(r5e,[["render",u5e],["__file","headset.vue"]]),h5e={name:"HelpFilled"},f5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},g5e=M("path",{fill:"currentColor",d:"M926.784 480H701.312A192.512 192.512 0 0 0 544 322.688V97.216A416.064 416.064 0 0 1 926.784 480zm0 64A416.064 416.064 0 0 1 544 926.784V701.312A192.512 192.512 0 0 0 701.312 544h225.472zM97.28 544h225.472A192.512 192.512 0 0 0 480 701.312v225.472A416.064 416.064 0 0 1 97.216 544zm0-64A416.064 416.064 0 0 1 480 97.216v225.472A192.512 192.512 0 0 0 322.688 480H97.216z"},null,-1),p5e=[g5e];function m5e(n,e,t,i,s,o){return O(),W("svg",f5e,p5e)}var _5e=Z(h5e,[["render",m5e],["__file","help-filled.vue"]]),v5e={name:"Help"},b5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},C5e=M("path",{fill:"currentColor",d:"m759.936 805.248-90.944-91.008A254.912 254.912 0 0 1 512 768a254.912 254.912 0 0 1-156.992-53.76l-90.944 91.008A382.464 382.464 0 0 0 512 896c94.528 0 181.12-34.176 247.936-90.752zm45.312-45.312A382.464 382.464 0 0 0 896 512c0-94.528-34.176-181.12-90.752-247.936l-91.008 90.944C747.904 398.4 768 452.864 768 512c0 59.136-20.096 113.6-53.76 156.992l91.008 90.944zm-45.312-541.184A382.464 382.464 0 0 0 512 128c-94.528 0-181.12 34.176-247.936 90.752l90.944 91.008A254.912 254.912 0 0 1 512 256c59.136 0 113.6 20.096 156.992 53.76l90.944-91.008zm-541.184 45.312A382.464 382.464 0 0 0 128 512c0 94.528 34.176 181.12 90.752 247.936l91.008-90.944A254.912 254.912 0 0 1 256 512c0-59.136 20.096-113.6 53.76-156.992l-91.008-90.944zm417.28 394.496a194.56 194.56 0 0 0 22.528-22.528C686.912 602.56 704 559.232 704 512a191.232 191.232 0 0 0-67.968-146.56A191.296 191.296 0 0 0 512 320a191.232 191.232 0 0 0-146.56 67.968C337.088 421.44 320 464.768 320 512a191.232 191.232 0 0 0 67.968 146.56C421.44 686.912 464.768 704 512 704c47.296 0 90.56-17.088 124.032-45.44zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),w5e=[C5e];function y5e(n,e,t,i,s,o){return O(),W("svg",b5e,w5e)}var S5e=Z(v5e,[["render",y5e],["__file","help.vue"]]),L5e={name:"Hide"},x5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},D5e=M("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),k5e=M("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),E5e=[D5e,k5e];function I5e(n,e,t,i,s,o){return O(),W("svg",x5e,E5e)}var eX=Z(L5e,[["render",I5e],["__file","hide.vue"]]),T5e={name:"Histogram"},N5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},M5e=M("path",{fill:"currentColor",d:"M416 896V128h192v768H416zm-288 0V448h192v448H128zm576 0V320h192v576H704z"},null,-1),A5e=[M5e];function R5e(n,e,t,i,s,o){return O(),W("svg",N5e,A5e)}var O5e=Z(T5e,[["render",R5e],["__file","histogram.vue"]]),P5e={name:"HomeFilled"},F5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},B5e=M("path",{fill:"currentColor",d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"},null,-1),V5e=[B5e];function W5e(n,e,t,i,s,o){return O(),W("svg",F5e,V5e)}var H5e=Z(P5e,[["render",W5e],["__file","home-filled.vue"]]),$5e={name:"HotWater"},z5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},U5e=M("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067v68.267zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133zm273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133zM170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"},null,-1),j5e=[U5e];function K5e(n,e,t,i,s,o){return O(),W("svg",z5e,j5e)}var q5e=Z($5e,[["render",K5e],["__file","hot-water.vue"]]),G5e={name:"House"},Y5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Z5e=M("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328 192 413.952zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576z"},null,-1),X5e=[Z5e];function Q5e(n,e,t,i,s,o){return O(),W("svg",Y5e,X5e)}var J5e=Z(G5e,[["render",Q5e],["__file","house.vue"]]),eDe={name:"IceCreamRound"},tDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iDe=M("path",{fill:"currentColor",d:"m308.352 489.344 226.304 226.304a32 32 0 0 0 45.248 0L783.552 512A192 192 0 1 0 512 240.448L308.352 444.16a32 32 0 0 0 0 45.248zm135.744 226.304L308.352 851.392a96 96 0 0 1-135.744-135.744l135.744-135.744-45.248-45.248a96 96 0 0 1 0-135.808L466.752 195.2A256 256 0 0 1 828.8 557.248L625.152 760.96a96 96 0 0 1-135.808 0l-45.248-45.248zM398.848 670.4 353.6 625.152 217.856 760.896a32 32 0 0 0 45.248 45.248L398.848 670.4zm248.96-384.64a32 32 0 0 1 0 45.248L466.624 512a32 32 0 1 1-45.184-45.248l180.992-181.056a32 32 0 0 1 45.248 0zm90.496 90.496a32 32 0 0 1 0 45.248L557.248 602.496A32 32 0 1 1 512 557.248l180.992-180.992a32 32 0 0 1 45.312 0z"},null,-1),nDe=[iDe];function sDe(n,e,t,i,s,o){return O(),W("svg",tDe,nDe)}var oDe=Z(eDe,[["render",sDe],["__file","ice-cream-round.vue"]]),rDe={name:"IceCreamSquare"},aDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lDe=M("path",{fill:"currentColor",d:"M416 640h256a32 32 0 0 0 32-32V160a32 32 0 0 0-32-32H352a32 32 0 0 0-32 32v448a32 32 0 0 0 32 32h64zm192 64v160a96 96 0 0 1-192 0V704h-64a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h320a96 96 0 0 1 96 96v448a96 96 0 0 1-96 96h-64zm-64 0h-64v160a32 32 0 1 0 64 0V704z"},null,-1),cDe=[lDe];function uDe(n,e,t,i,s,o){return O(),W("svg",aDe,cDe)}var dDe=Z(rDe,[["render",uDe],["__file","ice-cream-square.vue"]]),hDe={name:"IceCream"},fDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gDe=M("path",{fill:"currentColor",d:"M128.64 448a208 208 0 0 1 193.536-191.552 224 224 0 0 1 445.248 15.488A208.128 208.128 0 0 1 894.784 448H896L548.8 983.68a32 32 0 0 1-53.248.704L128 448h.64zm64.256 0h286.208a144 144 0 0 0-286.208 0zm351.36 0h286.272a144 144 0 0 0-286.272 0zm-294.848 64 271.808 396.608L778.24 512H249.408zM511.68 352.64a207.872 207.872 0 0 1 189.184-96.192 160 160 0 0 0-314.752 5.632c52.608 12.992 97.28 46.08 125.568 90.56z"},null,-1),pDe=[gDe];function mDe(n,e,t,i,s,o){return O(),W("svg",fDe,pDe)}var _De=Z(hDe,[["render",mDe],["__file","ice-cream.vue"]]),vDe={name:"IceDrink"},bDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},CDe=M("path",{fill:"currentColor",d:"M512 448v128h239.68l16.064-128H512zm-64 0H256.256l16.064 128H448V448zm64-255.36V384h247.744A256.128 256.128 0 0 0 512 192.64zm-64 8.064A256.448 256.448 0 0 0 264.256 384H448V200.704zm64-72.064A320.128 320.128 0 0 1 825.472 384H896a32 32 0 1 1 0 64h-64v1.92l-56.96 454.016A64 64 0 0 1 711.552 960H312.448a64 64 0 0 1-63.488-56.064L192 449.92V448h-64a32 32 0 0 1 0-64h70.528A320.384 320.384 0 0 1 448 135.04V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H544a32 32 0 0 0-32 32v32.64zM743.68 640H280.32l32.128 256h399.104l32.128-256z"},null,-1),wDe=[CDe];function yDe(n,e,t,i,s,o){return O(),W("svg",bDe,wDe)}var SDe=Z(vDe,[["render",yDe],["__file","ice-drink.vue"]]),LDe={name:"IceTea"},xDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DDe=M("path",{fill:"currentColor",d:"M197.696 259.648a320.128 320.128 0 0 1 628.608 0A96 96 0 0 1 896 352v64a96 96 0 0 1-71.616 92.864l-49.408 395.072A64 64 0 0 1 711.488 960H312.512a64 64 0 0 1-63.488-56.064l-49.408-395.072A96 96 0 0 1 128 416v-64a96 96 0 0 1 69.696-92.352zM264.064 256h495.872a256.128 256.128 0 0 0-495.872 0zm495.424 256H264.512l48 384h398.976l48-384zM224 448h576a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H224a32 32 0 0 0-32 32v64a32 32 0 0 0 32 32zm160 192h64v64h-64v-64zm192 64h64v64h-64v-64zm-128 64h64v64h-64v-64zm64-192h64v64h-64v-64z"},null,-1),kDe=[DDe];function EDe(n,e,t,i,s,o){return O(),W("svg",xDe,kDe)}var IDe=Z(LDe,[["render",EDe],["__file","ice-tea.vue"]]),TDe={name:"InfoFilled"},NDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},MDe=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),ADe=[MDe];function RDe(n,e,t,i,s,o){return O(),W("svg",NDe,ADe)}var RR=Z(TDe,[["render",RDe],["__file","info-filled.vue"]]),ODe={name:"Iphone"},PDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},FDe=M("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768H224zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64v544zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96H256zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0z"},null,-1),BDe=[FDe];function VDe(n,e,t,i,s,o){return O(),W("svg",PDe,BDe)}var WDe=Z(ODe,[["render",VDe],["__file","iphone.vue"]]),HDe={name:"Key"},$De={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zDe=M("path",{fill:"currentColor",d:"M448 456.064V96a32 32 0 0 1 32-32.064L672 64a32 32 0 0 1 0 64H512v128h160a32 32 0 0 1 0 64H512v128a256 256 0 1 1-64 8.064zM512 896a192 192 0 1 0 0-384 192 192 0 0 0 0 384z"},null,-1),UDe=[zDe];function jDe(n,e,t,i,s,o){return O(),W("svg",$De,UDe)}var KDe=Z(HDe,[["render",jDe],["__file","key.vue"]]),qDe={name:"KnifeFork"},GDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YDe=M("path",{fill:"currentColor",d:"M256 410.56V96a32 32 0 0 1 64 0v314.56A96 96 0 0 0 384 320V96a32 32 0 0 1 64 0v224a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.8A160 160 0 0 1 128 320V96a32 32 0 0 1 64 0v224a96 96 0 0 0 64 90.56zm384-250.24V544h126.72c-3.328-78.72-12.928-147.968-28.608-207.744-14.336-54.528-46.848-113.344-98.112-175.872zM640 608v320a32 32 0 1 1-64 0V64h64c85.312 89.472 138.688 174.848 160 256 21.312 81.152 32 177.152 32 288H640z"},null,-1),ZDe=[YDe];function XDe(n,e,t,i,s,o){return O(),W("svg",GDe,ZDe)}var QDe=Z(qDe,[["render",XDe],["__file","knife-fork.vue"]]),JDe={name:"Lightning"},eke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},tke=M("path",{fill:"currentColor",d:"M288 671.36v64.128A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 736 734.016v-64.768a192 192 0 0 0 3.328-377.92l-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 91.968 70.464 167.36 160.256 175.232z"},null,-1),ike=M("path",{fill:"currentColor",d:"M416 736a32 32 0 0 1-27.776-47.872l128-224a32 32 0 1 1 55.552 31.744L471.168 672H608a32 32 0 0 1 27.776 47.872l-128 224a32 32 0 1 1-55.68-31.744L552.96 736H416z"},null,-1),nke=[tke,ike];function ske(n,e,t,i,s,o){return O(),W("svg",eke,nke)}var oke=Z(JDe,[["render",ske],["__file","lightning.vue"]]),rke={name:"Link"},ake={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lke=M("path",{fill:"currentColor",d:"M715.648 625.152 670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248 90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656 87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496 45.248 45.248-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896 62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496 45.248 45.248zm0-362.048 45.248 45.248L398.848 670.4 353.6 625.152 625.152 353.6z"},null,-1),cke=[lke];function uke(n,e,t,i,s,o){return O(),W("svg",ake,cke)}var dke=Z(rke,[["render",uke],["__file","link.vue"]]),hke={name:"List"},fke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gke=M("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384v-64zM288 512h448v-64H288v64zm0 256h448v-64H288v64zm96-576V96h256v96H384z"},null,-1),pke=[gke];function mke(n,e,t,i,s,o){return O(),W("svg",fke,pke)}var _ke=Z(hke,[["render",mke],["__file","list.vue"]]),vke={name:"Loading"},bke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Cke=M("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),wke=[Cke];function yke(n,e,t,i,s,o){return O(),W("svg",bke,wke)}var OR=Z(vke,[["render",yke],["__file","loading.vue"]]),Ske={name:"LocationFilled"},Lke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xke=M("path",{fill:"currentColor",d:"M512 928c23.936 0 117.504-68.352 192.064-153.152C803.456 661.888 864 535.808 864 416c0-189.632-155.84-320-352-320S160 226.368 160 416c0 120.32 60.544 246.4 159.936 359.232C394.432 859.84 488 928 512 928zm0-435.2a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 140.8a204.8 204.8 0 1 1 0-409.6 204.8 204.8 0 0 1 0 409.6z"},null,-1),Dke=[xke];function kke(n,e,t,i,s,o){return O(),W("svg",Lke,Dke)}var Eke=Z(Ske,[["render",kke],["__file","location-filled.vue"]]),Ike={name:"LocationInformation"},Tke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Nke=M("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),Mke=M("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),Ake=M("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"},null,-1),Rke=[Nke,Mke,Ake];function Oke(n,e,t,i,s,o){return O(),W("svg",Tke,Rke)}var Pke=Z(Ike,[["render",Oke],["__file","location-information.vue"]]),Fke={name:"Location"},Bke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Vke=M("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),Wke=M("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"},null,-1),Hke=[Vke,Wke];function $ke(n,e,t,i,s,o){return O(),W("svg",Bke,Hke)}var zke=Z(Fke,[["render",$ke],["__file","location.vue"]]),Uke={name:"Lock"},jke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Kke=M("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),qke=M("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm192-160v-64a192 192 0 1 0-384 0v64h384zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64z"},null,-1),Gke=[Kke,qke];function Yke(n,e,t,i,s,o){return O(),W("svg",jke,Gke)}var Zke=Z(Uke,[["render",Yke],["__file","lock.vue"]]),Xke={name:"Lollipop"},Qke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Jke=M("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0h1.28zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696zm105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744zm-54.464-36.032a321.92 321.92 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"},null,-1),eEe=[Jke];function tEe(n,e,t,i,s,o){return O(),W("svg",Qke,eEe)}var iEe=Z(Xke,[["render",tEe],["__file","lollipop.vue"]]),nEe={name:"MagicStick"},sEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oEe=M("path",{fill:"currentColor",d:"M512 64h64v192h-64V64zm0 576h64v192h-64V640zM160 480v-64h192v64H160zm576 0v-64h192v64H736zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248L657.152 606.4zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248-316.8 316.8zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248L702.4 334.848z"},null,-1),rEe=[oEe];function aEe(n,e,t,i,s,o){return O(),W("svg",sEe,rEe)}var lEe=Z(nEe,[["render",aEe],["__file","magic-stick.vue"]]),cEe={name:"Magnet"},uEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dEe=M("path",{fill:"currentColor",d:"M832 320V192H704v320a192 192 0 1 1-384 0V192H192v128h128v64H192v128a320 320 0 0 0 640 0V384H704v-64h128zM640 512V128h256v384a384 384 0 1 1-768 0V128h256v384a128 128 0 1 0 256 0z"},null,-1),hEe=[dEe];function fEe(n,e,t,i,s,o){return O(),W("svg",uEe,hEe)}var gEe=Z(cEe,[["render",fEe],["__file","magnet.vue"]]),pEe={name:"Male"},mEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_Ee=M("path",{fill:"currentColor",d:"M399.5 849.5a225 225 0 1 0 0-450 225 225 0 0 0 0 450zm0 56.25a281.25 281.25 0 1 1 0-562.5 281.25 281.25 0 0 1 0 562.5zm253.125-787.5h225q28.125 0 28.125 28.125T877.625 174.5h-225q-28.125 0-28.125-28.125t28.125-28.125z"},null,-1),vEe=M("path",{fill:"currentColor",d:"M877.625 118.25q28.125 0 28.125 28.125v225q0 28.125-28.125 28.125T849.5 371.375v-225q0-28.125 28.125-28.125z"},null,-1),bEe=M("path",{fill:"currentColor",d:"M604.813 458.9 565.1 419.131l292.613-292.668 39.825 39.824z"},null,-1),CEe=[_Ee,vEe,bEe];function wEe(n,e,t,i,s,o){return O(),W("svg",mEe,CEe)}var yEe=Z(pEe,[["render",wEe],["__file","male.vue"]]),SEe={name:"Management"},LEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xEe=M("path",{fill:"currentColor",d:"M576 128v288l96-96 96 96V128h128v768H320V128h256zm-448 0h128v768H128V128z"},null,-1),DEe=[xEe];function kEe(n,e,t,i,s,o){return O(),W("svg",LEe,DEe)}var EEe=Z(SEe,[["render",kEe],["__file","management.vue"]]),IEe={name:"MapLocation"},TEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},NEe=M("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),MEe=M("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256zm345.6 192L960 960H672v-64H352v64H64l102.4-256h691.2zm-68.928 0H235.328l-76.8 192h706.944l-76.8-192z"},null,-1),AEe=[NEe,MEe];function REe(n,e,t,i,s,o){return O(),W("svg",TEe,AEe)}var OEe=Z(IEe,[["render",REe],["__file","map-location.vue"]]),PEe={name:"Medal"},FEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},BEe=M("path",{fill:"currentColor",d:"M512 896a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),VEe=M("path",{fill:"currentColor",d:"M576 128H448v200a286.72 286.72 0 0 1 64-8c19.52 0 40.832 2.688 64 8V128zm64 0v219.648c24.448 9.088 50.56 20.416 78.4 33.92L757.44 128H640zm-256 0H266.624l39.04 253.568c27.84-13.504 53.888-24.832 78.336-33.92V128zM229.312 64h565.376a32 32 0 0 1 31.616 36.864L768 480c-113.792-64-199.104-96-256-96-56.896 0-142.208 32-256 96l-58.304-379.136A32 32 0 0 1 229.312 64z"},null,-1),WEe=[BEe,VEe];function HEe(n,e,t,i,s,o){return O(),W("svg",FEe,WEe)}var $Ee=Z(PEe,[["render",HEe],["__file","medal.vue"]]),zEe={name:"Memo"},UEe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},jEe=M("path",{d:"M480 320h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32z",fill:"currentColor"},null,-1),KEe=M("path",{d:"M887.01 72.99C881.01 67 873.34 64 864 64H160c-9.35 0-17.02 3-23.01 8.99C131 78.99 128 86.66 128 96v832c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V96c0-9.35-3-17.02-8.99-23.01zM192 896V128h96v768h-96zm640 0H352V128h480v768z",fill:"currentColor"},null,-1),qEe=M("path",{d:"M480 512h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32zm0 192h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32z",fill:"currentColor"},null,-1),GEe=[jEe,KEe,qEe];function YEe(n,e,t,i,s,o){return O(),W("svg",UEe,GEe)}var ZEe=Z(zEe,[["render",YEe],["__file","memo.vue"]]),XEe={name:"Menu"},QEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},JEe=M("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"},null,-1),eIe=[JEe];function tIe(n,e,t,i,s,o){return O(),W("svg",QEe,eIe)}var iIe=Z(XEe,[["render",tIe],["__file","menu.vue"]]),nIe={name:"MessageBox"},sIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oIe=M("path",{fill:"currentColor",d:"M288 384h448v64H288v-64zm96-128h256v64H384v-64zM131.456 512H384v128h256V512h252.544L721.856 192H302.144L131.456 512zM896 576H704v128H320V576H128v256h768V576zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128z"},null,-1),rIe=[oIe];function aIe(n,e,t,i,s,o){return O(),W("svg",sIe,rIe)}var lIe=Z(nIe,[["render",aIe],["__file","message-box.vue"]]),cIe={name:"Message"},uIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dIe=M("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224H128zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64z"},null,-1),hIe=M("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224h784zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056z"},null,-1),fIe=[dIe,hIe];function gIe(n,e,t,i,s,o){return O(),W("svg",uIe,fIe)}var pIe=Z(cIe,[["render",gIe],["__file","message.vue"]]),mIe={name:"Mic"},_Ie={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vIe=M("path",{fill:"currentColor",d:"M480 704h160a64 64 0 0 0 64-64v-32h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-32a64 64 0 0 0-64-64H384a64 64 0 0 0-64 64v32h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v32a64 64 0 0 0 64 64h96zm64 64v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768h-96a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64h256a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128h-96z"},null,-1),bIe=[vIe];function CIe(n,e,t,i,s,o){return O(),W("svg",_Ie,bIe)}var wIe=Z(mIe,[["render",CIe],["__file","mic.vue"]]),yIe={name:"Microphone"},SIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},LIe=M("path",{fill:"currentColor",d:"M512 128a128 128 0 0 0-128 128v256a128 128 0 1 0 256 0V256a128 128 0 0 0-128-128zm0-64a192 192 0 0 1 192 192v256a192 192 0 1 1-384 0V256A192 192 0 0 1 512 64zm-32 832v-64a288 288 0 0 1-288-288v-32a32 32 0 0 1 64 0v32a224 224 0 0 0 224 224h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64z"},null,-1),xIe=[LIe];function DIe(n,e,t,i,s,o){return O(),W("svg",SIe,xIe)}var kIe=Z(yIe,[["render",DIe],["__file","microphone.vue"]]),EIe={name:"MilkTea"},IIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TIe=M("path",{fill:"currentColor",d:"M416 128V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H512a32 32 0 0 0-32 32v32h320a96 96 0 0 1 11.712 191.296l-39.68 581.056A64 64 0 0 1 708.224 960H315.776a64 64 0 0 1-63.872-59.648l-39.616-581.056A96 96 0 0 1 224 128h192zM276.48 320l39.296 576h392.448l4.8-70.784a224.064 224.064 0 0 1 30.016-439.808L747.52 320H276.48zM224 256h576a32 32 0 1 0 0-64H224a32 32 0 0 0 0 64zm493.44 503.872 21.12-309.12a160 160 0 0 0-21.12 309.12z"},null,-1),NIe=[TIe];function MIe(n,e,t,i,s,o){return O(),W("svg",IIe,NIe)}var AIe=Z(EIe,[["render",MIe],["__file","milk-tea.vue"]]),RIe={name:"Minus"},OIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},PIe=M("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),FIe=[PIe];function BIe(n,e,t,i,s,o){return O(),W("svg",OIe,FIe)}var VIe=Z(RIe,[["render",BIe],["__file","minus.vue"]]),WIe={name:"Money"},HIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$Ie=M("path",{fill:"currentColor",d:"M256 640v192h640V384H768v-64h150.976c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H233.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096c-2.688-5.184-4.224-10.368-4.224-24.576V640h64z"},null,-1),zIe=M("path",{fill:"currentColor",d:"M768 192H128v448h640V192zm64-22.976v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 682.432 64 677.248 64 663.04V169.024c0-14.272 1.472-19.456 4.288-24.64a29.056 29.056 0 0 1 12.096-12.16C85.568 129.536 90.752 128 104.96 128h685.952c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64z"},null,-1),UIe=M("path",{fill:"currentColor",d:"M448 576a160 160 0 1 1 0-320 160 160 0 0 1 0 320zm0-64a96 96 0 1 0 0-192 96 96 0 0 0 0 192z"},null,-1),jIe=[$Ie,zIe,UIe];function KIe(n,e,t,i,s,o){return O(),W("svg",HIe,jIe)}var qIe=Z(WIe,[["render",KIe],["__file","money.vue"]]),GIe={name:"Monitor"},YIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZIe=M("path",{fill:"currentColor",d:"M544 768v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768H192A128 128 0 0 1 64 640V256a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H544zM192 192a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H192z"},null,-1),XIe=[ZIe];function QIe(n,e,t,i,s,o){return O(),W("svg",YIe,XIe)}var JIe=Z(GIe,[["render",QIe],["__file","monitor.vue"]]),eTe={name:"MoonNight"},tTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iTe=M("path",{fill:"currentColor",d:"M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.256 448.256 0 0 1 384 512zM171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"},null,-1),nTe=M("path",{fill:"currentColor",d:"M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32zm128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"},null,-1),sTe=[iTe,nTe];function oTe(n,e,t,i,s,o){return O(),W("svg",tTe,sTe)}var rTe=Z(eTe,[["render",oTe],["__file","moon-night.vue"]]),aTe={name:"Moon"},lTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cTe=M("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696z"},null,-1),uTe=[cTe];function dTe(n,e,t,i,s,o){return O(),W("svg",lTe,uTe)}var hTe=Z(aTe,[["render",dTe],["__file","moon.vue"]]),fTe={name:"MoreFilled"},gTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pTe=M("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),mTe=[pTe];function _Te(n,e,t,i,s,o){return O(),W("svg",gTe,mTe)}var vTe=Z(fTe,[["render",_Te],["__file","more-filled.vue"]]),bTe={name:"More"},CTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wTe=M("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),yTe=[wTe];function STe(n,e,t,i,s,o){return O(),W("svg",CTe,yTe)}var tX=Z(bTe,[["render",STe],["__file","more.vue"]]),LTe={name:"MostlyCloudy"},xTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DTe=M("path",{fill:"currentColor",d:"M737.216 357.952 704 349.824l-11.776-32a192.064 192.064 0 0 0-367.424 23.04l-8.96 39.04-39.04 8.96A192.064 192.064 0 0 0 320 768h368a207.808 207.808 0 0 0 207.808-208 208.32 208.32 0 0 0-158.592-202.048zm15.168-62.208A272.32 272.32 0 0 1 959.744 560a271.808 271.808 0 0 1-271.552 272H320a256 256 0 0 1-57.536-505.536 256.128 256.128 0 0 1 489.92-30.72z"},null,-1),kTe=[DTe];function ETe(n,e,t,i,s,o){return O(),W("svg",xTe,kTe)}var ITe=Z(LTe,[["render",ETe],["__file","mostly-cloudy.vue"]]),TTe={name:"Mouse"},NTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},MTe=M("path",{fill:"currentColor",d:"M438.144 256c-68.352 0-92.736 4.672-117.76 18.112-20.096 10.752-35.52 26.176-46.272 46.272C260.672 345.408 256 369.792 256 438.144v275.712c0 68.352 4.672 92.736 18.112 117.76 10.752 20.096 26.176 35.52 46.272 46.272C345.408 891.328 369.792 896 438.144 896h147.712c68.352 0 92.736-4.672 117.76-18.112 20.096-10.752 35.52-26.176 46.272-46.272C763.328 806.592 768 782.208 768 713.856V438.144c0-68.352-4.672-92.736-18.112-117.76a110.464 110.464 0 0 0-46.272-46.272C678.592 260.672 654.208 256 585.856 256H438.144zm0-64h147.712c85.568 0 116.608 8.96 147.904 25.6 31.36 16.768 55.872 41.344 72.576 72.64C823.104 321.536 832 352.576 832 438.08v275.84c0 85.504-8.96 116.544-25.6 147.84a174.464 174.464 0 0 1-72.64 72.576C702.464 951.104 671.424 960 585.92 960H438.08c-85.504 0-116.544-8.96-147.84-25.6a174.464 174.464 0 0 1-72.64-72.704c-16.768-31.296-25.664-62.336-25.664-147.84v-275.84c0-85.504 8.96-116.544 25.6-147.84a174.464 174.464 0 0 1 72.768-72.576c31.232-16.704 62.272-25.6 147.776-25.6z"},null,-1),ATe=M("path",{fill:"currentColor",d:"M512 320q32 0 32 32v128q0 32-32 32t-32-32V352q0-32 32-32zm32-96a32 32 0 0 1-64 0v-64a32 32 0 0 0-32-32h-96a32 32 0 0 1 0-64h96a96 96 0 0 1 96 96v64z"},null,-1),RTe=[MTe,ATe];function OTe(n,e,t,i,s,o){return O(),W("svg",NTe,RTe)}var PTe=Z(TTe,[["render",OTe],["__file","mouse.vue"]]),FTe={name:"Mug"},BTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},VTe=M("path",{fill:"currentColor",d:"M736 800V160H160v640a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64zm64-544h63.552a96 96 0 0 1 96 96v224a96 96 0 0 1-96 96H800v128a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V128a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v128zm0 64v288h63.552a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32H800z"},null,-1),WTe=[VTe];function HTe(n,e,t,i,s,o){return O(),W("svg",BTe,WTe)}var $Te=Z(FTe,[["render",HTe],["__file","mug.vue"]]),zTe={name:"MuteNotification"},UTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jTe=M("path",{fill:"currentColor",d:"m241.216 832 63.616-64H768V448c0-42.368-10.24-82.304-28.48-117.504l46.912-47.232C815.36 331.392 832 387.84 832 448v320h96a32 32 0 1 1 0 64H241.216zm-90.24 0H96a32 32 0 1 1 0-64h96V448a320.128 320.128 0 0 1 256-313.6V128a64 64 0 1 1 128 0v6.4a319.552 319.552 0 0 1 171.648 97.088l-45.184 45.44A256 256 0 0 0 256 448v278.336L151.04 832zM448 896h128a64 64 0 0 1-128 0z"},null,-1),KTe=M("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"},null,-1),qTe=[jTe,KTe];function GTe(n,e,t,i,s,o){return O(),W("svg",UTe,qTe)}var YTe=Z(zTe,[["render",GTe],["__file","mute-notification.vue"]]),ZTe={name:"Mute"},XTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},QTe=M("path",{fill:"currentColor",d:"m412.16 592.128-45.44 45.44A191.232 191.232 0 0 1 320 512V256a192 192 0 1 1 384 0v44.352l-64 64V256a128 128 0 1 0-256 0v256c0 30.336 10.56 58.24 28.16 80.128zm51.968 38.592A128 128 0 0 0 640 512v-57.152l64-64V512a192 192 0 0 1-287.68 166.528l47.808-47.808zM314.88 779.968l46.144-46.08A222.976 222.976 0 0 0 480 768h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64v-64c-61.44 0-118.4-19.2-165.12-52.032zM266.752 737.6A286.976 286.976 0 0 1 192 544v-32a32 32 0 0 1 64 0v32c0 56.832 21.184 108.8 56.064 148.288L266.752 737.6z"},null,-1),JTe=M("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"},null,-1),e9e=[QTe,JTe];function t9e(n,e,t,i,s,o){return O(),W("svg",XTe,e9e)}var i9e=Z(ZTe,[["render",t9e],["__file","mute.vue"]]),n9e={name:"NoSmoking"},s9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},o9e=M("path",{fill:"currentColor",d:"M440.256 576H256v128h56.256l-64 64H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32h280.256l-64 64zm143.488 128H704V583.744L775.744 512H928a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H519.744l64-64zM768 576v128h128V576H768zm-29.696-207.552 45.248 45.248-497.856 497.856-45.248-45.248zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"},null,-1),r9e=[o9e];function a9e(n,e,t,i,s,o){return O(),W("svg",s9e,r9e)}var l9e=Z(n9e,[["render",a9e],["__file","no-smoking.vue"]]),c9e={name:"Notebook"},u9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},d9e=M("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),h9e=M("path",{fill:"currentColor",d:"M672 128h64v768h-64zM96 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32z"},null,-1),f9e=[d9e,h9e];function g9e(n,e,t,i,s,o){return O(),W("svg",u9e,f9e)}var p9e=Z(c9e,[["render",g9e],["__file","notebook.vue"]]),m9e={name:"Notification"},_9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},v9e=M("path",{fill:"currentColor",d:"M512 128v64H256a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V512h64v256a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V256a128 128 0 0 1 128-128h256z"},null,-1),b9e=M("path",{fill:"currentColor",d:"M768 384a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"},null,-1),C9e=[v9e,b9e];function w9e(n,e,t,i,s,o){return O(),W("svg",_9e,C9e)}var y9e=Z(m9e,[["render",w9e],["__file","notification.vue"]]),S9e={name:"Odometer"},L9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},x9e=M("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),D9e=M("path",{fill:"currentColor",d:"M192 512a320 320 0 1 1 640 0 32 32 0 1 1-64 0 256 256 0 1 0-512 0 32 32 0 0 1-64 0z"},null,-1),k9e=M("path",{fill:"currentColor",d:"M570.432 627.84A96 96 0 1 1 509.568 608l60.992-187.776A32 32 0 1 1 631.424 440l-60.992 187.776zM502.08 734.464a32 32 0 1 0 19.84-60.928 32 32 0 0 0-19.84 60.928z"},null,-1),E9e=[x9e,D9e,k9e];function I9e(n,e,t,i,s,o){return O(),W("svg",L9e,E9e)}var T9e=Z(S9e,[["render",I9e],["__file","odometer.vue"]]),N9e={name:"OfficeBuilding"},M9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},A9e=M("path",{fill:"currentColor",d:"M192 128v704h384V128H192zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),R9e=M("path",{fill:"currentColor",d:"M256 256h256v64H256v-64zm0 192h256v64H256v-64zm0 192h256v64H256v-64zm384-128h128v64H640v-64zm0 128h128v64H640v-64zM64 832h896v64H64v-64z"},null,-1),O9e=M("path",{fill:"currentColor",d:"M640 384v448h192V384H640zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32z"},null,-1),P9e=[A9e,R9e,O9e];function F9e(n,e,t,i,s,o){return O(),W("svg",M9e,P9e)}var B9e=Z(N9e,[["render",F9e],["__file","office-building.vue"]]),V9e={name:"Open"},W9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},H9e=M("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724H329.956zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"},null,-1),$9e=M("path",{fill:"currentColor",d:"M694.044 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454zm0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088z"},null,-1),z9e=[H9e,$9e];function U9e(n,e,t,i,s,o){return O(),W("svg",W9e,z9e)}var j9e=Z(V9e,[["render",U9e],["__file","open.vue"]]),K9e={name:"Operation"},q9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},G9e=M("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64h261.44zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64h453.44zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64h133.44z"},null,-1),Y9e=[G9e];function Z9e(n,e,t,i,s,o){return O(),W("svg",q9e,Y9e)}var X9e=Z(K9e,[["render",Z9e],["__file","operation.vue"]]),Q9e={name:"Opportunity"},J9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eNe=M("path",{fill:"currentColor",d:"M384 960v-64h192.064v64H384zm448-544a350.656 350.656 0 0 1-128.32 271.424C665.344 719.04 640 763.776 640 813.504V832H320v-14.336c0-48-19.392-95.36-57.216-124.992a351.552 351.552 0 0 1-128.448-344.256c25.344-136.448 133.888-248.128 269.76-276.48A352.384 352.384 0 0 1 832 416zm-544 32c0-132.288 75.904-224 192-224v-64c-154.432 0-256 122.752-256 288h64z"},null,-1),tNe=[eNe];function iNe(n,e,t,i,s,o){return O(),W("svg",J9e,tNe)}var nNe=Z(Q9e,[["render",iNe],["__file","opportunity.vue"]]),sNe={name:"Orange"},oNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rNe=M("path",{fill:"currentColor",d:"M544 894.72a382.336 382.336 0 0 0 215.936-89.472L577.024 622.272c-10.24 6.016-21.248 10.688-33.024 13.696v258.688zm261.248-134.784A382.336 382.336 0 0 0 894.656 544H635.968c-3.008 11.776-7.68 22.848-13.696 33.024l182.976 182.912zM894.656 480a382.336 382.336 0 0 0-89.408-215.936L622.272 446.976c6.016 10.24 10.688 21.248 13.696 33.024h258.688zm-134.72-261.248A382.336 382.336 0 0 0 544 129.344v258.688c11.776 3.008 22.848 7.68 33.024 13.696l182.912-182.976zM480 129.344a382.336 382.336 0 0 0-215.936 89.408l182.912 182.976c10.24-6.016 21.248-10.688 33.024-13.696V129.344zm-261.248 134.72A382.336 382.336 0 0 0 129.344 480h258.688c3.008-11.776 7.68-22.848 13.696-33.024L218.752 264.064zM129.344 544a382.336 382.336 0 0 0 89.408 215.936l182.976-182.912A127.232 127.232 0 0 1 388.032 544H129.344zm134.72 261.248A382.336 382.336 0 0 0 480 894.656V635.968a127.232 127.232 0 0 1-33.024-13.696L264.064 805.248zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896zm0-384a64 64 0 1 0 0-128 64 64 0 0 0 0 128z"},null,-1),aNe=[rNe];function lNe(n,e,t,i,s,o){return O(),W("svg",oNe,aNe)}var cNe=Z(sNe,[["render",lNe],["__file","orange.vue"]]),uNe={name:"Paperclip"},dNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hNe=M("path",{fill:"currentColor",d:"M602.496 240.448A192 192 0 1 1 874.048 512l-316.8 316.8A256 256 0 0 1 195.2 466.752L602.496 59.456l45.248 45.248L240.448 512A192 192 0 0 0 512 783.552l316.8-316.8a128 128 0 1 0-181.056-181.056L353.6 579.904a32 32 0 1 0 45.248 45.248l294.144-294.144 45.312 45.248L444.096 670.4a96 96 0 1 1-135.744-135.744l294.144-294.208z"},null,-1),fNe=[hNe];function gNe(n,e,t,i,s,o){return O(),W("svg",dNe,fNe)}var pNe=Z(uNe,[["render",gNe],["__file","paperclip.vue"]]),mNe={name:"PartlyCloudy"},_Ne={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vNe=M("path",{fill:"currentColor",d:"M598.4 895.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 895.872zm-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 445.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"},null,-1),bNe=M("path",{fill:"currentColor",d:"M139.84 501.888a256 256 0 1 1 417.856-277.12c-17.728 2.176-38.208 8.448-61.504 18.816A192 192 0 1 0 189.12 460.48a6003.84 6003.84 0 0 0-49.28 41.408z"},null,-1),CNe=[vNe,bNe];function wNe(n,e,t,i,s,o){return O(),W("svg",_Ne,CNe)}var yNe=Z(mNe,[["render",wNe],["__file","partly-cloudy.vue"]]),SNe={name:"Pear"},LNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xNe=M("path",{fill:"currentColor",d:"M542.336 258.816a443.255 443.255 0 0 0-9.024 25.088 32 32 0 1 1-60.8-20.032l1.088-3.328a162.688 162.688 0 0 0-122.048 131.392l-17.088 102.72-20.736 15.36C256.192 552.704 224 610.88 224 672c0 120.576 126.4 224 288 224s288-103.424 288-224c0-61.12-32.192-119.296-89.728-161.92l-20.736-15.424-17.088-102.72a162.688 162.688 0 0 0-130.112-133.12zm-40.128-66.56c7.936-15.552 16.576-30.08 25.92-43.776 23.296-33.92 49.408-59.776 78.528-77.12a32 32 0 1 1 32.704 55.04c-20.544 12.224-40.064 31.552-58.432 58.304a316.608 316.608 0 0 0-9.792 15.104 226.688 226.688 0 0 1 164.48 181.568l12.8 77.248C819.456 511.36 864 587.392 864 672c0 159.04-157.568 288-352 288S160 831.04 160 672c0-84.608 44.608-160.64 115.584-213.376l12.8-77.248a226.624 226.624 0 0 1 213.76-189.184z"},null,-1),DNe=[xNe];function kNe(n,e,t,i,s,o){return O(),W("svg",LNe,DNe)}var ENe=Z(SNe,[["render",kNe],["__file","pear.vue"]]),INe={name:"PhoneFilled"},TNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},NNe=M("path",{fill:"currentColor",d:"M199.232 125.568 90.624 379.008a32 32 0 0 0 6.784 35.2l512.384 512.384a32 32 0 0 0 35.2 6.784l253.44-108.608a32 32 0 0 0 10.048-52.032L769.6 633.92a32 32 0 0 0-36.928-5.952l-130.176 65.088-271.488-271.552 65.024-130.176a32 32 0 0 0-5.952-36.928L251.2 115.52a32 32 0 0 0-51.968 10.048z"},null,-1),MNe=[NNe];function ANe(n,e,t,i,s,o){return O(),W("svg",TNe,MNe)}var RNe=Z(INe,[["render",ANe],["__file","phone-filled.vue"]]),ONe={name:"Phone"},PNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},FNe=M("path",{fill:"currentColor",d:"M79.36 432.256 591.744 944.64a32 32 0 0 0 35.2 6.784l253.44-108.544a32 32 0 0 0 9.984-52.032l-153.856-153.92a32 32 0 0 0-36.928-6.016l-69.888 34.944L358.08 394.24l35.008-69.888a32 32 0 0 0-5.952-36.928L233.152 133.568a32 32 0 0 0-52.032 10.048L72.512 397.056a32 32 0 0 0 6.784 35.2zm60.48-29.952 81.536-190.08L325.568 316.48l-24.64 49.216-20.608 41.216 32.576 32.64 271.552 271.552 32.64 32.64 41.216-20.672 49.28-24.576 104.192 104.128-190.08 81.472L139.84 402.304zM512 320v-64a256 256 0 0 1 256 256h-64a192 192 0 0 0-192-192zm0-192V64a448 448 0 0 1 448 448h-64a384 384 0 0 0-384-384z"},null,-1),BNe=[FNe];function VNe(n,e,t,i,s,o){return O(),W("svg",PNe,BNe)}var WNe=Z(ONe,[["render",VNe],["__file","phone.vue"]]),HNe={name:"PictureFilled"},$Ne={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zNe=M("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),UNe=[zNe];function jNe(n,e,t,i,s,o){return O(),W("svg",$Ne,UNe)}var KNe=Z(HNe,[["render",jNe],["__file","picture-filled.vue"]]),qNe={name:"PictureRounded"},GNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YNe=M("path",{fill:"currentColor",d:"M512 128a384 384 0 1 0 0 768 384 384 0 0 0 0-768zm0-64a448 448 0 1 1 0 896 448 448 0 0 1 0-896z"},null,-1),ZNe=M("path",{fill:"currentColor",d:"M640 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM214.656 790.656l-45.312-45.312 185.664-185.6a96 96 0 0 1 123.712-10.24l138.24 98.688a32 32 0 0 0 39.872-2.176L906.688 422.4l42.624 47.744L699.52 693.696a96 96 0 0 1-119.808 6.592l-138.24-98.752a32 32 0 0 0-41.152 3.456l-185.664 185.6z"},null,-1),XNe=[YNe,ZNe];function QNe(n,e,t,i,s,o){return O(),W("svg",GNe,XNe)}var JNe=Z(qNe,[["render",QNe],["__file","picture-rounded.vue"]]),eMe={name:"Picture"},tMe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iMe=M("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),nMe=M("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952L185.408 876.992z"},null,-1),sMe=[iMe,nMe];function oMe(n,e,t,i,s,o){return O(),W("svg",tMe,sMe)}var rMe=Z(eMe,[["render",oMe],["__file","picture.vue"]]),aMe={name:"PieChart"},lMe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cMe=M("path",{fill:"currentColor",d:"M448 68.48v64.832A384.128 384.128 0 0 0 512 896a384.128 384.128 0 0 0 378.688-320h64.768A448.128 448.128 0 0 1 64 512 448.128 448.128 0 0 1 448 68.48z"},null,-1),uMe=M("path",{fill:"currentColor",d:"M576 97.28V448h350.72A384.064 384.064 0 0 0 576 97.28zM512 64V33.152A448 448 0 0 1 990.848 512H512V64z"},null,-1),dMe=[cMe,uMe];function hMe(n,e,t,i,s,o){return O(),W("svg",lMe,dMe)}var fMe=Z(aMe,[["render",hMe],["__file","pie-chart.vue"]]),gMe={name:"Place"},pMe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mMe=M("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),_Me=M("path",{fill:"currentColor",d:"M512 512a32 32 0 0 1 32 32v256a32 32 0 1 1-64 0V544a32 32 0 0 1 32-32z"},null,-1),vMe=M("path",{fill:"currentColor",d:"M384 649.088v64.96C269.76 732.352 192 771.904 192 800c0 37.696 139.904 96 320 96s320-58.304 320-96c0-28.16-77.76-67.648-192-85.952v-64.96C789.12 671.04 896 730.368 896 800c0 88.32-171.904 160-384 160s-384-71.68-384-160c0-69.696 106.88-128.96 256-150.912z"},null,-1),bMe=[mMe,_Me,vMe];function CMe(n,e,t,i,s,o){return O(),W("svg",pMe,bMe)}var wMe=Z(gMe,[["render",CMe],["__file","place.vue"]]),yMe={name:"Platform"},SMe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},LMe=M("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64h192zM128 704V128h768v576H128z"},null,-1),xMe=[LMe];function DMe(n,e,t,i,s,o){return O(),W("svg",SMe,xMe)}var kMe=Z(yMe,[["render",DMe],["__file","platform.vue"]]),EMe={name:"Plus"},IMe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TMe=M("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),NMe=[TMe];function MMe(n,e,t,i,s,o){return O(),W("svg",IMe,NMe)}var iX=Z(EMe,[["render",MMe],["__file","plus.vue"]]),AMe={name:"Pointer"},RMe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},OMe=M("path",{fill:"currentColor",d:"M511.552 128c-35.584 0-64.384 28.8-64.384 64.448v516.48L274.048 570.88a94.272 94.272 0 0 0-112.896-3.456 44.416 44.416 0 0 0-8.96 62.208L332.8 870.4A64 64 0 0 0 384 896h512V575.232a64 64 0 0 0-45.632-61.312l-205.952-61.76A96 96 0 0 1 576 360.192V192.448C576 156.8 547.2 128 511.552 128zM359.04 556.8l24.128 19.2V192.448a128.448 128.448 0 1 1 256.832 0v167.744a32 32 0 0 0 22.784 30.656l206.016 61.76A128 128 0 0 1 960 575.232V896a64 64 0 0 1-64 64H384a128 128 0 0 1-102.4-51.2L101.056 668.032A108.416 108.416 0 0 1 128 512.512a158.272 158.272 0 0 1 185.984 8.32L359.04 556.8z"},null,-1),PMe=[OMe];function FMe(n,e,t,i,s,o){return O(),W("svg",RMe,PMe)}var BMe=Z(AMe,[["render",FMe],["__file","pointer.vue"]]),VMe={name:"Position"},WMe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},HMe=M("path",{fill:"currentColor",d:"m249.6 417.088 319.744 43.072 39.168 310.272L845.12 178.88 249.6 417.088zm-129.024 47.168a32 32 0 0 1-7.68-61.44l777.792-311.04a32 32 0 0 1 41.6 41.6l-310.336 775.68a32 32 0 0 1-61.44-7.808L512 516.992l-391.424-52.736z"},null,-1),$Me=[HMe];function zMe(n,e,t,i,s,o){return O(),W("svg",WMe,$Me)}var UMe=Z(VMe,[["render",zMe],["__file","position.vue"]]),jMe={name:"Postcard"},KMe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qMe=M("path",{fill:"currentColor",d:"M160 224a32 32 0 0 0-32 32v512a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V256a32 32 0 0 0-32-32H160zm0-64h704a96 96 0 0 1 96 96v512a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V256a96 96 0 0 1 96-96z"},null,-1),GMe=M("path",{fill:"currentColor",d:"M704 320a64 64 0 1 1 0 128 64 64 0 0 1 0-128zM288 448h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32zm0 128h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),YMe=[qMe,GMe];function ZMe(n,e,t,i,s,o){return O(),W("svg",KMe,YMe)}var XMe=Z(jMe,[["render",ZMe],["__file","postcard.vue"]]),QMe={name:"Pouring"},JMe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eAe=M("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480zM224 800a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32z"},null,-1),tAe=[eAe];function iAe(n,e,t,i,s,o){return O(),W("svg",JMe,tAe)}var nAe=Z(QMe,[["render",iAe],["__file","pouring.vue"]]),sAe={name:"Present"},oAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rAe=M("path",{fill:"currentColor",d:"M480 896V640H192v-64h288V320H192v576h288zm64 0h288V320H544v256h288v64H544v256zM128 256h768v672a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V256z"},null,-1),aAe=M("path",{fill:"currentColor",d:"M96 256h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32z"},null,-1),lAe=M("path",{fill:"currentColor",d:"M416 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),cAe=M("path",{fill:"currentColor",d:"M608 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),uAe=[rAe,aAe,lAe,cAe];function dAe(n,e,t,i,s,o){return O(),W("svg",oAe,uAe)}var hAe=Z(sAe,[["render",dAe],["__file","present.vue"]]),fAe={name:"PriceTag"},gAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pAe=M("path",{fill:"currentColor",d:"M224 318.336V896h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"},null,-1),mAe=M("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),_Ae=[pAe,mAe];function vAe(n,e,t,i,s,o){return O(),W("svg",gAe,_Ae)}var bAe=Z(fAe,[["render",vAe],["__file","price-tag.vue"]]),CAe={name:"Printer"},wAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},yAe=M("path",{fill:"currentColor",d:"M256 768H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 746.432 64 741.248 64 727.04V379.072c0-42.816 4.48-58.304 12.8-73.984 8.384-15.616 20.672-27.904 36.288-36.288 15.68-8.32 31.168-12.8 73.984-12.8H256V64h512v192h68.928c42.816 0 58.304 4.48 73.984 12.8 15.616 8.384 27.904 20.672 36.288 36.288 8.32 15.68 12.8 31.168 12.8 73.984v347.904c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H768v192H256V768zm64-192v320h384V576H320zm-64 128V512h512v192h128V379.072c0-29.376-1.408-36.48-5.248-43.776a23.296 23.296 0 0 0-10.048-10.048c-7.232-3.84-14.4-5.248-43.776-5.248H187.072c-29.376 0-36.48 1.408-43.776 5.248a23.296 23.296 0 0 0-10.048 10.048c-3.84 7.232-5.248 14.4-5.248 43.776V704h128zm64-448h384V128H320v128zm-64 128h64v64h-64v-64zm128 0h64v64h-64v-64z"},null,-1),SAe=[yAe];function LAe(n,e,t,i,s,o){return O(),W("svg",wAe,SAe)}var xAe=Z(CAe,[["render",LAe],["__file","printer.vue"]]),DAe={name:"Promotion"},kAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},EAe=M("path",{fill:"currentColor",d:"m64 448 832-320-128 704-446.08-243.328L832 192 242.816 545.472 64 448zm256 512V657.024L512 768 320 960z"},null,-1),IAe=[EAe];function TAe(n,e,t,i,s,o){return O(),W("svg",kAe,IAe)}var NAe=Z(DAe,[["render",TAe],["__file","promotion.vue"]]),MAe={name:"QuartzWatch"},AAe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},RAe=M("path",{d:"M422.02 602.01v-.03c-6.68-5.99-14.35-8.83-23.01-8.51-8.67.32-16.17 3.66-22.5 10.02-6.33 6.36-9.5 13.7-9.5 22.02s3 15.82 8.99 22.5c8.68 8.68 19.02 11.35 31.01 8s19.49-10.85 22.5-22.5c3.01-11.65.51-22.15-7.49-31.49v-.01zM384 512c0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.67 8.99-23.01zm6.53-82.49c11.65 3.01 22.15.51 31.49-7.49h.04c5.99-6.68 8.83-14.34 8.51-23.01-.32-8.67-3.66-16.16-10.02-22.5-6.36-6.33-13.7-9.5-22.02-9.5s-15.82 3-22.5 8.99c-8.68 8.69-11.35 19.02-8 31.01 3.35 11.99 10.85 19.49 22.5 22.5zm242.94 0c11.67-3.03 19.01-10.37 22.02-22.02 3.01-11.65.51-22.15-7.49-31.49h.01c-6.68-5.99-14.18-8.99-22.5-8.99s-15.66 3.16-22.02 9.5c-6.36 6.34-9.7 13.84-10.02 22.5-.32 8.66 2.52 16.33 8.51 23.01 9.32 8.02 19.82 10.52 31.49 7.49zM512 640c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01s-3-17.02-8.99-23.01c-6-5.99-13.66-8.99-23.01-8.99zm183.01-151.01c-6-5.99-13.66-8.99-23.01-8.99s-17.02 3-23.01 8.99c-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99s17.02-3 23.01-8.99c5.99-6 8.99-13.67 8.99-23.01 0-9.35-3-17.02-8.99-23.01z",fill:"currentColor"},null,-1),OAe=M("path",{d:"M832 512c-2-90.67-33.17-166.17-93.5-226.5-20.43-20.42-42.6-37.49-66.5-51.23V64H352v170.26c-23.9 13.74-46.07 30.81-66.5 51.24-60.33 60.33-91.49 135.83-93.5 226.5 2 90.67 33.17 166.17 93.5 226.5 20.43 20.43 42.6 37.5 66.5 51.24V960h320V789.74c23.9-13.74 46.07-30.81 66.5-51.24 60.33-60.34 91.49-135.83 93.5-226.5zM416 128h192v78.69c-29.85-9.03-61.85-13.93-96-14.69-34.15.75-66.15 5.65-96 14.68V128zm192 768H416v-78.68c29.85 9.03 61.85 13.93 96 14.68 34.15-.75 66.15-5.65 96-14.68V896zm-96-128c-72.66-2.01-132.99-27.01-180.99-75.01S258.01 584.66 256 512c2.01-72.66 27.01-132.99 75.01-180.99S439.34 258.01 512 256c72.66 2.01 132.99 27.01 180.99 75.01S765.99 439.34 768 512c-2.01 72.66-27.01 132.99-75.01 180.99S584.66 765.99 512 768z",fill:"currentColor"},null,-1),PAe=M("path",{d:"M512 320c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01 0 9.35 3 17.02 8.99 23.01 6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01 0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99zm112.99 273.5c-8.66-.32-16.33 2.52-23.01 8.51-7.98 9.32-10.48 19.82-7.49 31.49s10.49 19.17 22.5 22.5 22.35.66 31.01-8v.04c5.99-6.68 8.99-14.18 8.99-22.5s-3.16-15.66-9.5-22.02-13.84-9.7-22.5-10.02z",fill:"currentColor"},null,-1),FAe=[RAe,OAe,PAe];function BAe(n,e,t,i,s,o){return O(),W("svg",AAe,FAe)}var VAe=Z(MAe,[["render",BAe],["__file","quartz-watch.vue"]]),WAe={name:"QuestionFilled"},HAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$Ae=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),zAe=[$Ae];function UAe(n,e,t,i,s,o){return O(),W("svg",HAe,zAe)}var jAe=Z(WAe,[["render",UAe],["__file","question-filled.vue"]]),KAe={name:"Rank"},qAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},GAe=M("path",{fill:"currentColor",d:"m186.496 544 41.408 41.344a32 32 0 1 1-45.248 45.312l-96-96a32 32 0 0 1 0-45.312l96-96a32 32 0 1 1 45.248 45.312L186.496 480h290.816V186.432l-41.472 41.472a32 32 0 1 1-45.248-45.184l96-96.128a32 32 0 0 1 45.312 0l96 96.064a32 32 0 0 1-45.248 45.184l-41.344-41.28V480H832l-41.344-41.344a32 32 0 0 1 45.248-45.312l96 96a32 32 0 0 1 0 45.312l-96 96a32 32 0 0 1-45.248-45.312L832 544H541.312v293.44l41.344-41.28a32 32 0 1 1 45.248 45.248l-96 96a32 32 0 0 1-45.312 0l-96-96a32 32 0 1 1 45.312-45.248l41.408 41.408V544H186.496z"},null,-1),YAe=[GAe];function ZAe(n,e,t,i,s,o){return O(),W("svg",qAe,YAe)}var XAe=Z(KAe,[["render",ZAe],["__file","rank.vue"]]),QAe={name:"ReadingLamp"},JAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},e7e=M("path",{fill:"currentColor",d:"M352 896h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm-44.672-768-99.52 448h608.384l-99.52-448H307.328zm-25.6-64h460.608a32 32 0 0 1 31.232 25.088l113.792 512A32 32 0 0 1 856.128 640H167.872a32 32 0 0 1-31.232-38.912l113.792-512A32 32 0 0 1 281.664 64z"},null,-1),t7e=M("path",{fill:"currentColor",d:"M672 576q32 0 32 32v128q0 32-32 32t-32-32V608q0-32 32-32zm-192-.064h64V960h-64z"},null,-1),i7e=[e7e,t7e];function n7e(n,e,t,i,s,o){return O(),W("svg",JAe,i7e)}var s7e=Z(QAe,[["render",n7e],["__file","reading-lamp.vue"]]),o7e={name:"Reading"},r7e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},a7e=M("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72l384 54.848zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"},null,-1),l7e=M("path",{fill:"currentColor",d:"M480 192h64v704h-64z"},null,-1),c7e=[a7e,l7e];function u7e(n,e,t,i,s,o){return O(),W("svg",r7e,c7e)}var d7e=Z(o7e,[["render",u7e],["__file","reading.vue"]]),h7e={name:"RefreshLeft"},f7e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},g7e=M("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),p7e=[g7e];function m7e(n,e,t,i,s,o){return O(),W("svg",f7e,p7e)}var _7e=Z(h7e,[["render",m7e],["__file","refresh-left.vue"]]),v7e={name:"RefreshRight"},b7e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},C7e=M("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),w7e=[C7e];function y7e(n,e,t,i,s,o){return O(),W("svg",b7e,w7e)}var S7e=Z(v7e,[["render",y7e],["__file","refresh-right.vue"]]),L7e={name:"Refresh"},x7e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},D7e=M("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1),k7e=[D7e];function E7e(n,e,t,i,s,o){return O(),W("svg",x7e,k7e)}var I7e=Z(L7e,[["render",E7e],["__file","refresh.vue"]]),T7e={name:"Refrigerator"},N7e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},M7e=M("path",{fill:"currentColor",d:"M256 448h512V160a32 32 0 0 0-32-32H288a32 32 0 0 0-32 32v288zm0 64v352a32 32 0 0 0 32 32h448a32 32 0 0 0 32-32V512H256zm32-448h448a96 96 0 0 1 96 96v704a96 96 0 0 1-96 96H288a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96zm32 224h64v96h-64v-96zm0 288h64v96h-64v-96z"},null,-1),A7e=[M7e];function R7e(n,e,t,i,s,o){return O(),W("svg",N7e,A7e)}var O7e=Z(T7e,[["render",R7e],["__file","refrigerator.vue"]]),P7e={name:"RemoveFilled"},F7e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},B7e=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zM288 512a38.4 38.4 0 0 0 38.4 38.4h371.2a38.4 38.4 0 0 0 0-76.8H326.4A38.4 38.4 0 0 0 288 512z"},null,-1),V7e=[B7e];function W7e(n,e,t,i,s,o){return O(),W("svg",F7e,V7e)}var H7e=Z(P7e,[["render",W7e],["__file","remove-filled.vue"]]),$7e={name:"Remove"},z7e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},U7e=M("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),j7e=M("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),K7e=[U7e,j7e];function q7e(n,e,t,i,s,o){return O(),W("svg",z7e,K7e)}var G7e=Z($7e,[["render",q7e],["__file","remove.vue"]]),Y7e={name:"Right"},Z7e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},X7e=M("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312L754.752 480z"},null,-1),Q7e=[X7e];function J7e(n,e,t,i,s,o){return O(),W("svg",Z7e,Q7e)}var eRe=Z(Y7e,[["render",J7e],["__file","right.vue"]]),tRe={name:"ScaleToOriginal"},iRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},nRe=M("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),sRe=[nRe];function oRe(n,e,t,i,s,o){return O(),W("svg",iRe,sRe)}var rRe=Z(tRe,[["render",oRe],["__file","scale-to-original.vue"]]),aRe={name:"School"},lRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cRe=M("path",{fill:"currentColor",d:"M224 128v704h576V128H224zm-32-64h640a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),uRe=M("path",{fill:"currentColor",d:"M64 832h896v64H64zm256-640h128v96H320z"},null,-1),dRe=M("path",{fill:"currentColor",d:"M384 832h256v-64a128 128 0 1 0-256 0v64zm128-256a192 192 0 0 1 192 192v128H320V768a192 192 0 0 1 192-192zM320 384h128v96H320zm256-192h128v96H576zm0 192h128v96H576z"},null,-1),hRe=[cRe,uRe,dRe];function fRe(n,e,t,i,s,o){return O(),W("svg",lRe,hRe)}var gRe=Z(aRe,[["render",fRe],["__file","school.vue"]]),pRe={name:"Scissor"},mRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_Re=M("path",{fill:"currentColor",d:"m512.064 578.368-106.88 152.768a160 160 0 1 1-23.36-78.208L472.96 522.56 196.864 128.256a32 32 0 1 1 52.48-36.736l393.024 561.344a160 160 0 1 1-23.36 78.208l-106.88-152.704zm54.4-189.248 208.384-297.6a32 32 0 0 1 52.48 36.736l-221.76 316.672-39.04-55.808zm-376.32 425.856a96 96 0 1 0 110.144-157.248 96 96 0 0 0-110.08 157.248zm643.84 0a96 96 0 1 0-110.08-157.248 96 96 0 0 0 110.08 157.248z"},null,-1),vRe=[_Re];function bRe(n,e,t,i,s,o){return O(),W("svg",mRe,vRe)}var CRe=Z(pRe,[["render",bRe],["__file","scissor.vue"]]),wRe={name:"Search"},yRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},SRe=M("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),LRe=[SRe];function xRe(n,e,t,i,s,o){return O(),W("svg",yRe,LRe)}var DRe=Z(wRe,[["render",xRe],["__file","search.vue"]]),kRe={name:"Select"},ERe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},IRe=M("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),TRe=[IRe];function NRe(n,e,t,i,s,o){return O(),W("svg",ERe,TRe)}var MRe=Z(kRe,[["render",NRe],["__file","select.vue"]]),ARe={name:"Sell"},RRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ORe=M("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 483.84L768 698.496V928a32 32 0 1 1-64 0V698.496l-73.344 73.344a32 32 0 1 1-45.248-45.248l128-128a32 32 0 0 1 45.248 0l128 128a32 32 0 1 1-45.248 45.248z"},null,-1),PRe=[ORe];function FRe(n,e,t,i,s,o){return O(),W("svg",RRe,PRe)}var BRe=Z(ARe,[["render",FRe],["__file","sell.vue"]]),VRe={name:"SemiSelect"},WRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},HRe=M("path",{fill:"currentColor",d:"M128 448h768q64 0 64 64t-64 64H128q-64 0-64-64t64-64z"},null,-1),$Re=[HRe];function zRe(n,e,t,i,s,o){return O(),W("svg",WRe,$Re)}var URe=Z(VRe,[["render",zRe],["__file","semi-select.vue"]]),jRe={name:"Service"},KRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qRe=M("path",{fill:"currentColor",d:"M864 409.6a192 192 0 0 1-37.888 349.44A256.064 256.064 0 0 1 576 960h-96a32 32 0 1 1 0-64h96a192.064 192.064 0 0 0 181.12-128H736a32 32 0 0 1-32-32V416a32 32 0 0 1 32-32h32c10.368 0 20.544.832 30.528 2.432a288 288 0 0 0-573.056 0A193.235 193.235 0 0 1 256 384h32a32 32 0 0 1 32 32v320a32 32 0 0 1-32 32h-32a192 192 0 0 1-96-358.4 352 352 0 0 1 704 0zM256 448a128 128 0 1 0 0 256V448zm640 128a128 128 0 0 0-128-128v256a128 128 0 0 0 128-128z"},null,-1),GRe=[qRe];function YRe(n,e,t,i,s,o){return O(),W("svg",KRe,GRe)}var ZRe=Z(jRe,[["render",YRe],["__file","service.vue"]]),XRe={name:"SetUp"},QRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},JRe=M("path",{fill:"currentColor",d:"M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64H224zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96z"},null,-1),eOe=M("path",{fill:"currentColor",d:"M384 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),tOe=M("path",{fill:"currentColor",d:"M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32zm160 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),iOe=M("path",{fill:"currentColor",d:"M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),nOe=[JRe,eOe,tOe,iOe];function sOe(n,e,t,i,s,o){return O(),W("svg",QRe,nOe)}var oOe=Z(XRe,[["render",sOe],["__file","set-up.vue"]]),rOe={name:"Setting"},aOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lOe=M("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"},null,-1),cOe=[lOe];function uOe(n,e,t,i,s,o){return O(),W("svg",aOe,cOe)}var dOe=Z(rOe,[["render",uOe],["__file","setting.vue"]]),hOe={name:"Share"},fOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gOe=M("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"},null,-1),pOe=[gOe];function mOe(n,e,t,i,s,o){return O(),W("svg",fOe,pOe)}var _Oe=Z(hOe,[["render",mOe],["__file","share.vue"]]),vOe={name:"Ship"},bOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},COe=M("path",{fill:"currentColor",d:"M512 386.88V448h405.568a32 32 0 0 1 30.72 40.768l-76.48 267.968A192 192 0 0 1 687.168 896H336.832a192 192 0 0 1-184.64-139.264L75.648 488.768A32 32 0 0 1 106.368 448H448V117.888a32 32 0 0 1 47.36-28.096l13.888 7.616L512 96v2.88l231.68 126.4a32 32 0 0 1-2.048 57.216L512 386.88zm0-70.272 144.768-65.792L512 171.84v144.768zM512 512H148.864l18.24 64H856.96l18.24-64H512zM185.408 640l28.352 99.2A128 128 0 0 0 336.832 832h350.336a128 128 0 0 0 123.072-92.8l28.352-99.2H185.408z"},null,-1),wOe=[COe];function yOe(n,e,t,i,s,o){return O(),W("svg",bOe,wOe)}var SOe=Z(vOe,[["render",yOe],["__file","ship.vue"]]),LOe={name:"Shop"},xOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DOe=M("path",{fill:"currentColor",d:"M704 704h64v192H256V704h64v64h384v-64zm188.544-152.192C894.528 559.616 896 567.616 896 576a96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0c0-8.384 1.408-16.384 3.392-24.192L192 128h640l60.544 423.808z"},null,-1),kOe=[DOe];function EOe(n,e,t,i,s,o){return O(),W("svg",xOe,kOe)}var IOe=Z(LOe,[["render",EOe],["__file","shop.vue"]]),TOe={name:"ShoppingBag"},NOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},MOe=M("path",{fill:"currentColor",d:"M704 320v96a32 32 0 0 1-32 32h-32V320H384v128h-32a32 32 0 0 1-32-32v-96H192v576h640V320H704zm-384-64a192 192 0 1 1 384 0h160a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32h160zm64 0h256a128 128 0 1 0-256 0z"},null,-1),AOe=M("path",{fill:"currentColor",d:"M192 704h640v64H192z"},null,-1),ROe=[MOe,AOe];function OOe(n,e,t,i,s,o){return O(),W("svg",NOe,ROe)}var POe=Z(TOe,[["render",OOe],["__file","shopping-bag.vue"]]),FOe={name:"ShoppingCartFull"},BOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},VOe=M("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96zm320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96zM96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128H96zm314.24 576h395.904l82.304-384H333.44l76.8 384z"},null,-1),WOe=M("path",{fill:"currentColor",d:"M699.648 256 608 145.984 516.352 256h183.296zm-140.8-151.04a64 64 0 0 1 98.304 0L836.352 320H379.648l179.2-215.04z"},null,-1),HOe=[VOe,WOe];function $Oe(n,e,t,i,s,o){return O(),W("svg",BOe,HOe)}var zOe=Z(FOe,[["render",$Oe],["__file","shopping-cart-full.vue"]]),UOe={name:"ShoppingCart"},jOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},KOe=M("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96zm320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96zM96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128H96zm314.24 576h395.904l82.304-384H333.44l76.8 384z"},null,-1),qOe=[KOe];function GOe(n,e,t,i,s,o){return O(),W("svg",jOe,qOe)}var YOe=Z(UOe,[["render",GOe],["__file","shopping-cart.vue"]]),ZOe={name:"ShoppingTrolley"},XOe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},QOe=M("path",{d:"M368 833c-13.3 0-24.5 4.5-33.5 13.5S321 866.7 321 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S415 893.3 415 880s-4.5-24.5-13.5-33.5S381.3 833 368 833zm439-193c7.4 0 13.8-2.2 19.5-6.5S836 623.3 838 616l112-448c2-10-.2-19.2-6.5-27.5S929 128 919 128H96c-9.3 0-17 3-23 9s-9 13.7-9 23 3 17 9 23 13.7 9 23 9h96v576h672c9.3 0 17-3 23-9s9-13.7 9-23-3-17-9-23-13.7-9-23-9H256v-64h551zM256 192h622l-96 384H256V192zm432 641c-13.3 0-24.5 4.5-33.5 13.5S641 866.7 641 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S735 893.3 735 880s-4.5-24.5-13.5-33.5S701.3 833 688 833z",fill:"currentColor"},null,-1),JOe=[QOe];function ePe(n,e,t,i,s,o){return O(),W("svg",XOe,JOe)}var tPe=Z(ZOe,[["render",ePe],["__file","shopping-trolley.vue"]]),iPe={name:"Smoking"},nPe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},sPe=M("path",{fill:"currentColor",d:"M256 576v128h640V576H256zm-32-64h704a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32z"},null,-1),oPe=M("path",{fill:"currentColor",d:"M704 576h64v128h-64zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"},null,-1),rPe=[sPe,oPe];function aPe(n,e,t,i,s,o){return O(),W("svg",nPe,rPe)}var lPe=Z(iPe,[["render",aPe],["__file","smoking.vue"]]),cPe={name:"Soccer"},uPe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dPe=M("path",{fill:"currentColor",d:"M418.496 871.04 152.256 604.8c-16.512 94.016-2.368 178.624 42.944 224 44.928 44.928 129.344 58.752 223.296 42.24zm72.32-18.176a573.056 573.056 0 0 0 224.832-137.216 573.12 573.12 0 0 0 137.216-224.832L533.888 171.84a578.56 578.56 0 0 0-227.52 138.496A567.68 567.68 0 0 0 170.432 532.48l320.384 320.384zM871.04 418.496c16.512-93.952 2.688-178.368-42.24-223.296-44.544-44.544-128.704-58.048-222.592-41.536L871.04 418.496zM149.952 874.048c-112.96-112.96-88.832-408.96 111.168-608.96C461.056 65.152 760.96 36.928 874.048 149.952c113.024 113.024 86.784 411.008-113.152 610.944-199.936 199.936-497.92 226.112-610.944 113.152zm452.544-497.792 22.656-22.656a32 32 0 0 1 45.248 45.248l-22.656 22.656 45.248 45.248A32 32 0 1 1 647.744 512l-45.248-45.248L557.248 512l45.248 45.248a32 32 0 1 1-45.248 45.248L512 557.248l-45.248 45.248L512 647.744a32 32 0 1 1-45.248 45.248l-45.248-45.248-22.656 22.656a32 32 0 1 1-45.248-45.248l22.656-22.656-45.248-45.248A32 32 0 1 1 376.256 512l45.248 45.248L466.752 512l-45.248-45.248a32 32 0 1 1 45.248-45.248L512 466.752l45.248-45.248L512 376.256a32 32 0 0 1 45.248-45.248l45.248 45.248z"},null,-1),hPe=[dPe];function fPe(n,e,t,i,s,o){return O(),W("svg",uPe,hPe)}var gPe=Z(cPe,[["render",fPe],["__file","soccer.vue"]]),pPe={name:"SoldOut"},mPe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_Pe=M("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 476.16a32 32 0 1 1 45.248 45.184l-128 128a32 32 0 0 1-45.248 0l-128-128a32 32 0 1 1 45.248-45.248L704 837.504V608a32 32 0 1 1 64 0v229.504l73.408-73.408z"},null,-1),vPe=[_Pe];function bPe(n,e,t,i,s,o){return O(),W("svg",mPe,vPe)}var CPe=Z(pPe,[["render",bPe],["__file","sold-out.vue"]]),wPe={name:"SortDown"},yPe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},SPe=M("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),LPe=[SPe];function xPe(n,e,t,i,s,o){return O(),W("svg",yPe,LPe)}var DPe=Z(wPe,[["render",xPe],["__file","sort-down.vue"]]),kPe={name:"SortUp"},EPe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},IPe=M("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),TPe=[IPe];function NPe(n,e,t,i,s,o){return O(),W("svg",EPe,TPe)}var MPe=Z(kPe,[["render",NPe],["__file","sort-up.vue"]]),APe={name:"Sort"},RPe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},OPe=M("path",{fill:"currentColor",d:"M384 96a32 32 0 0 1 64 0v786.752a32 32 0 0 1-54.592 22.656L95.936 608a32 32 0 0 1 0-45.312h.128a32 32 0 0 1 45.184 0L384 805.632V96zm192 45.248a32 32 0 0 1 54.592-22.592L928.064 416a32 32 0 0 1 0 45.312h-.128a32 32 0 0 1-45.184 0L640 218.496V928a32 32 0 1 1-64 0V141.248z"},null,-1),PPe=[OPe];function FPe(n,e,t,i,s,o){return O(),W("svg",RPe,PPe)}var BPe=Z(APe,[["render",FPe],["__file","sort.vue"]]),VPe={name:"Stamp"},WPe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},HPe=M("path",{fill:"currentColor",d:"M624 475.968V640h144a128 128 0 0 1 128 128H128a128 128 0 0 1 128-128h144V475.968a192 192 0 1 1 224 0zM128 896v-64h768v64H128z"},null,-1),$Pe=[HPe];function zPe(n,e,t,i,s,o){return O(),W("svg",WPe,$Pe)}var UPe=Z(VPe,[["render",zPe],["__file","stamp.vue"]]),jPe={name:"StarFilled"},KPe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qPe=M("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),GPe=[qPe];function YPe(n,e,t,i,s,o){return O(),W("svg",KPe,GPe)}var ZPe=Z(jPe,[["render",YPe],["__file","star-filled.vue"]]),XPe={name:"Star"},QPe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},JPe=M("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),eFe=[JPe];function tFe(n,e,t,i,s,o){return O(),W("svg",QPe,eFe)}var iFe=Z(XPe,[["render",tFe],["__file","star.vue"]]),nFe={name:"Stopwatch"},sFe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oFe=M("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),rFe=M("path",{fill:"currentColor",d:"M672 234.88c-39.168 174.464-80 298.624-122.688 372.48-64 110.848-202.624 30.848-138.624-80C453.376 453.44 540.48 355.968 672 234.816z"},null,-1),aFe=[oFe,rFe];function lFe(n,e,t,i,s,o){return O(),W("svg",sFe,aFe)}var cFe=Z(nFe,[["render",lFe],["__file","stopwatch.vue"]]),uFe={name:"SuccessFilled"},dFe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hFe=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),fFe=[hFe];function gFe(n,e,t,i,s,o){return O(),W("svg",dFe,fFe)}var PR=Z(uFe,[["render",gFe],["__file","success-filled.vue"]]),pFe={name:"Sugar"},mFe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_Fe=M("path",{fill:"currentColor",d:"m801.728 349.184 4.48 4.48a128 128 0 0 1 0 180.992L534.656 806.144a128 128 0 0 1-181.056 0l-4.48-4.48-19.392 109.696a64 64 0 0 1-108.288 34.176L78.464 802.56a64 64 0 0 1 34.176-108.288l109.76-19.328-4.544-4.544a128 128 0 0 1 0-181.056l271.488-271.488a128 128 0 0 1 181.056 0l4.48 4.48 19.392-109.504a64 64 0 0 1 108.352-34.048l142.592 143.04a64 64 0 0 1-34.24 108.16l-109.248 19.2zm-548.8 198.72h447.168v2.24l60.8-60.8a63.808 63.808 0 0 0 18.752-44.416h-426.88l-89.664 89.728a64.064 64.064 0 0 0-10.24 13.248zm0 64c2.752 4.736 6.144 9.152 10.176 13.248l135.744 135.744a64 64 0 0 0 90.496 0L638.4 611.904H252.928zm490.048-230.976L625.152 263.104a64 64 0 0 0-90.496 0L416.768 380.928h326.208zM123.712 757.312l142.976 142.976 24.32-137.6a25.6 25.6 0 0 0-29.696-29.632l-137.6 24.256zm633.6-633.344-24.32 137.472a25.6 25.6 0 0 0 29.632 29.632l137.28-24.064-142.656-143.04z"},null,-1),vFe=[_Fe];function bFe(n,e,t,i,s,o){return O(),W("svg",mFe,vFe)}var CFe=Z(pFe,[["render",bFe],["__file","sugar.vue"]]),wFe={name:"SuitcaseLine"},yFe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},SFe=M("path",{d:"M922.5 229.5c-24.32-24.34-54.49-36.84-90.5-37.5H704v-64c-.68-17.98-7.02-32.98-19.01-44.99S658.01 64.66 640 64H384c-17.98.68-32.98 7.02-44.99 19.01S320.66 110 320 128v64H192c-35.99.68-66.16 13.18-90.5 37.5C77.16 253.82 64.66 283.99 64 320v448c.68 35.99 13.18 66.16 37.5 90.5s54.49 36.84 90.5 37.5h640c35.99-.68 66.16-13.18 90.5-37.5s36.84-54.49 37.5-90.5V320c-.68-35.99-13.18-66.16-37.5-90.5zM384 128h256v64H384v-64zM256 832h-64c-17.98-.68-32.98-7.02-44.99-19.01S128.66 786.01 128 768V448h128v384zm448 0H320V448h384v384zm192-64c-.68 17.98-7.02 32.98-19.01 44.99S850.01 831.34 832 832h-64V448h128v320zm0-384H128v-64c.69-17.98 7.02-32.98 19.01-44.99S173.99 256.66 192 256h640c17.98.69 32.98 7.02 44.99 19.01S895.34 301.99 896 320v64z",fill:"currentColor"},null,-1),LFe=[SFe];function xFe(n,e,t,i,s,o){return O(),W("svg",yFe,LFe)}var DFe=Z(wFe,[["render",xFe],["__file","suitcase-line.vue"]]),kFe={name:"Suitcase"},EFe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},IFe=M("path",{fill:"currentColor",d:"M128 384h768v-64a64 64 0 0 0-64-64H192a64 64 0 0 0-64 64v64zm0 64v320a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V448H128zm64-256h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128z"},null,-1),TFe=M("path",{fill:"currentColor",d:"M384 128v64h256v-64H384zm0-64h256a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z"},null,-1),NFe=[IFe,TFe];function MFe(n,e,t,i,s,o){return O(),W("svg",EFe,NFe)}var AFe=Z(kFe,[["render",MFe],["__file","suitcase.vue"]]),RFe={name:"Sunny"},OFe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},PFe=M("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32zM195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248zM64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32zm768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32zM195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0z"},null,-1),FFe=[PFe];function BFe(n,e,t,i,s,o){return O(),W("svg",OFe,FFe)}var VFe=Z(RFe,[["render",BFe],["__file","sunny.vue"]]),WFe={name:"Sunrise"},HFe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$Fe=M("path",{fill:"currentColor",d:"M32 768h960a32 32 0 1 1 0 64H32a32 32 0 1 1 0-64zm129.408-96a352 352 0 0 1 701.184 0h-64.32a288 288 0 0 0-572.544 0h-64.32zM512 128a32 32 0 0 1 32 32v96a32 32 0 0 1-64 0v-96a32 32 0 0 1 32-32zm407.296 168.704a32 32 0 0 1 0 45.248l-67.84 67.84a32 32 0 1 1-45.248-45.248l67.84-67.84a32 32 0 0 1 45.248 0zm-814.592 0a32 32 0 0 1 45.248 0l67.84 67.84a32 32 0 1 1-45.248 45.248l-67.84-67.84a32 32 0 0 1 0-45.248z"},null,-1),zFe=[$Fe];function UFe(n,e,t,i,s,o){return O(),W("svg",HFe,zFe)}var jFe=Z(WFe,[["render",UFe],["__file","sunrise.vue"]]),KFe={name:"Sunset"},qFe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},GFe=M("path",{fill:"currentColor",d:"M82.56 640a448 448 0 1 1 858.88 0h-67.2a384 384 0 1 0-724.288 0H82.56zM32 704h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32zm256 128h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),YFe=[GFe];function ZFe(n,e,t,i,s,o){return O(),W("svg",qFe,YFe)}var XFe=Z(KFe,[["render",ZFe],["__file","sunset.vue"]]),QFe={name:"SwitchButton"},JFe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eBe=M("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"},null,-1),tBe=M("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32z"},null,-1),iBe=[eBe,tBe];function nBe(n,e,t,i,s,o){return O(),W("svg",JFe,iBe)}var sBe=Z(QFe,[["render",nBe],["__file","switch-button.vue"]]),oBe={name:"SwitchFilled"},rBe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},aBe=M("path",{d:"M247.47 358.4v.04c.07 19.17 7.72 37.53 21.27 51.09s31.92 21.2 51.09 21.27c39.86 0 72.41-32.6 72.41-72.4s-32.6-72.36-72.41-72.36-72.36 32.55-72.36 72.36z",fill:"currentColor"},null,-1),lBe=M("path",{d:"M492.38 128H324.7c-52.16 0-102.19 20.73-139.08 57.61a196.655 196.655 0 0 0-57.61 139.08V698.7c-.01 25.84 5.08 51.42 14.96 75.29s24.36 45.56 42.63 63.83 39.95 32.76 63.82 42.65a196.67 196.67 0 0 0 75.28 14.98h167.68c3.03 0 5.46-2.43 5.46-5.42V133.42c.6-2.99-1.83-5.42-5.46-5.42zm-56.11 705.88H324.7c-17.76.13-35.36-3.33-51.75-10.18s-31.22-16.94-43.61-29.67c-25.3-25.35-39.81-59.1-39.81-95.32V324.69c-.13-17.75 3.33-35.35 10.17-51.74a131.695 131.695 0 0 1 29.64-43.62c25.39-25.3 59.14-39.81 95.36-39.81h111.57v644.36zm402.12-647.67a196.655 196.655 0 0 0-139.08-57.61H580.48c-3.03 0-4.82 2.43-4.82 4.82v757.16c-.6 2.99 1.79 5.42 5.42 5.42h118.23a196.69 196.69 0 0 0 139.08-57.61A196.655 196.655 0 0 0 896 699.31V325.29a196.69 196.69 0 0 0-57.61-139.08zm-111.3 441.92c-42.83 0-77.82-34.99-77.82-77.82s34.98-77.82 77.82-77.82c42.83 0 77.82 34.99 77.82 77.82s-34.99 77.82-77.82 77.82z",fill:"currentColor"},null,-1),cBe=[aBe,lBe];function uBe(n,e,t,i,s,o){return O(),W("svg",rBe,cBe)}var dBe=Z(oBe,[["render",uBe],["__file","switch-filled.vue"]]),hBe={name:"Switch"},fBe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gBe=M("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32z"},null,-1),pBe=[gBe];function mBe(n,e,t,i,s,o){return O(),W("svg",fBe,pBe)}var _Be=Z(hBe,[["render",mBe],["__file","switch.vue"]]),vBe={name:"TakeawayBox"},bBe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},CBe=M("path",{fill:"currentColor",d:"M832 384H192v448h640V384zM96 320h832V128H96v192zm800 64v480a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V384H64a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32h-64zM416 512h192a32 32 0 0 1 0 64H416a32 32 0 0 1 0-64z"},null,-1),wBe=[CBe];function yBe(n,e,t,i,s,o){return O(),W("svg",bBe,wBe)}var SBe=Z(vBe,[["render",yBe],["__file","takeaway-box.vue"]]),LBe={name:"Ticket"},xBe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DBe=M("path",{fill:"currentColor",d:"M640 832H64V640a128 128 0 1 0 0-256V192h576v160h64V192h256v192a128 128 0 1 0 0 256v192H704V672h-64v160zm0-416v192h64V416h-64z"},null,-1),kBe=[DBe];function EBe(n,e,t,i,s,o){return O(),W("svg",xBe,kBe)}var IBe=Z(LBe,[["render",EBe],["__file","ticket.vue"]]),TBe={name:"Tickets"},NBe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},MBe=M("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h192v64H320v-64zm0 384h384v64H320v-64z"},null,-1),ABe=[MBe];function RBe(n,e,t,i,s,o){return O(),W("svg",NBe,ABe)}var OBe=Z(TBe,[["render",RBe],["__file","tickets.vue"]]),PBe={name:"Timer"},FBe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},BBe=M("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640zm0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768z"},null,-1),VBe=M("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32z"},null,-1),WBe=M("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0zm96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96z"},null,-1),HBe=[BBe,VBe,WBe];function $Be(n,e,t,i,s,o){return O(),W("svg",FBe,HBe)}var zBe=Z(PBe,[["render",$Be],["__file","timer.vue"]]),UBe={name:"ToiletPaper"},jBe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},KBe=M("path",{fill:"currentColor",d:"M595.2 128H320a192 192 0 0 0-192 192v576h384V352c0-90.496 32.448-171.2 83.2-224zM736 64c123.712 0 224 128.96 224 288S859.712 640 736 640H576v320H64V320A256 256 0 0 1 320 64h416zM576 352v224h160c84.352 0 160-97.28 160-224s-75.648-224-160-224-160 97.28-160 224z"},null,-1),qBe=M("path",{fill:"currentColor",d:"M736 448c-35.328 0-64-43.008-64-96s28.672-96 64-96 64 43.008 64 96-28.672 96-64 96z"},null,-1),GBe=[KBe,qBe];function YBe(n,e,t,i,s,o){return O(),W("svg",jBe,GBe)}var ZBe=Z(UBe,[["render",YBe],["__file","toilet-paper.vue"]]),XBe={name:"Tools"},QBe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},JBe=M("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1),eVe=[JBe];function tVe(n,e,t,i,s,o){return O(),W("svg",QBe,eVe)}var iVe=Z(XBe,[["render",tVe],["__file","tools.vue"]]),nVe={name:"TopLeft"},sVe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oVe=M("path",{fill:"currentColor",d:"M256 256h416a32 32 0 1 0 0-64H224a32 32 0 0 0-32 32v448a32 32 0 0 0 64 0V256z"},null,-1),rVe=M("path",{fill:"currentColor",d:"M246.656 201.344a32 32 0 0 0-45.312 45.312l544 544a32 32 0 0 0 45.312-45.312l-544-544z"},null,-1),aVe=[oVe,rVe];function lVe(n,e,t,i,s,o){return O(),W("svg",sVe,aVe)}var cVe=Z(nVe,[["render",lVe],["__file","top-left.vue"]]),uVe={name:"TopRight"},dVe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hVe=M("path",{fill:"currentColor",d:"M768 256H353.6a32 32 0 1 1 0-64H800a32 32 0 0 1 32 32v448a32 32 0 0 1-64 0V256z"},null,-1),fVe=M("path",{fill:"currentColor",d:"M777.344 201.344a32 32 0 0 1 45.312 45.312l-544 544a32 32 0 0 1-45.312-45.312l544-544z"},null,-1),gVe=[hVe,fVe];function pVe(n,e,t,i,s,o){return O(),W("svg",dVe,gVe)}var mVe=Z(uVe,[["render",pVe],["__file","top-right.vue"]]),_Ve={name:"Top"},vVe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bVe=M("path",{fill:"currentColor",d:"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z"},null,-1),CVe=[bVe];function wVe(n,e,t,i,s,o){return O(),W("svg",vVe,CVe)}var yVe=Z(_Ve,[["render",wVe],["__file","top.vue"]]),SVe={name:"TrendCharts"},LVe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xVe=M("path",{fill:"currentColor",d:"M128 896V128h768v768H128zm291.712-327.296 128 102.4 180.16-201.792-47.744-42.624-139.84 156.608-128-102.4-180.16 201.792 47.744 42.624 139.84-156.608zM816 352a48 48 0 1 0-96 0 48 48 0 0 0 96 0z"},null,-1),DVe=[xVe];function kVe(n,e,t,i,s,o){return O(),W("svg",LVe,DVe)}var EVe=Z(SVe,[["render",kVe],["__file","trend-charts.vue"]]),IVe={name:"TrophyBase"},TVe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},NVe=M("path",{d:"M918.4 201.6c-6.4-6.4-12.8-9.6-22.4-9.6H768V96c0-9.6-3.2-16-9.6-22.4C752 67.2 745.6 64 736 64H288c-9.6 0-16 3.2-22.4 9.6C259.2 80 256 86.4 256 96v96H128c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 16-9.6 22.4 3.2 108.8 25.6 185.6 64 224 34.4 34.4 77.56 55.65 127.65 61.99 10.91 20.44 24.78 39.25 41.95 56.41 40.86 40.86 91 65.47 150.4 71.9V768h-96c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h256c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6h-96V637.26c59.4-7.71 109.54-30.01 150.4-70.86 17.2-17.2 31.51-36.06 42.81-56.55 48.93-6.51 90.02-27.7 126.79-61.85 38.4-38.4 60.8-112 64-224 0-6.4-3.2-16-9.6-22.4zM256 438.4c-19.2-6.4-35.2-19.2-51.2-35.2-22.4-22.4-35.2-70.4-41.6-147.2H256v182.4zm390.4 80C608 553.6 566.4 576 512 576s-99.2-19.2-134.4-57.6C342.4 480 320 438.4 320 384V128h384v256c0 54.4-19.2 99.2-57.6 134.4zm172.8-115.2c-16 16-32 25.6-51.2 35.2V256h92.8c-6.4 76.8-19.2 124.8-41.6 147.2zM768 896H256c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h512c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6z",fill:"currentColor"},null,-1),MVe=[NVe];function AVe(n,e,t,i,s,o){return O(),W("svg",TVe,MVe)}var RVe=Z(IVe,[["render",AVe],["__file","trophy-base.vue"]]),OVe={name:"Trophy"},PVe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},FVe=M("path",{fill:"currentColor",d:"M480 896V702.08A256.256 256.256 0 0 1 264.064 512h-32.64a96 96 0 0 1-91.968-68.416L93.632 290.88a76.8 76.8 0 0 1 73.6-98.88H256V96a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32v96h88.768a76.8 76.8 0 0 1 73.6 98.88L884.48 443.52A96 96 0 0 1 792.576 512h-32.64A256.256 256.256 0 0 1 544 702.08V896h128a32 32 0 1 1 0 64H352a32 32 0 1 1 0-64h128zm224-448V128H320v320a192 192 0 1 0 384 0zm64 0h24.576a32 32 0 0 0 30.656-22.784l45.824-152.768A12.8 12.8 0 0 0 856.768 256H768v192zm-512 0V256h-88.768a12.8 12.8 0 0 0-12.288 16.448l45.824 152.768A32 32 0 0 0 231.424 448H256z"},null,-1),BVe=[FVe];function VVe(n,e,t,i,s,o){return O(),W("svg",PVe,BVe)}var WVe=Z(OVe,[["render",VVe],["__file","trophy.vue"]]),HVe={name:"TurnOff"},$Ve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zVe=M("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724H329.956zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"},null,-1),UVe=M("path",{fill:"currentColor",d:"M329.956 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454zm0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088z"},null,-1),jVe=[zVe,UVe];function KVe(n,e,t,i,s,o){return O(),W("svg",$Ve,jVe)}var qVe=Z(HVe,[["render",KVe],["__file","turn-off.vue"]]),GVe={name:"Umbrella"},YVe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZVe=M("path",{fill:"currentColor",d:"M320 768a32 32 0 1 1 64 0 64 64 0 0 0 128 0V512H64a448 448 0 1 1 896 0H576v256a128 128 0 1 1-256 0zm570.688-320a384.128 384.128 0 0 0-757.376 0h757.376z"},null,-1),XVe=[ZVe];function QVe(n,e,t,i,s,o){return O(),W("svg",YVe,XVe)}var JVe=Z(GVe,[["render",QVe],["__file","umbrella.vue"]]),eWe={name:"Unlock"},tWe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iWe=M("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),nWe=M("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104l-59.456 23.808z"},null,-1),sWe=[iWe,nWe];function oWe(n,e,t,i,s,o){return O(),W("svg",tWe,sWe)}var rWe=Z(eWe,[["render",oWe],["__file","unlock.vue"]]),aWe={name:"UploadFilled"},lWe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cWe=M("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6H544z"},null,-1),uWe=[cWe];function dWe(n,e,t,i,s,o){return O(),W("svg",lWe,uWe)}var hWe=Z(aWe,[["render",dWe],["__file","upload-filled.vue"]]),fWe={name:"Upload"},gWe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pWe=M("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248L544 253.696z"},null,-1),mWe=[pWe];function _We(n,e,t,i,s,o){return O(),W("svg",gWe,mWe)}var vWe=Z(fWe,[["render",_We],["__file","upload.vue"]]),bWe={name:"UserFilled"},CWe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wWe=M("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0zm544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"},null,-1),yWe=[wWe];function SWe(n,e,t,i,s,o){return O(),W("svg",CWe,yWe)}var LWe=Z(bWe,[["render",SWe],["__file","user-filled.vue"]]),xWe={name:"User"},DWe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kWe=M("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z"},null,-1),EWe=[kWe];function IWe(n,e,t,i,s,o){return O(),W("svg",DWe,EWe)}var TWe=Z(xWe,[["render",IWe],["__file","user.vue"]]),NWe={name:"Van"},MWe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},AWe=M("path",{fill:"currentColor",d:"M128.896 736H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v96h164.544a32 32 0 0 1 31.616 27.136l54.144 352A32 32 0 0 1 922.688 736h-91.52a144 144 0 1 1-286.272 0H415.104a144 144 0 1 1-286.272 0zm23.36-64a143.872 143.872 0 0 1 239.488 0H568.32c17.088-25.6 42.24-45.376 71.744-55.808V256H128v416h24.256zm655.488 0h77.632l-19.648-128H704v64.896A144 144 0 0 1 807.744 672zm48.128-192-14.72-96H704v96h151.872zM688 832a80 80 0 1 0 0-160 80 80 0 0 0 0 160zm-416 0a80 80 0 1 0 0-160 80 80 0 0 0 0 160z"},null,-1),RWe=[AWe];function OWe(n,e,t,i,s,o){return O(),W("svg",MWe,RWe)}var PWe=Z(NWe,[["render",OWe],["__file","van.vue"]]),FWe={name:"VideoCameraFilled"},BWe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},VWe=M("path",{fill:"currentColor",d:"m768 576 192-64v320l-192-64v96a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V480a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v96zM192 768v64h384v-64H192zm192-480a160 160 0 0 1 320 0 160 160 0 0 1-320 0zm64 0a96 96 0 1 0 192.064-.064A96 96 0 0 0 448 288zm-320 32a128 128 0 1 1 256.064.064A128 128 0 0 1 128 320zm64 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0z"},null,-1),WWe=[VWe];function HWe(n,e,t,i,s,o){return O(),W("svg",BWe,WWe)}var $We=Z(FWe,[["render",HWe],["__file","video-camera-filled.vue"]]),zWe={name:"VideoCamera"},UWe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jWe=M("path",{fill:"currentColor",d:"M704 768V256H128v512h576zm64-416 192-96v512l-192-96v128a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v128zm0 71.552v176.896l128 64V359.552l-128 64zM192 320h192v64H192v-64z"},null,-1),KWe=[jWe];function qWe(n,e,t,i,s,o){return O(),W("svg",UWe,KWe)}var GWe=Z(zWe,[["render",qWe],["__file","video-camera.vue"]]),YWe={name:"VideoPause"},ZWe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},XWe=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32zm192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32z"},null,-1),QWe=[XWe];function JWe(n,e,t,i,s,o){return O(),W("svg",ZWe,QWe)}var eHe=Z(YWe,[["render",JWe],["__file","video-pause.vue"]]),tHe={name:"VideoPlay"},iHe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},nHe=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-48-247.616L668.608 512 464 375.616v272.768zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"},null,-1),sHe=[nHe];function oHe(n,e,t,i,s,o){return O(),W("svg",iHe,sHe)}var rHe=Z(tHe,[["render",oHe],["__file","video-play.vue"]]),aHe={name:"View"},lHe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cHe=M("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),uHe=[cHe];function dHe(n,e,t,i,s,o){return O(),W("svg",lHe,uHe)}var nX=Z(aHe,[["render",dHe],["__file","view.vue"]]),hHe={name:"WalletFilled"},fHe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gHe=M("path",{fill:"currentColor",d:"M688 512a112 112 0 1 0 0 224h208v160H128V352h768v160H688zm32 160h-32a48 48 0 0 1 0-96h32a48 48 0 0 1 0 96zm-80-544 128 160H384l256-160z"},null,-1),pHe=[gHe];function mHe(n,e,t,i,s,o){return O(),W("svg",fHe,pHe)}var _He=Z(hHe,[["render",mHe],["__file","wallet-filled.vue"]]),vHe={name:"Wallet"},bHe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},CHe=M("path",{fill:"currentColor",d:"M640 288h-64V128H128v704h384v32a32 32 0 0 0 32 32H96a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h512a32 32 0 0 1 32 32v192z"},null,-1),wHe=M("path",{fill:"currentColor",d:"M128 320v512h768V320H128zm-32-64h832a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32z"},null,-1),yHe=M("path",{fill:"currentColor",d:"M704 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128z"},null,-1),SHe=[CHe,wHe,yHe];function LHe(n,e,t,i,s,o){return O(),W("svg",bHe,SHe)}var xHe=Z(vHe,[["render",LHe],["__file","wallet.vue"]]),DHe={name:"WarnTriangleFilled"},kHe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},EHe=M("path",{d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49 12.91-20.12 12.92-44.91.01-65.03zM554.67 768h-85.33v-85.33h85.33V768zm0-426.67v298.66h-85.33V341.32l85.33.01z",fill:"currentColor"},null,-1),IHe=[EHe];function THe(n,e,t,i,s,o){return O(),W("svg",kHe,IHe)}var NHe=Z(DHe,[["render",THe],["__file","warn-triangle-filled.vue"]]),MHe={name:"WarningFilled"},AHe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},RHe=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),OHe=[RHe];function PHe(n,e,t,i,s,o){return O(),W("svg",AHe,OHe)}var FR=Z(MHe,[["render",PHe],["__file","warning-filled.vue"]]),FHe={name:"Warning"},BHe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},VHe=M("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),WHe=[VHe];function HHe(n,e,t,i,s,o){return O(),W("svg",BHe,WHe)}var $He=Z(FHe,[["render",HHe],["__file","warning.vue"]]),zHe={name:"Watch"},UHe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jHe=M("path",{fill:"currentColor",d:"M512 768a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),KHe=M("path",{fill:"currentColor",d:"M480 352a32 32 0 0 1 32 32v160a32 32 0 0 1-64 0V384a32 32 0 0 1 32-32z"},null,-1),qHe=M("path",{fill:"currentColor",d:"M480 512h128q32 0 32 32t-32 32H480q-32 0-32-32t32-32zm128-256V128H416v128h-64V64h320v192h-64zM416 768v128h192V768h64v192H352V768h64z"},null,-1),GHe=[jHe,KHe,qHe];function YHe(n,e,t,i,s,o){return O(),W("svg",UHe,GHe)}var ZHe=Z(zHe,[["render",YHe],["__file","watch.vue"]]),XHe={name:"Watermelon"},QHe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},JHe=M("path",{fill:"currentColor",d:"m683.072 600.32-43.648 162.816-61.824-16.512 53.248-198.528L576 493.248l-158.4 158.4-45.248-45.248 158.4-158.4-55.616-55.616-198.528 53.248-16.512-61.824 162.816-43.648L282.752 200A384 384 0 0 0 824 741.248L683.072 600.32zm231.552 141.056a448 448 0 1 1-632-632l632 632z"},null,-1),e$e=[JHe];function t$e(n,e,t,i,s,o){return O(),W("svg",QHe,e$e)}var i$e=Z(XHe,[["render",t$e],["__file","watermelon.vue"]]),n$e={name:"WindPower"},s$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},o$e=M("path",{fill:"currentColor",d:"M160 64q32 0 32 32v832q0 32-32 32t-32-32V96q0-32 32-32zm416 354.624 128-11.584V168.96l-128-11.52v261.12zm-64 5.824V151.552L320 134.08V160h-64V64l616.704 56.064A96 96 0 0 1 960 215.68v144.64a96 96 0 0 1-87.296 95.616L256 512V224h64v217.92l192-17.472zm256-23.232 98.88-8.96A32 32 0 0 0 896 360.32V215.68a32 32 0 0 0-29.12-31.872l-98.88-8.96v226.368z"},null,-1),r$e=[o$e];function a$e(n,e,t,i,s,o){return O(),W("svg",s$e,r$e)}var l$e=Z(n$e,[["render",a$e],["__file","wind-power.vue"]]),c$e={name:"ZoomIn"},u$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},d$e=M("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),h$e=[d$e];function f$e(n,e,t,i,s,o){return O(),W("svg",u$e,h$e)}var g$e=Z(c$e,[["render",f$e],["__file","zoom-in.vue"]]),p$e={name:"ZoomOut"},m$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_$e=M("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),v$e=[_$e];function b$e(n,e,t,i,s,o){return O(),W("svg",m$e,v$e)}var C$e=Z(p$e,[["render",b$e],["__file","zoom-out.vue"]]),w$e=Object.freeze(Object.defineProperty({__proto__:null,AddLocation:u0e,Aim:_0e,AlarmClock:L0e,Apple:T0e,ArrowDown:MR,ArrowDownBold:P0e,ArrowLeft:J0e,ArrowLeftBold:q0e,ArrowRight:XZ,ArrowRightBold:o1e,ArrowUp:QZ,ArrowUpBold:m1e,Avatar:k1e,Back:R1e,Baseball:H1e,Basketball:q1e,Bell:ave,BellFilled:J1e,Bicycle:fve,Bottom:Ave,BottomLeft:Cve,BottomRight:kve,Bowl:Vve,Box:qve,Briefcase:Jve,Brush:d2e,BrushFilled:o2e,Burger:_2e,Calendar:S2e,Camera:O2e,CameraFilled:I2e,CaretBottom:H2e,CaretLeft:q2e,CaretRight:J2e,CaretTop:obe,Cellphone:dbe,ChatDotRound:vbe,ChatDotSquare:xbe,ChatLineRound:Mbe,ChatLineSquare:Vbe,ChatRound:jbe,ChatSquare:Xbe,Check:nCe,Checked:cCe,Cherry:pCe,Chicken:wCe,ChromeFilled:ICe,CircleCheck:JZ,CircleCheckFilled:OCe,CircleClose:mx,CircleCloseFilled:AR,CirclePlus:hwe,CirclePlusFilled:swe,Clock:Cwe,Close:VC,CloseBold:Dwe,Cloudy:Fwe,Coffee:Ywe,CoffeeCup:zwe,Coin:nye,ColdDrink:cye,Collection:yye,CollectionTag:pye,Comment:Eye,Compass:Oye,Connection:$ye,Coordinate:Yye,CopyDocument:i4e,Cpu:c4e,CreditCard:m4e,Crop:S4e,DArrowLeft:I4e,DArrowRight:O4e,DCaret:H4e,DataAnalysis:q4e,DataBoard:tSe,DataLine:aSe,Delete:kSe,DeleteFilled:fSe,DeleteLocation:wSe,Dessert:ASe,Discount:WSe,Dish:QSe,DishDot:KSe,Document:R3e,DocumentAdd:s3e,DocumentChecked:u3e,DocumentCopy:m3e,DocumentDelete:y3e,DocumentRemove:E3e,Download:W3e,Drizzling:K3e,Edit:g9,EditPen:Q3e,Eleme:m6e,ElemeFilled:u6e,ElementPlus:y6e,Expand:E6e,Failed:R6e,Female:$6e,Files:G6e,Film:t8e,Filter:a8e,Finished:f8e,FirstAidKit:C8e,Flag:D8e,Fold:M8e,Folder:gLe,FolderAdd:B8e,FolderChecked:U8e,FolderDelete:Z8e,FolderOpened:iLe,FolderRemove:lLe,Food:CLe,Football:kLe,ForkSpoon:ALe,Fries:VLe,FullScreen:jLe,Goblet:pxe,GobletFull:XLe,GobletSquare:cxe,GobletSquareFull:nxe,GoldMedal:yxe,Goods:Rxe,GoodsFilled:Exe,Grape:Wxe,Grid:Kxe,Guide:Jxe,Handbag:o5e,Headset:d5e,Help:S5e,HelpFilled:_5e,Hide:eX,Histogram:O5e,HomeFilled:H5e,HotWater:q5e,House:J5e,IceCream:_De,IceCreamRound:oDe,IceCreamSquare:dDe,IceDrink:SDe,IceTea:IDe,InfoFilled:RR,Iphone:WDe,Key:KDe,KnifeFork:QDe,Lightning:oke,Link:dke,List:_ke,Loading:OR,Location:zke,LocationFilled:Eke,LocationInformation:Pke,Lock:Zke,Lollipop:iEe,MagicStick:lEe,Magnet:gEe,Male:yEe,Management:EEe,MapLocation:OEe,Medal:$Ee,Memo:ZEe,Menu:iIe,Message:pIe,MessageBox:lIe,Mic:wIe,Microphone:kIe,MilkTea:AIe,Minus:VIe,Money:qIe,Monitor:JIe,Moon:hTe,MoonNight:rTe,More:tX,MoreFilled:vTe,MostlyCloudy:ITe,Mouse:PTe,Mug:$Te,Mute:i9e,MuteNotification:YTe,NoSmoking:l9e,Notebook:p9e,Notification:y9e,Odometer:T9e,OfficeBuilding:B9e,Open:j9e,Operation:X9e,Opportunity:nNe,Orange:cNe,Paperclip:pNe,PartlyCloudy:yNe,Pear:ENe,Phone:WNe,PhoneFilled:RNe,Picture:rMe,PictureFilled:KNe,PictureRounded:JNe,PieChart:fMe,Place:wMe,Platform:kMe,Plus:iX,Pointer:BMe,Position:UMe,Postcard:XMe,Pouring:nAe,Present:hAe,PriceTag:bAe,Printer:xAe,Promotion:NAe,QuartzWatch:VAe,QuestionFilled:jAe,Rank:XAe,Reading:d7e,ReadingLamp:s7e,Refresh:I7e,RefreshLeft:_7e,RefreshRight:S7e,Refrigerator:O7e,Remove:G7e,RemoveFilled:H7e,Right:eRe,ScaleToOriginal:rRe,School:gRe,Scissor:CRe,Search:DRe,Select:MRe,Sell:BRe,SemiSelect:URe,Service:ZRe,SetUp:oOe,Setting:dOe,Share:_Oe,Ship:SOe,Shop:IOe,ShoppingBag:POe,ShoppingCart:YOe,ShoppingCartFull:zOe,ShoppingTrolley:tPe,Smoking:lPe,Soccer:gPe,SoldOut:CPe,Sort:BPe,SortDown:DPe,SortUp:MPe,Stamp:UPe,Star:iFe,StarFilled:ZPe,Stopwatch:cFe,SuccessFilled:PR,Sugar:CFe,Suitcase:AFe,SuitcaseLine:DFe,Sunny:VFe,Sunrise:jFe,Sunset:XFe,Switch:_Be,SwitchButton:sBe,SwitchFilled:dBe,TakeawayBox:SBe,Ticket:IBe,Tickets:OBe,Timer:zBe,ToiletPaper:ZBe,Tools:iVe,Top:yVe,TopLeft:cVe,TopRight:mVe,TrendCharts:EVe,Trophy:WVe,TrophyBase:RVe,TurnOff:qVe,Umbrella:JVe,Unlock:rWe,Upload:vWe,UploadFilled:hWe,User:TWe,UserFilled:LWe,Van:PWe,VideoCamera:GWe,VideoCameraFilled:$We,VideoPause:eHe,VideoPlay:rHe,View:nX,Wallet:xHe,WalletFilled:_He,WarnTriangleFilled:NHe,Warning:$He,WarningFilled:FR,Watch:ZHe,Watermelon:i$e,WindPower:l$e,ZoomIn:g$e,ZoomOut:C$e},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const sX=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Kv=n=>sX?Symbol(n):"_vr_"+n,y$e=Kv("rvlm"),T$=Kv("rvd"),_x=Kv("r"),BR=Kv("rl"),p9=Kv("rvl"),O0=typeof window!="undefined";function S$e(n){return n.__esModule||sX&&n[Symbol.toStringTag]==="Module"}const Kn=Object.assign;function hE(n,e){const t={};for(const i in e){const s=e[i];t[i]=Array.isArray(s)?s.map(n):n(s)}return t}const Zb=()=>{},L$e=/\/$/,x$e=n=>n.replace(L$e,"");function fE(n,e,t="/"){let i,s={},o="",r="";const a=e.indexOf("?"),l=e.indexOf("#",a>-1?a:0);return a>-1&&(i=e.slice(0,a),o=e.slice(a+1,l>-1?l:e.length),s=n(o)),l>-1&&(i=i||e.slice(0,l),r=e.slice(l,e.length)),i=I$e(i!=null?i:e,t),{fullPath:i+(o&&"?")+o+r,path:i,query:s,hash:r}}function D$e(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function N$(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function k$e(n,e,t){const i=e.matched.length-1,s=t.matched.length-1;return i>-1&&i===s&&K1(e.matched[i],t.matched[s])&&oX(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function K1(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function oX(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!E$e(n[t],e[t]))return!1;return!0}function E$e(n,e){return Array.isArray(n)?M$(n,e):Array.isArray(e)?M$(e,n):n===e}function M$(n,e){return Array.isArray(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function I$e(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/");let s=t.length-1,o,r;for(o=0;o<i.length;o++)if(r=i[o],!(s===1||r==="."))if(r==="..")s--;else break;return t.slice(0,s).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var WC;(function(n){n.pop="pop",n.push="push"})(WC||(WC={}));var Xb;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Xb||(Xb={}));function T$e(n){if(!n)if(O0){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),x$e(n)}const N$e=/^[^#]+#/;function M$e(n,e){return n.replace(N$e,"#")+e}function A$e(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const vx=()=>({left:window.pageXOffset,top:window.pageYOffset});function R$e(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),s=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!s)return;e=A$e(s,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function A$(n,e){return(history.state?history.state.position-e:-1)+n}const m9=new Map;function O$e(n,e){m9.set(n,e)}function P$e(n){const e=m9.get(n);return m9.delete(n),e}let F$e=()=>location.protocol+"//"+location.host;function rX(n,e){const{pathname:t,search:i,hash:s}=e,o=n.indexOf("#");if(o>-1){let a=s.includes(n.slice(o))?n.slice(o).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),N$(l,"")}return N$(t,n)+i+s}function B$e(n,e,t,i){let s=[],o=[],r=null;const a=({state:h})=>{const f=rX(n,location),p=t.value,m=e.value;let b=0;if(h){if(t.value=f,e.value=h,r&&r===p){r=null;return}b=m?h.position-m.position:0}else i(f);s.forEach(w=>{w(t.value,p,{delta:b,type:WC.pop,direction:b?b>0?Xb.forward:Xb.back:Xb.unknown})})};function l(){r=t.value}function c(h){s.push(h);const f=()=>{const p=s.indexOf(h);p>-1&&s.splice(p,1)};return o.push(f),f}function u(){const{history:h}=window;!h.state||h.replaceState(Kn({},h.state,{scroll:vx()}),"")}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:d}}function R$(n,e,t,i=!1,s=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:s?vx():null}}function V$e(n){const{history:e,location:t}=window,i={value:rX(n,t)},s={value:e.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=n.indexOf("#"),h=d>-1?(t.host&&document.querySelector("base")?n:n.slice(d))+l:F$e()+n+l;try{e[u?"replaceState":"pushState"](c,"",h),s.value=c}catch(f){console.error(f),t[u?"replace":"assign"](h)}}function r(l,c){const u=Kn({},e.state,R$(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});o(l,u,!0),i.value=l}function a(l,c){const u=Kn({},s.value,e.state,{forward:l,scroll:vx()});o(u.current,u,!0);const d=Kn({},R$(i.value,l,null),{position:u.position+1},c);o(l,d,!1),i.value=l}return{location:i,state:s,push:a,replace:r}}function W$e(n){n=T$e(n);const e=V$e(n),t=B$e(n,e.state,e.location,e.replace);function i(o,r=!0){r||t.pauseListeners(),history.go(o)}const s=Kn({location:"",base:n,go:i,createHref:M$e.bind(null,n)},e,t);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function H$e(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),W$e(n)}function $$e(n){return typeof n=="string"||n&&typeof n=="object"}function aX(n){return typeof n=="string"||typeof n=="symbol"}const hf={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},lX=Kv("nf");var O$;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(O$||(O$={}));function q1(n,e){return Kn(new Error,{type:n,[lX]:!0},e)}function ff(n,e){return n instanceof Error&&lX in n&&(e==null||!!(n.type&e))}const P$="[^/]+?",z$e={sensitive:!1,strict:!1,start:!0,end:!0},U$e=/[.+*?^${}()[\]/\\]/g;function j$e(n,e){const t=Kn({},z$e,e),i=[];let s=t.start?"^":"";const o=[];for(const c of n){const u=c.length?[]:[90];t.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(t.sensitive?.25:0);if(h.type===0)d||(s+="/"),s+=h.value.replace(U$e,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:b,regexp:w}=h;o.push({name:p,repeatable:m,optional:b});const y=w||P$;if(y!==P$){f+=10;try{new RegExp(`(${y})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+D.message)}}let L=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(L=b&&c.length<2?`(?:/${L})`:"/"+L),b&&(L+="?"),s+=L,f+=20,b&&(f+=-8),m&&(f+=-20),y===".*"&&(f+=-50)}u.push(f)}i.push(u)}if(t.strict&&t.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}t.strict||(s+="/?"),t.end?s+="$":t.strict&&(s+="(?:/|$)");const r=new RegExp(s,t.sensitive?"":"i");function a(c){const u=c.match(r),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=o[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of n){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:b}=f,w=p in c?c[p]:"";if(Array.isArray(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Array.isArray(w)?w.join("/"):w;if(!y)if(b)h.length<2&&n.length>1&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u}return{re:r,score:i,keys:o,parse:a,stringify:l}}function K$e(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function q$e(n,e){let t=0;const i=n.score,s=e.score;for(;t<i.length&&t<s.length;){const o=K$e(i[t],s[t]);if(o)return o;t++}return s.length-i.length}const G$e={type:0,value:""},Y$e=/[a-zA-Z0-9_]/;function Z$e(n){if(!n)return[[]];if(n==="/")return[[G$e]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(f){throw new Error(`ERR (${t})/"${c}": ${f}`)}let t=0,i=t;const s=[];let o;function r(){o&&s.push(o),o=[]}let a=0,l,c="",u="";function d(){!c||(t===0?o.push({type:0,value:c}):t===1||t===2||t===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:l==="/"?(c&&d(),r()):l===":"?(d(),t=1):h();break;case 4:h(),t=i;break;case 1:l==="("?t=2:Y$e.test(l)?h():(d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=3:u+=l;break;case 3:d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),r(),s}function X$e(n,e,t){const i=j$e(Z$e(n.path),t),s=Kn(i,{record:n,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Q$e(n,e){const t=[],i=new Map;e=B$({strict:!1,end:!0,sensitive:!1},e);function s(u){return i.get(u)}function o(u,d,h){const f=!h,p=eze(u);p.aliasOf=h&&h.record;const m=B$(e,u),b=[p];if("alias"in u){const L=typeof u.alias=="string"?[u.alias]:u.alias;for(const D of L)b.push(Kn({},p,{components:h?h.record.components:p.components,path:D,aliasOf:h?h.record:p}))}let w,y;for(const L of b){const{path:D}=L;if(d&&D[0]!=="/"){const E=d.record.path,T=E[E.length-1]==="/"?"":"/";L.path=d.record.path+(D&&T+D)}if(w=X$e(L,d,m),h?h.alias.push(w):(y=y||w,y!==w&&y.alias.push(w),f&&u.name&&!F$(w)&&r(u.name)),"children"in p){const E=p.children;for(let T=0;T<E.length;T++)o(E[T],w,h&&h.children[T])}h=h||w,l(w)}return y?()=>{r(y)}:Zb}function r(u){if(aX(u)){const d=i.get(u);d&&(i.delete(u),t.splice(t.indexOf(d),1),d.children.forEach(r),d.alias.forEach(r))}else{const d=t.indexOf(u);d>-1&&(t.splice(d,1),u.record.name&&i.delete(u.record.name),u.children.forEach(r),u.alias.forEach(r))}}function a(){return t}function l(u){let d=0;for(;d<t.length&&q$e(u,t[d])>=0&&(u.record.path!==t[d].record.path||!cX(u,t[d]));)d++;t.splice(d,0,u),u.record.name&&!F$(u)&&i.set(u.record.name,u)}function c(u,d){let h,f={},p,m;if("name"in u&&u.name){if(h=i.get(u.name),!h)throw q1(1,{location:u});m=h.record.name,f=Kn(J$e(d.params,h.keys.filter(y=>!y.optional).map(y=>y.name)),u.params),p=h.stringify(f)}else if("path"in u)p=u.path,h=t.find(y=>y.re.test(p)),h&&(f=h.parse(p),m=h.record.name);else{if(h=d.name?i.get(d.name):t.find(y=>y.re.test(d.path)),!h)throw q1(1,{location:u,currentLocation:d});m=h.record.name,f=Kn({},d.params,u.params),p=h.stringify(f)}const b=[];let w=h;for(;w;)b.unshift(w.record),w=w.parent;return{name:m,path:p,params:f,matched:b,meta:ize(b)}}return n.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:r,getRoutes:a,getRecordMatcher:s}}function J$e(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function eze(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:tze(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||{}:{default:n.component}}}function tze(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="boolean"?t:t[i];return e}function F$(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function ize(n){return n.reduce((e,t)=>Kn(e,t.meta),{})}function B$(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}function cX(n,e){return e.children.some(t=>t===n||cX(n,t))}const uX=/#/g,nze=/&/g,sze=/\//g,oze=/=/g,rze=/\?/g,dX=/\+/g,aze=/%5B/g,lze=/%5D/g,hX=/%5E/g,cze=/%60/g,fX=/%7B/g,uze=/%7C/g,gX=/%7D/g,dze=/%20/g;function VR(n){return encodeURI(""+n).replace(uze,"|").replace(aze,"[").replace(lze,"]")}function hze(n){return VR(n).replace(fX,"{").replace(gX,"}").replace(hX,"^")}function _9(n){return VR(n).replace(dX,"%2B").replace(dze,"+").replace(uX,"%23").replace(nze,"%26").replace(cze,"`").replace(fX,"{").replace(gX,"}").replace(hX,"^")}function fze(n){return _9(n).replace(oze,"%3D")}function gze(n){return VR(n).replace(uX,"%23").replace(rze,"%3F")}function pze(n){return n==null?"":gze(n).replace(sze,"%2F")}function G6(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function mze(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(dX," "),r=o.indexOf("="),a=G6(r<0?o:o.slice(0,r)),l=r<0?null:G6(o.slice(r+1));if(a in e){let c=e[a];Array.isArray(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function V$(n){let e="";for(let t in n){const i=n[t];if(t=fze(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(Array.isArray(i)?i.map(o=>o&&_9(o)):[i&&_9(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+t,o!=null&&(e+="="+o))})}return e}function _ze(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=Array.isArray(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}function W2(){let n=[];function e(i){return n.push(i),()=>{const s=n.indexOf(i);s>-1&&n.splice(s,1)}}function t(){n=[]}return{add:e,list:()=>n,reset:t}}function Nf(n,e,t,i,s){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((r,a)=>{const l=d=>{d===!1?a(q1(4,{from:t,to:e})):d instanceof Error?a(d):$$e(d)?a(q1(2,{from:e,to:d})):(o&&i.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),r())},c=n.call(i&&i.instances[s],e,t,l);let u=Promise.resolve(c);n.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function gE(n,e,t,i){const s=[];for(const o of n)for(const r in o.components){let a=o.components[r];if(!(e!=="beforeRouteEnter"&&!o.instances[r]))if(vze(a)){const c=(a.__vccOpts||a)[e];c&&s.push(Nf(c,t,i,o,r))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${o.path}"`));const u=S$e(c)?c.default:c;o.components[r]=u;const h=(u.__vccOpts||u)[e];return h&&Nf(h,t,i,o,r)()}))}}return s}function vze(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function W$(n){const e=Wt(_x),t=Wt(BR),i=fe(()=>e.resolve(B(n.to))),s=fe(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],d=t.matched;if(!u||!d.length)return-1;const h=d.findIndex(K1.bind(null,u));if(h>-1)return h;const f=H$(l[c-2]);return c>1&&H$(u)===f&&d[d.length-1].path!==f?d.findIndex(K1.bind(null,l[c-2])):h}),o=fe(()=>s.value>-1&&yze(t.params,i.value.params)),r=fe(()=>s.value>-1&&s.value===t.matched.length-1&&oX(t.params,i.value.params));function a(l={}){return wze(l)?e[B(n.replace)?"replace":"push"](B(n.to)).catch(Zb):Promise.resolve()}return{route:i,href:fe(()=>i.value.href),isActive:o,isExactActive:r,navigate:a}}const bze=Ht({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:W$,setup(n,{slots:e}){const t=hs(W$(n)),{options:i}=Wt(_x),s=fe(()=>({[$$(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[$$(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const o=e.default&&e.default(t);return n.custom?o:cs("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:s.value},o)}}}),Cze=bze;function wze(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function yze(n,e){for(const t in e){const i=e[t],s=n[t];if(typeof i=="string"){if(i!==s)return!1}else if(!Array.isArray(s)||s.length!==i.length||i.some((o,r)=>o!==s[r]))return!1}return!0}function H$(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const $$=(n,e,t)=>n!=null?n:e!=null?e:t,Sze=Ht({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const i=Wt(p9),s=fe(()=>n.route||i.value),o=Wt(T$,0),r=fe(()=>s.value.matched[o]);Hn(T$,o+1),Hn(y$e,r),Hn(p9,s);const a=ze();return $t(()=>[a.value,r.value,n.name],([l,c,u],[d,h,f])=>{c&&(c.instances[u]=l,h&&h!==c&&l&&l===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),l&&c&&(!h||!K1(c,h)||!d)&&(c.enterCallbacks[u]||[]).forEach(p=>p(l))},{flush:"post"}),()=>{const l=s.value,c=r.value,u=c&&c.components[n.name],d=n.name;if(!u)return z$(t.default,{Component:u,route:l});const h=c.props[n.name],f=h?h===!0?l.params:typeof h=="function"?h(l):h:null,m=cs(u,Kn({},f,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(c.instances[d]=null)},ref:a}));return z$(t.default,{Component:m,route:l})||m}}});function z$(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const pX=Sze;function Lze(n){const e=Q$e(n.routes,n),t=n.parseQuery||mze,i=n.stringifyQuery||V$,s=n.history,o=W2(),r=W2(),a=W2(),l=_1(hf);let c=hf;O0&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=hE.bind(null,_e=>""+_e),d=hE.bind(null,pze),h=hE.bind(null,G6);function f(_e,Ge){let ye,We;return aX(_e)?(ye=e.getRecordMatcher(_e),We=Ge):We=_e,e.addRoute(We,ye)}function p(_e){const Ge=e.getRecordMatcher(_e);Ge&&e.removeRoute(Ge)}function m(){return e.getRoutes().map(_e=>_e.record)}function b(_e){return!!e.getRecordMatcher(_e)}function w(_e,Ge){if(Ge=Kn({},Ge||l.value),typeof _e=="string"){const ht=fE(t,_e,Ge.path),ee=e.resolve({path:ht.path},Ge),le=s.createHref(ht.fullPath);return Kn(ht,ee,{params:h(ee.params),hash:G6(ht.hash),redirectedFrom:void 0,href:le})}let ye;if("path"in _e)ye=Kn({},_e,{path:fE(t,_e.path,Ge.path).path});else{const ht=Kn({},_e.params);for(const ee in ht)ht[ee]==null&&delete ht[ee];ye=Kn({},_e,{params:d(_e.params)}),Ge.params=d(Ge.params)}const We=e.resolve(ye,Ge),gt=_e.hash||"";We.params=u(h(We.params));const rt=D$e(i,Kn({},_e,{hash:hze(gt),path:We.path})),Fe=s.createHref(rt);return Kn({fullPath:rt,hash:gt,query:i===V$?_ze(_e.query):_e.query||{}},We,{redirectedFrom:void 0,href:Fe})}function y(_e){return typeof _e=="string"?fE(t,_e,l.value.path):Kn({},_e)}function L(_e,Ge){if(c!==_e)return q1(8,{from:Ge,to:_e})}function D(_e){return x(_e)}function E(_e){return D(Kn(y(_e),{replace:!0}))}function T(_e){const Ge=_e.matched[_e.matched.length-1];if(Ge&&Ge.redirect){const{redirect:ye}=Ge;let We=typeof ye=="function"?ye(_e):ye;return typeof We=="string"&&(We=We.includes("?")||We.includes("#")?We=y(We):{path:We},We.params={}),Kn({query:_e.query,hash:_e.hash,params:_e.params},We)}}function x(_e,Ge){const ye=c=w(_e),We=l.value,gt=_e.state,rt=_e.force,Fe=_e.replace===!0,ht=T(ye);if(ht)return x(Kn(y(ht),{state:gt,force:rt,replace:Fe}),Ge||ye);const ee=ye;ee.redirectedFrom=Ge;let le;return!rt&&k$e(i,We,ye)&&(le=q1(16,{to:ee,from:We}),mt(We,We,!0,!1)),(le?Promise.resolve(le):N(ee,We)).catch(Ce=>ff(Ce)?ff(Ce,2)?Ce:He(Ce):be(Ce,ee,We)).then(Ce=>{if(Ce){if(ff(Ce,2))return x(Kn(y(Ce.to),{state:gt,force:rt,replace:Fe}),Ge||ee)}else Ce=H(ee,We,!0,Fe,gt);return V(ee,We,Ce),Ce})}function k(_e,Ge){const ye=L(_e,Ge);return ye?Promise.reject(ye):Promise.resolve()}function N(_e,Ge){let ye;const[We,gt,rt]=xze(_e,Ge);ye=gE(We.reverse(),"beforeRouteLeave",_e,Ge);for(const ht of We)ht.leaveGuards.forEach(ee=>{ye.push(Nf(ee,_e,Ge))});const Fe=k.bind(null,_e,Ge);return ye.push(Fe),n0(ye).then(()=>{ye=[];for(const ht of o.list())ye.push(Nf(ht,_e,Ge));return ye.push(Fe),n0(ye)}).then(()=>{ye=gE(gt,"beforeRouteUpdate",_e,Ge);for(const ht of gt)ht.updateGuards.forEach(ee=>{ye.push(Nf(ee,_e,Ge))});return ye.push(Fe),n0(ye)}).then(()=>{ye=[];for(const ht of _e.matched)if(ht.beforeEnter&&!Ge.matched.includes(ht))if(Array.isArray(ht.beforeEnter))for(const ee of ht.beforeEnter)ye.push(Nf(ee,_e,Ge));else ye.push(Nf(ht.beforeEnter,_e,Ge));return ye.push(Fe),n0(ye)}).then(()=>(_e.matched.forEach(ht=>ht.enterCallbacks={}),ye=gE(rt,"beforeRouteEnter",_e,Ge),ye.push(Fe),n0(ye))).then(()=>{ye=[];for(const ht of r.list())ye.push(Nf(ht,_e,Ge));return ye.push(Fe),n0(ye)}).catch(ht=>ff(ht,8)?ht:Promise.reject(ht))}function V(_e,Ge,ye){for(const We of a.list())We(_e,Ge,ye)}function H(_e,Ge,ye,We,gt){const rt=L(_e,Ge);if(rt)return rt;const Fe=Ge===hf,ht=O0?history.state:{};ye&&(We||Fe?s.replace(_e.fullPath,Kn({scroll:Fe&&ht&&ht.scroll},gt)):s.push(_e.fullPath,gt)),l.value=_e,mt(_e,Ge,ye,Fe),He()}let G;function te(){G||(G=s.listen((_e,Ge,ye)=>{const We=w(_e),gt=T(We);if(gt){x(Kn(gt,{replace:!0}),We).catch(Zb);return}c=We;const rt=l.value;O0&&O$e(A$(rt.fullPath,ye.delta),vx()),N(We,rt).catch(Fe=>ff(Fe,12)?Fe:ff(Fe,2)?(x(Fe.to,We).then(ht=>{ff(ht,20)&&!ye.delta&&ye.type===WC.pop&&s.go(-1,!1)}).catch(Zb),Promise.reject()):(ye.delta&&s.go(-ye.delta,!1),be(Fe,We,rt))).then(Fe=>{Fe=Fe||H(We,rt,!1),Fe&&(ye.delta?s.go(-ye.delta,!1):ye.type===WC.pop&&ff(Fe,20)&&s.go(-1,!1)),V(We,rt,Fe)}).catch(Zb)}))}let ae=W2(),me=W2(),we;function be(_e,Ge,ye){He(_e);const We=me.list();return We.length?We.forEach(gt=>gt(_e,Ge,ye)):console.error(_e),Promise.reject(_e)}function Me(){return we&&l.value!==hf?Promise.resolve():new Promise((_e,Ge)=>{ae.add([_e,Ge])})}function He(_e){return we||(we=!_e,te(),ae.list().forEach(([Ge,ye])=>_e?ye(_e):Ge()),ae.reset()),_e}function mt(_e,Ge,ye,We){const{scrollBehavior:gt}=n;if(!O0||!gt)return Promise.resolve();const rt=!ye&&P$e(A$(_e.fullPath,0))||(We||!ye)&&history.state&&history.state.scroll||null;return hn().then(()=>gt(_e,Ge,rt)).then(Fe=>Fe&&R$e(Fe)).catch(Fe=>be(Fe,_e,Ge))}const ot=_e=>s.go(_e);let De;const pe=new Set;return{currentRoute:l,addRoute:f,removeRoute:p,hasRoute:b,getRoutes:m,resolve:w,options:n,push:D,replace:E,go:ot,back:()=>ot(-1),forward:()=>ot(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:me.add,isReady:Me,install(_e){const Ge=this;_e.component("RouterLink",Cze),_e.component("RouterView",pX),_e.config.globalProperties.$router=Ge,Object.defineProperty(_e.config.globalProperties,"$route",{enumerable:!0,get:()=>B(l)}),O0&&!De&&l.value===hf&&(De=!0,D(s.location).catch(gt=>{}));const ye={};for(const gt in hf)ye[gt]=fe(()=>l.value[gt]);_e.provide(_x,Ge),_e.provide(BR,hs(ye)),_e.provide(p9,l);const We=_e.unmount;pe.add(_e),_e.unmount=function(){pe.delete(_e),pe.size<1&&(c=hf,G&&G(),G=null,l.value=hf,De=!1,we=!1),We()}}}}function n0(n){return n.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function xze(n,e){const t=[],i=[],s=[],o=Math.max(e.matched.length,n.matched.length);for(let r=0;r<o;r++){const a=e.matched[r];a&&(n.matched.find(c=>K1(c,a))?i.push(a):t.push(a));const l=n.matched[r];l&&(e.matched.find(c=>K1(c,l))||s.push(l))}return[t,i,s]}function Dze(){return Wt(_x)}function kze(){return Wt(BR)}var Eze=typeof global=="object"&&global&&global.Object===Object&&global,mX=Eze,Ize=typeof self=="object"&&self&&self.Object===Object&&self,Tze=mX||Ize||Function("return this")(),Yc=Tze,Nze=Yc.Symbol,Gu=Nze,_X=Object.prototype,Mze=_X.hasOwnProperty,Aze=_X.toString,H2=Gu?Gu.toStringTag:void 0;function Rze(n){var e=Mze.call(n,H2),t=n[H2];try{n[H2]=void 0;var i=!0}catch{}var s=Aze.call(n);return i&&(e?n[H2]=t:delete n[H2]),s}var Oze=Object.prototype,Pze=Oze.toString;function Fze(n){return Pze.call(n)}var Bze="[object Null]",Vze="[object Undefined]",U$=Gu?Gu.toStringTag:void 0;function qv(n){return n==null?n===void 0?Vze:Bze:U$&&U$ in Object(n)?Rze(n):Fze(n)}function vg(n){return n!=null&&typeof n=="object"}var Wze="[object Symbol]";function bx(n){return typeof n=="symbol"||vg(n)&&qv(n)==Wze}function Hze(n,e){for(var t=-1,i=n==null?0:n.length,s=Array(i);++t<i;)s[t]=e(n[t],t,n);return s}var $ze=Array.isArray,Ih=$ze,zze=1/0,j$=Gu?Gu.prototype:void 0,K$=j$?j$.toString:void 0;function vX(n){if(typeof n=="string")return n;if(Ih(n))return Hze(n,vX)+"";if(bx(n))return K$?K$.call(n):"";var e=n+"";return e=="0"&&1/n==-zze?"-0":e}var Uze=/\s/;function jze(n){for(var e=n.length;e--&&Uze.test(n.charAt(e)););return e}var Kze=/^\s+/;function qze(n){return n&&n.slice(0,jze(n)+1).replace(Kze,"")}function Yu(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var q$=0/0,Gze=/^[-+]0x[0-9a-f]+$/i,Yze=/^0b[01]+$/i,Zze=/^0o[0-7]+$/i,Xze=parseInt;function G$(n){if(typeof n=="number")return n;if(bx(n))return q$;if(Yu(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Yu(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=qze(n);var t=Yze.test(n);return t||Zze.test(n)?Xze(n.slice(2),t?2:8):Gze.test(n)?q$:+n}var Qze="[object AsyncFunction]",Jze="[object Function]",eUe="[object GeneratorFunction]",tUe="[object Proxy]";function bX(n){if(!Yu(n))return!1;var e=qv(n);return e==Jze||e==eUe||e==Qze||e==tUe}var iUe=Yc["__core-js_shared__"],pE=iUe,Y$=function(){var n=/[^.]+$/.exec(pE&&pE.keys&&pE.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function nUe(n){return!!Y$&&Y$ in n}var sUe=Function.prototype,oUe=sUe.toString;function v_(n){if(n!=null){try{return oUe.call(n)}catch{}try{return n+""}catch{}}return""}var rUe=/[\\^$.*+?()[\]{}|]/g,aUe=/^\[object .+?Constructor\]$/,lUe=Function.prototype,cUe=Object.prototype,uUe=lUe.toString,dUe=cUe.hasOwnProperty,hUe=RegExp("^"+uUe.call(dUe).replace(rUe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fUe(n){if(!Yu(n)||nUe(n))return!1;var e=bX(n)?hUe:aUe;return e.test(v_(n))}function gUe(n,e){return n==null?void 0:n[e]}function b_(n,e){var t=gUe(n,e);return fUe(t)?t:void 0}var pUe=b_(Yc,"WeakMap"),v9=pUe,Z$=Object.create,mUe=function(){function n(){}return function(e){if(!Yu(e))return{};if(Z$)return Z$(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),_Ue=mUe;function vUe(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var bUe=function(){try{var n=b_(Object,"defineProperty");return n({},"",{}),n}catch{}}(),X$=bUe;function CUe(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var wUe=9007199254740991,yUe=/^(?:0|[1-9]\d*)$/;function CX(n,e){var t=typeof n;return e=e==null?wUe:e,!!e&&(t=="number"||t!="symbol"&&yUe.test(n))&&n>-1&&n%1==0&&n<e}function wX(n,e,t){e=="__proto__"&&X$?X$(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function WR(n,e){return n===e||n!==n&&e!==e}var SUe=Object.prototype,LUe=SUe.hasOwnProperty;function HR(n,e,t){var i=n[e];(!(LUe.call(n,e)&&WR(i,t))||t===void 0&&!(e in n))&&wX(n,e,t)}function Cx(n,e,t,i){var s=!t;t||(t={});for(var o=-1,r=e.length;++o<r;){var a=e[o],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),s?wX(t,a,l):HR(t,a,l)}return t}var xUe=9007199254740991;function yX(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=xUe}function SX(n){return n!=null&&yX(n.length)&&!bX(n)}var DUe=Object.prototype;function $R(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||DUe;return n===t}function kUe(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var EUe="[object Arguments]";function Q$(n){return vg(n)&&qv(n)==EUe}var LX=Object.prototype,IUe=LX.hasOwnProperty,TUe=LX.propertyIsEnumerable,NUe=Q$(function(){return arguments}())?Q$:function(n){return vg(n)&&IUe.call(n,"callee")&&!TUe.call(n,"callee")},MUe=NUe;function AUe(){return!1}var xX=typeof exports=="object"&&exports&&!exports.nodeType&&exports,J$=xX&&typeof module=="object"&&module&&!module.nodeType&&module,RUe=J$&&J$.exports===xX,ez=RUe?Yc.Buffer:void 0,OUe=ez?ez.isBuffer:void 0,PUe=OUe||AUe,Y6=PUe,FUe="[object Arguments]",BUe="[object Array]",VUe="[object Boolean]",WUe="[object Date]",HUe="[object Error]",$Ue="[object Function]",zUe="[object Map]",UUe="[object Number]",jUe="[object Object]",KUe="[object RegExp]",qUe="[object Set]",GUe="[object String]",YUe="[object WeakMap]",ZUe="[object ArrayBuffer]",XUe="[object DataView]",QUe="[object Float32Array]",JUe="[object Float64Array]",eje="[object Int8Array]",tje="[object Int16Array]",ije="[object Int32Array]",nje="[object Uint8Array]",sje="[object Uint8ClampedArray]",oje="[object Uint16Array]",rje="[object Uint32Array]",ls={};ls[QUe]=ls[JUe]=ls[eje]=ls[tje]=ls[ije]=ls[nje]=ls[sje]=ls[oje]=ls[rje]=!0;ls[FUe]=ls[BUe]=ls[ZUe]=ls[VUe]=ls[XUe]=ls[WUe]=ls[HUe]=ls[$Ue]=ls[zUe]=ls[UUe]=ls[jUe]=ls[KUe]=ls[qUe]=ls[GUe]=ls[YUe]=!1;function aje(n){return vg(n)&&yX(n.length)&&!!ls[qv(n)]}function zR(n){return function(e){return n(e)}}var DX=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qb=DX&&typeof module=="object"&&module&&!module.nodeType&&module,lje=Qb&&Qb.exports===DX,mE=lje&&mX.process,cje=function(){try{var n=Qb&&Qb.require&&Qb.require("util").types;return n||mE&&mE.binding&&mE.binding("util")}catch{}}(),G1=cje,tz=G1&&G1.isTypedArray,uje=tz?zR(tz):aje,kX=uje,dje=Object.prototype,hje=dje.hasOwnProperty;function EX(n,e){var t=Ih(n),i=!t&&MUe(n),s=!t&&!i&&Y6(n),o=!t&&!i&&!s&&kX(n),r=t||i||s||o,a=r?kUe(n.length,String):[],l=a.length;for(var c in n)(e||hje.call(n,c))&&!(r&&(c=="length"||s&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||CX(c,l)))&&a.push(c);return a}function IX(n,e){return function(t){return n(e(t))}}var fje=IX(Object.keys,Object),gje=fje,pje=Object.prototype,mje=pje.hasOwnProperty;function _je(n){if(!$R(n))return gje(n);var e=[];for(var t in Object(n))mje.call(n,t)&&t!="constructor"&&e.push(t);return e}function UR(n){return SX(n)?EX(n):_je(n)}function vje(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var bje=Object.prototype,Cje=bje.hasOwnProperty;function wje(n){if(!Yu(n))return vje(n);var e=$R(n),t=[];for(var i in n)i=="constructor"&&(e||!Cje.call(n,i))||t.push(i);return t}function jR(n){return SX(n)?EX(n,!0):wje(n)}var yje=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sje=/^\w*$/;function Lje(n,e){if(Ih(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||bx(n)?!0:Sje.test(n)||!yje.test(n)||e!=null&&n in Object(e)}var xje=b_(Object,"create"),HC=xje;function Dje(){this.__data__=HC?HC(null):{},this.size=0}function kje(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Eje="__lodash_hash_undefined__",Ije=Object.prototype,Tje=Ije.hasOwnProperty;function Nje(n){var e=this.__data__;if(HC){var t=e[n];return t===Eje?void 0:t}return Tje.call(e,n)?e[n]:void 0}var Mje=Object.prototype,Aje=Mje.hasOwnProperty;function Rje(n){var e=this.__data__;return HC?e[n]!==void 0:Aje.call(e,n)}var Oje="__lodash_hash_undefined__";function Pje(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=HC&&e===void 0?Oje:e,this}function Im(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Im.prototype.clear=Dje;Im.prototype.delete=kje;Im.prototype.get=Nje;Im.prototype.has=Rje;Im.prototype.set=Pje;function Fje(){this.__data__=[],this.size=0}function wx(n,e){for(var t=n.length;t--;)if(WR(n[t][0],e))return t;return-1}var Bje=Array.prototype,Vje=Bje.splice;function Wje(n){var e=this.__data__,t=wx(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():Vje.call(e,t,1),--this.size,!0}function Hje(n){var e=this.__data__,t=wx(e,n);return t<0?void 0:e[t][1]}function $je(n){return wx(this.__data__,n)>-1}function zje(n,e){var t=this.__data__,i=wx(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function $h(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}$h.prototype.clear=Fje;$h.prototype.delete=Wje;$h.prototype.get=Hje;$h.prototype.has=$je;$h.prototype.set=zje;var Uje=b_(Yc,"Map"),$C=Uje;function jje(){this.size=0,this.__data__={hash:new Im,map:new($C||$h),string:new Im}}function Kje(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function yx(n,e){var t=n.__data__;return Kje(e)?t[typeof e=="string"?"string":"hash"]:t.map}function qje(n){var e=yx(this,n).delete(n);return this.size-=e?1:0,e}function Gje(n){return yx(this,n).get(n)}function Yje(n){return yx(this,n).has(n)}function Zje(n,e){var t=yx(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function zh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}zh.prototype.clear=jje;zh.prototype.delete=qje;zh.prototype.get=Gje;zh.prototype.has=Yje;zh.prototype.set=Zje;var Xje="Expected a function";function KR(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(Xje);var t=function(){var i=arguments,s=e?e.apply(this,i):i[0],o=t.cache;if(o.has(s))return o.get(s);var r=n.apply(this,i);return t.cache=o.set(s,r)||o,r};return t.cache=new(KR.Cache||zh),t}KR.Cache=zh;var Qje=500;function Jje(n){var e=KR(n,function(i){return t.size===Qje&&t.clear(),i}),t=e.cache;return e}var eKe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tKe=/\\(\\)?/g,iKe=Jje(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(eKe,function(t,i,s,o){e.push(s?o.replace(tKe,"$1"):i||t)}),e}),nKe=iKe;function sKe(n){return n==null?"":vX(n)}function TX(n,e){return Ih(n)?n:Lje(n,e)?[n]:nKe(sKe(n))}var oKe=1/0;function NX(n){if(typeof n=="string"||bx(n))return n;var e=n+"";return e=="0"&&1/n==-oKe?"-0":e}function rKe(n,e){e=TX(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[NX(e[t++])];return t&&t==i?n:void 0}function Wa(n,e,t){var i=n==null?void 0:rKe(n,e);return i===void 0?t:i}function MX(n,e){for(var t=-1,i=e.length,s=n.length;++t<i;)n[s+t]=e[t];return n}var aKe=IX(Object.getPrototypeOf,Object),AX=aKe;function b9(){if(!arguments.length)return[];var n=arguments[0];return Ih(n)?n:[n]}function lKe(){this.__data__=new $h,this.size=0}function cKe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function uKe(n){return this.__data__.get(n)}function dKe(n){return this.__data__.has(n)}var hKe=200;function fKe(n,e){var t=this.__data__;if(t instanceof $h){var i=t.__data__;if(!$C||i.length<hKe-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new zh(i)}return t.set(n,e),this.size=t.size,this}function wh(n){var e=this.__data__=new $h(n);this.size=e.size}wh.prototype.clear=lKe;wh.prototype.delete=cKe;wh.prototype.get=uKe;wh.prototype.has=dKe;wh.prototype.set=fKe;function gKe(n,e){return n&&Cx(e,UR(e),n)}function pKe(n,e){return n&&Cx(e,jR(e),n)}var RX=typeof exports=="object"&&exports&&!exports.nodeType&&exports,iz=RX&&typeof module=="object"&&module&&!module.nodeType&&module,mKe=iz&&iz.exports===RX,nz=mKe?Yc.Buffer:void 0,sz=nz?nz.allocUnsafe:void 0;function _Ke(n,e){if(e)return n.slice();var t=n.length,i=sz?sz(t):new n.constructor(t);return n.copy(i),i}function vKe(n,e){for(var t=-1,i=n==null?0:n.length,s=0,o=[];++t<i;){var r=n[t];e(r,t,n)&&(o[s++]=r)}return o}function OX(){return[]}var bKe=Object.prototype,CKe=bKe.propertyIsEnumerable,oz=Object.getOwnPropertySymbols,wKe=oz?function(n){return n==null?[]:(n=Object(n),vKe(oz(n),function(e){return CKe.call(n,e)}))}:OX,qR=wKe;function yKe(n,e){return Cx(n,qR(n),e)}var SKe=Object.getOwnPropertySymbols,LKe=SKe?function(n){for(var e=[];n;)MX(e,qR(n)),n=AX(n);return e}:OX,PX=LKe;function xKe(n,e){return Cx(n,PX(n),e)}function FX(n,e,t){var i=e(n);return Ih(n)?i:MX(i,t(n))}function C9(n){return FX(n,UR,qR)}function DKe(n){return FX(n,jR,PX)}var kKe=b_(Yc,"DataView"),w9=kKe,EKe=b_(Yc,"Promise"),y9=EKe,IKe=b_(Yc,"Set"),S9=IKe,rz="[object Map]",TKe="[object Object]",az="[object Promise]",lz="[object Set]",cz="[object WeakMap]",uz="[object DataView]",NKe=v_(w9),MKe=v_($C),AKe=v_(y9),RKe=v_(S9),OKe=v_(v9),kp=qv;(w9&&kp(new w9(new ArrayBuffer(1)))!=uz||$C&&kp(new $C)!=rz||y9&&kp(y9.resolve())!=az||S9&&kp(new S9)!=lz||v9&&kp(new v9)!=cz)&&(kp=function(n){var e=qv(n),t=e==TKe?n.constructor:void 0,i=t?v_(t):"";if(i)switch(i){case NKe:return uz;case MKe:return rz;case AKe:return az;case RKe:return lz;case OKe:return cz}return e});var zC=kp,PKe=Object.prototype,FKe=PKe.hasOwnProperty;function BKe(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&FKe.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var VKe=Yc.Uint8Array,Z6=VKe;function GR(n){var e=new n.constructor(n.byteLength);return new Z6(e).set(new Z6(n)),e}function WKe(n,e){var t=e?GR(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var HKe=/\w*$/;function $Ke(n){var e=new n.constructor(n.source,HKe.exec(n));return e.lastIndex=n.lastIndex,e}var dz=Gu?Gu.prototype:void 0,hz=dz?dz.valueOf:void 0;function zKe(n){return hz?Object(hz.call(n)):{}}function UKe(n,e){var t=e?GR(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var jKe="[object Boolean]",KKe="[object Date]",qKe="[object Map]",GKe="[object Number]",YKe="[object RegExp]",ZKe="[object Set]",XKe="[object String]",QKe="[object Symbol]",JKe="[object ArrayBuffer]",eqe="[object DataView]",tqe="[object Float32Array]",iqe="[object Float64Array]",nqe="[object Int8Array]",sqe="[object Int16Array]",oqe="[object Int32Array]",rqe="[object Uint8Array]",aqe="[object Uint8ClampedArray]",lqe="[object Uint16Array]",cqe="[object Uint32Array]";function uqe(n,e,t){var i=n.constructor;switch(e){case JKe:return GR(n);case jKe:case KKe:return new i(+n);case eqe:return WKe(n,t);case tqe:case iqe:case nqe:case sqe:case oqe:case rqe:case aqe:case lqe:case cqe:return UKe(n,t);case qKe:return new i;case GKe:case XKe:return new i(n);case YKe:return $Ke(n);case ZKe:return new i;case QKe:return zKe(n)}}function dqe(n){return typeof n.constructor=="function"&&!$R(n)?_Ue(AX(n)):{}}var hqe="[object Map]";function fqe(n){return vg(n)&&zC(n)==hqe}var fz=G1&&G1.isMap,gqe=fz?zR(fz):fqe,pqe=gqe,mqe="[object Set]";function _qe(n){return vg(n)&&zC(n)==mqe}var gz=G1&&G1.isSet,vqe=gz?zR(gz):_qe,bqe=vqe,Cqe=1,wqe=2,yqe=4,BX="[object Arguments]",Sqe="[object Array]",Lqe="[object Boolean]",xqe="[object Date]",Dqe="[object Error]",VX="[object Function]",kqe="[object GeneratorFunction]",Eqe="[object Map]",Iqe="[object Number]",WX="[object Object]",Tqe="[object RegExp]",Nqe="[object Set]",Mqe="[object String]",Aqe="[object Symbol]",Rqe="[object WeakMap]",Oqe="[object ArrayBuffer]",Pqe="[object DataView]",Fqe="[object Float32Array]",Bqe="[object Float64Array]",Vqe="[object Int8Array]",Wqe="[object Int16Array]",Hqe="[object Int32Array]",$qe="[object Uint8Array]",zqe="[object Uint8ClampedArray]",Uqe="[object Uint16Array]",jqe="[object Uint32Array]",Jn={};Jn[BX]=Jn[Sqe]=Jn[Oqe]=Jn[Pqe]=Jn[Lqe]=Jn[xqe]=Jn[Fqe]=Jn[Bqe]=Jn[Vqe]=Jn[Wqe]=Jn[Hqe]=Jn[Eqe]=Jn[Iqe]=Jn[WX]=Jn[Tqe]=Jn[Nqe]=Jn[Mqe]=Jn[Aqe]=Jn[$qe]=Jn[zqe]=Jn[Uqe]=Jn[jqe]=!0;Jn[Dqe]=Jn[VX]=Jn[Rqe]=!1;function Q3(n,e,t,i,s,o){var r,a=e&Cqe,l=e&wqe,c=e&yqe;if(t&&(r=s?t(n,i,s,o):t(n)),r!==void 0)return r;if(!Yu(n))return n;var u=Ih(n);if(u){if(r=BKe(n),!a)return vUe(n,r)}else{var d=zC(n),h=d==VX||d==kqe;if(Y6(n))return _Ke(n,a);if(d==WX||d==BX||h&&!s){if(r=l||h?{}:dqe(n),!a)return l?xKe(n,pKe(r,n)):yKe(n,gKe(r,n))}else{if(!Jn[d])return s?n:{};r=uqe(n,d,a)}}o||(o=new wh);var f=o.get(n);if(f)return f;o.set(n,r),bqe(n)?n.forEach(function(b){r.add(Q3(b,e,t,b,n,o))}):pqe(n)&&n.forEach(function(b,w){r.set(w,Q3(b,e,t,w,n,o))});var p=c?l?DKe:C9:l?jR:UR,m=u?void 0:p(n);return CUe(m||n,function(b,w){m&&(w=b,b=n[w]),HR(r,w,Q3(b,e,t,w,n,o))}),r}var Kqe=4;function pz(n){return Q3(n,Kqe)}var qqe="__lodash_hash_undefined__";function Gqe(n){return this.__data__.set(n,qqe),this}function Yqe(n){return this.__data__.has(n)}function X6(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new zh;++e<t;)this.add(n[e])}X6.prototype.add=X6.prototype.push=Gqe;X6.prototype.has=Yqe;function Zqe(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function Xqe(n,e){return n.has(e)}var Qqe=1,Jqe=2;function HX(n,e,t,i,s,o){var r=t&Qqe,a=n.length,l=e.length;if(a!=l&&!(r&&l>a))return!1;var c=o.get(n),u=o.get(e);if(c&&u)return c==e&&u==n;var d=-1,h=!0,f=t&Jqe?new X6:void 0;for(o.set(n,e),o.set(e,n);++d<a;){var p=n[d],m=e[d];if(i)var b=r?i(m,p,d,e,n,o):i(p,m,d,n,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(f){if(!Zqe(e,function(w,y){if(!Xqe(f,y)&&(p===w||s(p,w,t,i,o)))return f.push(y)})){h=!1;break}}else if(!(p===m||s(p,m,t,i,o))){h=!1;break}}return o.delete(n),o.delete(e),h}function eGe(n){var e=-1,t=Array(n.size);return n.forEach(function(i,s){t[++e]=[s,i]}),t}function tGe(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var iGe=1,nGe=2,sGe="[object Boolean]",oGe="[object Date]",rGe="[object Error]",aGe="[object Map]",lGe="[object Number]",cGe="[object RegExp]",uGe="[object Set]",dGe="[object String]",hGe="[object Symbol]",fGe="[object ArrayBuffer]",gGe="[object DataView]",mz=Gu?Gu.prototype:void 0,_E=mz?mz.valueOf:void 0;function pGe(n,e,t,i,s,o,r){switch(t){case gGe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case fGe:return!(n.byteLength!=e.byteLength||!o(new Z6(n),new Z6(e)));case sGe:case oGe:case lGe:return WR(+n,+e);case rGe:return n.name==e.name&&n.message==e.message;case cGe:case dGe:return n==e+"";case aGe:var a=eGe;case uGe:var l=i&iGe;if(a||(a=tGe),n.size!=e.size&&!l)return!1;var c=r.get(n);if(c)return c==e;i|=nGe,r.set(n,e);var u=HX(a(n),a(e),i,s,o,r);return r.delete(n),u;case hGe:if(_E)return _E.call(n)==_E.call(e)}return!1}var mGe=1,_Ge=Object.prototype,vGe=_Ge.hasOwnProperty;function bGe(n,e,t,i,s,o){var r=t&mGe,a=C9(n),l=a.length,c=C9(e),u=c.length;if(l!=u&&!r)return!1;for(var d=l;d--;){var h=a[d];if(!(r?h in e:vGe.call(e,h)))return!1}var f=o.get(n),p=o.get(e);if(f&&p)return f==e&&p==n;var m=!0;o.set(n,e),o.set(e,n);for(var b=r;++d<l;){h=a[d];var w=n[h],y=e[h];if(i)var L=r?i(y,w,h,e,n,o):i(w,y,h,n,e,o);if(!(L===void 0?w===y||s(w,y,t,i,o):L)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var D=n.constructor,E=e.constructor;D!=E&&"constructor"in n&&"constructor"in e&&!(typeof D=="function"&&D instanceof D&&typeof E=="function"&&E instanceof E)&&(m=!1)}return o.delete(n),o.delete(e),m}var CGe=1,_z="[object Arguments]",vz="[object Array]",mS="[object Object]",wGe=Object.prototype,bz=wGe.hasOwnProperty;function yGe(n,e,t,i,s,o){var r=Ih(n),a=Ih(e),l=r?vz:zC(n),c=a?vz:zC(e);l=l==_z?mS:l,c=c==_z?mS:c;var u=l==mS,d=c==mS,h=l==c;if(h&&Y6(n)){if(!Y6(e))return!1;r=!0,u=!1}if(h&&!u)return o||(o=new wh),r||kX(n)?HX(n,e,t,i,s,o):pGe(n,e,l,t,i,s,o);if(!(t&CGe)){var f=u&&bz.call(n,"__wrapped__"),p=d&&bz.call(e,"__wrapped__");if(f||p){var m=f?n.value():n,b=p?e.value():e;return o||(o=new wh),s(m,b,t,i,o)}}return h?(o||(o=new wh),bGe(n,e,t,i,s,o)):!1}function $X(n,e,t,i,s){return n===e?!0:n==null||e==null||!vg(n)&&!vg(e)?n!==n&&e!==e:yGe(n,e,t,i,$X,s)}var SGe=function(){return Yc.Date.now()},vE=SGe,LGe="Expected a function",xGe=Math.max,DGe=Math.min;function Cz(n,e,t){var i,s,o,r,a,l,c=0,u=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(LGe);e=G$(e)||0,Yu(t)&&(u=!!t.leading,d="maxWait"in t,o=d?xGe(G$(t.maxWait)||0,e):o,h="trailing"in t?!!t.trailing:h);function f(T){var x=i,k=s;return i=s=void 0,c=T,r=n.apply(k,x),r}function p(T){return c=T,a=setTimeout(w,e),u?f(T):r}function m(T){var x=T-l,k=T-c,N=e-x;return d?DGe(N,o-k):N}function b(T){var x=T-l,k=T-c;return l===void 0||x>=e||x<0||d&&k>=o}function w(){var T=vE();if(b(T))return y(T);a=setTimeout(w,m(T))}function y(T){return a=void 0,h&&i?f(T):(i=s=void 0,r)}function L(){a!==void 0&&clearTimeout(a),c=0,i=l=s=a=void 0}function D(){return a===void 0?r:y(vE())}function E(){var T=vE(),x=b(T);if(i=arguments,s=this,l=T,x){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(w,e),f(l)}return a===void 0&&(a=setTimeout(w,e)),r}return E.cancel=L,E.flush=D,E}function zX(n){for(var e=-1,t=n==null?0:n.length,i={};++e<t;){var s=n[e];i[s[0]]=s[1]}return i}function L9(n,e){return $X(n,e)}function Sx(n){return n==null}function kGe(n,e,t,i){if(!Yu(n))return n;e=TX(e,n);for(var s=-1,o=e.length,r=o-1,a=n;a!=null&&++s<o;){var l=NX(e[s]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=r){var u=a[l];c=i?i(u,l,a):void 0,c===void 0&&(c=Yu(u)?u:CX(e[s+1])?[]:{})}HR(a,l,c),a=a[l]}return n}function EGe(n,e,t){return n==null?n:kGe(n,e,t)}const J3=function(n,e,...t){let i;e.includes("mouse")||e.includes("click")?i="MouseEvents":e.includes("key")?i="KeyboardEvent":i="HTMLEvents";const s=document.createEvent(i);return s.initEvent(e,...t),n.dispatchEvent(s),n},IGe=(n,e,t,i=!1)=>{n&&e&&t&&(n==null||n.addEventListener(e,t,i))},TGe=(n,e,t,i=!1)=>{n&&e&&t&&(n==null||n.removeEventListener(e,t,i))},eo=(n,e,{checkForDefaultPrevented:t=!0}={})=>s=>{const o=n==null?void 0:n(s);if(t===!1||!o)return e==null?void 0:e(s)},wz=n=>e=>e.pointerType==="mouse"?n(e):void 0;function Lx(n){return Npe()?(UY(n),!0):!1}var yz;const Ls=typeof window!="undefined",Y1=n=>typeof n=="boolean",Fr=n=>typeof n=="number",NGe=n=>typeof n=="string",bE=()=>{};Ls&&((yz=window==null?void 0:window.navigator)==null?void 0:yz.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function UX(n,e){function t(...i){n(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})}return t}function MGe(n,e={}){let t,i;return o=>{const r=B(n),a=B(e.maxWait);if(t&&clearTimeout(t),r<=0||a!==void 0&&a<=0)return i&&(clearTimeout(i),i=null),o();a&&!i&&(i=setTimeout(()=>{t&&clearTimeout(t),i=null,o()},a)),t=setTimeout(()=>{i&&clearTimeout(i),i=null,o()},r)}}function AGe(n,e=!0,t=!0){let i=0,s,o=!0;const r=()=>{s&&(clearTimeout(s),s=void 0)};return l=>{const c=B(n),u=Date.now()-i;if(r(),c<=0)return i=Date.now(),l();u>c&&(t||!o)?(i=Date.now(),l()):e&&(s=setTimeout(()=>{i=Date.now(),o=!0,r(),l()},c)),!t&&!s&&(s=setTimeout(()=>o=!0,c)),o=!1}}function RGe(n,e=200,t={}){return UX(MGe(e,t),n)}function OGe(n,e,t={}){if(e<=0)return n;const i=ze(n.value),s=RGe(()=>{i.value=n.value},e,t);return $t(n,()=>s()),i}function f9t(n,e,t=!0,i=!0){return UX(AGe(e,t,i),n)}function UC(n,e,t={}){const{immediate:i=!0}=t,s=ze(!1);let o=null;function r(){o&&(clearTimeout(o),o=null)}function a(){s.value=!1,r()}function l(...c){r(),s.value=!0,o=setTimeout(()=>{s.value=!1,o=null,n(...c)},B(e))}return i&&(s.value=!0,Ls&&l()),Lx(a),{isPending:s,start:l,stop:a}}function cm(n){var e;const t=B(n);return(e=t==null?void 0:t.$el)!=null?e:t}const YR=Ls?window:void 0;function um(...n){let e,t,i,s;if(NGe(n[0])?([t,i,s]=n,e=YR):[e,t,i,s]=n,!e)return bE;let o=bE;const r=$t(()=>cm(e),l=>{o(),l&&(l.addEventListener(t,i,s),o=()=>{l.removeEventListener(t,i,s),o=bE})},{immediate:!0,flush:"post"}),a=()=>{r(),o()};return Lx(a),a}function PGe(n,e,t={}){const{window:i=YR,ignore:s,capture:o=!0}=t;if(!i)return;const r=ze(!0);let a;const l=d=>{i.clearTimeout(a);const h=cm(n),f=d.composedPath();!h||h===d.target||f.includes(h)||!r.value||s&&s.length>0&&s.some(p=>{const m=cm(p);return m&&(d.target===m||f.includes(m))})||e(d)},c=[um(i,"click",l,{passive:!0,capture:o}),um(i,"pointerdown",d=>{const h=cm(n);r.value=!!h&&!d.composedPath().includes(h)},{passive:!0}),um(i,"pointerup",d=>{a=i.setTimeout(()=>l(d),50)},{passive:!0})];return()=>c.forEach(d=>d())}const x9=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},D9="__vueuse_ssr_handlers__";x9[D9]=x9[D9]||{};x9[D9];var Sz=Object.getOwnPropertySymbols,FGe=Object.prototype.hasOwnProperty,BGe=Object.prototype.propertyIsEnumerable,VGe=(n,e)=>{var t={};for(var i in n)FGe.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Sz)for(var i of Sz(n))e.indexOf(i)<0&&BGe.call(n,i)&&(t[i]=n[i]);return t};function ZR(n,e,t={}){const i=t,{window:s=YR}=i,o=VGe(i,["window"]);let r;const a=s&&"ResizeObserver"in s,l=()=>{r&&(r.disconnect(),r=void 0)},c=$t(()=>cm(n),d=>{l(),a&&s&&d&&(r=new ResizeObserver(e),r.observe(d,o))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return Lx(u),{isSupported:a,stop:u}}var Lz;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Lz||(Lz={}));const WGe=function(n){for(const e of n){const t=e.target.__resizeListeners__||[];t.length&&t.forEach(i=>{i()})}},XR=function(n,e){!Ls||!n||(n.__resizeListeners__||(n.__resizeListeners__=[],n.__ro__=new ResizeObserver(WGe),n.__ro__.observe(n)),n.__resizeListeners__.push(e))},QR=function(n,e){var t;!n||!n.__resizeListeners__||(n.__resizeListeners__.splice(n.__resizeListeners__.indexOf(e),1),n.__resizeListeners__.length||(t=n.__ro__)==null||t.disconnect())},k9=n=>n===void 0,Tm=n=>typeof Element=="undefined"?!1:n instanceof Element,HGe=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),xz=n=>Object.keys(n),CE=(n,e,t)=>({get value(){return Wa(n,e,t)},set value(i){EGe(n,e,i)}});class $Ge extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Nm(n,e){throw new $Ge(`[${n}] ${e}`)}function g9t(n,e){}const jX=(n="")=>n.split(" ").filter(e=>!!e.trim()),E9=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)},qp=(n,e)=>{!n||!e.trim()||n.classList.add(...jX(e))},ig=(n,e)=>{!n||!e.trim()||n.classList.remove(...jX(e))},Of=(n,e)=>{var t;if(!Ls||!n||!e)return"";let i=Vc(e);i==="float"&&(i="cssFloat");try{const s=n.style[i];if(s)return s;const o=(t=document.defaultView)==null?void 0:t.getComputedStyle(n,"");return o?o[i]:""}catch{return n.style[i]}};function bg(n,e="px"){if(!n)return"";if(Ai(n))return n;if(Fr(n))return`${n}${e}`}const zGe=(n,e)=>{if(!Ls)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],i=Of(n,t);return["scroll","auto","overlay"].some(s=>i.includes(s))},p9t=(n,e)=>{if(!Ls)return;let t=n;for(;t;){if([window,document,document.documentElement].includes(t))return window;if(zGe(t,e))return t;t=t.parentNode}return t};let _S;const UGe=()=>{var n;if(!Ls)return 0;if(_S!==void 0)return _S;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",e.appendChild(i);const s=i.offsetWidth;return(n=e.parentNode)==null||n.removeChild(e),_S=t-s,_S};function jGe(n,e){if(!Ls)return;if(!e){n.scrollTop=0;return}const t=[];let i=e.offsetParent;for(;i!==null&&n!==i&&n.contains(i);)t.push(i),i=i.offsetParent;const s=e.offsetTop+t.reduce((l,c)=>l+c.offsetTop,0),o=s+e.offsetHeight,r=n.scrollTop,a=r+n.clientHeight;s<r?n.scrollTop=s:o>a&&(n.scrollTop=o-n.clientHeight)}const KX="__epPropKey",ti=n=>n,KGe=n=>tn(n)&&!!n[KX],xx=(n,e)=>{if(!tn(n)||KGe(n))return n;const{values:t,required:i,default:s,type:o,validator:r}=n,l={type:o,required:!!i,validator:t||r?c=>{let u=!1,d=[];if(t&&(d=Array.from(t),Gi(n,"default")&&d.push(s),u||(u=d.includes(c))),r&&(u||(u=r(c))),!u&&d.length>0){const h=[...new Set(d)].map(f=>JSON.stringify(f)).join(", ");lme(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[KX]:!0};return Gi(n,"default")&&(l.default=s),l},fn=n=>zX(Object.entries(n).map(([e,t])=>[e,xx(t,e)])),Mm=ti([String,Object,Function]),qGe={Close:VC},GGe={Close:VC,SuccessFilled:PR,InfoFilled:RR,WarningFilled:FR,CircleCloseFilled:AR},Dz={success:PR,warning:FR,error:AR,info:RR},YGe={validating:OR,success:JZ,error:mx},er=(n,e)=>{if(n.install=t=>{for(const i of[n,...Object.values(e!=null?e:{})])t.component(i.name,i)},e)for(const[t,i]of Object.entries(e))n[t]=i;return n},ZGe=(n,e)=>(n.install=t=>{n._context=t._context,t.config.globalProperties[e]=n},n),pl=n=>(n.install=Zo,n),JR=(...n)=>e=>{n.forEach(t=>{oi(t)?t(e):t.value=e})},ji={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},ja="update:modelValue",qX="change",xy=["","default","small","large"],XGe={large:40,default:32,small:24},QGe=n=>XGe[n||"default"],JGe=n=>["",...xy].includes(n);var e6=(n=>(n[n.TEXT=1]="TEXT",n[n.CLASS=2]="CLASS",n[n.STYLE=4]="STYLE",n[n.PROPS=8]="PROPS",n[n.FULL_PROPS=16]="FULL_PROPS",n[n.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",n[n.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",n[n.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",n[n.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",n[n.NEED_PATCH=512]="NEED_PATCH",n[n.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",n[n.HOISTED=-1]="HOISTED",n[n.BAIL=-2]="BAIL",n))(e6||{});const GX=n=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(n),eYe=()=>Math.floor(Math.random()*1e4),Op=n=>n,tYe=["class","style"],iYe=/^on[A-Z]/,nYe=(n={})=>{const{excludeListeners:e=!1,excludeKeys:t}=n,i=fe(()=>((t==null?void 0:t.value)||[]).concat(tYe)),s=Do();return fe(s?()=>{var o;return zX(Object.entries((o=s.proxy)==null?void 0:o.$attrs).filter(([r])=>!i.value.includes(r)&&!(e&&iYe.test(r))))}:()=>({}))},YX=Symbol("buttonGroupContextKey"),ZX=Symbol(),XX=Symbol("dialogInjectionKey"),C_=Symbol("formContextKey"),Cg=Symbol("formItemContextKey"),QX=Symbol("rowContextKey"),JX=Symbol("scrollbarContextKey"),eO=Symbol("popper"),eQ=Symbol("popperContent"),tQ=n=>{const e=Do();return fe(()=>{var t,i;return(i=((t=e.proxy)==null?void 0:t.$props)[n])!=null?i:void 0})},Q6=ze();function w_(n,e=void 0){const t=Do()?Wt(ZX,Q6):Q6;return n?fe(()=>{var i,s;return(s=(i=t.value)==null?void 0:i[n])!=null?s:e}):t}const sYe=(n,e,t=!1)=>{var i;const s=!!Do(),o=s?w_():void 0,r=(i=e==null?void 0:e.provide)!=null?i:s?Hn:void 0;if(!r)return;const a=fe(()=>{const l=B(n);return o!=null&&o.value?oYe(o.value,l):l});return r(ZX,a),(t||!Q6.value)&&(Q6.value=a.value),a},oYe=(n,e)=>{var t;const i=[...new Set([...xz(n),...xz(e)])],s={};for(const o of i)s[o]=(t=e[o])!=null?t:n[o];return s},tO=xx({type:String,values:xy,required:!1}),y_=(n,e={})=>{const t=ze(void 0),i=e.prop?t:tQ("size"),s=e.global?t:w_("size"),o=e.form?{size:void 0}:Wt(C_,void 0),r=e.formItem?{size:void 0}:Wt(Cg,void 0);return fe(()=>i.value||B(n)||(r==null?void 0:r.size)||(o==null?void 0:o.size)||s.value||"")},iO=n=>{const e=tQ("disabled"),t=Wt(C_,void 0);return fe(()=>e.value||B(n)||(t==null?void 0:t.disabled)||!1)},iQ=({from:n,replacement:e,scope:t,version:i,ref:s,type:o},r)=>{$t(()=>B(r),a=>{},{immediate:!0})},rYe=(n,e,t)=>{let i={offsetX:0,offsetY:0};const s=a=>{const l=a.clientX,c=a.clientY,{offsetX:u,offsetY:d}=i,h=n.value.getBoundingClientRect(),f=h.left,p=h.top,m=h.width,b=h.height,w=document.documentElement.clientWidth,y=document.documentElement.clientHeight,L=-f+u,D=-p+d,E=w-f-m+u,T=y-p-b+d,x=N=>{const V=Math.min(Math.max(u+N.clientX-l,L),E),H=Math.min(Math.max(d+N.clientY-c,D),T);i={offsetX:V,offsetY:H},n.value.style.transform=`translate(${bg(V)}, ${bg(H)})`},k=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",k)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",k)},o=()=>{e.value&&n.value&&e.value.addEventListener("mousedown",s)},r=()=>{e.value&&n.value&&e.value.removeEventListener("mousedown",s)};Ds(()=>{xme(()=>{t.value?o():r()})}),xo(()=>{r()})},aYe=n=>({focus:()=>{var e,t;(t=(e=n.value)==null?void 0:e.focus)==null||t.call(e)}}),lYe={prefix:Math.floor(Math.random()*1e4),current:0},cYe=Symbol("elIdInjection"),Am=n=>{const e=Wt(cYe,lYe);return fe(()=>B(n)||`el-id-${e.prefix}-${e.current++}`)},nQ=()=>{const n=Wt(C_,void 0),e=Wt(Cg,void 0);return{form:n,formItem:e}},uYe=(n,{formItemContext:e,disableIdGeneration:t,disableIdManagement:i})=>{t||(t=ze(!1)),i||(i=ze(!1));const s=ze();let o;const r=fe(()=>{var a;return!!(!n.label&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return Ds(()=>{o=$t([_r(n,"id"),t],([a,l])=>{const c=a!=null?a:l?void 0:Am().value;c!==s.value&&(e!=null&&e.removeInputId&&(s.value&&e.removeInputId(s.value),!(i!=null&&i.value)&&!l&&c&&e.addInputId(c)),s.value=c)},{immediate:!0})}),yy(()=>{o&&o(),e!=null&&e.removeInputId&&s.value&&e.removeInputId(s.value)}),{isLabeledByFormItem:r,inputId:s}};var dYe={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const hYe=n=>(e,t)=>fYe(e,t,B(n)),fYe=(n,e,t)=>Wa(t,n,n).replace(/\{(\w+)\}/g,(i,s)=>{var o;return`${(o=e==null?void 0:e[s])!=null?o:`{${s}}`}`}),gYe=n=>{const e=fe(()=>B(n).name),t=Zn(n)?n:ze(n);return{lang:e,locale:t,t:hYe(n)}},Gv=()=>{const n=w_("locale");return gYe(fe(()=>n.value||dYe))},pYe=n=>{if(Zn(n)||Nm("[useLockscreen]","You need to pass a ref param to this function"),!Ls||E9(document.body,"el-popup-parent--hidden"))return;let e=0,t=!1,i="0",s=0;const o=()=>{ig(document.body,"el-popup-parent--hidden"),t&&(document.body.style.paddingRight=i)};$t(n,r=>{if(!r){o();return}t=!E9(document.body,"el-popup-parent--hidden"),t&&(i=document.body.style.paddingRight,s=Number.parseInt(Of(document.body,"paddingRight"),10)),e=UGe();const a=document.documentElement.clientHeight<document.body.scrollHeight,l=Of(document.body,"overflowY");e>0&&(a||l==="scroll")&&t&&(document.body.style.paddingRight=`${s+e}px`),qp(document.body,"el-popup-parent--hidden")}),UY(()=>o())},mYe=xx({type:ti(Boolean),default:null}),_Ye=xx({type:ti(Function)}),vYe=n=>{const e=`update:${n}`,t=`onUpdate:${n}`,i=[e],s={[n]:mYe,[t]:_Ye};return{useModelToggle:({indicator:r,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const h=Do(),{emit:f}=h,p=h.props,m=fe(()=>oi(p[t])),b=fe(()=>p[n]===null),w=x=>{r.value!==!0&&(r.value=!0,a&&(a.value=x),oi(u)&&u(x))},y=x=>{r.value!==!1&&(r.value=!1,a&&(a.value=x),oi(d)&&d(x))},L=x=>{if(p.disabled===!0||oi(c)&&!c())return;const k=m.value&&Ls;k&&f(e,!0),(b.value||!k)&&w(x)},D=x=>{if(p.disabled===!0||!Ls)return;const k=m.value&&Ls;k&&f(e,!1),(b.value||!k)&&y(x)},E=x=>{!Y1(x)||(p.disabled&&x?m.value&&f(e,!1):r.value!==x&&(x?w():y()))},T=()=>{r.value?D():L()};return $t(()=>p[n],E),l&&h.appContext.config.globalProperties.$route!==void 0&&$t(()=>It({},h.proxy.$route),()=>{l.value&&r.value&&D()}),Ds(()=>{E(p[n])}),{hide:D,show:L,toggle:T}},useModelToggleProps:s,useModelToggleEmits:i}},sQ=n=>{if(!n)return{onClick:Zo,onMousedown:Zo,onMouseup:Zo};let e=!1,t=!1;return{onClick:r=>{e&&t&&n(r),e=t=!1},onMousedown:r=>{e=r.target===r.currentTarget},onMouseup:r=>{t=r.target===r.currentTarget}}};function bYe(){let n;const e=(i,s)=>{t(),n=window.setTimeout(i,s)},t=()=>window.clearTimeout(n);return Lx(()=>t()),{registerTimeout:e,cancelTimeout:t}}let s0=[];const CYe=n=>{const e=t=>{const i=t;i.key===ji.esc&&s0.forEach(s=>s(i))};Ds(()=>{s0.length===0&&document.addEventListener("keydown",e),Ls&&s0.push(n)}),xo(()=>{s0=s0.filter(t=>t!==n),s0.length===0&&Ls&&document.removeEventListener("keydown",e)})};let kz;const oQ=`el-popper-container-${eYe()}`,rQ=`#${oQ}`,wYe=()=>{const n=document.createElement("div");return n.id=oQ,document.body.appendChild(n),n},yYe=()=>{wZ(()=>{!Ls||(!kz||!document.body.querySelector(rQ))&&(kz=wYe())})},SYe=fn({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),LYe=({showAfter:n,hideAfter:e,open:t,close:i})=>{const{registerTimeout:s}=bYe();return{onOpen:a=>{s(()=>{t(a)},B(n))},onClose:a=>{s(()=>{i(a)},B(e))}}},aQ=Symbol("elForwardRef"),xYe=n=>{Hn(aQ,{setForwardRef:t=>{n.value=t}})},DYe=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),lQ="el",kYe="is-",_p=(n,e,t,i,s)=>{let o=`${n}-${e}`;return t&&(o+=`-${t}`),i&&(o+=`__${i}`),s&&(o+=`--${s}`),o},li=n=>{const e=w_("namespace"),t=fe(()=>e.value||lQ);return{namespace:t,b:(m="")=>_p(B(t),n,m,"",""),e:m=>m?_p(B(t),n,"",m,""):"",m:m=>m?_p(B(t),n,"","",m):"",be:(m,b)=>m&&b?_p(B(t),n,m,b,""):"",em:(m,b)=>m&&b?_p(B(t),n,"",m,b):"",bm:(m,b)=>m&&b?_p(B(t),n,m,"",b):"",bem:(m,b,w)=>m&&b&&w?_p(B(t),n,m,b,w):"",is:(m,...b)=>{const w=b.length>=1?b[0]:!0;return m&&w?`${kYe}${m}`:""},cssVar:m=>{const b={};for(const w in m)b[`--${t.value}-${w}`]=m[w];return b},cssVarName:m=>`--${t.value}-${m}`,cssVarBlock:m=>{const b={};for(const w in m)b[`--${t.value}-${n}-${w}`]=m[w];return b},cssVarBlockName:m=>`--${t.value}-${n}-${m}`}},Ez=ze(0),Dx=()=>{const n=w_("zIndex",2e3),e=fe(()=>n.value+Ez.value);return{initialZIndex:n,currentZIndex:e,nextZIndex:()=>(Ez.value++,e.value)}};function EYe(n){const e=ze();function t(){if(n.value==null)return;const{selectionStart:s,selectionEnd:o,value:r}=n.value;if(s==null||o==null)return;const a=r.slice(0,Math.max(0,s)),l=r.slice(Math.max(0,o));e.value={selectionStart:s,selectionEnd:o,value:r,beforeTxt:a,afterTxt:l}}function i(){if(n.value==null||e.value==null)return;const{value:s}=n.value,{beforeTxt:o,afterTxt:r,selectionStart:a}=e.value;if(o==null||r==null||a==null)return;let l=s.length;if(s.endsWith(r))l=s.length-r.length;else if(s.startsWith(o))l=o.length;else{const c=o[a-1],u=s.indexOf(c,a-1);u!==-1&&(l=u+1)}n.value.setSelectionRange(l,l)}return[t,i]}var hi=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t};const IYe=fn({size:{type:ti([Number,String])},color:{type:String}}),TYe={name:"ElIcon",inheritAttrs:!1},NYe=Ht(Di(It({},TYe),{props:IYe,setup(n){const e=n,t=li("icon"),i=fe(()=>!e.size&&!e.color?{}:{fontSize:k9(e.size)?void 0:bg(e.size),"--color":e.color});return(s,o)=>(O(),W("i",pa({class:B(t).b(),style:B(i)},s.$attrs),[xt(s.$slots,"default")],16))}}));var MYe=hi(NYe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ws=er(MYe);let dc;const AYe=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,RYe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function OYe(n){const e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing"),i=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),s=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:RYe.map(r=>`${r}:${e.getPropertyValue(r)}`).join(";"),paddingSize:i,borderSize:s,boxSizing:t}}function Iz(n,e=1,t){var i;dc||(dc=document.createElement("textarea"),document.body.appendChild(dc));const{paddingSize:s,borderSize:o,boxSizing:r,contextStyle:a}=OYe(n);dc.setAttribute("style",`${a};${AYe}`),dc.value=n.value||n.placeholder||"";let l=dc.scrollHeight;const c={};r==="border-box"?l=l+o:r==="content-box"&&(l=l-s),dc.value="";const u=dc.scrollHeight-s;if(Fr(e)){let d=u*e;r==="border-box"&&(d=d+s+o),l=Math.max(d,l),c.minHeight=`${d}px`}if(Fr(t)){let d=u*t;r==="border-box"&&(d=d+s+o),l=Math.min(d,l)}return c.height=`${l}px`,(i=dc.parentNode)==null||i.removeChild(dc),dc=void 0,c}const PYe=fn({id:{type:String,default:void 0},size:tO,disabled:Boolean,modelValue:{type:ti([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ti([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Mm,default:""},prefixIcon:{type:Mm,default:""},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ti([Object,Array,String]),default:()=>Op({})}}),FYe={[ja]:n=>Ai(n),input:n=>Ai(n),change:n=>Ai(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},BYe=["role"],VYe=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],WYe=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],HYe={name:"ElInput",inheritAttrs:!1},$Ye=Ht(Di(It({},HYe),{props:PYe,emits:FYe,setup(n,{expose:e,emit:t}){const i=n,s={suffix:"append",prefix:"prepend"},o=Do(),r=__e(),a=Ly(),l=fe(()=>{const R={};return i.containerRole==="combobox"&&(R["aria-haspopup"]=r["aria-haspopup"],R["aria-owns"]=r["aria-owns"],R["aria-expanded"]=r["aria-expanded"]),R}),c=nYe({excludeKeys:fe(()=>Object.keys(l.value))}),{form:u,formItem:d}=nQ(),{inputId:h}=uYe(i,{formItemContext:d}),f=y_(),p=iO(),m=li("input"),b=li("textarea"),w=_1(),y=_1(),L=ze(!1),D=ze(!1),E=ze(!1),T=ze(!1),x=ze(),k=_1(i.inputStyle),N=fe(()=>w.value||y.value),V=fe(()=>{var R;return(R=u==null?void 0:u.statusIcon)!=null?R:!1}),H=fe(()=>(d==null?void 0:d.validateState)||""),G=fe(()=>YGe[H.value]),te=fe(()=>T.value?nX:eX),ae=fe(()=>[r.style,i.inputStyle]),me=fe(()=>[i.inputStyle,k.value,{resize:i.resize}]),we=fe(()=>Sx(i.modelValue)?"":String(i.modelValue)),be=fe(()=>i.clearable&&!p.value&&!i.readonly&&!!we.value&&(L.value||D.value)),Me=fe(()=>i.showPassword&&!p.value&&!i.readonly&&(!!we.value||L.value)),He=fe(()=>i.showWordLimit&&!!c.value.maxlength&&(i.type==="text"||i.type==="textarea")&&!p.value&&!i.readonly&&!i.showPassword),mt=fe(()=>Array.from(we.value).length),ot=fe(()=>!!He.value&&mt.value>Number(c.value.maxlength)),De=fe(()=>!!a.suffix||!!i.suffixIcon||be.value||i.showPassword||He.value||!!H.value&&V.value),[pe,_t]=EYe(w);ZR(y,R=>{if(!He.value||i.resize!=="both")return;const j=R[0],{width:q}=j.contentRect;x.value={right:`calc(100% - ${q+15+6}px)`}});const _e=()=>{const{type:R,autosize:j}=i;if(!(!Ls||R!=="textarea"))if(j){const q=tn(j)?j.minRows:void 0,ue=tn(j)?j.maxRows:void 0;k.value=It({},Iz(y.value,q,ue))}else k.value={minHeight:Iz(y.value).minHeight}},Ge=()=>{const R=N.value;!R||R.value===we.value||(R.value=we.value)},ye=R=>{const{el:j}=o.vnode;if(!j)return;const ue=Array.from(j.querySelectorAll(`.${m.e(R)}`)).find(Ze=>Ze.parentNode===j);if(!ue)return;const ve=s[R];a[ve]?ue.style.transform=`translateX(${R==="suffix"?"-":""}${j.querySelector(`.${m.be("group",ve)}`).offsetWidth}px)`:ue.removeAttribute("style")},We=()=>{ye("prefix"),ye("suffix")},gt=async R=>{pe();let{value:j}=R.target;i.formatter&&(j=i.parser?i.parser(j):j,j=i.formatter(j)),!E.value&&j!==we.value&&(t(ja,j),t("input",j),await hn(),Ge(),_t())},rt=R=>{t("change",R.target.value)},Fe=R=>{t("compositionstart",R),E.value=!0},ht=R=>{var j;t("compositionupdate",R);const q=(j=R.target)==null?void 0:j.value,ue=q[q.length-1]||"";E.value=!GX(ue)},ee=R=>{t("compositionend",R),E.value&&(E.value=!1,gt(R))},le=()=>{T.value=!T.value,Ce()},Ce=async()=>{var R;await hn(),(R=N.value)==null||R.focus()},$e=()=>{var R;return(R=N.value)==null?void 0:R.blur()},Be=R=>{L.value=!0,t("focus",R)},tt=R=>{var j;L.value=!1,t("blur",R),i.validateEvent&&((j=d==null?void 0:d.validate)==null||j.call(d,"blur").catch(q=>void 0))},ft=R=>{D.value=!1,t("mouseleave",R)},ie=R=>{D.value=!0,t("mouseenter",R)},X=R=>{t("keydown",R)},Q=()=>{var R;(R=N.value)==null||R.select()},P=()=>{t(ja,""),t("change",""),t("clear"),t("input","")};return $t(()=>i.modelValue,()=>{var R;hn(()=>_e()),i.validateEvent&&((R=d==null?void 0:d.validate)==null||R.call(d,"change").catch(j=>void 0))}),$t(we,()=>Ge()),$t(()=>i.type,async()=>{await hn(),Ge(),_e(),We()}),Ds(async()=>{!i.formatter&&i.parser,Ge(),We(),await hn(),_e()}),hx(async()=>{await hn(),We()}),e({input:w,textarea:y,ref:N,textareaStyle:me,autosize:_r(i,"autosize"),focus:Ce,blur:$e,select:Q,clear:P,resizeTextarea:_e}),(R,j)=>vr((O(),W("div",pa(B(l),{class:[R.type==="textarea"?B(b).b():B(m).b(),B(m).m(B(f)),B(m).is("disabled",B(p)),B(m).is("exceed",B(ot)),{[B(m).b("group")]:R.$slots.prepend||R.$slots.append,[B(m).bm("group","append")]:R.$slots.append,[B(m).bm("group","prepend")]:R.$slots.prepend,[B(m).m("prefix")]:R.$slots.prefix||R.prefixIcon,[B(m).m("suffix")]:R.$slots.suffix||R.suffixIcon||R.clearable||R.showPassword,[B(m).bm("suffix","password-clear")]:B(be)&&B(Me)},R.$attrs.class],style:B(ae),role:R.containerRole,onMouseenter:ie,onMouseleave:ft}),[Mt(" input "),R.type!=="textarea"?(O(),W(Ui,{key:0},[Mt(" prepend slot "),R.$slots.prepend?(O(),W("div",{key:0,class:it(B(m).be("group","prepend"))},[xt(R.$slots,"prepend")],2)):Mt("v-if",!0),M("div",{class:it([B(m).e("wrapper"),B(m).is("focus",L.value)])},[Mt(" prefix slot "),R.$slots.prefix||R.prefixIcon?(O(),W("span",{key:0,class:it(B(m).e("prefix"))},[M("span",{class:it(B(m).e("prefix-inner"))},[xt(R.$slots,"prefix"),R.prefixIcon?(O(),St(B(ws),{key:0,class:it(B(m).e("icon"))},{default:Oe(()=>[(O(),St(Pr(R.prefixIcon)))]),_:1},8,["class"])):Mt("v-if",!0)],2)],2)):Mt("v-if",!0),M("input",pa({id:B(h),ref_key:"input",ref:w,class:B(m).e("inner")},B(c),{type:R.showPassword?T.value?"text":"password":R.type,disabled:B(p),formatter:R.formatter,parser:R.parser,readonly:R.readonly,autocomplete:R.autocomplete,tabindex:R.tabindex,"aria-label":R.label,placeholder:R.placeholder,style:R.inputStyle,onCompositionstart:Fe,onCompositionupdate:ht,onCompositionend:ee,onInput:gt,onFocus:Be,onBlur:tt,onChange:rt,onKeydown:X}),null,16,VYe),Mt(" suffix slot "),B(De)?(O(),W("span",{key:1,class:it(B(m).e("suffix"))},[M("span",{class:it(B(m).e("suffix-inner"))},[!B(be)||!B(Me)||!B(He)?(O(),W(Ui,{key:0},[xt(R.$slots,"suffix"),R.suffixIcon?(O(),St(B(ws),{key:0,class:it(B(m).e("icon"))},{default:Oe(()=>[(O(),St(Pr(R.suffixIcon)))]),_:1},8,["class"])):Mt("v-if",!0)],64)):Mt("v-if",!0),B(be)?(O(),St(B(ws),{key:1,class:it([B(m).e("icon"),B(m).e("clear")]),onMousedown:j[0]||(j[0]=Va(()=>{},["prevent"])),onClick:P},{default:Oe(()=>[Ue(B(mx))]),_:1},8,["class"])):Mt("v-if",!0),B(Me)?(O(),St(B(ws),{key:2,class:it([B(m).e("icon"),B(m).e("password")]),onClick:le},{default:Oe(()=>[(O(),St(Pr(B(te))))]),_:1},8,["class"])):Mt("v-if",!0),B(He)?(O(),W("span",{key:3,class:it(B(m).e("count"))},[M("span",{class:it(B(m).e("count-inner"))},Rn(B(mt))+" / "+Rn(B(c).maxlength),3)],2)):Mt("v-if",!0),B(H)&&B(G)&&B(V)?(O(),St(B(ws),{key:4,class:it([B(m).e("icon"),B(m).e("validateIcon"),B(m).is("loading",B(H)==="validating")])},{default:Oe(()=>[(O(),St(Pr(B(G))))]),_:1},8,["class"])):Mt("v-if",!0)],2)],2)):Mt("v-if",!0)],2),Mt(" append slot "),R.$slots.append?(O(),W("div",{key:1,class:it(B(m).be("group","append"))},[xt(R.$slots,"append")],2)):Mt("v-if",!0)],64)):(O(),W(Ui,{key:1},[Mt(" textarea "),M("textarea",pa({id:B(h),ref_key:"textarea",ref:y,class:B(b).e("inner")},B(c),{tabindex:R.tabindex,disabled:B(p),readonly:R.readonly,autocomplete:R.autocomplete,style:B(me),"aria-label":R.label,placeholder:R.placeholder,onCompositionstart:Fe,onCompositionupdate:ht,onCompositionend:ee,onInput:gt,onFocus:Be,onBlur:tt,onChange:rt,onKeydown:X}),null,16,WYe),B(He)?(O(),W("span",{key:0,style:kn(x.value),class:it(B(m).e("count"))},Rn(B(mt))+" / "+Rn(B(c).maxlength),7)):Mt("v-if",!0)],64))],16,BYe)),[[Gc,R.type!=="hidden"]])}}));var zYe=hi($Ye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const nO=er(zYe),U0=4,UYe={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},jYe=({move:n,size:e,bar:t})=>({[t.size]:e,transform:`translate${t.axis}(${n}%)`}),KYe=fn({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),qYe=Ht({props:KYe,setup(n){const e=n,t="Thumb",i=Wt(JX),s=li("scrollbar");i||Nm(t,"can not inject scrollbar context");const o=ze(),r=ze(),a=ze({}),l=ze(!1);let c=!1,u=!1,d=Ls?document.onselectstart:null;const h=fe(()=>UYe[e.vertical?"vertical":"horizontal"]),f=fe(()=>jYe({size:e.size,move:e.move,bar:h.value})),p=fe(()=>o.value[h.value.offset]**2/i.wrapElement[h.value.scrollSize]/e.ratio/r.value[h.value.offset]),m=x=>{var k;if(x.stopPropagation(),x.ctrlKey||[1,2].includes(x.button))return;(k=window.getSelection())==null||k.removeAllRanges(),w(x);const N=x.currentTarget;!N||(a.value[h.value.axis]=N[h.value.offset]-(x[h.value.client]-N.getBoundingClientRect()[h.value.direction]))},b=x=>{if(!r.value||!o.value||!i.wrapElement)return;const k=Math.abs(x.target.getBoundingClientRect()[h.value.direction]-x[h.value.client]),N=r.value[h.value.offset]/2,V=(k-N)*100*p.value/o.value[h.value.offset];i.wrapElement[h.value.scroll]=V*i.wrapElement[h.value.scrollSize]/100},w=x=>{x.stopImmediatePropagation(),c=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",L),d=document.onselectstart,document.onselectstart=()=>!1},y=x=>{if(!o.value||!r.value||c===!1)return;const k=a.value[h.value.axis];if(!k)return;const N=(o.value.getBoundingClientRect()[h.value.direction]-x[h.value.client])*-1,V=r.value[h.value.offset]-k,H=(N-V)*100*p.value/o.value[h.value.offset];i.wrapElement[h.value.scroll]=H*i.wrapElement[h.value.scrollSize]/100},L=()=>{c=!1,a.value[h.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",L),T(),u&&(l.value=!1)},D=()=>{u=!1,l.value=!!e.size},E=()=>{u=!0,l.value=c};xo(()=>{T(),document.removeEventListener("mouseup",L)});const T=()=>{document.onselectstart!==d&&(document.onselectstart=d)};return um(_r(i,"scrollbarElement"),"mousemove",D),um(_r(i,"scrollbarElement"),"mouseleave",E),(x,k)=>(O(),St(gl,{name:B(s).b("fade")},{default:Oe(()=>[vr(M("div",{ref_key:"instance",ref:o,class:it([B(s).e("bar"),B(s).is(B(h).key)]),onMousedown:b},[M("div",{ref_key:"thumb",ref:r,class:it(B(s).e("thumb")),style:kn(B(f)),onMousedown:m},null,38)],34),[[Gc,x.always||l.value]])]),_:1},8,["name"]))}});var Tz=hi(qYe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const GYe=fn({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),YYe=Ht({props:GYe,setup(n,{expose:e}){const t=n,i=ze(0),s=ze(0);return e({handleScroll:r=>{if(r){const a=r.offsetHeight-U0,l=r.offsetWidth-U0;s.value=r.scrollTop*100/a*t.ratioY,i.value=r.scrollLeft*100/l*t.ratioX}}}),(r,a)=>(O(),W(Ui,null,[Ue(Tz,{move:i.value,ratio:r.ratioX,size:r.width,always:r.always},null,8,["move","ratio","size","always"]),Ue(Tz,{move:s.value,ratio:r.ratioY,size:r.height,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var ZYe=hi(YYe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const XYe=fn({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:ti([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),QYe={scroll:({scrollTop:n,scrollLeft:e})=>Fr(n)&&Fr(e)},JYe={name:"ElScrollbar"},eZe=Ht(Di(It({},JYe),{props:XYe,emits:QYe,setup(n,{expose:e,emit:t}){const i=n,s=li("scrollbar");let o,r;const a=ze(),l=ze(),c=ze(),u=ze("0"),d=ze("0"),h=ze(),f=ze(1),p=ze(1),m=fe(()=>{const E={};return i.height&&(E.height=bg(i.height)),i.maxHeight&&(E.maxHeight=bg(i.maxHeight)),[i.wrapStyle,E]}),b=()=>{var E;l.value&&((E=h.value)==null||E.handleScroll(l.value),t("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function w(E,T){tn(E)?l.value.scrollTo(E):Fr(E)&&Fr(T)&&l.value.scrollTo(E,T)}const y=E=>{!Fr(E)||(l.value.scrollTop=E)},L=E=>{!Fr(E)||(l.value.scrollLeft=E)},D=()=>{if(!l.value)return;const E=l.value.offsetHeight-U0,T=l.value.offsetWidth-U0,x=E**2/l.value.scrollHeight,k=T**2/l.value.scrollWidth,N=Math.max(x,i.minSize),V=Math.max(k,i.minSize);f.value=x/(E-x)/(N/(E-N)),p.value=k/(T-k)/(V/(T-V)),d.value=N+U0<E?`${N}px`:"",u.value=V+U0<T?`${V}px`:""};return $t(()=>i.noresize,E=>{E?(o==null||o(),r==null||r()):({stop:o}=ZR(c,D),r=um("resize",D))},{immediate:!0}),$t(()=>[i.maxHeight,i.height],()=>{i.native||hn(()=>{var E;D(),l.value&&((E=h.value)==null||E.handleScroll(l.value))})}),Hn(JX,hs({scrollbarElement:a,wrapElement:l})),Ds(()=>{i.native||hn(()=>D())}),hx(()=>D()),e({wrap$:l,update:D,scrollTo:w,setScrollTop:y,setScrollLeft:L,handleScroll:b}),(E,T)=>(O(),W("div",{ref_key:"scrollbar$",ref:a,class:it(B(s).b())},[M("div",{ref_key:"wrap$",ref:l,class:it([E.wrapClass,B(s).e("wrap"),{[B(s).em("wrap","hidden-default")]:!E.native}]),style:kn(B(m)),onScroll:b},[(O(),St(Pr(E.tag),{ref_key:"resize$",ref:c,class:it([B(s).e("view"),E.viewClass]),style:kn(E.viewStyle)},{default:Oe(()=>[xt(E.$slots,"default")]),_:3},8,["class","style"]))],38),E.native?Mt("v-if",!0):(O(),St(ZYe,{key:0,ref_key:"barRef",ref:h,height:d.value,width:u.value,always:E.always,"ratio-x":p.value,"ratio-y":f.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}}));var tZe=hi(eZe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const sO=er(tZe),iZe={LIGHT:"light",DARK:"dark"},cQ=fn({role:{type:String,default:"tooltip"}}),nZe={name:"ElPopperRoot",inheritAttrs:!1},sZe=Ht(Di(It({},nZe),{props:cQ,setup(n,{expose:e}){const t=n,i=ze(),s=ze(),o=ze(),r=ze(),a=fe(()=>t.role),l={triggerRef:i,popperInstanceRef:s,contentRef:o,referenceRef:r,role:a};return e(l),Hn(eO,l),(c,u)=>xt(c.$slots,"default")}}));var oZe=hi(sZe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const uQ=fn({arrowOffset:{type:Number,default:5}}),rZe={name:"ElPopperArrow",inheritAttrs:!1},aZe=Ht(Di(It({},rZe),{props:uQ,setup(n,{expose:e}){const t=n,i=li("popper"),{arrowOffset:s,arrowRef:o}=Wt(eQ,void 0);return $t(()=>t.arrowOffset,r=>{s.value=r}),xo(()=>{o.value=void 0}),e({arrowRef:o}),(r,a)=>(O(),W("span",{ref_key:"arrowRef",ref:o,class:it(B(i).e("arrow")),"data-popper-arrow":""},null,2))}}));var lZe=hi(aZe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const cZe="ElOnlyChild",dQ=Ht({name:cZe,setup(n,{slots:e,attrs:t}){var i;const s=Wt(aQ),o=DYe((i=s==null?void 0:s.setForwardRef)!=null?i:Zo);return()=>{var r;const a=(r=e.default)==null?void 0:r.call(e,t);if(!a||a.length>1)return null;const l=hQ(a);return l?vr(Eh(l,t),[[o]]):null}}});function hQ(n){if(!n)return null;const e=n;for(const t of e){if(tn(t))switch(t.type){case il:continue;case Sy:return wE(t);case"svg":return wE(t);case Ui:return hQ(t.children);default:return t}return wE(t)}return null}function wE(n){return Ue("span",{class:"el-only-child__content"},[n])}const fQ=fn({virtualRef:{type:ti(Object)},virtualTriggering:Boolean,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,onBlur:Function,onContextmenu:Function,id:String,open:Boolean}),uZe={name:"ElPopperTrigger",inheritAttrs:!1},dZe=Ht(Di(It({},uZe),{props:fQ,setup(n,{expose:e}){const t=n,{role:i,triggerRef:s}=Wt(eO,void 0);xYe(s);const o=fe(()=>a.value?t.id:void 0),r=fe(()=>{if(i&&i.value==="tooltip")return t.open&&t.id?t.id:void 0}),a=fe(()=>{if(i&&i.value!=="tooltip")return i.value}),l=fe(()=>a.value?`${t.open}`:void 0);let c;return Ds(()=>{$t(()=>t.virtualRef,u=>{u&&(s.value=cm(u))},{immediate:!0}),$t(()=>s.value,(u,d)=>{c==null||c(),c=void 0,Tm(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(h=>{var f;const p=t[h];p&&(u.addEventListener(h.slice(2).toLowerCase(),p),(f=d==null?void 0:d.removeEventListener)==null||f.call(d,h.slice(2).toLowerCase(),p))}),c=$t([o,r,a,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((f,p)=>{Sx(h[p])?u.removeAttribute(f):u.setAttribute(f,h[p])})},{immediate:!0})),Tm(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>d.removeAttribute(h))},{immediate:!0})}),xo(()=>{c==null||c(),c=void 0}),e({triggerRef:s}),(u,d)=>u.virtualTriggering?Mt("v-if",!0):(O(),St(B(dQ),pa({key:0},u.$attrs,{"aria-controls":B(o),"aria-describedby":B(r),"aria-expanded":B(l),"aria-haspopup":B(a)}),{default:Oe(()=>[xt(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}}));var hZe=hi(dZe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),ma="top",Yl="bottom",Zl="right",_a="left",oO="auto",Dy=[ma,Yl,Zl,_a],Z1="start",jC="end",fZe="clippingParents",gQ="viewport",$2="popper",gZe="reference",Nz=Dy.reduce(function(n,e){return n.concat([e+"-"+Z1,e+"-"+jC])},[]),rO=[].concat(Dy,[oO]).reduce(function(n,e){return n.concat([e,e+"-"+Z1,e+"-"+jC])},[]),pZe="beforeRead",mZe="read",_Ze="afterRead",vZe="beforeMain",bZe="main",CZe="afterMain",wZe="beforeWrite",yZe="write",SZe="afterWrite",LZe=[pZe,mZe,_Ze,vZe,bZe,CZe,wZe,yZe,SZe];function Zu(n){return n?(n.nodeName||"").toLowerCase():null}function Zc(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function X1(n){var e=Zc(n).Element;return n instanceof e||n instanceof Element}function Ul(n){var e=Zc(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function aO(n){if(typeof ShadowRoot=="undefined")return!1;var e=Zc(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function xZe(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},o=e.elements[t];!Ul(o)||!Zu(o)||(Object.assign(o.style,i),Object.keys(s).forEach(function(r){var a=s[r];a===!1?o.removeAttribute(r):o.setAttribute(r,a===!0?"":a)}))})}function DZe(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],o=e.attributes[i]||{},r=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=r.reduce(function(l,c){return l[c]="",l},{});!Ul(s)||!Zu(s)||(Object.assign(s.style,a),Object.keys(o).forEach(function(l){s.removeAttribute(l)}))})}}var pQ={name:"applyStyles",enabled:!0,phase:"write",fn:xZe,effect:DZe,requires:["computeStyles"]};function Hu(n){return n.split("-")[0]}var dm=Math.max,J6=Math.min,Q1=Math.round;function J1(n,e){e===void 0&&(e=!1);var t=n.getBoundingClientRect(),i=1,s=1;if(Ul(n)&&e){var o=n.offsetHeight,r=n.offsetWidth;r>0&&(i=Q1(t.width)/r||1),o>0&&(s=Q1(t.height)/o||1)}return{width:t.width/i,height:t.height/s,top:t.top/s,right:t.right/i,bottom:t.bottom/s,left:t.left/i,x:t.left/i,y:t.top/s}}function lO(n){var e=J1(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function mQ(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&aO(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Th(n){return Zc(n).getComputedStyle(n)}function kZe(n){return["table","td","th"].indexOf(Zu(n))>=0}function Ug(n){return((X1(n)?n.ownerDocument:n.document)||window.document).documentElement}function kx(n){return Zu(n)==="html"?n:n.assignedSlot||n.parentNode||(aO(n)?n.host:null)||Ug(n)}function Mz(n){return!Ul(n)||Th(n).position==="fixed"?null:n.offsetParent}function EZe(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Ul(n)){var i=Th(n);if(i.position==="fixed")return null}var s=kx(n);for(aO(s)&&(s=s.host);Ul(s)&&["html","body"].indexOf(Zu(s))<0;){var o=Th(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function ky(n){for(var e=Zc(n),t=Mz(n);t&&kZe(t)&&Th(t).position==="static";)t=Mz(t);return t&&(Zu(t)==="html"||Zu(t)==="body"&&Th(t).position==="static")?e:t||EZe(n)||e}function cO(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Jb(n,e,t){return dm(n,J6(e,t))}function IZe(n,e,t){var i=Jb(n,e,t);return i>t?t:i}function _Q(){return{top:0,right:0,bottom:0,left:0}}function vQ(n){return Object.assign({},_Q(),n)}function bQ(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var TZe=function(n,e){return n=typeof n=="function"?n(Object.assign({},e.rects,{placement:e.placement})):n,vQ(typeof n!="number"?n:bQ(n,Dy))};function NZe(n){var e,t=n.state,i=n.name,s=n.options,o=t.elements.arrow,r=t.modifiersData.popperOffsets,a=Hu(t.placement),l=cO(a),c=[_a,Zl].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!r)){var d=TZe(s.padding,t),h=lO(o),f=l==="y"?ma:_a,p=l==="y"?Yl:Zl,m=t.rects.reference[u]+t.rects.reference[l]-r[l]-t.rects.popper[u],b=r[l]-t.rects.reference[l],w=ky(o),y=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,L=m/2-b/2,D=d[f],E=y-h[u]-d[p],T=y/2-h[u]/2+L,x=Jb(D,T,E),k=l;t.modifiersData[i]=(e={},e[k]=x,e.centerOffset=x-T,e)}}function MZe(n){var e=n.state,t=n.options,i=t.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!mQ(e.elements.popper,s)||(e.elements.arrow=s))}var AZe={name:"arrow",enabled:!0,phase:"main",fn:NZe,effect:MZe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ev(n){return n.split("-")[1]}var RZe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function OZe(n){var e=n.x,t=n.y,i=window,s=i.devicePixelRatio||1;return{x:Q1(e*s)/s||0,y:Q1(t*s)/s||0}}function Az(n){var e,t=n.popper,i=n.popperRect,s=n.placement,o=n.variation,r=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,h=r.x,f=h===void 0?0:h,p=r.y,m=p===void 0?0:p,b=typeof u=="function"?u({x:f,y:m}):{x:f,y:m};f=b.x,m=b.y;var w=r.hasOwnProperty("x"),y=r.hasOwnProperty("y"),L=_a,D=ma,E=window;if(c){var T=ky(t),x="clientHeight",k="clientWidth";if(T===Zc(t)&&(T=Ug(t),Th(T).position!=="static"&&a==="absolute"&&(x="scrollHeight",k="scrollWidth")),T=T,s===ma||(s===_a||s===Zl)&&o===jC){D=Yl;var N=d&&T===E&&E.visualViewport?E.visualViewport.height:T[x];m-=N-i.height,m*=l?1:-1}if(s===_a||(s===ma||s===Yl)&&o===jC){L=Zl;var V=d&&T===E&&E.visualViewport?E.visualViewport.width:T[k];f-=V-i.width,f*=l?1:-1}}var H=Object.assign({position:a},c&&RZe),G=u===!0?OZe({x:f,y:m}):{x:f,y:m};if(f=G.x,m=G.y,l){var te;return Object.assign({},H,(te={},te[D]=y?"0":"",te[L]=w?"0":"",te.transform=(E.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",te))}return Object.assign({},H,(e={},e[D]=y?m+"px":"",e[L]=w?f+"px":"",e.transform="",e))}function PZe(n){var e=n.state,t=n.options,i=t.gpuAcceleration,s=i===void 0?!0:i,o=t.adaptive,r=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:Hu(e.placement),variation:ev(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Az(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Az(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var CQ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:PZe,data:{}},vS={passive:!0};function FZe(n){var e=n.state,t=n.instance,i=n.options,s=i.scroll,o=s===void 0?!0:s,r=i.resize,a=r===void 0?!0:r,l=Zc(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",t.update,vS)}),a&&l.addEventListener("resize",t.update,vS),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",t.update,vS)}),a&&l.removeEventListener("resize",t.update,vS)}}var wQ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:FZe,data:{}},BZe={left:"right",right:"left",bottom:"top",top:"bottom"};function t6(n){return n.replace(/left|right|bottom|top/g,function(e){return BZe[e]})}var VZe={start:"end",end:"start"};function Rz(n){return n.replace(/start|end/g,function(e){return VZe[e]})}function uO(n){var e=Zc(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function dO(n){return J1(Ug(n)).left+uO(n).scrollLeft}function WZe(n){var e=Zc(n),t=Ug(n),i=e.visualViewport,s=t.clientWidth,o=t.clientHeight,r=0,a=0;return i&&(s=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(r=i.offsetLeft,a=i.offsetTop)),{width:s,height:o,x:r+dO(n),y:a}}function HZe(n){var e,t=Ug(n),i=uO(n),s=(e=n.ownerDocument)==null?void 0:e.body,o=dm(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=dm(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+dO(n),l=-i.scrollTop;return Th(s||t).direction==="rtl"&&(a+=dm(t.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}function hO(n){var e=Th(n),t=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+i)}function yQ(n){return["html","body","#document"].indexOf(Zu(n))>=0?n.ownerDocument.body:Ul(n)&&hO(n)?n:yQ(kx(n))}function eC(n,e){var t;e===void 0&&(e=[]);var i=yQ(n),s=i===((t=n.ownerDocument)==null?void 0:t.body),o=Zc(i),r=s?[o].concat(o.visualViewport||[],hO(i)?i:[]):i,a=e.concat(r);return s?a:a.concat(eC(kx(r)))}function I9(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function $Ze(n){var e=J1(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function Oz(n,e){return e===gQ?I9(WZe(n)):X1(e)?$Ze(e):I9(HZe(Ug(n)))}function zZe(n){var e=eC(kx(n)),t=["absolute","fixed"].indexOf(Th(n).position)>=0,i=t&&Ul(n)?ky(n):n;return X1(i)?e.filter(function(s){return X1(s)&&mQ(s,i)&&Zu(s)!=="body"}):[]}function UZe(n,e,t){var i=e==="clippingParents"?zZe(n):[].concat(e),s=[].concat(i,[t]),o=s[0],r=s.reduce(function(a,l){var c=Oz(n,l);return a.top=dm(c.top,a.top),a.right=J6(c.right,a.right),a.bottom=J6(c.bottom,a.bottom),a.left=dm(c.left,a.left),a},Oz(n,o));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function SQ(n){var e=n.reference,t=n.element,i=n.placement,s=i?Hu(i):null,o=i?ev(i):null,r=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(s){case ma:l={x:r,y:e.y-t.height};break;case Yl:l={x:r,y:e.y+e.height};break;case Zl:l={x:e.x+e.width,y:a};break;case _a:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?cO(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Z1:l[c]=l[c]-(e[u]/2-t[u]/2);break;case jC:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function KC(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=i===void 0?n.placement:i,o=t.boundary,r=o===void 0?fZe:o,a=t.rootBoundary,l=a===void 0?gQ:a,c=t.elementContext,u=c===void 0?$2:c,d=t.altBoundary,h=d===void 0?!1:d,f=t.padding,p=f===void 0?0:f,m=vQ(typeof p!="number"?p:bQ(p,Dy)),b=u===$2?gZe:$2,w=n.rects.popper,y=n.elements[h?b:u],L=UZe(X1(y)?y:y.contextElement||Ug(n.elements.popper),r,l),D=J1(n.elements.reference),E=SQ({reference:D,element:w,strategy:"absolute",placement:s}),T=I9(Object.assign({},w,E)),x=u===$2?T:D,k={top:L.top-x.top+m.top,bottom:x.bottom-L.bottom+m.bottom,left:L.left-x.left+m.left,right:x.right-L.right+m.right},N=n.modifiersData.offset;if(u===$2&&N){var V=N[s];Object.keys(k).forEach(function(H){var G=[Zl,Yl].indexOf(H)>=0?1:-1,te=[ma,Yl].indexOf(H)>=0?"y":"x";k[H]+=V[te]*G})}return k}function jZe(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=t.boundary,o=t.rootBoundary,r=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?rO:l,u=ev(i),d=u?a?Nz:Nz.filter(function(p){return ev(p)===u}):Dy,h=d.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,m){return p[m]=KC(n,{placement:m,boundary:s,rootBoundary:o,padding:r})[Hu(m)],p},{});return Object.keys(f).sort(function(p,m){return f[p]-f[m]})}function KZe(n){if(Hu(n)===oO)return[];var e=t6(n);return[Rz(n),e,Rz(e)]}function qZe(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var s=t.mainAxis,o=s===void 0?!0:s,r=t.altAxis,a=r===void 0?!0:r,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,h=t.altBoundary,f=t.flipVariations,p=f===void 0?!0:f,m=t.allowedAutoPlacements,b=e.options.placement,w=Hu(b),y=w===b,L=l||(y||!p?[t6(b)]:KZe(b)),D=[b].concat(L).reduce(function(_t,_e){return _t.concat(Hu(_e)===oO?jZe(e,{placement:_e,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):_e)},[]),E=e.rects.reference,T=e.rects.popper,x=new Map,k=!0,N=D[0],V=0;V<D.length;V++){var H=D[V],G=Hu(H),te=ev(H)===Z1,ae=[ma,Yl].indexOf(G)>=0,me=ae?"width":"height",we=KC(e,{placement:H,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),be=ae?te?Zl:_a:te?Yl:ma;E[me]>T[me]&&(be=t6(be));var Me=t6(be),He=[];if(o&&He.push(we[G]<=0),a&&He.push(we[be]<=0,we[Me]<=0),He.every(function(_t){return _t})){N=H,k=!1;break}x.set(H,He)}if(k)for(var mt=p?3:1,ot=function(_t){var _e=D.find(function(Ge){var ye=x.get(Ge);if(ye)return ye.slice(0,_t).every(function(We){return We})});if(_e)return N=_e,"break"},De=mt;De>0;De--){var pe=ot(De);if(pe==="break")break}e.placement!==N&&(e.modifiersData[i]._skip=!0,e.placement=N,e.reset=!0)}}var GZe={name:"flip",enabled:!0,phase:"main",fn:qZe,requiresIfExists:["offset"],data:{_skip:!1}};function Pz(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Fz(n){return[ma,Zl,Yl,_a].some(function(e){return n[e]>=0})}function YZe(n){var e=n.state,t=n.name,i=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,r=KC(e,{elementContext:"reference"}),a=KC(e,{altBoundary:!0}),l=Pz(r,i),c=Pz(a,s,o),u=Fz(l),d=Fz(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var ZZe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:YZe};function XZe(n,e,t){var i=Hu(n),s=[_a,ma].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,r=o[0],a=o[1];return r=r||0,a=(a||0)*s,[_a,Zl].indexOf(i)>=0?{x:a,y:r}:{x:r,y:a}}function QZe(n){var e=n.state,t=n.options,i=n.name,s=t.offset,o=s===void 0?[0,0]:s,r=rO.reduce(function(u,d){return u[d]=XZe(d,e.rects,o),u},{}),a=r[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=r}var JZe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:QZe};function eXe(n){var e=n.state,t=n.name;e.modifiersData[t]=SQ({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var LQ={name:"popperOffsets",enabled:!0,phase:"read",fn:eXe,data:{}};function tXe(n){return n==="x"?"y":"x"}function iXe(n){var e=n.state,t=n.options,i=n.name,s=t.mainAxis,o=s===void 0?!0:s,r=t.altAxis,a=r===void 0?!1:r,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,d=t.padding,h=t.tether,f=h===void 0?!0:h,p=t.tetherOffset,m=p===void 0?0:p,b=KC(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),w=Hu(e.placement),y=ev(e.placement),L=!y,D=cO(w),E=tXe(D),T=e.modifiersData.popperOffsets,x=e.rects.reference,k=e.rects.popper,N=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,V=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(T){if(o){var te,ae=D==="y"?ma:_a,me=D==="y"?Yl:Zl,we=D==="y"?"height":"width",be=T[D],Me=be+b[ae],He=be-b[me],mt=f?-k[we]/2:0,ot=y===Z1?x[we]:k[we],De=y===Z1?-k[we]:-x[we],pe=e.elements.arrow,_t=f&&pe?lO(pe):{width:0,height:0},_e=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:_Q(),Ge=_e[ae],ye=_e[me],We=Jb(0,x[we],_t[we]),gt=L?x[we]/2-mt-We-Ge-V.mainAxis:ot-We-Ge-V.mainAxis,rt=L?-x[we]/2+mt+We+ye+V.mainAxis:De+We+ye+V.mainAxis,Fe=e.elements.arrow&&ky(e.elements.arrow),ht=Fe?D==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,ee=(te=H==null?void 0:H[D])!=null?te:0,le=be+gt-ee-ht,Ce=be+rt-ee,$e=Jb(f?J6(Me,le):Me,be,f?dm(He,Ce):He);T[D]=$e,G[D]=$e-be}if(a){var Be,tt=D==="x"?ma:_a,ft=D==="x"?Yl:Zl,ie=T[E],X=E==="y"?"height":"width",Q=ie+b[tt],P=ie-b[ft],R=[ma,_a].indexOf(w)!==-1,j=(Be=H==null?void 0:H[E])!=null?Be:0,q=R?Q:ie-x[X]-k[X]-j+V.altAxis,ue=R?ie+x[X]+k[X]-j-V.altAxis:P,ve=f&&R?IZe(q,ie,ue):Jb(f?q:Q,ie,f?ue:P);T[E]=ve,G[E]=ve-ie}e.modifiersData[i]=G}}var nXe={name:"preventOverflow",enabled:!0,phase:"main",fn:iXe,requiresIfExists:["offset"]};function sXe(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function oXe(n){return n===Zc(n)||!Ul(n)?uO(n):sXe(n)}function rXe(n){var e=n.getBoundingClientRect(),t=Q1(e.width)/n.offsetWidth||1,i=Q1(e.height)/n.offsetHeight||1;return t!==1||i!==1}function aXe(n,e,t){t===void 0&&(t=!1);var i=Ul(e),s=Ul(e)&&rXe(e),o=Ug(e),r=J1(n,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Zu(e)!=="body"||hO(o))&&(a=oXe(e)),Ul(e)?(l=J1(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=dO(o))),{x:r.left+a.scrollLeft-l.x,y:r.top+a.scrollTop-l.y,width:r.width,height:r.height}}function lXe(n){var e=new Map,t=new Set,i=[];n.forEach(function(o){e.set(o.name,o)});function s(o){t.add(o.name);var r=[].concat(o.requires||[],o.requiresIfExists||[]);r.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&s(l)}}),i.push(o)}return n.forEach(function(o){t.has(o.name)||s(o)}),i}function cXe(n){var e=lXe(n);return LZe.reduce(function(t,i){return t.concat(e.filter(function(s){return s.phase===i}))},[])}function uXe(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function dXe(n){var e=n.reduce(function(t,i){var s=t[i.name];return t[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var Bz={placement:"bottom",modifiers:[],strategy:"absolute"};function Vz(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function fO(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,s=e.defaultOptions,o=s===void 0?Bz:s;return function(r,a,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Bz,o),modifiersData:{},elements:{reference:r,popper:a},attributes:{},styles:{}},u=[],d=!1,h={state:c,setOptions:function(m){var b=typeof m=="function"?m(c.options):m;p(),c.options=Object.assign({},o,c.options,b),c.scrollParents={reference:X1(r)?eC(r):r.contextElement?eC(r.contextElement):[],popper:eC(a)};var w=cXe(dXe([].concat(i,c.options.modifiers)));return c.orderedModifiers=w.filter(function(y){return y.enabled}),f(),h.update()},forceUpdate:function(){if(!d){var m=c.elements,b=m.reference,w=m.popper;if(Vz(b,w)){c.rects={reference:aXe(b,ky(w),c.options.strategy==="fixed"),popper:lO(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var L=c.orderedModifiers[y],D=L.fn,E=L.options,T=E===void 0?{}:E,x=L.name;typeof D=="function"&&(c=D({state:c,options:T,name:x,instance:h})||c)}}}},update:uXe(function(){return new Promise(function(m){h.forceUpdate(),m(c)})}),destroy:function(){p(),d=!0}};if(!Vz(r,a))return h;h.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function f(){c.orderedModifiers.forEach(function(m){var b=m.name,w=m.options,y=w===void 0?{}:w,L=m.effect;if(typeof L=="function"){var D=L({state:c,name:b,instance:h,options:y}),E=function(){};u.push(D||E)}})}function p(){u.forEach(function(m){return m()}),u=[]}return h}}fO();var hXe=[wQ,LQ,CQ,pQ];fO({defaultModifiers:hXe});var fXe=[wQ,LQ,CQ,pQ,JZe,GZe,nXe,AZe,ZZe],gXe=fO({defaultModifiers:fXe});const xQ=n=>{const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e},Wz=(n,e)=>{for(const t of n)if(!pXe(t,e))return t},pXe=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},mXe=n=>{const e=xQ(n),t=Wz(e,n),i=Wz(e.reverse(),n);return[t,i]},_Xe=n=>n instanceof HTMLInputElement&&"select"in n,yf=(n,e)=>{if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&_Xe(n)&&e&&n.select()}};function Hz(n,e){const t=[...n],i=n.indexOf(e);return i!==-1&&t.splice(i,1),t}const vXe=()=>{let n=[];return{push:i=>{const s=n[0];s&&i!==s&&s.pause(),n=Hz(n,i),n.unshift(i)},remove:i=>{var s,o;n=Hz(n,i),(o=(s=n[0])==null?void 0:s.resume)==null||o.call(s)}}},bXe=(n,e)=>{const t=document.activeElement;for(const i of n)if(yf(i,e),document.activeElement!==t)return},$z=vXe(),yE="focus-trap.focus-after-trapped",SE="focus-trap.focus-after-released",zz={cancelable:!0,bubbles:!1},Uz="focusAfterTrapped",jz="focusAfterReleased",gO=Symbol("elFocusTrap"),CXe=Ht({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Uz,jz,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const t=ze();let i,s;CYe(f=>{n.trapped&&!o.paused&&e("release-requested",f)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},r=f=>{if(!n.loop&&!n.trapped||o.paused)return;const{key:p,altKey:m,ctrlKey:b,metaKey:w,currentTarget:y,shiftKey:L}=f,{loop:D}=n,E=p===ji.tab&&!m&&!b&&!w,T=document.activeElement;if(E&&T){const x=y,[k,N]=mXe(x);k&&N?!L&&T===N?(f.preventDefault(),D&&yf(k,!0),e("focusout-prevented")):L&&[k,x].includes(T)&&(f.preventDefault(),D&&yf(N,!0),e("focusout-prevented")):T===x&&(f.preventDefault(),e("focusout-prevented"))}};Hn(gO,{focusTrapRef:t,onKeydown:r}),$t(()=>n.focusTrapEl,f=>{f&&(t.value=f)},{immediate:!0}),$t([t],([f],[p])=>{f&&(f.addEventListener("keydown",r),f.addEventListener("focusin",c),f.addEventListener("focusout",u)),p&&(p.removeEventListener("keydown",r),p.removeEventListener("focusin",c),p.removeEventListener("focusout",u))});const a=f=>{e(Uz,f)},l=f=>e(jz,f),c=f=>{const p=B(t);if(!p)return;const m=f.target,b=m&&p.contains(m);b&&e("focusin",f),!o.paused&&n.trapped&&(b?s=m:yf(s,!0))},u=f=>{const p=B(t);if(!(o.paused||!p))if(n.trapped){const m=f.relatedTarget;!Sx(m)&&!p.contains(m)&&setTimeout(()=>{!o.paused&&n.trapped&&yf(s,!0)},0)}else{const m=f.target;m&&p.contains(m)||e("focusout",f)}};async function d(){await hn();const f=B(t);if(f){$z.push(o);const p=document.activeElement;if(i=p,!f.contains(p)){const b=new Event(yE,zz);f.addEventListener(yE,a),f.dispatchEvent(b),b.defaultPrevented||hn(()=>{let w=n.focusStartEl;Ai(w)||(yf(w),document.activeElement!==w&&(w="first")),w==="first"&&bXe(xQ(f),!0),(document.activeElement===p||w==="container")&&yf(f)})}}}function h(){const f=B(t);if(f){f.removeEventListener(yE,a);const p=new Event(SE,zz);f.addEventListener(SE,l),f.dispatchEvent(p),p.defaultPrevented||yf(i!=null?i:document.body,!0),f.removeEventListener(SE,a),$z.remove(o)}}return Ds(()=>{n.trapped&&d(),$t(()=>n.trapped,f=>{f?d():h()})}),xo(()=>{n.trapped&&h()}),{onKeydown:r}}});function wXe(n,e,t,i,s,o){return xt(n.$slots,"default",{handleKeydown:n.onKeydown})}var DQ=hi(CXe,[["render",wXe],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const yXe=["fixed","absolute"],SXe=fn({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ti(Array),default:()=>[]},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:rO,default:"bottom"},popperOptions:{type:ti(Object),default:()=>({})},strategy:{type:String,values:yXe,default:"absolute"}}),kQ=fn(Di(It({},SXe),{id:String,style:{type:ti([String,Array,Object])},className:{type:ti([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ti([String,Array,Object])},popperStyle:{type:ti([String,Array,Object])},referenceEl:{type:ti(Object)},triggerTargetEl:{type:ti(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number})),LXe=["mouseenter","mouseleave","focus","blur","close"],Kz=(n,e)=>{const{placement:t,strategy:i,popperOptions:s}=n,o=Di(It({placement:t,strategy:i},s),{modifiers:DXe(n)});return kXe(o,e),EXe(o,s==null?void 0:s.modifiers),o},xXe=n=>{if(!!Ls)return cm(n)};function DXe(n){const{offset:e,gpuAcceleration:t,fallbackPlacements:i}=n;return[{name:"offset",options:{offset:[0,e!=null?e:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i!=null?i:[]}},{name:"computeStyles",options:{gpuAcceleration:t,adaptive:t}}]}function kXe(n,{arrowEl:e,arrowOffset:t}){n.modifiers.push({name:"arrow",options:{element:e,padding:t!=null?t:5}})}function EXe(n,e){e&&(n.modifiers=[...n.modifiers,...e!=null?e:[]])}const IXe={name:"ElPopperContent"},TXe=Ht(Di(It({},IXe),{props:kQ,emits:LXe,setup(n,{expose:e,emit:t}){const i=n,{popperInstanceRef:s,contentRef:o,triggerRef:r,role:a}=Wt(eO,void 0),l=Wt(Cg,void 0),{nextZIndex:c}=Dx(),u=li("popper"),d=ze(),h=ze("first"),f=ze(),p=ze();Hn(eQ,{arrowRef:f,arrowOffset:p}),l&&(l.addInputId||l.removeInputId)&&Hn(Cg,Di(It({},l),{addInputId:Zo,removeInputId:Zo}));const m=ze(i.zIndex||c()),b=ze(!1);let w;const y=fe(()=>xXe(i.referenceEl)||B(r)),L=fe(()=>[{zIndex:B(m)},i.popperStyle]),D=fe(()=>[u.b(),u.is("pure",i.pure),u.is(i.effect),i.popperClass]),E=fe(()=>a&&a.value==="dialog"?"false":void 0),T=({referenceEl:ae,popperContentEl:me,arrowEl:we})=>{const be=Kz(i,{arrowEl:we,arrowOffset:B(p)});return gXe(ae,me,be)},x=(ae=!0)=>{var me;(me=B(s))==null||me.update(),ae&&(m.value=i.zIndex||c())},k=()=>{var ae,me;const we={name:"eventListeners",enabled:i.visible};(me=(ae=B(s))==null?void 0:ae.setOptions)==null||me.call(ae,be=>Di(It({},be),{modifiers:[...be.modifiers||[],we]})),x(!1),i.visible&&i.focusOnShow?b.value=!0:i.visible===!1&&(b.value=!1)},N=()=>{t("focus")},V=()=>{h.value="first",t("blur")},H=ae=>{var me;i.visible&&!b.value&&(ae.relatedTarget&&((me=ae.relatedTarget)==null||me.focus()),ae.target&&(h.value=ae.target),b.value=!0)},G=()=>{i.trapping||(b.value=!1)},te=()=>{b.value=!1,t("close")};return Ds(()=>{let ae;$t(y,me=>{var we;ae==null||ae();const be=B(s);if((we=be==null?void 0:be.destroy)==null||we.call(be),me){const Me=B(d);o.value=Me,s.value=T({referenceEl:me,popperContentEl:Me,arrowEl:B(f)}),ae=$t(()=>me.getBoundingClientRect(),()=>x(),{immediate:!0})}else s.value=void 0},{immediate:!0}),$t(()=>i.triggerTargetEl,(me,we)=>{w==null||w(),w=void 0;const be=B(me||d.value),Me=B(we||d.value);if(Tm(be)){const{ariaLabel:He,id:mt}=zg(i);w=$t([a,He,E,mt],ot=>{["role","aria-label","aria-modal","id"].forEach((De,pe)=>{Sx(ot[pe])?be.removeAttribute(De):be.setAttribute(De,ot[pe])})},{immediate:!0})}Tm(Me)&&["role","aria-label","aria-modal","id"].forEach(He=>{Me.removeAttribute(He)})},{immediate:!0}),$t(()=>i.visible,k,{immediate:!0}),$t(()=>Kz(i,{arrowEl:B(f),arrowOffset:B(p)}),me=>{var we;return(we=s.value)==null?void 0:we.setOptions(me)})}),xo(()=>{w==null||w(),w=void 0}),e({popperContentRef:d,popperInstanceRef:s,updatePopper:x,contentStyle:L}),(ae,me)=>(O(),W("div",{ref_key:"popperContentRef",ref:d,style:kn(B(L)),class:it(B(D)),tabindex:"-1",onMouseenter:me[0]||(me[0]=we=>ae.$emit("mouseenter",we)),onMouseleave:me[1]||(me[1]=we=>ae.$emit("mouseleave",we))},[Ue(B(DQ),{trapped:b.value,"trap-on-focus-in":!0,"focus-trap-el":d.value,"focus-start-el":h.value,onFocusAfterTrapped:N,onFocusAfterReleased:V,onFocusin:H,onFocusoutPrevented:G,onReleaseRequested:te},{default:Oe(()=>[xt(ae.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}}));var NXe=hi(TXe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const MXe=er(oZe),AXe=li("tooltip"),Ex=fn(Di(It(It({},SYe),kQ),{appendTo:{type:ti([String,Object]),default:rQ},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:ti(Boolean),default:null},transition:{type:String,default:`${AXe.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}})),pO=fn(Di(It({},fQ),{disabled:Boolean,trigger:{type:ti([String,Array]),default:"hover"},triggerKeys:{type:ti(Array),default:()=>[ji.enter,ji.space]}})),RXe=fn({openDelay:{type:Number},visibleArrow:{type:Boolean,default:void 0},hideAfter:{type:Number,default:200},showArrow:{type:Boolean,default:!0}}),mO=Symbol("elTooltip"),OXe=Ht({name:"ElTooltipContent",components:{ElPopperContent:NXe},inheritAttrs:!1,props:Ex,setup(n){const e=ze(null),t=ze(!1),i=ze(!1),s=ze(!1),o=ze(!1),{controlled:r,id:a,open:l,trigger:c,onClose:u,onOpen:d,onShow:h,onHide:f,onBeforeShow:p,onBeforeHide:m}=Wt(mO,void 0),b=fe(()=>n.persistent);xo(()=>{o.value=!0});const w=fe(()=>B(b)?!0:B(l)),y=fe(()=>n.disabled?!1:B(l)),L=fe(()=>{var ae;return(ae=n.style)!=null?ae:{}}),D=fe(()=>!B(l)),E=()=>{f()},T=()=>{if(B(r))return!0},x=eo(T,()=>{n.enterable&&B(c)==="hover"&&d()}),k=eo(T,()=>{B(c)==="hover"&&u()}),N=()=>{var ae,me;(me=(ae=e.value)==null?void 0:ae.updatePopper)==null||me.call(ae),p==null||p()},V=()=>{m==null||m()},H=()=>{h(),te=PGe(fe(()=>{var ae;return(ae=e.value)==null?void 0:ae.popperContentRef}),()=>{if(B(r))return;B(c)!=="hover"&&u()})},G=()=>{n.virtualTriggering||u()};let te;return $t(()=>B(l),ae=>{ae||te==null||te()},{flush:"post"}),{ariaHidden:D,entering:i,leaving:s,id:a,intermediateOpen:t,contentStyle:L,contentRef:e,destroyed:o,shouldRender:w,shouldShow:y,onClose:u,open:l,onAfterShow:H,onBeforeEnter:N,onBeforeLeave:V,onContentEnter:x,onContentLeave:k,onTransitionLeave:E,onBlur:G}}});function PXe(n,e,t,i,s,o){const r=Bi("el-popper-content");return O(),St(MZ,{disabled:!n.teleported,to:n.appendTo},[Ue(gl,{name:n.transition,onAfterLeave:n.onTransitionLeave,onBeforeEnter:n.onBeforeEnter,onAfterEnter:n.onAfterShow,onBeforeLeave:n.onBeforeLeave},{default:Oe(()=>[n.shouldRender?vr((O(),St(r,pa({key:0,id:n.id,ref:"contentRef"},n.$attrs,{"aria-label":n.ariaLabel,"aria-hidden":n.ariaHidden,"boundaries-padding":n.boundariesPadding,"fallback-placements":n.fallbackPlacements,"gpu-acceleration":n.gpuAcceleration,offset:n.offset,placement:n.placement,"popper-options":n.popperOptions,strategy:n.strategy,effect:n.effect,enterable:n.enterable,pure:n.pure,"popper-class":n.popperClass,"popper-style":[n.popperStyle,n.contentStyle],"reference-el":n.referenceEl,"trigger-target-el":n.triggerTargetEl,visible:n.shouldShow,"z-index":n.zIndex,onMouseenter:n.onContentEnter,onMouseleave:n.onContentLeave,onBlur:n.onBlur,onClose:n.onClose}),{default:Oe(()=>[Mt(" Workaround bug #6378 "),n.destroyed?Mt("v-if",!0):xt(n.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onBlur","onClose"])),[[Gc,n.shouldShow]]):Mt("v-if",!0)]),_:3},8,["name","onAfterLeave","onBeforeEnter","onAfterEnter","onBeforeLeave"])],8,["disabled","to"])}var FXe=hi(OXe,[["render",PXe],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const BXe=(n,e)=>Gt(n)?n.includes(e):n===e,o0=(n,e,t)=>i=>{BXe(B(n),e)&&t(i)},VXe=Ht({name:"ElTooltipTrigger",components:{ElPopperTrigger:hZe},props:pO,setup(n){const e=li("tooltip"),{controlled:t,id:i,open:s,onOpen:o,onClose:r,onToggle:a}=Wt(mO,void 0),l=ze(null),c=()=>{if(B(t)||n.disabled)return!0},u=_r(n,"trigger"),d=eo(c,o0(u,"hover",o)),h=eo(c,o0(u,"hover",r)),f=eo(c,o0(u,"click",y=>{y.button===0&&a(y)})),p=eo(c,o0(u,"focus",o)),m=eo(c,o0(u,"focus",r)),b=eo(c,o0(u,"contextmenu",y=>{y.preventDefault(),a(y)})),w=eo(c,y=>{const{code:L}=y;n.triggerKeys.includes(L)&&(y.preventDefault(),a(y))});return{onBlur:m,onContextMenu:b,onFocus:p,onMouseenter:d,onMouseleave:h,onClick:f,onKeydown:w,open:s,id:i,triggerRef:l,ns:e}}});function WXe(n,e,t,i,s,o){const r=Bi("el-popper-trigger");return O(),St(r,{id:n.id,"virtual-ref":n.virtualRef,open:n.open,"virtual-triggering":n.virtualTriggering,class:it(n.ns.e("trigger")),onBlur:n.onBlur,onClick:n.onClick,onContextmenu:n.onContextMenu,onFocus:n.onFocus,onMouseenter:n.onMouseenter,onMouseleave:n.onMouseleave,onKeydown:n.onKeydown},{default:Oe(()=>[xt(n.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"])}var HXe=hi(VXe,[["render",WXe],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const{useModelToggleProps:$Xe,useModelToggle:zXe,useModelToggleEmits:UXe}=vYe("visible"),jXe=Ht({name:"ElTooltip",components:{ElPopper:MXe,ElPopperArrow:lZe,ElTooltipContent:FXe,ElTooltipTrigger:HXe},props:It(It(It(It(It(It({},cQ),$Xe),Ex),pO),uQ),RXe),emits:[...UXe,"before-show","before-hide","show","hide","open","close"],setup(n,{emit:e}){yYe();const t=fe(()=>(k9(n.openDelay),n.openDelay||n.showAfter)),i=fe(()=>(k9(n.visibleArrow),Y1(n.visibleArrow)?n.visibleArrow:n.showArrow)),s=Am(),o=ze(null),r=ze(null),a=()=>{var b;const w=B(o);w&&((b=w.popperInstanceRef)==null||b.update())},l=ze(!1),c=ze(void 0),{show:u,hide:d}=zXe({indicator:l,toggleReason:c}),{onOpen:h,onClose:f}=LYe({showAfter:t,hideAfter:_r(n,"hideAfter"),open:u,close:d}),p=fe(()=>Y1(n.visible));return Hn(mO,{controlled:p,id:s,open:ox(l),trigger:_r(n,"trigger"),onOpen:b=>{h(b)},onClose:b=>{f(b)},onToggle:b=>{B(l)?f(b):h(b)},onShow:()=>{e("show",c.value)},onHide:()=>{e("hide",c.value)},onBeforeShow:()=>{e("before-show",c.value)},onBeforeHide:()=>{e("before-hide",c.value)},updatePopper:a}),$t(()=>n.disabled,b=>{b&&l.value&&(l.value=!1)}),{compatShowAfter:t,compatShowArrow:i,popperRef:o,contentRef:r,open:l,hide:d,isFocusInsideContent:()=>{var b,w;const y=(w=(b=r.value)==null?void 0:b.contentRef)==null?void 0:w.popperContentRef;return y&&y.contains(document.activeElement)},updatePopper:a,onOpen:h,onClose:f}}}),KXe=["innerHTML"],qXe={key:1};function GXe(n,e,t,i,s,o){const r=Bi("el-tooltip-trigger"),a=Bi("el-popper-arrow"),l=Bi("el-tooltip-content"),c=Bi("el-popper");return O(),St(c,{ref:"popperRef",role:n.role},{default:Oe(()=>[Ue(r,{disabled:n.disabled,trigger:n.trigger,"trigger-keys":n.triggerKeys,"virtual-ref":n.virtualRef,"virtual-triggering":n.virtualTriggering},{default:Oe(()=>[n.$slots.default?xt(n.$slots,"default",{key:0}):Mt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Ue(l,{ref:"contentRef","aria-label":n.ariaLabel,"boundaries-padding":n.boundariesPadding,content:n.content,disabled:n.disabled,effect:n.effect,enterable:n.enterable,"fallback-placements":n.fallbackPlacements,"hide-after":n.hideAfter,"gpu-acceleration":n.gpuAcceleration,offset:n.offset,persistent:n.persistent,"popper-class":n.popperClass,"popper-style":n.popperStyle,placement:n.placement,"popper-options":n.popperOptions,pure:n.pure,"raw-content":n.rawContent,"reference-el":n.referenceEl,"trigger-target-el":n.triggerTargetEl,"show-after":n.compatShowAfter,strategy:n.strategy,teleported:n.teleported,transition:n.transition,"virtual-triggering":n.virtualTriggering,"z-index":n.zIndex,"append-to":n.appendTo},{default:Oe(()=>[xt(n.$slots,"content",{},()=>[n.rawContent?(O(),W("span",{key:0,innerHTML:n.content},null,8,KXe)):(O(),W("span",qXe,Rn(n.content),1))]),n.compatShowArrow?(O(),St(a,{key:0,"arrow-offset":n.arrowOffset},null,8,["arrow-offset"])):Mt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"])}var YXe=hi(jXe,[["render",GXe],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Hf=er(YXe),ZXe=fn({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),XXe=["textContent"],QXe={name:"ElBadge"},JXe=Ht(Di(It({},QXe),{props:ZXe,setup(n,{expose:e}){const t=n,i=li("badge"),s=fe(()=>t.isDot?"":Fr(t.value)&&Fr(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return e({content:s}),(o,r)=>(O(),W("div",{class:it(B(i).b())},[xt(o.$slots,"default"),Ue(gl,{name:`${B(i).namespace.value}-zoom-in-center`},{default:Oe(()=>[vr(M("sup",{class:it([B(i).e("content"),B(i).em("content",o.type),B(i).is("fixed",!!o.$slots.default),B(i).is("dot",o.isDot)]),textContent:Rn(B(s))},null,10,XXe),[[Gc,!o.hidden&&(B(s)||o.isDot)]])]),_:1},8,["name"])],2))}}));var eQe=hi(JXe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const tQe=er(eQe),iQe=["default","primary","success","warning","info","danger","text",""],nQe=["button","submit","reset"],T9=fn({size:tO,disabled:Boolean,type:{type:String,values:iQe,default:""},icon:{type:Mm,default:""},nativeType:{type:String,values:nQe,default:"button"},loading:Boolean,loadingIcon:{type:Mm,default:()=>OR},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),sQe={click:n=>n instanceof MouseEvent};function Xo(n,e){oQe(n)&&(n="100%");var t=rQe(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function bS(n){return Math.min(1,Math.max(0,n))}function oQe(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function rQe(n){return typeof n=="string"&&n.indexOf("%")!==-1}function EQ(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function CS(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Gp(n){return n.length===1?"0"+n:String(n)}function aQe(n,e,t){return{r:Xo(n,255)*255,g:Xo(e,255)*255,b:Xo(t,255)*255}}function qz(n,e,t){n=Xo(n,255),e=Xo(e,255),t=Xo(t,255);var i=Math.max(n,e,t),s=Math.min(n,e,t),o=0,r=0,a=(i+s)/2;if(i===s)r=0,o=0;else{var l=i-s;switch(r=a>.5?l/(2-i-s):l/(i+s),i){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s:r,l:a}}function LE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function lQe(n,e,t){var i,s,o;if(n=Xo(n,360),e=Xo(e,100),t=Xo(t,100),e===0)s=t,o=t,i=t;else{var r=t<.5?t*(1+e):t+e-t*e,a=2*t-r;i=LE(a,r,n+1/3),s=LE(a,r,n),o=LE(a,r,n-1/3)}return{r:i*255,g:s*255,b:o*255}}function Gz(n,e,t){n=Xo(n,255),e=Xo(e,255),t=Xo(t,255);var i=Math.max(n,e,t),s=Math.min(n,e,t),o=0,r=i,a=i-s,l=i===0?0:a/i;if(i===s)o=0;else{switch(i){case n:o=(e-t)/a+(e<t?6:0);break;case e:o=(t-n)/a+2;break;case t:o=(n-e)/a+4;break}o/=6}return{h:o,s:l,v:r}}function cQe(n,e,t){n=Xo(n,360)*6,e=Xo(e,100),t=Xo(t,100);var i=Math.floor(n),s=n-i,o=t*(1-e),r=t*(1-s*e),a=t*(1-(1-s)*e),l=i%6,c=[t,r,o,o,a,t][l],u=[a,t,t,r,o,o][l],d=[o,o,a,t,t,r][l];return{r:c*255,g:u*255,b:d*255}}function Yz(n,e,t,i){var s=[Gp(Math.round(n).toString(16)),Gp(Math.round(e).toString(16)),Gp(Math.round(t).toString(16))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function uQe(n,e,t,i,s){var o=[Gp(Math.round(n).toString(16)),Gp(Math.round(e).toString(16)),Gp(Math.round(t).toString(16)),Gp(dQe(i))];return s&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function dQe(n){return Math.round(parseFloat(n)*255).toString(16)}function Zz(n){return Oa(n)/255}function Oa(n){return parseInt(n,16)}function hQe(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var N9={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function fQe(n){var e={r:0,g:0,b:0},t=1,i=null,s=null,o=null,r=!1,a=!1;return typeof n=="string"&&(n=mQe(n)),typeof n=="object"&&(Dd(n.r)&&Dd(n.g)&&Dd(n.b)?(e=aQe(n.r,n.g,n.b),r=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Dd(n.h)&&Dd(n.s)&&Dd(n.v)?(i=CS(n.s),s=CS(n.v),e=cQe(n.h,i,s),r=!0,a="hsv"):Dd(n.h)&&Dd(n.s)&&Dd(n.l)&&(i=CS(n.s),o=CS(n.l),e=lQe(n.h,i,o),r=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=EQ(t),{ok:r,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var gQe="[-\\+]?\\d+%?",pQe="[-\\+]?\\d*\\.\\d+%?",$f="(?:".concat(pQe,")|(?:").concat(gQe,")"),xE="[\\s|\\(]+(".concat($f,")[,|\\s]+(").concat($f,")[,|\\s]+(").concat($f,")\\s*\\)?"),DE="[\\s|\\(]+(".concat($f,")[,|\\s]+(").concat($f,")[,|\\s]+(").concat($f,")[,|\\s]+(").concat($f,")\\s*\\)?"),gc={CSS_UNIT:new RegExp($f),rgb:new RegExp("rgb"+xE),rgba:new RegExp("rgba"+DE),hsl:new RegExp("hsl"+xE),hsla:new RegExp("hsla"+DE),hsv:new RegExp("hsv"+xE),hsva:new RegExp("hsva"+DE),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function mQe(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(N9[n])n=N9[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=gc.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=gc.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=gc.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=gc.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=gc.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=gc.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=gc.hex8.exec(n),t?{r:Oa(t[1]),g:Oa(t[2]),b:Oa(t[3]),a:Zz(t[4]),format:e?"name":"hex8"}:(t=gc.hex6.exec(n),t?{r:Oa(t[1]),g:Oa(t[2]),b:Oa(t[3]),format:e?"name":"hex"}:(t=gc.hex4.exec(n),t?{r:Oa(t[1]+t[1]),g:Oa(t[2]+t[2]),b:Oa(t[3]+t[3]),a:Zz(t[4]+t[4]),format:e?"name":"hex8"}:(t=gc.hex3.exec(n),t?{r:Oa(t[1]+t[1]),g:Oa(t[2]+t[2]),b:Oa(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Dd(n){return Boolean(gc.CSS_UNIT.exec(String(n)))}var IQ=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=hQe(e)),this.originalInput=e;var s=fQe(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=t.format)!==null&&i!==void 0?i:s.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,i,s,o=e.r/255,r=e.g/255,a=e.b/255;return o<=.03928?t=o/12.92:t=Math.pow((o+.055)/1.055,2.4),r<=.03928?i=r/12.92:i=Math.pow((r+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*i+.0722*s},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=EQ(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.toHsv=function(){var e=Gz(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=Gz(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(i,"%, ").concat(s,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=qz(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=qz(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(i,"%, ").concat(s,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),Yz(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),uQe(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(Xo(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(Xo(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Yz(this.r,this.g,this.b,!1),t=0,i=Object.entries(N9);t<i.length;t++){var s=i[t],o=s[0],r=s[1];if(e===r)return o}return!1},n.prototype.toString=function(e){var t=Boolean(e);e=e!=null?e:this.format;var i=!1,s=this.a<1&&this.a>=0,o=!t&&s&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=bS(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=bS(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=bS(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=bS(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var i=this.toRgb(),s=new n(e).toRgb(),o=t/100,r={r:(s.r-i.r)*o+i.r,g:(s.g-i.g)*o+i.g,b:(s.b-i.b)*o+i.b,a:(s.a-i.a)*o+i.a};return new n(r)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var i=this.toHsl(),s=360/t,o=[this];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,o.push(new n(i));return o},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),i=t.h,s=t.s,o=t.v,r=[],a=1/e;e--;)r.push(new n({h:i,s,v:o})),o=(o+a)%1;return r},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),i=new n(e).toRgb();return new n({r:i.r+(t.r-i.r)*t.a,g:i.g+(t.g-i.g)*t.a,b:i.b+(t.b-i.b)*t.a})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),i=t.h,s=[this],o=360/e,r=1;r<e;r++)s.push(new n({h:(i+r*o)%360,s:t.s,l:t.l}));return s},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function gf(n,e){return n.mix("#141414",e).toString()}function _Qe(n){const e=iO(),t=li("button");return fe(()=>{let i={};const s=n.color;if(s){const o=new IQ(s),r=n.dark?o.tint(20).toString():gf(o,20);if(n.plain)i=t.cssVarBlock({"bg-color":n.dark?gf(o,90):o.tint(90).toString(),"text-color":s,"border-color":n.dark?gf(o,50):o.tint(50).toString(),"hover-text-color":`var(${t.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":r,"active-text-color":`var(${t.cssVarName("color-white")})`,"active-border-color":r}),e.value&&(i[t.cssVarBlockName("disabled-bg-color")]=n.dark?gf(o,90):o.tint(90).toString(),i[t.cssVarBlockName("disabled-text-color")]=n.dark?gf(o,50):o.tint(50).toString(),i[t.cssVarBlockName("disabled-border-color")]=n.dark?gf(o,80):o.tint(80).toString());else{const a=n.dark?gf(o,30):o.tint(30).toString(),l=o.isDark()?`var(${t.cssVarName("color-white")})`:`var(${t.cssVarName("color-black")})`;if(i=t.cssVarBlock({"bg-color":s,"text-color":l,"border-color":s,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":r,"active-border-color":r}),e.value){const c=n.dark?gf(o,50):o.tint(50).toString();i[t.cssVarBlockName("disabled-bg-color")]=c,i[t.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${t.cssVarName("color-white")})`,i[t.cssVarBlockName("disabled-border-color")]=c}}}return i})}const vQe=["aria-disabled","disabled","autofocus","type"],bQe={name:"ElButton"},CQe=Ht(Di(It({},bQe),{props:T9,emits:sQe,setup(n,{expose:e,emit:t}){const i=n,s=Ly();iQ({from:"type.text",replacement:"type.link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},fe(()=>i.type==="text"));const o=Wt(YX,void 0),r=w_("button"),a=li("button"),{form:l}=nQ(),c=y_(fe(()=>o==null?void 0:o.size)),u=iO(),d=ze(),h=fe(()=>i.type||(o==null?void 0:o.type)||""),f=fe(()=>{var w,y,L;return(L=(y=i.autoInsertSpace)!=null?y:(w=r.value)==null?void 0:w.autoInsertSpace)!=null?L:!1}),p=fe(()=>{var w;const y=(w=s.default)==null?void 0:w.call(s);if(f.value&&(y==null?void 0:y.length)===1){const L=y[0];if((L==null?void 0:L.type)===Sy){const D=L.children;return/^\p{Unified_Ideograph}{2}$/u.test(D.trim())}}return!1}),m=_Qe(i),b=w=>{i.nativeType==="reset"&&(l==null||l.resetFields()),t("click",w)};return e({ref:d,size:c,type:h,disabled:u,shouldAddSpace:p}),(w,y)=>(O(),W("button",{ref_key:"_ref",ref:d,class:it([B(a).b(),B(a).m(B(h)),B(a).m(B(c)),B(a).is("disabled",B(u)),B(a).is("loading",w.loading),B(a).is("plain",w.plain),B(a).is("round",w.round),B(a).is("circle",w.circle),B(a).is("text",w.text),B(a).is("link",w.link),B(a).is("has-bg",w.bg)]),"aria-disabled":B(u)||w.loading,disabled:B(u)||w.loading,autofocus:w.autofocus,type:w.nativeType,style:kn(B(m)),onClick:b},[w.loading?(O(),W(Ui,{key:0},[w.$slots.loading?xt(w.$slots,"loading",{key:0}):(O(),St(B(ws),{key:1,class:it(B(a).is("loading"))},{default:Oe(()=>[(O(),St(Pr(w.loadingIcon)))]),_:1},8,["class"]))],2112)):w.icon||w.$slots.icon?(O(),St(B(ws),{key:1},{default:Oe(()=>[w.icon?(O(),St(Pr(w.icon),{key:0})):xt(w.$slots,"icon",{key:1})]),_:3})):Mt("v-if",!0),w.$slots.default?(O(),W("span",{key:2,class:it({[B(a).em("text","expand")]:B(p)})},[xt(w.$slots,"default")],2)):Mt("v-if",!0)],14,vQe))}}));var wQe=hi(CQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const yQe={size:T9.size,type:T9.type},SQe={name:"ElButtonGroup"},LQe=Ht(Di(It({},SQe),{props:yQe,setup(n){const e=n;Hn(YX,hs({size:_r(e,"size"),type:_r(e,"type")}));const t=li("button");return(i,s)=>(O(),W("div",{class:it(`${B(t).b("group")}`)},[xt(i.$slots,"default")],2))}}));var TQ=hi(LQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const aa=er(wQe,{ButtonGroup:TQ});pl(TQ);var z2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};const Sf=new Map;let Xz;Ls&&(document.addEventListener("mousedown",n=>Xz=n),document.addEventListener("mouseup",n=>{for(const e of Sf.values())for(const{documentHandler:t}of e)t(n,Xz)}));function Qz(n,e){let t=[];return Array.isArray(e.arg)?t=e.arg:Tm(e.arg)&&t.push(e.arg),function(i,s){const o=e.instance.popperRef,r=i.target,a=s==null?void 0:s.target,l=!e||!e.instance,c=!r||!a,u=n.contains(r)||n.contains(a),d=n===r,h=t.length&&t.some(p=>p==null?void 0:p.contains(r))||t.length&&t.includes(a),f=o&&(o.contains(r)||o.contains(a));l||c||u||d||h||f||e.value(i,s)}}const xQe={beforeMount(n,e){Sf.has(n)||Sf.set(n,[]),Sf.get(n).push({documentHandler:Qz(n,e),bindingFn:e.value})},updated(n,e){Sf.has(n)||Sf.set(n,[]);const t=Sf.get(n),i=t.findIndex(o=>o.bindingFn===e.oldValue),s={documentHandler:Qz(n,e),bindingFn:e.value};i>=0?t.splice(i,1,s):t.push(s)},unmounted(n){Sf.delete(n)}},DQe={beforeMount(n,e){n._handleResize=()=>{var t;n&&((t=e.value)==null||t.call(e,n))},XR(n,n._handleResize)},beforeUnmount(n){QR(n,n._handleResize)}},NQ=fn({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:xy,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),kQe={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},EQe={name:"ElTag"},IQe=Ht(Di(It({},EQe),{props:NQ,emits:kQe,setup(n,{emit:e}){const t=n,i=y_(),s=li("tag"),o=fe(()=>{const{type:l,hit:c,effect:u,closable:d,round:h}=t;return[s.b(),s.is("closable",d),s.m(l),s.m(i.value),s.m(u),s.is("hit",c),s.is("round",h)]}),r=l=>{e("close",l)},a=l=>{e("click",l)};return(l,c)=>l.disableTransitions?(O(),St(gl,{key:1,name:`${B(s).namespace.value}-zoom-in-center`},{default:Oe(()=>[M("span",{class:it(B(o)),style:kn({backgroundColor:l.color}),onClick:a},[M("span",{class:it(B(s).e("content"))},[xt(l.$slots,"default")],2),l.closable?(O(),St(B(ws),{key:0,class:it(B(s).e("close")),onClick:Va(r,["stop"])},{default:Oe(()=>[Ue(B(VC))]),_:1},8,["class","onClick"])):Mt("v-if",!0)],6)]),_:3},8,["name"])):(O(),W("span",{key:0,class:it(B(o)),style:kn({backgroundColor:l.color}),onClick:a},[M("span",{class:it(B(s).e("content"))},[xt(l.$slots,"default")],2),l.closable?(O(),St(B(ws),{key:0,class:it(B(s).e("close")),onClick:Va(r,["stop"])},{default:Oe(()=>[Ue(B(VC))]),_:1},8,["class","onClick"])):Mt("v-if",!0)],6))}}));var TQe=hi(IQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const NQe=er(TQe),MQe=fn({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ti([Number,Object]),default:()=>Op({})},sm:{type:ti([Number,Object]),default:()=>Op({})},md:{type:ti([Number,Object]),default:()=>Op({})},lg:{type:ti([Number,Object]),default:()=>Op({})},xl:{type:ti([Number,Object]),default:()=>Op({})}}),AQe={name:"ElCol"},RQe=Ht(Di(It({},AQe),{props:MQe,setup(n){const e=n,{gutter:t}=Wt(QX,{gutter:fe(()=>0)}),i=li("col"),s=fe(()=>{const r={};return t.value&&(r.paddingLeft=r.paddingRight=`${t.value/2}px`),r}),o=fe(()=>{const r=[];return["span","offset","pull","push"].forEach(c=>{const u=e[c];Fr(u)&&(c==="span"?r.push(i.b(`${e[c]}`)):u>0&&r.push(i.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{Fr(e[c])?r.push(i.b(`${c}-${e[c]}`)):tn(e[c])&&Object.entries(e[c]).forEach(([u,d])=>{r.push(u!=="span"?i.b(`${c}-${u}-${d}`):i.b(`${c}-${d}`))})}),t.value&&r.push(i.is("guttered")),r});return(r,a)=>(O(),St(Pr(r.tag),{class:it([B(i).b(),B(o)]),style:kn(B(s))},{default:Oe(()=>[xt(r.$slots,"default")]),_:3},8,["class","style"]))}}));var OQe=hi(RQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const wS=er(OQe),PQe={name:"ElCollapseTransition"},FQe=Ht(Di(It({},PQe),{setup(n){const e=li("collapse-transition"),t={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){i.dataset.oldOverflow=i.style.overflow,i.scrollHeight!==0?(i.style.maxHeight=`${i.scrollHeight}px`,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom):(i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom),i.style.overflow="hidden"},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom}};return(i,s)=>(O(),St(gl,pa({name:B(e).b()},Vme(t)),{default:Oe(()=>[xt(i.$slots,"default")]),_:3},16,["name"]))}}));var i6=hi(FQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);i6.install=n=>{n.component(i6.name,i6)};const BQe=i6,M9={},VQe=fn({a11y:{type:Boolean,default:!0},locale:{type:ti(Object)},size:tO,button:{type:ti(Object)},experimentalFeatures:{type:ti(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:ti(Object)},zIndex:Number,namespace:{type:String,default:"el"}});Ht({name:"ElConfigProvider",props:VQe,setup(n,{slots:e}){$t(()=>n.message,i=>{Object.assign(M9,i!=null?i:{})},{immediate:!0,deep:!0});const t=sYe(n);return()=>xt(e,"default",{config:t==null?void 0:t.value})}});const WQe={name:"ElContainer"},HQe=Ht(Di(It({},WQe),{props:{direction:{type:String}},setup(n){const e=n,t=Ly(),i=li("container"),s=fe(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:t&&t.default?t.default().some(r=>{const a=r.type.name;return a==="ElHeader"||a==="ElFooter"}):!1);return(o,r)=>(O(),W("section",{class:it([B(i).b(),B(i).is("vertical",B(s))])},[xt(o.$slots,"default")],2))}}));var $Qe=hi(HQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const zQe={name:"ElAside"},UQe=Ht(Di(It({},zQe),{props:{width:{type:String,default:null}},setup(n){const e=n,t=li("aside"),i=fe(()=>e.width?t.cssVarBlock({width:e.width}):{});return(s,o)=>(O(),W("aside",{class:it(B(t).b()),style:kn(B(i))},[xt(s.$slots,"default")],6))}}));var MQ=hi(UQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const jQe={name:"ElFooter"},KQe=Ht(Di(It({},jQe),{props:{height:{type:String,default:null}},setup(n){const e=n,t=li("footer"),i=fe(()=>e.height?t.cssVarBlock({height:e.height}):{});return(s,o)=>(O(),W("footer",{class:it(B(t).b()),style:kn(B(i))},[xt(s.$slots,"default")],6))}}));var AQ=hi(KQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const qQe={name:"ElHeader"},GQe=Ht(Di(It({},qQe),{props:{height:{type:String,default:null}},setup(n){const e=n,t=li("header"),i=fe(()=>e.height?t.cssVarBlock({height:e.height}):{});return(s,o)=>(O(),W("header",{class:it(B(t).b()),style:kn(B(i))},[xt(s.$slots,"default")],6))}}));var RQ=hi(GQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const YQe={name:"ElMain"},ZQe=Ht(Di(It({},YQe),{setup(n){const e=li("main");return(t,i)=>(O(),W("main",{class:it(B(e).b())},[xt(t.$slots,"default")],2))}}));var OQ=hi(ZQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const XQe=er($Qe,{Aside:MQ,Footer:AQ,Header:RQ,Main:OQ});pl(MQ);const QQe=pl(AQ),JQe=pl(RQ),eJe=pl(OQ),tJe=fn({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ti([String,Array,Object])},zIndex:{type:ti([String,Number])}}),iJe={click:n=>n instanceof MouseEvent};var nJe=Ht({name:"ElOverlay",props:tJe,emits:iJe,setup(n,{slots:e,emit:t}){const i=li("overlay"),s=l=>{t("click",l)},{onClick:o,onMousedown:r,onMouseup:a}=sQ(n.customMaskEvent?void 0:s);return()=>n.mask?Ue("div",{class:[i.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:o,onMousedown:r,onMouseup:a},[xt(e,"default")],e6.STYLE|e6.CLASS|e6.PROPS,["onClick","onMouseup","onMousedown"]):cs("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[xt(e,"default")])}});const sJe=nJe,PQ=fn({center:{type:Boolean,default:!1},closeIcon:{type:Mm,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),oJe={close:()=>!0},rJe=["aria-label"],aJe=["id"],lJe={name:"ElDialogContent"},cJe=Ht(Di(It({},lJe),{props:PQ,emits:oJe,setup(n){const e=n,{t}=Gv(),{Close:i}=qGe,{dialogRef:s,headerRef:o,bodyId:r,ns:a,style:l}=Wt(XX),{focusTrapRef:c}=Wt(gO),u=JR(c,s),d=fe(()=>e.draggable);return rYe(s,o,d),(h,f)=>(O(),W("div",{ref:B(u),class:it([B(a).b(),B(a).is("fullscreen",h.fullscreen),B(a).is("draggable",B(d)),{[B(a).m("center")]:h.center},h.customClass]),style:kn(B(l)),tabindex:"-1",onClick:f[1]||(f[1]=Va(()=>{},["stop"]))},[M("header",{ref_key:"headerRef",ref:o,class:it(B(a).e("header"))},[xt(h.$slots,"header",{},()=>[M("span",{role:"heading",class:it(B(a).e("title"))},Rn(h.title),3)]),h.showClose?(O(),W("button",{key:0,"aria-label":B(t)("el.dialog.close"),class:it(B(a).e("headerbtn")),type:"button",onClick:f[0]||(f[0]=p=>h.$emit("close"))},[Ue(B(ws),{class:it(B(a).e("close"))},{default:Oe(()=>[(O(),St(Pr(h.closeIcon||B(i))))]),_:1},8,["class"])],10,rJe)):Mt("v-if",!0)],2),M("div",{id:B(r),class:it(B(a).e("body"))},[xt(h.$slots,"default")],10,aJe),h.$slots.footer?(O(),W("footer",{key:0,class:it(B(a).e("footer"))},[xt(h.$slots,"footer")],2)):Mt("v-if",!0)],6))}}));var uJe=hi(cJe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const dJe=fn(Di(It({},PQ),{appendToBody:{type:Boolean,default:!1},beforeClose:{type:ti(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}})),hJe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ja]:n=>Y1(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fJe=(n,e)=>{const i=Do().emit,{nextZIndex:s}=Dx();let o="";const r=Am(),a=Am(),l=ze(!1),c=ze(!1),u=ze(!1),d=ze(n.zIndex||s());let h,f;const p=fe(()=>Fr(n.width)?`${n.width}px`:n.width),m=w_("namespace",lQ),b=fe(()=>{const te={},ae=`--${m.value}-dialog`;return n.fullscreen||(n.top&&(te[`${ae}-margin-top`]=n.top),n.width&&(te[`${ae}-width`]=p.value)),te});function w(){i("opened")}function y(){i("closed"),i(ja,!1),n.destroyOnClose&&(u.value=!1)}function L(){i("close")}function D(){f==null||f(),h==null||h(),n.openDelay&&n.openDelay>0?{stop:h}=UC(()=>k(),n.openDelay):k()}function E(){h==null||h(),f==null||f(),n.closeDelay&&n.closeDelay>0?{stop:f}=UC(()=>N(),n.closeDelay):N()}function T(){function te(ae){ae||(c.value=!0,l.value=!1)}n.beforeClose?n.beforeClose(te):E()}function x(){n.closeOnClickModal&&T()}function k(){!Ls||(l.value=!0)}function N(){l.value=!1}function V(){i("openAutoFocus")}function H(){i("closeAutoFocus")}n.lockScroll&&pYe(l);function G(){n.closeOnPressEscape&&T()}return $t(()=>n.modelValue,te=>{te?(c.value=!1,D(),u.value=!0,i("open"),d.value=n.zIndex?d.value++:s(),hn(()=>{e.value&&(e.value.scrollTop=0)})):l.value&&E()}),$t(()=>n.fullscreen,te=>{!e.value||(te?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)}),Ds(()=>{n.modelValue&&(l.value=!0,u.value=!0,D())}),{afterEnter:w,afterLeave:y,beforeLeave:L,handleClose:T,onModalClick:x,close:E,doClose:N,onOpenAutoFocus:V,onCloseAutoFocus:H,onCloseRequested:G,titleId:r,bodyId:a,closed:c,style:b,rendered:u,visible:l,zIndex:d}},gJe=["aria-label","aria-labelledby","aria-describedby"],pJe={name:"ElDialog"},mJe=Ht(Di(It({},pJe),{props:dJe,emits:hJe,setup(n,{expose:e}){const t=n,i=Ly();iQ({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},fe(()=>!!i.title));const s=li("dialog"),o=ze(),r=ze(),a=ze(),{visible:l,titleId:c,bodyId:u,style:d,rendered:h,zIndex:f,afterEnter:p,afterLeave:m,beforeLeave:b,handleClose:w,onModalClick:y,onOpenAutoFocus:L,onCloseAutoFocus:D,onCloseRequested:E}=fJe(t,o);Hn(XX,{dialogRef:o,headerRef:r,bodyId:u,ns:s,rendered:h,style:d});const T=sQ(y),x=fe(()=>t.draggable&&!t.fullscreen);return e({visible:l,dialogContentRef:a}),(k,N)=>(O(),St(MZ,{to:"body",disabled:!k.appendToBody},[Ue(gl,{name:"dialog-fade",onAfterEnter:B(p),onAfterLeave:B(m),onBeforeLeave:B(b)},{default:Oe(()=>[vr(Ue(B(sJe),{"custom-mask-event":"",mask:k.modal,"overlay-class":k.modalClass,"z-index":B(f)},{default:Oe(()=>[M("div",{role:"dialog","aria-modal":"true","aria-label":k.title||void 0,"aria-labelledby":k.title?void 0:B(c),"aria-describedby":B(u),class:it(`${B(s).namespace.value}-overlay-dialog`),onClick:N[0]||(N[0]=(...V)=>B(T).onClick&&B(T).onClick(...V)),onMousedown:N[1]||(N[1]=(...V)=>B(T).onMousedown&&B(T).onMousedown(...V)),onMouseup:N[2]||(N[2]=(...V)=>B(T).onMouseup&&B(T).onMouseup(...V))},[Ue(B(DQ),{loop:"",trapped:B(l),"focus-start-el":"container",onFocusAfterTrapped:B(L),onFocusAfterReleased:B(D),onReleaseRequested:B(E)},{default:Oe(()=>[B(h)?(O(),St(uJe,{key:0,ref_key:"dialogContentRef",ref:a,"custom-class":k.customClass,center:k.center,"close-icon":k.closeIcon,draggable:B(x),fullscreen:k.fullscreen,"show-close":k.showClose,style:kn(B(d)),title:k.title,onClose:B(w)},ER({header:Oe(()=>[k.$slots.title?xt(k.$slots,"title",{key:1}):xt(k.$slots,"header",{key:0,close:B(w),titleId:B(c),titleClass:B(s).e("title")})]),default:Oe(()=>[xt(k.$slots,"default")]),_:2},[k.$slots.footer?{name:"footer",fn:Oe(()=>[xt(k.$slots,"footer")])}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):Mt("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,gJe)]),_:3},8,["mask","overlay-class","z-index"]),[[Gc,B(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}));var _Je=hi(mJe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const FQ=er(_Je),vJe={inheritAttrs:!1};function bJe(n,e,t,i,s,o){return xt(n.$slots,"default")}var CJe=hi(vJe,[["render",bJe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const wJe={name:"ElCollectionItem",inheritAttrs:!1};function yJe(n,e,t,i,s,o){return xt(n.$slots,"default")}var SJe=hi(wJe,[["render",yJe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const BQ="data-el-collection-item",VQ=n=>{const e=`El${n}Collection`,t=`${e}Item`,i=Symbol(e),s=Symbol(t),o=Di(It({},CJe),{name:e,setup(){const a=ze(null),l=new Map;Hn(i,{itemMap:l,getItems:()=>{const u=B(a);if(!u)return[];const d=Array.from(u.querySelectorAll(`[${BQ}]`));return[...l.values()].sort((f,p)=>d.indexOf(f.ref)-d.indexOf(p.ref))},collectionRef:a})}}),r=Di(It({},SJe),{name:t,setup(a,{attrs:l}){const c=ze(null),u=Wt(i,void 0);Hn(s,{collectionItemRef:c}),Ds(()=>{const d=B(c);d&&u.itemMap.set(d,It({ref:d},l))}),xo(()=>{const d=B(c);u.itemMap.delete(d)})}});return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:o,ElCollectionItem:r}},LJe=fn({style:{type:ti([String,Array,Object])},currentTabId:{type:ti(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ti(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:xJe,ElCollectionItem:DJe,COLLECTION_INJECTION_KEY:_O,COLLECTION_ITEM_INJECTION_KEY:kJe}=VQ("RovingFocusGroup"),vO=Symbol("elRovingFocusGroup"),WQ=Symbol("elRovingFocusGroupItem"),EJe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},IJe=(n,e)=>{if(e!=="rtl")return n;switch(n){case ji.right:return ji.left;case ji.left:return ji.right;default:return n}},TJe=(n,e,t)=>{const i=IJe(n.key,t);if(!(e==="vertical"&&[ji.left,ji.right].includes(i))&&!(e==="horizontal"&&[ji.up,ji.down].includes(i)))return EJe[i]},NJe=(n,e)=>n.map((t,i)=>n[(i+e)%n.length]),bO=n=>{const{activeElement:e}=document;for(const t of n)if(t===e||(t.focus(),e!==document.activeElement))return},Jz="currentTabIdChange",kE="rovingFocusGroup.entryFocus",MJe={bubbles:!1,cancelable:!0},AJe=Ht({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:LJe,emits:[Jz,"entryFocus"],setup(n,{emit:e}){var t;const i=ze((t=n.currentTabId||n.defaultCurrentTabId)!=null?t:null),s=ze(!1),o=ze(!1),r=ze(null),{getItems:a}=Wt(_O,void 0),l=fe(()=>[{outline:"none"},n.style]),c=m=>{e(Jz,m)},u=()=>{s.value=!0},d=eo(m=>{var b;(b=n.onMousedown)==null||b.call(n,m)},()=>{o.value=!0}),h=eo(m=>{var b;(b=n.onFocus)==null||b.call(n,m)},m=>{const b=!B(o),{target:w,currentTarget:y}=m;if(w===y&&b&&!B(s)){const L=new Event(kE,MJe);if(y==null||y.dispatchEvent(L),!L.defaultPrevented){const D=a().filter(N=>N.focusable),E=D.find(N=>N.active),T=D.find(N=>N.id===B(i)),k=[E,T,...D].filter(Boolean).map(N=>N.ref);bO(k)}}o.value=!1}),f=eo(m=>{var b;(b=n.onBlur)==null||b.call(n,m)},()=>{s.value=!1}),p=(...m)=>{e("entryFocus",...m)};Hn(vO,{currentTabbedId:ox(i),loop:_r(n,"loop"),tabIndex:fe(()=>B(s)?-1:0),rovingFocusGroupRef:r,rovingFocusGroupRootStyle:l,orientation:_r(n,"orientation"),dir:_r(n,"dir"),onItemFocus:c,onItemShiftTab:u,onBlur:f,onFocus:h,onMousedown:d}),$t(()=>n.currentTabId,m=>{i.value=m!=null?m:null}),Ds(()=>{const m=B(r);IGe(m,kE,p)}),xo(()=>{const m=B(r);TGe(m,kE,p)})}});function RJe(n,e,t,i,s,o){return xt(n.$slots,"default")}var OJe=hi(AJe,[["render",RJe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const PJe=Ht({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:xJe,ElRovingFocusGroupImpl:OJe}});function FJe(n,e,t,i,s,o){const r=Bi("el-roving-focus-group-impl"),a=Bi("el-focus-group-collection");return O(),St(a,null,{default:Oe(()=>[Ue(r,ype(OZ(n.$attrs)),{default:Oe(()=>[xt(n.$slots,"default")]),_:3},16)]),_:3})}var BJe=hi(PJe,[["render",FJe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const VJe=Ht({components:{ElRovingFocusCollectionItem:DJe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(n,{emit:e}){const{currentTabbedId:t,loop:i,onItemFocus:s,onItemShiftTab:o}=Wt(vO,void 0),{getItems:r}=Wt(_O,void 0),a=Am(),l=ze(null),c=eo(f=>{e("mousedown",f)},f=>{n.focusable?s(B(a)):f.preventDefault()}),u=eo(f=>{e("focus",f)},()=>{s(B(a))}),d=eo(f=>{e("keydown",f)},f=>{const{key:p,shiftKey:m,target:b,currentTarget:w}=f;if(p===ji.tab&&m){o();return}if(b!==w)return;const y=TJe(f);if(y){f.preventDefault();let D=r().filter(E=>E.focusable).map(E=>E.ref);switch(y){case"last":{D.reverse();break}case"prev":case"next":{y==="prev"&&D.reverse();const E=D.indexOf(w);D=i.value?NJe(D,E+1):D.slice(E+1);break}}hn(()=>{bO(D)})}}),h=fe(()=>t.value===B(a));return Hn(WQ,{rovingFocusGroupItemRef:l,tabIndex:fe(()=>B(h)?0:-1),handleMousedown:c,handleFocus:u,handleKeydown:d}),{id:a,handleKeydown:d,handleFocus:u,handleMousedown:c}}});function WJe(n,e,t,i,s,o){const r=Bi("el-roving-focus-collection-item");return O(),St(r,{id:n.id,focusable:n.focusable,active:n.active},{default:Oe(()=>[xt(n.$slots,"default")]),_:3},8,["id","focusable","active"])}var HJe=hi(VJe,[["render",WJe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const $Je=fn({trigger:pO.trigger,effect:Di(It({},Ex.effect),{default:"light"}),type:{type:ti(String)},placement:{type:ti(String),default:"bottom"},popperOptions:{type:ti(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ti([Number,String]),default:0},maxHeight:{type:ti([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:ti(Object)}}),HQ=fn({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Mm}}),zJe=fn({onKeydown:{type:ti(Function)}}),UJe=[ji.down,ji.pageDown,ji.home],$Q=[ji.up,ji.pageUp,ji.end],jJe=[...UJe,...$Q],{ElCollection:KJe,ElCollectionItem:qJe,COLLECTION_INJECTION_KEY:GJe,COLLECTION_ITEM_INJECTION_KEY:YJe}=VQ("Dropdown"),Ix=Symbol("elDropdown"),{ButtonGroup:ZJe}=aa,XJe=Ht({name:"ElDropdown",components:{ElButton:aa,ElButtonGroup:ZJe,ElScrollbar:sO,ElDropdownCollection:KJe,ElTooltip:Hf,ElRovingFocusGroup:BJe,ElOnlyChild:dQ,ElIcon:ws,ArrowDown:MR},props:$Je,emits:["visible-change","click","command"],setup(n,{emit:e}){const t=Do(),i=li("dropdown"),{t:s}=Gv(),o=ze(),r=ze(),a=ze(null),l=ze(null),c=ze(null),u=ze(null),d=ze(!1),h=[ji.enter,ji.space,ji.down],f=fe(()=>({maxHeight:bg(n.maxHeight)})),p=fe(()=>[i.m(D.value)]),m=Am().value,b=fe(()=>n.id||m);function w(){y()}function y(){var ae;(ae=a.value)==null||ae.onClose()}function L(){var ae;(ae=a.value)==null||ae.onOpen()}const D=y_();function E(...ae){e("command",...ae)}function T(){}function x(){const ae=B(l);ae==null||ae.focus(),u.value=null}function k(ae){u.value=ae}function N(ae){d.value||(ae.preventDefault(),ae.stopImmediatePropagation())}function V(ae){(ae==null?void 0:ae.type)==="keydown"&&l.value.focus(),e("visible-change",!0)}function H(){e("visible-change",!1)}return Hn(Ix,{contentRef:l,role:fe(()=>n.role),triggerId:b,isUsingKeyboard:d,onItemEnter:T,onItemLeave:x}),Hn("elDropdown",{instance:t,dropdownSize:D,handleClick:w,commandHandler:E,trigger:_r(n,"trigger"),hideOnClick:_r(n,"hideOnClick")}),{t:s,ns:i,scrollbar:c,wrapStyle:f,dropdownTriggerKls:p,dropdownSize:D,triggerId:b,triggerKeys:h,currentTabId:u,handleCurrentTabIdChange:k,handlerMainButtonClick:ae=>{e("click",ae)},handleEntryFocus:N,handleClose:y,handleOpen:L,handleShowTooltip:V,handleHideTooltip:H,onFocusAfterTrapped:ae=>{var me,we;ae.preventDefault(),(we=(me=l.value)==null?void 0:me.focus)==null||we.call(me,{preventScroll:!0})},popperRef:a,contentRef:l,triggeringElementRef:o,referenceElementRef:r}}});function QJe(n,e,t,i,s,o){var r;const a=Bi("el-dropdown-collection"),l=Bi("el-roving-focus-group"),c=Bi("el-scrollbar"),u=Bi("el-only-child"),d=Bi("el-tooltip"),h=Bi("el-button"),f=Bi("arrow-down"),p=Bi("el-icon"),m=Bi("el-button-group");return O(),W("div",{class:it([n.ns.b(),n.ns.is("disabled",n.disabled)])},[Ue(d,{ref:"popperRef",role:n.role,effect:n.effect,"fallback-placements":["bottom","top"],"popper-options":n.popperOptions,"gpu-acceleration":!1,"hide-after":n.trigger==="hover"?n.hideTimeout:0,"manual-mode":!0,placement:n.placement,"popper-class":[n.ns.e("popper"),n.popperClass],"reference-element":(r=n.referenceElementRef)==null?void 0:r.$el,trigger:n.trigger,"trigger-keys":n.triggerKeys,"trigger-target-el":n.contentRef,"show-after":n.trigger==="hover"?n.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":n.triggeringElementRef,"virtual-triggering":n.splitButton,disabled:n.disabled,transition:`${n.ns.namespace.value}-zoom-in-top`,teleported:"",pure:"",persistent:"",onShow:n.handleShowTooltip,onHide:n.handleHideTooltip},ER({content:Oe(()=>[Ue(c,{ref:"scrollbar","wrap-style":n.wrapStyle,tag:"div","view-class":n.ns.e("list")},{default:Oe(()=>[Ue(l,{loop:n.loop,"current-tab-id":n.currentTabId,orientation:"horizontal",onCurrentTabIdChange:n.handleCurrentTabIdChange,onEntryFocus:n.handleEntryFocus},{default:Oe(()=>[Ue(a,null,{default:Oe(()=>[xt(n.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[n.splitButton?void 0:{name:"default",fn:Oe(()=>[Ue(u,{id:n.triggerId,role:"button",tabindex:n.tabindex},{default:Oe(()=>[xt(n.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","onShow","onHide"]),n.splitButton?(O(),St(m,{key:0},{default:Oe(()=>[Ue(h,pa({ref:"referenceElementRef"},n.buttonProps,{size:n.dropdownSize,type:n.type,disabled:n.disabled,tabindex:n.tabindex,onClick:n.handlerMainButtonClick}),{default:Oe(()=>[xt(n.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),Ue(h,pa({id:n.triggerId,ref:"triggeringElementRef"},n.buttonProps,{role:"button",size:n.dropdownSize,type:n.type,class:n.ns.e("caret-button"),disabled:n.disabled,tabindex:n.tabindex,"aria-label":n.t("el.dropdown.toggleDropdown")}),{default:Oe(()=>[Ue(p,{class:it(n.ns.e("icon"))},{default:Oe(()=>[Ue(f)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Mt("v-if",!0)],2)}var JJe=hi(XJe,[["render",QJe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const eet=Ht({name:"DropdownItemImpl",components:{ElIcon:ws},props:HQ,emits:["pointermove","pointerleave","click","clickimpl"],setup(n,{emit:e}){const t=li("dropdown"),{role:i}=Wt(Ix,void 0),{collectionItemRef:s}=Wt(YJe,void 0),{collectionItemRef:o}=Wt(kJe,void 0),{rovingFocusGroupItemRef:r,tabIndex:a,handleFocus:l,handleKeydown:c,handleMousedown:u}=Wt(WQ,void 0),d=JR(s,o,r),h=fe(()=>i.value==="menu"?"menuitem":i.value==="navigation"?"link":"button"),f=eo(p=>{const{code:m}=p;if(m===ji.enter||m===ji.space)return p.preventDefault(),p.stopImmediatePropagation(),e("clickimpl",p),!0},c);return{ns:t,itemRef:d,dataset:{[BQ]:""},role:h,tabIndex:a,handleFocus:l,handleKeydown:f,handleMousedown:u}}}),tet=["aria-disabled","tabindex","role"];function iet(n,e,t,i,s,o){const r=Bi("el-icon");return O(),W(Ui,null,[n.divided?(O(),W("li",pa({key:0,role:"separator",class:n.ns.bem("menu","item","divided")},n.$attrs),null,16)):Mt("v-if",!0),M("li",pa({ref:n.itemRef},It(It({},n.dataset),n.$attrs),{"aria-disabled":n.disabled,class:[n.ns.be("menu","item"),n.ns.is("disabled",n.disabled)],tabindex:n.tabIndex,role:n.role,onClick:e[0]||(e[0]=a=>n.$emit("clickimpl",a)),onFocus:e[1]||(e[1]=(...a)=>n.handleFocus&&n.handleFocus(...a)),onKeydown:e[2]||(e[2]=(...a)=>n.handleKeydown&&n.handleKeydown(...a)),onMousedown:e[3]||(e[3]=(...a)=>n.handleMousedown&&n.handleMousedown(...a)),onPointermove:e[4]||(e[4]=a=>n.$emit("pointermove",a)),onPointerleave:e[5]||(e[5]=a=>n.$emit("pointerleave",a))}),[n.icon?(O(),St(r,{key:0},{default:Oe(()=>[(O(),St(Pr(n.icon)))]),_:1})):Mt("v-if",!0),xt(n.$slots,"default")],16,tet)],64)}var net=hi(eet,[["render",iet],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const zQ=()=>{const n=Wt("elDropdown",{}),e=fe(()=>n==null?void 0:n.dropdownSize);return{elDropdown:n,_elDropdownSize:e}},set=Ht({name:"ElDropdownItem",components:{ElDropdownCollectionItem:qJe,ElRovingFocusItem:HJe,ElDropdownItemImpl:net},inheritAttrs:!1,props:HQ,emits:["pointermove","pointerleave","click"],setup(n,{emit:e,attrs:t}){const{elDropdown:i}=zQ(),s=Do(),o=ze(null),r=fe(()=>{var f,p;return(p=(f=B(o))==null?void 0:f.textContent)!=null?p:""}),{onItemEnter:a,onItemLeave:l}=Wt(Ix,void 0),c=eo(f=>(e("pointermove",f),f.defaultPrevented),wz(f=>{var p;n.disabled?l(f):(a(f),f.defaultPrevented||(p=f.currentTarget)==null||p.focus())})),u=eo(f=>(e("pointerleave",f),f.defaultPrevented),wz(f=>{l(f)})),d=eo(f=>(e("click",f),f.type!=="keydown"&&f.defaultPrevented),f=>{var p,m,b;if(n.disabled){f.stopImmediatePropagation();return}(p=i==null?void 0:i.hideOnClick)!=null&&p.value&&((m=i.handleClick)==null||m.call(i)),(b=i.commandHandler)==null||b.call(i,n.command,s,f)}),h=fe(()=>It(It({},n),t));return{handleClick:d,handlePointerMove:c,handlePointerLeave:u,textContent:r,propsAndAttrs:h}}});function oet(n,e,t,i,s,o){var r;const a=Bi("el-dropdown-item-impl"),l=Bi("el-roving-focus-item"),c=Bi("el-dropdown-collection-item");return O(),St(c,{disabled:n.disabled,"text-value":(r=n.textValue)!=null?r:n.textContent},{default:Oe(()=>[Ue(l,{focusable:!n.disabled},{default:Oe(()=>[Ue(a,pa(n.propsAndAttrs,{onPointerleave:n.handlePointerLeave,onPointermove:n.handlePointerMove,onClickimpl:n.handleClick}),{default:Oe(()=>[xt(n.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var UQ=hi(set,[["render",oet],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const ret=Ht({name:"ElDropdownMenu",props:zJe,setup(n){const e=li("dropdown"),{_elDropdownSize:t}=zQ(),i=t.value,{focusTrapRef:s,onKeydown:o}=Wt(gO,void 0),{contentRef:r,role:a,triggerId:l}=Wt(Ix,void 0),{collectionRef:c,getItems:u}=Wt(GJe,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:h,tabIndex:f,onBlur:p,onFocus:m,onMousedown:b}=Wt(vO,void 0),{collectionRef:w}=Wt(_O,void 0),y=fe(()=>[e.b("menu"),e.bm("menu",i==null?void 0:i.value)]),L=JR(r,c,s,d,w),D=eo(T=>{var x;(x=n.onKeydown)==null||x.call(n,T)},T=>{const{currentTarget:x,code:k,target:N}=T;if(x.contains(N),ji.tab===k&&T.stopImmediatePropagation(),T.preventDefault(),N!==B(r)||!jJe.includes(k))return;const H=u().filter(G=>!G.disabled).map(G=>G.ref);$Q.includes(k)&&H.reverse(),bO(H)});return{size:i,rovingFocusGroupRootStyle:h,tabIndex:f,dropdownKls:y,role:a,triggerId:l,dropdownListWrapperRef:L,handleKeydown:T=>{D(T),o(T)},onBlur:p,onFocus:m,onMousedown:b}}}),aet=["role","aria-labelledby"];function cet(n,e,t,i,s,o){return O(),W("ul",{ref:n.dropdownListWrapperRef,class:it(n.dropdownKls),style:kn(n.rovingFocusGroupRootStyle),tabindex:-1,role:n.role,"aria-labelledby":n.triggerId,onBlur:e[0]||(e[0]=(...r)=>n.onBlur&&n.onBlur(...r)),onFocus:e[1]||(e[1]=(...r)=>n.onFocus&&n.onFocus(...r)),onKeydown:e[2]||(e[2]=(...r)=>n.handleKeydown&&n.handleKeydown(...r)),onMousedown:e[3]||(e[3]=(...r)=>n.onMousedown&&n.onMousedown(...r))},[xt(n.$slots,"default")],46,aet)}var jQ=hi(ret,[["render",cet],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const uet=er(JJe,{DropdownItem:UQ,DropdownMenu:jQ}),det=pl(UQ),het=pl(jQ);let fet=0;const get=Ht({name:"ImgEmpty",setup(){return{ns:li("empty"),id:++fet}}}),pet={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},met=["id"],_et=["stop-color"],vet=["stop-color"],bet=["id"],Cet=["stop-color"],wet=["stop-color"],yet=["id"],Let={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},xet={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},Det={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},ket=["fill"],Eet=["fill"],Iet={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},Tet=["fill"],Net=["fill"],Met=["fill"],Aet=["fill"],Ret=["fill"],Oet={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},Pet=["fill","xlink:href"],Fet=["fill","mask"],Bet=["fill"];function Vet(n,e,t,i,s,o){return O(),W("svg",pet,[M("defs",null,[M("linearGradient",{id:`linearGradient-1-${n.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[M("stop",{"stop-color":`var(${n.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,_et),M("stop",{"stop-color":`var(${n.ns.cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,vet)],8,met),M("linearGradient",{id:`linearGradient-2-${n.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[M("stop",{"stop-color":`var(${n.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Cet),M("stop",{"stop-color":`var(${n.ns.cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,wet)],8,bet),M("rect",{id:`path-3-${n.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,yet)]),M("g",Let,[M("g",xet,[M("g",Det,[M("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${n.ns.cssVarBlockName("fill-color-3")})`},null,8,ket),M("polygon",{id:"Rectangle-Copy-14",fill:`var(${n.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,Eet),M("g",Iet,[M("polygon",{id:"Rectangle-Copy-10",fill:`var(${n.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,Tet),M("polygon",{id:"Rectangle-Copy-11",fill:`var(${n.ns.cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,Net),M("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${n.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,Met),M("polygon",{id:"Rectangle-Copy-13",fill:`var(${n.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,Aet)]),M("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${n.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,Ret),M("g",Oet,[M("use",{id:"Mask",fill:`var(${n.ns.cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${n.id}`},null,8,Pet),M("polygon",{id:"Rectangle-Copy",fill:`var(${n.ns.cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${n.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,Fet)]),M("polygon",{id:"Rectangle-Copy-18",fill:`var(${n.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,Bet)])])])])}var Wet=hi(get,[["render",Vet],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const Het={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},$et=["src"],zet={key:1},Uet={name:"ElEmpty"},jet=Ht(Di(It({},Uet),{props:Het,setup(n){const e=n,{t}=Gv(),i=li("empty"),s=fe(()=>e.description||t("el.table.emptyText")),o=fe(()=>({width:e.imageSize?`${e.imageSize}px`:""}));return(r,a)=>(O(),W("div",{class:it(B(i).b())},[M("div",{class:it(B(i).e("image")),style:kn(B(o))},[r.image?(O(),W("img",{key:0,src:r.image,ondragstart:"return false"},null,8,$et)):xt(r.$slots,"image",{key:1},()=>[Ue(Wet)])],6),M("div",{class:it(B(i).e("description"))},[r.$slots.description?xt(r.$slots,"description",{key:0}):(O(),W("p",zet,Rn(B(s)),1))],2),r.$slots.default?(O(),W("div",{key:0,class:it(B(i).e("bottom"))},[xt(r.$slots,"default")],2)):Mt("v-if",!0)],2))}}));var Ket=hi(jet,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const qet=er(Ket),Get=fn({model:Object,rules:{type:ti(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:xy},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),Yet={validate:(n,e,t)=>(Gt(n)||Ai(n))&&Y1(e)&&Ai(t)};function Zet(){const n=ze([]),e=fe(()=>{if(!n.value.length)return"0";const o=Math.max(...n.value);return o?`${o}px`:""});function t(o){return n.value.indexOf(o)}function i(o,r){if(o&&r){const a=t(r);n.value.splice(a,1,o)}else o&&n.value.push(o)}function s(o){const r=t(o);r>-1&&n.value.splice(r,1)}return{autoLabelWidth:e,registerLabelWidth:i,deregisterLabelWidth:s}}const yS=(n,e)=>{const t=b9(e);return t.length>0?n.filter(i=>i.prop&&t.includes(i.prop)):n},Xet={name:"ElForm"},Qet=Ht(Di(It({},Xet),{props:Get,emits:Yet,setup(n,{expose:e,emit:t}){const i=n,s=[],o=y_(),r=li("form"),a=fe(()=>{const{labelPosition:y,inline:L}=i;return[r.b(),r.m(o.value||"default"),{[r.m(`label-${y}`)]:y,[r.m("inline")]:L}]}),l=y=>{s.push(y)},c=y=>{y.prop&&s.splice(s.indexOf(y),1)},u=(y=[])=>{!i.model||yS(s,y).forEach(L=>L.resetField())},d=(y=[])=>{yS(s,y).forEach(L=>L.clearValidate())},h=fe(()=>!!i.model),f=y=>{if(s.length===0)return[];const L=yS(s,y);return L.length?L:[]},p=async y=>b(void 0,y),m=async y=>{if(!h.value)return!1;const L=f(y);if(L.length===0)return!0;let D={};for(const E of L)try{await E.validate("")}catch(T){D=It(It({},D),T)}return Object.keys(D).length===0?!0:Promise.reject(D)},b=async(y=[],L)=>{const D=!oi(L);try{const E=await m(y);return E===!0&&(L==null||L(E)),E}catch(E){const T=E;return i.scrollToError&&w(Object.keys(T)[0]),L==null||L(!1,T),D&&Promise.reject(T)}},w=y=>{var L;const D=yS(s,y)[0];D&&((L=D.$el)==null||L.scrollIntoView())};return $t(()=>i.rules,()=>{i.validateOnRuleChange&&p()},{deep:!0}),Hn(C_,hs(It(Di(It({},zg(i)),{emit:t,resetFields:u,clearValidate:d,validateField:b,addField:l,removeField:c}),Zet()))),e({validate:p,validateField:b,resetFields:u,clearValidate:d,scrollToField:w}),(y,L)=>(O(),W("form",{class:it(B(a))},[xt(y.$slots,"default")],2))}}));var Jet=hi(Qet,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Yp(){return Yp=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yp.apply(this,arguments)}function ett(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,qC(n,e)}function A9(n){return A9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},A9(n)}function qC(n,e){return qC=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},qC(n,e)}function ttt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function n6(n,e,t){return ttt()?n6=Reflect.construct:n6=function(s,o,r){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(s,a),c=new l;return r&&qC(c,r.prototype),c},n6.apply(null,arguments)}function itt(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function R9(n){var e=typeof Map=="function"?new Map:void 0;return R9=function(i){if(i===null||!itt(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(i))return e.get(i);e.set(i,s)}function s(){return n6(i,arguments,A9(this).constructor)}return s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),qC(s,i)},R9(n)}var ntt=/%[sdj%]/g,stt=function(){};typeof process!="undefined"&&process.env;function O9(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var i=t.field;e[i]=e[i]||[],e[i].push(t)}),e}function Xa(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var s=0,o=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var r=n.replace(ntt,function(a){if(a==="%%")return"%";if(s>=o)return a;switch(a){case"%s":return String(t[s++]);case"%d":return Number(t[s++]);case"%j":try{return JSON.stringify(t[s++])}catch{return"[Circular]"}break;default:return a}});return r}return n}function ott(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function yo(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||ott(e)&&typeof n=="string"&&!n)}function rtt(n,e,t){var i=[],s=0,o=n.length;function r(a){i.push.apply(i,a||[]),s++,s===o&&t(i)}n.forEach(function(a){e(a,r)})}function eU(n,e,t){var i=0,s=n.length;function o(r){if(r&&r.length){t(r);return}var a=i;i=i+1,a<s?e(n[a],o):t([])}o([])}function att(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var tU=function(n){ett(e,n);function e(t,i){var s;return s=n.call(this,"Async Validation Error")||this,s.errors=t,s.fields=i,s}return e}(R9(Error));function ltt(n,e,t,i,s){if(e.first){var o=new Promise(function(h,f){var p=function(w){return i(w),w.length?f(new tU(w,O9(w))):h(s)},m=att(n);eU(m,t,p)});return o.catch(function(h){return h}),o}var r=e.firstFields===!0?Object.keys(n):e.firstFields||[],a=Object.keys(n),l=a.length,c=0,u=[],d=new Promise(function(h,f){var p=function(b){if(u.push.apply(u,b),c++,c===l)return i(u),u.length?f(new tU(u,O9(u))):h(s)};a.length||(i(u),h(s)),a.forEach(function(m){var b=n[m];r.indexOf(m)!==-1?eU(b,t,p):rtt(b,t,p)})});return d.catch(function(h){return h}),d}function ctt(n){return!!(n&&n.message!==void 0)}function utt(n,e){for(var t=n,i=0;i<e.length;i++){if(t==null)return t;t=t[e[i]]}return t}function iU(n,e){return function(t){var i;return n.fullFields?i=utt(e,n.fullFields):i=e[t.field||n.fullField],ctt(t)?(t.field=t.field||n.fullField,t.fieldValue=i,t):{message:typeof t=="function"?t():t,fieldValue:i,field:t.field||n.fullField}}}function nU(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];typeof i=="object"&&typeof n[t]=="object"?n[t]=Yp({},n[t],i):n[t]=i}}return n}var KQ=function(e,t,i,s,o,r){e.required&&(!i.hasOwnProperty(e.field)||yo(t,r||e.type))&&s.push(Xa(o.messages.required,e.fullField))},dtt=function(e,t,i,s,o){(/^\s+$/.test(t)||t==="")&&s.push(Xa(o.messages.whitespace,e.fullField))},EE={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Sb={integer:function(e){return Sb.number(e)&&parseInt(e,10)===e},float:function(e){return Sb.number(e)&&!Sb.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Sb.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(EE.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(EE.url)},hex:function(e){return typeof e=="string"&&!!e.match(EE.hex)}},htt=function(e,t,i,s,o){if(e.required&&t===void 0){KQ(e,t,i,s,o);return}var r=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;r.indexOf(a)>-1?Sb[a](t)||s.push(Xa(o.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&s.push(Xa(o.messages.types[a],e.fullField,e.type))},ftt=function(e,t,i,s,o){var r=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=t,d=null,h=typeof t=="number",f=typeof t=="string",p=Array.isArray(t);if(h?d="number":f?d="string":p&&(d="array"),!d)return!1;p&&(u=t.length),f&&(u=t.replace(c,"_").length),r?u!==e.len&&s.push(Xa(o.messages[d].len,e.fullField,e.len)):a&&!l&&u<e.min?s.push(Xa(o.messages[d].min,e.fullField,e.min)):l&&!a&&u>e.max?s.push(Xa(o.messages[d].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&s.push(Xa(o.messages[d].range,e.fullField,e.min,e.max))},r0="enum",gtt=function(e,t,i,s,o){e[r0]=Array.isArray(e[r0])?e[r0]:[],e[r0].indexOf(t)===-1&&s.push(Xa(o.messages[r0],e.fullField,e[r0].join(", ")))},ptt=function(e,t,i,s,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||s.push(Xa(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var r=new RegExp(e.pattern);r.test(t)||s.push(Xa(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Xi={required:KQ,whitespace:dtt,type:htt,range:ftt,enum:gtt,pattern:ptt},mtt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t,"string")&&!e.required)return i();Xi.required(e,t,s,r,o,"string"),yo(t,"string")||(Xi.type(e,t,s,r,o),Xi.range(e,t,s,r,o),Xi.pattern(e,t,s,r,o),e.whitespace===!0&&Xi.whitespace(e,t,s,r,o))}i(r)},_tt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t)&&!e.required)return i();Xi.required(e,t,s,r,o),t!==void 0&&Xi.type(e,t,s,r,o)}i(r)},vtt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(t===""&&(t=void 0),yo(t)&&!e.required)return i();Xi.required(e,t,s,r,o),t!==void 0&&(Xi.type(e,t,s,r,o),Xi.range(e,t,s,r,o))}i(r)},btt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t)&&!e.required)return i();Xi.required(e,t,s,r,o),t!==void 0&&Xi.type(e,t,s,r,o)}i(r)},Ctt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t)&&!e.required)return i();Xi.required(e,t,s,r,o),yo(t)||Xi.type(e,t,s,r,o)}i(r)},wtt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t)&&!e.required)return i();Xi.required(e,t,s,r,o),t!==void 0&&(Xi.type(e,t,s,r,o),Xi.range(e,t,s,r,o))}i(r)},ytt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t)&&!e.required)return i();Xi.required(e,t,s,r,o),t!==void 0&&(Xi.type(e,t,s,r,o),Xi.range(e,t,s,r,o))}i(r)},Stt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(t==null&&!e.required)return i();Xi.required(e,t,s,r,o,"array"),t!=null&&(Xi.type(e,t,s,r,o),Xi.range(e,t,s,r,o))}i(r)},Ltt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t)&&!e.required)return i();Xi.required(e,t,s,r,o),t!==void 0&&Xi.type(e,t,s,r,o)}i(r)},xtt="enum",Dtt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t)&&!e.required)return i();Xi.required(e,t,s,r,o),t!==void 0&&Xi[xtt](e,t,s,r,o)}i(r)},ktt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t,"string")&&!e.required)return i();Xi.required(e,t,s,r,o),yo(t,"string")||Xi.pattern(e,t,s,r,o)}i(r)},Ett=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t,"date")&&!e.required)return i();if(Xi.required(e,t,s,r,o),!yo(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),Xi.type(e,l,s,r,o),l&&Xi.range(e,l.getTime(),s,r,o)}}i(r)},Itt=function(e,t,i,s,o){var r=[],a=Array.isArray(t)?"array":typeof t;Xi.required(e,t,s,r,o,a),i(r)},IE=function(e,t,i,s,o){var r=e.type,a=[],l=e.required||!e.required&&s.hasOwnProperty(e.field);if(l){if(yo(t,r)&&!e.required)return i();Xi.required(e,t,s,a,o,r),yo(t,r)||Xi.type(e,t,s,a,o)}i(a)},Ttt=function(e,t,i,s,o){var r=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(yo(t)&&!e.required)return i();Xi.required(e,t,s,r,o)}i(r)},tC={string:mtt,method:_tt,number:vtt,boolean:btt,regexp:Ctt,integer:wtt,float:ytt,array:Stt,object:Ltt,enum:Dtt,pattern:ktt,date:Ett,url:IE,hex:IE,email:IE,required:Itt,any:Ttt};function P9(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var F9=P9(),Ey=function(){function n(t){this.rules=null,this._messages=F9,this.define(t)}var e=n.prototype;return e.define=function(i){var s=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(o){var r=i[o];s.rules[o]=Array.isArray(r)?r:[r]})},e.messages=function(i){return i&&(this._messages=nU(P9(),i)),this._messages},e.validate=function(i,s,o){var r=this;s===void 0&&(s={}),o===void 0&&(o=function(){});var a=i,l=s,c=o;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function u(m){var b=[],w={};function y(D){if(Array.isArray(D)){var E;b=(E=b).concat.apply(E,D)}else b.push(D)}for(var L=0;L<m.length;L++)y(m[L]);b.length?(w=O9(b),c(b,w)):c(null,a)}if(l.messages){var d=this.messages();d===F9&&(d=P9()),nU(d,l.messages),l.messages=d}else l.messages=this.messages();var h={},f=l.keys||Object.keys(this.rules);f.forEach(function(m){var b=r.rules[m],w=a[m];b.forEach(function(y){var L=y;typeof L.transform=="function"&&(a===i&&(a=Yp({},a)),w=a[m]=L.transform(w)),typeof L=="function"?L={validator:L}:L=Yp({},L),L.validator=r.getValidationMethod(L),L.validator&&(L.field=m,L.fullField=L.fullField||m,L.type=r.getType(L),h[m]=h[m]||[],h[m].push({rule:L,value:w,source:a,field:m}))})});var p={};return ltt(h,l,function(m,b){var w=m.rule,y=(w.type==="object"||w.type==="array")&&(typeof w.fields=="object"||typeof w.defaultField=="object");y=y&&(w.required||!w.required&&m.value),w.field=m.field;function L(T,x){return Yp({},x,{fullField:w.fullField+"."+T,fullFields:w.fullFields?[].concat(w.fullFields,[T]):[T]})}function D(T){T===void 0&&(T=[]);var x=Array.isArray(T)?T:[T];!l.suppressWarning&&x.length&&n.warning("async-validator:",x),x.length&&w.message!==void 0&&(x=[].concat(w.message));var k=x.map(iU(w,a));if(l.first&&k.length)return p[w.field]=1,b(k);if(!y)b(k);else{if(w.required&&!m.value)return w.message!==void 0?k=[].concat(w.message).map(iU(w,a)):l.error&&(k=[l.error(w,Xa(l.messages.required,w.field))]),b(k);var N={};w.defaultField&&Object.keys(m.value).map(function(G){N[G]=w.defaultField}),N=Yp({},N,m.rule.fields);var V={};Object.keys(N).forEach(function(G){var te=N[G],ae=Array.isArray(te)?te:[te];V[G]=ae.map(L.bind(null,G))});var H=new n(V);H.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),H.validate(m.value,m.rule.options||l,function(G){var te=[];k&&k.length&&te.push.apply(te,k),G&&G.length&&te.push.apply(te,G),b(te.length?te:null)})}}var E;if(w.asyncValidator)E=w.asyncValidator(w,m.value,D,m.source,l);else if(w.validator){try{E=w.validator(w,m.value,D,m.source,l)}catch(T){console.error==null||console.error(T),setTimeout(function(){throw T},0),D(T.message)}E===!0?D():E===!1?D(typeof w.message=="function"?w.message(w.fullField||w.field):w.message||(w.fullField||w.field)+" fails"):E instanceof Array?D(E):E instanceof Error&&D(E.message)}E&&E.then&&E.then(function(){return D()},function(T){return D(T)})},function(m){u(m)},a)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!tC.hasOwnProperty(i.type))throw new Error(Xa("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var s=Object.keys(i),o=s.indexOf("message");return o!==-1&&s.splice(o,1),s.length===1&&s[0]==="required"?tC.required:tC[this.getType(i)]||void 0},n}();Ey.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");tC[e]=t};Ey.warning=stt;Ey.messages=F9;Ey.validators=tC;const Ntt=["","error","validating","success"],Mtt=fn({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:ti([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ti([Object,Array])},error:String,validateStatus:{type:String,values:Ntt},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:xy}}),sU="ElLabelWrap";var Att=Ht({name:sU,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const t=Wt(C_,void 0);Wt(Cg)||Nm(sU,"usage: <el-form-item><label-wrap /></el-form-item>");const s=li("form"),o=ze(),r=ze(0),a=()=>{var u;if((u=o.value)!=null&&u.firstElementChild){const d=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=u=>{hn(()=>{e.default&&n.isAutoWidth&&(u==="update"?r.value=a():u==="remove"&&(t==null||t.deregisterLabelWidth(r.value)))})},c=()=>l("update");return Ds(()=>{c()}),xo(()=>{l("remove")}),hx(()=>c()),$t(r,(u,d)=>{n.updateAll&&(t==null||t.registerLabelWidth(u,d))}),ZR(fe(()=>{var u,d;return(d=(u=o.value)==null?void 0:u.firstElementChild)!=null?d:null}),c),()=>{var u,d;if(!e)return null;const{isAutoWidth:h}=n;if(h){const f=t==null?void 0:t.autoLabelWidth,p={};if(f&&f!=="auto"){const m=Math.max(0,Number.parseInt(f,10)-r.value),b=t.labelPosition==="left"?"marginRight":"marginLeft";m&&(p[b]=`${m}px`)}return Ue("div",{ref:o,class:[s.be("item","label-wrap")],style:p},[(u=e.default)==null?void 0:u.call(e)])}else return Ue(Ui,{ref:o},[(d=e.default)==null?void 0:d.call(e)])}}});const Rtt=["role","aria-labelledby"],Ott={name:"ElFormItem"},Ptt=Ht(Di(It({},Ott),{props:Mtt,setup(n,{expose:e}){const t=n,i=Ly(),s=Wt(C_,void 0),o=Wt(Cg,void 0),r=y_(void 0,{formItem:!1}),a=li("form-item"),l=Am().value,c=ze([]),u=ze(""),d=OGe(u,100),h=ze(""),f=ze();let p,m=!1;const b=fe(()=>{if((s==null?void 0:s.labelPosition)==="top")return{};const ye=bg(t.labelWidth||(s==null?void 0:s.labelWidth)||"");return ye?{width:ye}:{}}),w=fe(()=>{if((s==null?void 0:s.labelPosition)==="top"||(s==null?void 0:s.inline))return{};if(!t.label&&!t.labelWidth&&N)return{};const ye=bg(t.labelWidth||(s==null?void 0:s.labelWidth)||"");return!t.label&&!i.label?{marginLeft:ye}:{}}),y=fe(()=>[a.b(),a.m(r.value),a.is("error",u.value==="error"),a.is("validating",u.value==="validating"),a.is("success",u.value==="success"),a.is("required",ae.value||t.required),a.is("no-asterisk",s==null?void 0:s.hideRequiredAsterisk),{[a.m("feedback")]:s==null?void 0:s.statusIcon}]),L=fe(()=>Y1(t.inlineMessage)?t.inlineMessage:(s==null?void 0:s.inlineMessage)||!1),D=fe(()=>[a.e("error"),{[a.em("error","inline")]:L.value}]),E=fe(()=>t.prop?Ai(t.prop)?t.prop:t.prop.join("."):""),T=fe(()=>!!(t.label||i.label)),x=fe(()=>t.for||c.value.length===1?c.value[0]:void 0),k=fe(()=>!x.value&&T.value),N=!!o,V=fe(()=>{const ye=s==null?void 0:s.model;if(!(!ye||!t.prop))return CE(ye,t.prop).value}),H=fe(()=>{const ye=t.rules?b9(t.rules):[],We=s==null?void 0:s.rules;if(We&&t.prop){const gt=CE(We,t.prop).value;gt&&ye.push(...b9(gt))}return t.required!==void 0&&ye.push({required:!!t.required}),ye}),G=fe(()=>H.value.length>0),te=ye=>H.value.filter(gt=>!gt.trigger||!ye?!0:Array.isArray(gt.trigger)?gt.trigger.includes(ye):gt.trigger===ye).map(Fe=>{var ht=Fe,{trigger:gt}=ht,rt=UH(ht,["trigger"]);return rt}),ae=fe(()=>H.value.some(ye=>ye.required===!0)),me=fe(()=>{var ye;return d.value==="error"&&t.showMessage&&((ye=s==null?void 0:s.showMessage)!=null?ye:!0)}),we=fe(()=>`${t.label||""}${(s==null?void 0:s.labelSuffix)||""}`),be=ye=>{u.value=ye},Me=ye=>{var We,gt;const{errors:rt,fields:Fe}=ye;(!rt||!Fe)&&console.error(ye),be("error"),h.value=rt?(gt=(We=rt==null?void 0:rt[0])==null?void 0:We.message)!=null?gt:`${t.prop} is required`:"",s==null||s.emit("validate",t.prop,!1,h.value)},He=()=>{be("success"),s==null||s.emit("validate",t.prop,!0,"")},mt=async ye=>{const We=E.value;return new Ey({[We]:ye}).validate({[We]:V.value},{firstFields:!0}).then(()=>(He(),!0)).catch(rt=>(Me(rt),Promise.reject(rt)))},ot=async(ye,We)=>{if(m)return m=!1,!1;const gt=oi(We);if(!G.value)return We==null||We(!1),!1;const rt=te(ye);return rt.length===0?(We==null||We(!0),!0):(be("validating"),mt(rt).then(()=>(We==null||We(!0),!0)).catch(Fe=>{const{fields:ht}=Fe;return We==null||We(!1,ht),gt?!1:Promise.reject(ht)}))},De=()=>{be(""),h.value=""},pe=async()=>{const ye=s==null?void 0:s.model;if(!ye||!t.prop)return;const We=CE(ye,t.prop);L9(We.value,p)||(m=!0),We.value=pz(p),await hn(),De()},_t=ye=>{c.value.includes(ye)||c.value.push(ye)},_e=ye=>{c.value=c.value.filter(We=>We!==ye)};$t(()=>t.error,ye=>{h.value=ye||"",be(ye?"error":"")},{immediate:!0}),$t(()=>t.validateStatus,ye=>be(ye||""));const Ge=hs(Di(It({},zg(t)),{$el:f,size:r,validateState:u,labelId:l,inputIds:c,isGroup:k,addInputId:_t,removeInputId:_e,resetField:pe,clearValidate:De,validate:ot}));return Hn(Cg,Ge),Ds(()=>{t.prop&&(s==null||s.addField(Ge),p=pz(V.value))}),xo(()=>{s==null||s.removeField(Ge)}),e({size:r,validateMessage:h,validateState:u,validate:ot,clearValidate:De,resetField:pe}),(ye,We)=>{var gt;return O(),W("div",{ref_key:"formItemRef",ref:f,class:it(B(y)),role:B(k)?"group":void 0,"aria-labelledby":B(k)?B(l):void 0},[Ue(B(Att),{"is-auto-width":B(b).width==="auto","update-all":((gt=B(s))==null?void 0:gt.labelWidth)==="auto"},{default:Oe(()=>[B(T)?(O(),St(Pr(B(x)?"label":"div"),{key:0,id:B(l),for:B(x),class:it(B(a).e("label")),style:kn(B(b))},{default:Oe(()=>[xt(ye.$slots,"label",{label:B(we)},()=>[wr(Rn(B(we)),1)])]),_:3},8,["id","for","class","style"])):Mt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),M("div",{class:it(B(a).e("content")),style:kn(B(w))},[xt(ye.$slots,"default"),Ue(gl,{name:`${B(a).namespace.value}-zoom-in-top`},{default:Oe(()=>[B(me)?xt(ye.$slots,"error",{key:0,error:h.value},()=>[M("div",{class:it(B(D))},Rn(h.value),3)]):Mt("v-if",!0)]),_:3},8,["name"])],6)],10,Rtt)}}}));var qQ=hi(Ptt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const GQ=er(Jet,{FormItem:qQ}),B9=pl(qQ);class Ftt{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",i=>{let s=!1;switch(i.code){case ji.down:{this.gotoSubIndex(this.subIndex+1),s=!0;break}case ji.up:{this.gotoSubIndex(this.subIndex-1),s=!0;break}case ji.tab:{J3(e,"mouseleave");break}case ji.enter:case ji.space:{s=!0,i.currentTarget.click();break}}return s&&(i.preventDefault(),i.stopPropagation()),!1})})}}class Btt{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new Ftt(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let t=!1;switch(e.code){case ji.down:{J3(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case ji.up:{J3(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case ji.tab:{J3(e.currentTarget,"mouseleave");break}case ji.enter:case ji.space:{t=!0,e.currentTarget.click();break}}t&&e.preventDefault()})}}class Vtt{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach(i=>{i.nodeType===1&&new Btt(i,e)})}}const Wtt=Ht({name:"ElMenuCollapseTransition",setup(){const n=li("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,i){qp(t,`${n.namespace.value}-opacity-transition`),t.style.opacity="1",i()},onAfterEnter(t){ig(t,`${n.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),E9(t,n.m("collapse"))?(ig(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),qp(t,n.m("collapse"))):(qp(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),ig(t,n.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){qp(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function Htt(n,e,t,i,s,o){return O(),St(gl,pa({mode:"out-in"},n.listeners),{default:Oe(()=>[xt(n.$slots,"default")]),_:3},16)}var $tt=hi(Wtt,[["render",Htt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function YQ(n,e){const t=fe(()=>{let s=n.parent;const o=[e.value];for(;s.type.name!=="ElMenu";)s.props.index&&o.unshift(s.props.index),s=s.parent;return o});return{parentMenu:fe(()=>{let s=n.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),indexPath:t}}function ztt(n){return fe(()=>{const t=n.backgroundColor;return t?new IQ(t).shade(20).toString():""})}const ZQ=(n,e)=>{const t=li("menu");return fe(()=>t.cssVarBlock({"text-color":n.textColor||"","hover-text-color":n.textColor||"","bg-color":n.backgroundColor||"","hover-bg-color":ztt(n).value||"","active-color":n.activeTextColor||"",level:`${e}`}))},Utt=fn({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6}}),TE="ElSubMenu";var CO=Ht({name:TE,props:Utt,setup(n,{slots:e,expose:t}){const i=Do(),{indexPath:s,parentMenu:o}=YQ(i,fe(()=>n.index)),r=li("menu"),a=li("sub-menu"),l=Wt("rootMenu");l||Nm(TE,"can not inject root menu");const c=Wt(`subMenu:${o.value.uid}`);c||Nm(TE,"can not inject sub menu");const u=ze({}),d=ze({});let h;const f=ze(!1),p=ze(),m=ze(null),b=fe(()=>H.value==="horizontal"&&y.value?"bottom-start":"right-start"),w=fe(()=>H.value==="horizontal"&&y.value||H.value==="vertical"&&!l.props.collapse?MR:XZ),y=fe(()=>c.level===0),L=fe(()=>n.popperAppendToBody===void 0?y.value:Boolean(n.popperAppendToBody)),D=fe(()=>l.props.collapse?`${r.namespace.value}-zoom-in-left`:`${r.namespace.value}-zoom-in-top`),E=fe(()=>H.value==="horizontal"&&y.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),T=fe(()=>l.openedMenus.includes(n.index)),x=fe(()=>{let He=!1;return Object.values(u.value).forEach(mt=>{mt.active&&(He=!0)}),Object.values(d.value).forEach(mt=>{mt.active&&(He=!0)}),He}),k=fe(()=>l.props.backgroundColor||""),N=fe(()=>l.props.activeTextColor||""),V=fe(()=>l.props.textColor||""),H=fe(()=>l.props.mode),G=hs({index:n.index,indexPath:s,active:x}),te=fe(()=>H.value!=="horizontal"?{color:V.value}:{borderBottomColor:x.value?l.props.activeTextColor?N.value:"":"transparent",color:x.value?N.value:V.value}),ae=()=>{var He,mt,ot;return(ot=(mt=(He=m.value)==null?void 0:He.popperRef)==null?void 0:mt.popperInstanceRef)==null?void 0:ot.destroy()},me=He=>{He||ae()},we=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||n.disabled||l.handleSubMenuClick({index:n.index,indexPath:s.value,active:x.value})},be=(He,mt=n.showTimeout)=>{var ot;He.type==="focus"&&!He.relatedTarget||l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||n.disabled||(c.mouseInChild.value=!0,h==null||h(),{stop:h}=UC(()=>{l.openMenu(n.index,s.value)},mt),L.value&&((ot=o.value.vnode.el)==null||ot.dispatchEvent(new MouseEvent("mouseenter"))))},Me=(He=!1)=>{var mt,ot;l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||(h==null||h(),c.mouseInChild.value=!1,{stop:h}=UC(()=>!f.value&&l.closeMenu(n.index,s.value),n.hideTimeout),L.value&&He&&((mt=i.parent)==null?void 0:mt.type.name)==="ElSubMenu"&&((ot=c.handleMouseleave)==null||ot.call(c,!0)))};$t(()=>l.props.collapse,He=>me(Boolean(He)));{const He=ot=>{d.value[ot.index]=ot},mt=ot=>{delete d.value[ot.index]};Hn(`subMenu:${i.uid}`,{addSubMenu:He,removeSubMenu:mt,handleMouseleave:Me,mouseInChild:f,level:c.level+1})}return t({opened:T}),Ds(()=>{l.addSubMenu(G),c.addSubMenu(G)}),xo(()=>{c.removeSubMenu(G),l.removeSubMenu(G)}),()=>{var He;const mt=[(He=e.title)==null?void 0:He.call(e),cs(ws,{class:a.e("icon-arrow")},{default:()=>cs(w.value)})],ot=ZQ(l.props,c.level+1),De=l.isMenuPopup?cs(Hf,{ref:m,visible:T.value,effect:"light",pure:!0,offset:n.popperOffset,showArrow:!1,persistent:!0,popperClass:n.popperClass,placement:b.value,teleported:L.value,fallbackPlacements:E.value,transition:D.value,gpuAcceleration:!1},{content:()=>{var pe;return cs("div",{class:[r.m(H.value),r.m("popup-container"),n.popperClass],onMouseenter:_t=>be(_t,100),onMouseleave:()=>Me(!0),onFocus:_t=>be(_t,100)},[cs("ul",{class:[r.b(),r.m("popup"),r.m(`popup-${b.value}`)],style:ot.value},[(pe=e.default)==null?void 0:pe.call(e)])])},default:()=>cs("div",{class:a.e("title"),style:[te.value,{backgroundColor:k.value}],onClick:we},mt)}):cs(Ui,{},[cs("div",{class:a.e("title"),style:[te.value,{backgroundColor:k.value}],ref:p,onClick:we},mt),cs(BQe,{},{default:()=>{var pe;return vr(cs("ul",{role:"menu",class:[r.b(),r.m("inline")],style:ot.value},[(pe=e.default)==null?void 0:pe.call(e)]),[[Gc,T.value]])}})]);return cs("li",{class:[a.b(),a.is("active",x.value),a.is("opened",T.value),a.is("disabled",n.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:T.value,onMouseenter:be,onMouseleave:()=>Me(!0),onFocus:be},[De])}}});const jtt=fn({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ti(Array),default:()=>Op([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0}}),NE=n=>Array.isArray(n)&&n.every(e=>Ai(e)),Ktt={close:(n,e)=>Ai(n)&&NE(e),open:(n,e)=>Ai(n)&&NE(e),select:(n,e,t,i)=>Ai(n)&&NE(e)&&tn(t)&&(i===void 0||i instanceof Promise)};var qtt=Ht({name:"ElMenu",props:jtt,emits:Ktt,setup(n,{emit:e,slots:t,expose:i}){const s=Do(),o=s.appContext.config.globalProperties.$router,r=ze(),a=li("menu"),l=li("sub-menu"),c=ze(n.defaultOpeneds&&!n.collapse?n.defaultOpeneds.slice(0):[]),u=ze(n.defaultActive),d=ze({}),h=ze({}),f=fe(()=>n.mode==="horizontal"||n.mode==="vertical"&&n.collapse),p=()=>{const x=u.value&&d.value[u.value];if(!x||n.mode==="horizontal"||n.collapse)return;x.indexPath.forEach(N=>{const V=h.value[N];V&&m(N,V.indexPath)})},m=(x,k)=>{c.value.includes(x)||(n.uniqueOpened&&(c.value=c.value.filter(N=>k.includes(N))),c.value.push(x),e("open",x,k))},b=(x,k)=>{const N=c.value.indexOf(x);N!==-1&&c.value.splice(N,1),e("close",x,k)},w=({index:x,indexPath:k})=>{c.value.includes(x)?b(x,k):m(x,k)},y=x=>{(n.mode==="horizontal"||n.collapse)&&(c.value=[]);const{index:k,indexPath:N}=x;if(!(k===void 0||N===void 0))if(n.router&&o){const V=x.route||k,H=o.push(V).then(G=>(G||(u.value=k),G));e("select",k,N,{index:k,indexPath:N,route:V},H)}else u.value=k,e("select",k,N,{index:k,indexPath:N})},L=x=>{const k=d.value,N=k[x]||u.value&&k[u.value]||k[n.defaultActive];N?(u.value=N.index,p()):u.value=x},D=()=>{hn(()=>s.proxy.$forceUpdate())};$t(()=>n.defaultActive,x=>{d.value[x]||(u.value=""),L(x)}),$t(d.value,()=>p()),$t(()=>n.collapse,x=>{x&&(c.value=[])});{const x=H=>{h.value[H.index]=H},k=H=>{delete h.value[H.index]};Hn("rootMenu",hs({props:n,openedMenus:c,items:d,subMenus:h,activeIndex:u,isMenuPopup:f,addMenuItem:H=>{d.value[H.index]=H},removeMenuItem:H=>{delete d.value[H.index]},addSubMenu:x,removeSubMenu:k,openMenu:m,closeMenu:b,handleMenuItemClick:y,handleSubMenuClick:w})),Hn(`subMenu:${s.uid}`,{addSubMenu:x,removeSubMenu:k,mouseInChild:ze(!1),level:0})}Ds(()=>{p(),n.mode==="horizontal"&&new Vtt(s.vnode.el,a.namespace.value)}),i({open:k=>{const{indexPath:N}=h.value[k];N.forEach(V=>m(V,N))},close:b,handleResize:D});const E=x=>{const k=Array.isArray(x)?x:[x],N=[];return k.forEach(V=>{Array.isArray(V.children)?N.push(...E(V.children)):N.push(V)}),N},T=x=>n.mode==="horizontal"?vr(x,[[DQe,D]]):x;return()=>{var x,k,N,V;let H=(k=(x=t.default)==null?void 0:x.call(t))!=null?k:[];const G=[];if(n.mode==="horizontal"&&r.value){const we=Array.from((V=(N=r.value)==null?void 0:N.childNodes)!=null?V:[]).filter(Ge=>Ge.nodeName!=="#text"||Ge.nodeValue),be=E(H),Me=64,He=Number.parseInt(getComputedStyle(r.value).paddingLeft,10),mt=Number.parseInt(getComputedStyle(r.value).paddingRight,10),ot=r.value.clientWidth-He-mt;let De=0,pe=0;we.forEach((Ge,ye)=>{De+=Ge.offsetWidth||0,De<=ot-Me&&(pe=ye+1)});const _t=be.slice(0,pe),_e=be.slice(pe);(_e==null?void 0:_e.length)&&n.ellipsis&&(H=_t,G.push(cs(CO,{index:"sub-menu-more",class:l.e("hide-arrow")},{title:()=>cs(ws,{class:l.e("icon-more")},{default:()=>cs(tX)}),default:()=>_e})))}const te=ZQ(n,0),me=(we=>n.ellipsis?T(we):we)(cs("ul",{key:String(n.collapse),role:"menubar",ref:r,style:te.value,class:{[a.b()]:!0,[a.m(n.mode)]:!0,[a.m("collapse")]:n.collapse}},[...H,...G]));return n.collapseTransition&&n.mode==="vertical"?cs($tt,()=>me):me}}});const Gtt=fn({index:{type:ti([String,null]),default:null},route:{type:ti([String,Object])},disabled:Boolean}),Ytt={click:n=>Ai(n.index)&&Array.isArray(n.indexPath)},ME="ElMenuItem",Ztt=Ht({name:ME,components:{ElTooltip:Hf},props:Gtt,emits:Ytt,setup(n,{emit:e}){const t=Do(),i=Wt("rootMenu"),s=li("menu"),o=li("menu-item");i||Nm(ME,"can not inject root menu");const{parentMenu:r,indexPath:a}=YQ(t,_r(n,"index")),l=Wt(`subMenu:${r.value.uid}`);l||Nm(ME,"can not inject sub menu");const c=fe(()=>n.index===i.activeIndex),u=hs({index:n.index,indexPath:a,active:c}),d=()=>{n.disabled||(i.handleMenuItemClick({index:n.index,indexPath:a.value,route:n.route}),e("click",u))};return Ds(()=>{l.addSubMenu(u),i.addMenuItem(u)}),xo(()=>{l.removeSubMenu(u),i.removeMenuItem(u)}),{Effect:iZe,parentMenu:r,rootMenu:i,active:c,nsMenu:s,nsMenuItem:o,handleClick:d}}});function Xtt(n,e,t,i,s,o){const r=Bi("el-tooltip");return O(),W("li",{class:it([n.nsMenuItem.b(),n.nsMenuItem.is("active",n.active),n.nsMenuItem.is("disabled",n.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...a)=>n.handleClick&&n.handleClick(...a))},[n.parentMenu.type.name==="ElMenu"&&n.rootMenu.props.collapse&&n.$slots.title?(O(),St(r,{key:0,effect:n.Effect.DARK,placement:"right","fallback-placements":["left"],persistent:""},{content:Oe(()=>[xt(n.$slots,"title")]),default:Oe(()=>[M("div",{class:it(n.nsMenu.be("tooltip","trigger"))},[xt(n.$slots,"default")],2)]),_:3},8,["effect"])):(O(),W(Ui,{key:1},[xt(n.$slots,"default"),xt(n.$slots,"title")],64))],2)}var XQ=hi(Ztt,[["render",Xtt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const Qtt={title:String},Jtt="ElMenuItemGroup",eit=Ht({name:Jtt,props:Qtt,setup(){return{ns:li("menu-item-group")}}});function tit(n,e,t,i,s,o){return O(),W("li",{class:it(n.ns.b())},[M("div",{class:it(n.ns.e("title"))},[n.$slots.title?xt(n.$slots,"title",{key:1}):(O(),W(Ui,{key:0},[wr(Rn(n.title),1)],2112))],2),M("ul",null,[xt(n.$slots,"default")])],2)}var QQ=hi(eit,[["render",tit],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const iit=er(qtt,{MenuItem:XQ,MenuItemGroup:QQ,SubMenu:CO}),nit=pl(XQ);pl(QQ);pl(CO);const JQ="ElSelectGroup",Tx="ElSelect";function sit(n,e){const t=Wt(Tx),i=Wt(JQ,{disabled:!1}),s=fe(()=>Object.prototype.toString.call(n.value).toLowerCase()==="[object object]"),o=fe(()=>t.props.multiple?d(t.props.modelValue,n.value):h(n.value,t.props.modelValue)),r=fe(()=>{if(t.props.multiple){const m=t.props.modelValue||[];return!o.value&&m.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),a=fe(()=>n.label||(s.value?"":n.value)),l=fe(()=>n.value||n.label||""),c=fe(()=>n.disabled||e.groupDisabled||r.value),u=Do(),d=(m=[],b)=>{if(s.value){const w=t.props.valueKey;return m&&m.some(y=>Wa(y,w)===Wa(b,w))}else return m&&m.includes(b)},h=(m,b)=>{if(s.value){const{valueKey:w}=t.props;return Wa(m,w)===Wa(b,w)}else return m===b},f=()=>{!n.disabled&&!i.disabled&&(t.hoverIndex=t.optionsArray.indexOf(u.proxy))};$t(()=>a.value,()=>{!n.created&&!t.props.remote&&t.setSelected()}),$t(()=>n.value,(m,b)=>{const{remote:w,valueKey:y}=t.props;if(!n.created&&!w){if(y&&typeof m=="object"&&typeof b=="object"&&m[y]===b[y])return;t.setSelected()}}),$t(()=>i.disabled,()=>{e.groupDisabled=i.disabled},{immediate:!0});const{queryChange:p}=Ki(t);return $t(p,m=>{const{query:b}=B(m),w=new RegExp(HGe(b),"i");e.visible=w.test(a.value)||n.created,e.visible||t.filteredOptionsCount--}),{select:t,currentLabel:a,currentValue:l,itemSelected:o,isDisabled:c,hoverItem:f}}const oit=Ht({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(n){const e=li("select"),t=hs({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:i,itemSelected:s,isDisabled:o,select:r,hoverItem:a}=sit(n,t),{visible:l,hover:c}=zg(t),u=Do().proxy,d=u.value;r.onOptionCreate(u),xo(()=>{const{selected:f}=r,m=(r.props.multiple?f:[f]).some(b=>b.value===u.value);r.cachedOptions.get(d)===u&&!m&&hn(()=>{r.cachedOptions.delete(d)}),r.onOptionDestroy(d,u)});function h(){n.disabled!==!0&&t.groupDisabled!==!0&&r.handleOptionSelect(u,!0)}return{ns:e,currentLabel:i,itemSelected:s,isDisabled:o,select:r,hoverItem:a,visible:l,hover:c,selectOptionClick:h,states:t}}});function rit(n,e,t,i,s,o){return vr((O(),W("li",{class:it([n.ns.be("dropdown","item"),n.ns.is("disabled",n.isDisabled),{selected:n.itemSelected,hover:n.hover}]),onMouseenter:e[0]||(e[0]=(...r)=>n.hoverItem&&n.hoverItem(...r)),onClick:e[1]||(e[1]=Va((...r)=>n.selectOptionClick&&n.selectOptionClick(...r),["stop"]))},[xt(n.$slots,"default",{},()=>[M("span",null,Rn(n.currentLabel),1)])],34)),[[Gc,n.visible]])}var wO=hi(oit,[["render",rit],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const ait=Ht({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=Wt(Tx),e=li("select"),t=fe(()=>n.props.popperClass),i=fe(()=>n.props.multiple),s=fe(()=>n.props.fitInputWidth),o=ze("");function r(){var a;o.value=`${(a=n.selectWrapper)==null?void 0:a.getBoundingClientRect().width}px`}return Ds(()=>{r(),XR(n.selectWrapper,r)}),xo(()=>{QR(n.selectWrapper,r)}),{ns:e,minWidth:o,popperClass:t,isMultiple:i,isFitInputWidth:s}}});function lit(n,e,t,i,s,o){return O(),W("div",{class:it([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:kn({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[xt(n.$slots,"default")],6)}var cit=hi(ait,[["render",lit],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function uit(n){const{t:e}=Gv();return hs({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:n.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1})}const dit=(n,e,t)=>{const{t:i}=Gv(),s=li("select"),o=ze(null),r=ze(null),a=ze(null),l=ze(null),c=ze(null),u=ze(null),d=ze(-1),h=_1({query:""}),f=_1(""),p=Wt(C_,{}),m=Wt(Cg,{}),b=fe(()=>!n.filterable||n.multiple||!e.visible),w=fe(()=>n.disabled||p.disabled),y=fe(()=>{const ne=n.multiple?Array.isArray(n.modelValue)&&n.modelValue.length>0:n.modelValue!==void 0&&n.modelValue!==null&&n.modelValue!=="";return n.clearable&&!w.value&&e.inputHovering&&ne}),L=fe(()=>n.remote&&n.filterable?"":n.suffixIcon),D=fe(()=>s.is("reverse",L.value&&e.visible)),E=fe(()=>n.remote?300:0),T=fe(()=>n.loading?n.loadingText||i("el.select.loading"):n.remote&&e.query===""&&e.options.size===0?!1:n.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?n.noMatchText||i("el.select.noMatch"):e.options.size===0?n.noDataText||i("el.select.noData"):null),x=fe(()=>Array.from(e.options.values())),k=fe(()=>Array.from(e.cachedOptions.values())),N=fe(()=>{const ne=x.value.filter(ke=>!ke.created).some(ke=>ke.currentLabel===e.query);return n.filterable&&n.allowCreate&&e.query!==""&&!ne}),V=y_(),H=fe(()=>["small"].includes(V.value)?"small":"default"),G=fe({get(){return e.visible&&T.value!==!1},set(ne){e.visible=ne}});$t([()=>w.value,()=>V.value,()=>p.size],()=>{hn(()=>{te()})}),$t(()=>n.placeholder,ne=>{e.cachedPlaceHolder=e.currentPlaceholder=ne}),$t(()=>n.modelValue,(ne,ke)=>{var Ke;n.multiple&&(te(),ne&&ne.length>0||r.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,n.filterable&&!n.reserveKeyword&&(e.query="",ae(e.query))),be(),n.filterable&&!n.multiple&&(e.inputLength=20),L9(ne,ke)||(Ke=m.validate)==null||Ke.call(m,"change").catch(Ct=>void 0)},{flush:"post",deep:!0}),$t(()=>e.visible,ne=>{var ke,Ke,Ct;ne?((Ke=(ke=a.value)==null?void 0:ke.updatePopper)==null||Ke.call(ke),n.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=n.remote?"":e.selectedLabel,n.multiple?(Ct=r.value)==null||Ct.focus():e.selectedLabel&&(e.currentPlaceholder=`${e.selectedLabel}`,e.selectedLabel=""),ae(e.query),!n.multiple&&!n.remote&&(h.value.query="",F2(h),F2(f)))):(r.value&&r.value.blur(),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,He(),hn(()=>{r.value&&r.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),n.multiple||(e.selected&&(n.filterable&&n.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,n.filterable&&(e.query=e.selectedLabel)),n.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),t.emit("visible-change",ne)}),$t(()=>e.options.entries(),()=>{var ne,ke,Ke;if(!Ls)return;(ke=(ne=a.value)==null?void 0:ne.updatePopper)==null||ke.call(ne),n.multiple&&te();const Ct=((Ke=c.value)==null?void 0:Ke.querySelectorAll("input"))||[];Array.from(Ct).includes(document.activeElement)||be(),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&we()},{flush:"post"}),$t(()=>e.hoverIndex,ne=>{typeof ne=="number"&&ne>-1&&(d.value=x.value[ne]||{}),x.value.forEach(ke=>{ke.hover=d.value===ke})});const te=()=>{n.collapseTags&&!n.filterable||hn(()=>{var ne,ke;if(!o.value)return;const Ke=o.value.$el.querySelector("input"),Ct=l.value,kt=QGe(V.value||p.size);Ke.style.height=`${e.selected.length===0?kt:Math.max(Ct?Ct.clientHeight+(Ct.clientHeight>kt?6:0):0,kt)-2}px`,e.tagInMultiLine=Number.parseFloat(Ke.style.height)>=kt,e.visible&&T.value!==!1&&((ke=(ne=a.value)==null?void 0:ne.updatePopper)==null||ke.call(ne))})},ae=ne=>{if(!(e.previousQuery===ne||e.isOnComposition)){if(e.previousQuery===null&&(typeof n.filterMethod=="function"||typeof n.remoteMethod=="function")){e.previousQuery=ne;return}e.previousQuery=ne,hn(()=>{var ke,Ke;e.visible&&((Ke=(ke=a.value)==null?void 0:ke.updatePopper)==null||Ke.call(ke))}),e.hoverIndex=-1,n.multiple&&n.filterable&&hn(()=>{const ke=r.value.value.length*15+20;e.inputLength=n.collapseTags?Math.min(50,ke):ke,me(),te()}),n.remote&&typeof n.remoteMethod=="function"?(e.hoverIndex=-1,n.remoteMethod(ne)):typeof n.filterMethod=="function"?(n.filterMethod(ne),F2(f)):(e.filteredOptionsCount=e.optionsCount,h.value.query=ne,F2(h),F2(f)),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&we()}},me=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=r.value.value?"":e.cachedPlaceHolder)},we=()=>{const ne=x.value.filter(Ct=>Ct.visible&&!Ct.disabled&&!Ct.states.groupDisabled),ke=ne.find(Ct=>Ct.created),Ke=ne[0];e.hoverIndex=rt(x.value,ke||Ke)},be=()=>{var ne;if(n.multiple)e.selectedLabel="";else{const Ke=Me(n.modelValue);(ne=Ke.props)!=null&&ne.created?(e.createdLabel=Ke.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=Ke.currentLabel,e.selected=Ke,n.filterable&&(e.query=e.selectedLabel);return}const ke=[];Array.isArray(n.modelValue)&&n.modelValue.forEach(Ke=>{ke.push(Me(Ke))}),e.selected=ke,hn(()=>{te()})},Me=ne=>{let ke;const Ke=K3(ne).toLowerCase()==="object",Ct=K3(ne).toLowerCase()==="null",kt=K3(ne).toLowerCase()==="undefined";for(let Zt=e.cachedOptions.size-1;Zt>=0;Zt--){const vn=k.value[Zt];if(Ke?Wa(vn.value,n.valueKey)===Wa(ne,n.valueKey):vn.value===ne){ke={value:ne,currentLabel:vn.currentLabel,isDisabled:vn.isDisabled};break}}if(ke)return ke;const pt=Ke?ne.label:!Ct&&!kt?ne:"",Qt={value:ne,currentLabel:pt};return n.multiple&&(Qt.hitState=!1),Qt},He=()=>{setTimeout(()=>{const ne=n.valueKey;n.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(ke=>x.value.findIndex(Ke=>Wa(Ke,ne)===Wa(ke,ne)))):e.hoverIndex=-1:e.hoverIndex=x.value.findIndex(ke=>ue(ke)===ue(e.selected))},300)},mt=()=>{var ne,ke;ot(),(ke=(ne=a.value)==null?void 0:ne.updatePopper)==null||ke.call(ne),n.multiple&&!n.filterable&&te()},ot=()=>{var ne;e.inputWidth=(ne=o.value)==null?void 0:ne.$el.getBoundingClientRect().width},De=()=>{n.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,ae(e.query))},pe=Cz(()=>{De()},E.value),_t=Cz(ne=>{ae(ne.target.value)},E.value),_e=ne=>{L9(n.modelValue,ne)||t.emit(qX,ne)},Ge=ne=>{if(ne.target.value.length<=0&&!$e()){const ke=n.modelValue.slice();ke.pop(),t.emit(ja,ke),_e(ke)}ne.target.value.length===1&&n.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)},ye=(ne,ke)=>{const Ke=e.selected.indexOf(ke);if(Ke>-1&&!w.value){const Ct=n.modelValue.slice();Ct.splice(Ke,1),t.emit(ja,Ct),_e(Ct),t.emit("remove-tag",ke.value)}ne.stopPropagation()},We=ne=>{ne.stopPropagation();const ke=n.multiple?[]:"";if(typeof ke!="string")for(const Ke of e.selected)Ke.isDisabled&&ke.push(Ke.value);t.emit(ja,ke),_e(ke),e.visible=!1,t.emit("clear")},gt=(ne,ke)=>{var Ke;if(n.multiple){const Ct=(n.modelValue||[]).slice(),kt=rt(Ct,ne.value);kt>-1?Ct.splice(kt,1):(n.multipleLimit<=0||Ct.length<n.multipleLimit)&&Ct.push(ne.value),t.emit(ja,Ct),_e(Ct),ne.created&&(e.query="",ae(""),e.inputLength=20),n.filterable&&((Ke=r.value)==null||Ke.focus())}else t.emit(ja,ne.value),_e(ne.value),e.visible=!1;e.isSilentBlur=ke,Fe(),!e.visible&&hn(()=>{ht(ne)})},rt=(ne=[],ke)=>{if(!tn(ke))return ne.indexOf(ke);const Ke=n.valueKey;let Ct=-1;return ne.some((kt,pt)=>Wa(kt,Ke)===Wa(ke,Ke)?(Ct=pt,!0):!1),Ct},Fe=()=>{e.softFocus=!0;const ne=r.value||o.value;ne&&(ne==null||ne.focus())},ht=ne=>{var ke,Ke,Ct,kt,pt;const Qt=Array.isArray(ne)?ne[0]:ne;let Zt=null;if(Qt!=null&&Qt.value){const vn=x.value.filter(wi=>wi.value===Qt.value);vn.length>0&&(Zt=vn[0].$el)}if(a.value&&Zt){const vn=(kt=(Ct=(Ke=(ke=a.value)==null?void 0:ke.popperRef)==null?void 0:Ke.contentRef)==null?void 0:Ct.querySelector)==null?void 0:kt.call(Ct,`.${s.be("dropdown","wrap")}`);vn&&jGe(vn,Zt)}(pt=u.value)==null||pt.handleScroll()},ee=ne=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(ne.value,ne),e.cachedOptions.set(ne.value,ne)},le=(ne,ke)=>{e.options.get(ne)===ke&&(e.optionsCount--,e.filteredOptionsCount--,e.options.delete(ne))},Ce=ne=>{ne.code!==ji.backspace&&$e(!1),e.inputLength=r.value.value.length*15+20,te()},$e=ne=>{if(!Array.isArray(e.selected))return;const ke=e.selected[e.selected.length-1];if(!!ke)return ne===!0||ne===!1?(ke.hitState=ne,ne):(ke.hitState=!ke.hitState,ke.hitState)},Be=ne=>{const ke=ne.target.value;if(ne.type==="compositionend")e.isOnComposition=!1,hn(()=>ae(ke));else{const Ke=ke[ke.length-1]||"";e.isOnComposition=!GX(Ke)}},tt=()=>{hn(()=>ht(e.selected))},ft=ne=>{e.softFocus?e.softFocus=!1:((n.automaticDropdown||n.filterable)&&(n.filterable&&!e.visible&&(e.menuVisibleOnFocus=!0),e.visible=!0),t.emit("focus",ne))},ie=()=>{var ne;e.visible=!1,(ne=o.value)==null||ne.blur()},X=ne=>{hn(()=>{e.isSilentBlur?e.isSilentBlur=!1:t.emit("blur",ne)}),e.softFocus=!1},Q=ne=>{We(ne)},P=()=>{e.visible=!1},R=ne=>{e.visible&&(ne.preventDefault(),ne.stopPropagation(),e.visible=!1)},j=()=>{var ne;n.automaticDropdown||w.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:e.visible=!e.visible,e.visible&&((ne=r.value||o.value)==null||ne.focus()))},q=()=>{e.visible?x.value[e.hoverIndex]&&gt(x.value[e.hoverIndex],void 0):j()},ue=ne=>tn(ne.value)?Wa(ne.value,n.valueKey):ne.value,ve=fe(()=>x.value.filter(ne=>ne.visible).every(ne=>ne.disabled)),Ze=ne=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!ve.value){ne==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):ne==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const ke=x.value[e.hoverIndex];(ke.disabled===!0||ke.states.groupDisabled===!0||!ke.visible)&&Ze(ne),hn(()=>ht(d.value))}};return{optionsArray:x,selectSize:V,handleResize:mt,debouncedOnInputChange:pe,debouncedQueryChange:_t,deletePrevTag:Ge,deleteTag:ye,deleteSelected:We,handleOptionSelect:gt,scrollToOption:ht,readonly:b,resetInputHeight:te,showClose:y,iconComponent:L,iconReverse:D,showNewOption:N,collapseTagSize:H,setSelected:be,managePlaceholder:me,selectDisabled:w,emptyText:T,toggleLastOptionHitState:$e,resetInputState:Ce,handleComposition:Be,onOptionCreate:ee,onOptionDestroy:le,handleMenuEnter:tt,handleFocus:ft,blur:ie,handleBlur:X,handleClearClick:Q,handleClose:P,handleKeydownEscape:R,toggleMenu:j,selectOption:q,getValueKey:ue,navigateOptions:Ze,dropMenuVisible:G,queryChange:h,groupQueryChange:f,reference:o,input:r,tooltipRef:a,tags:l,selectWrapper:c,scrollbar:u}},oU="ElSelect",hit=Ht({name:oU,componentName:oU,components:{ElInput:nO,ElSelectMenu:cit,ElOption:wO,ElTag:NQe,ElScrollbar:sO,ElTooltip:Hf,ElIcon:ws},directives:{ClickOutside:xQe},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:JGe},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:Ex.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:mx},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:[String,Object],default:QZ},tagType:Di(It({},NQ.type),{default:"info"})},emits:[ja,qX,"remove-tag","clear","visible-change","focus","blur"],setup(n,e){const t=li("select"),i=li("input"),{t:s}=Gv(),o=uit(n),{optionsArray:r,selectSize:a,readonly:l,handleResize:c,collapseTagSize:u,debouncedOnInputChange:d,debouncedQueryChange:h,deletePrevTag:f,deleteTag:p,deleteSelected:m,handleOptionSelect:b,scrollToOption:w,setSelected:y,resetInputHeight:L,managePlaceholder:D,showClose:E,selectDisabled:T,iconComponent:x,iconReverse:k,showNewOption:N,emptyText:V,toggleLastOptionHitState:H,resetInputState:G,handleComposition:te,onOptionCreate:ae,onOptionDestroy:me,handleMenuEnter:we,handleFocus:be,blur:Me,handleBlur:He,handleClearClick:mt,handleClose:ot,handleKeydownEscape:De,toggleMenu:pe,selectOption:_t,getValueKey:_e,navigateOptions:Ge,dropMenuVisible:ye,reference:We,input:gt,tooltipRef:rt,tags:Fe,selectWrapper:ht,scrollbar:ee,queryChange:le,groupQueryChange:Ce}=dit(n,o,e),{focus:$e}=aYe(We),{inputWidth:Be,selected:tt,inputLength:ft,filteredOptionsCount:ie,visible:X,softFocus:Q,selectedLabel:P,hoverIndex:R,query:j,inputHovering:q,currentPlaceholder:ue,menuVisibleOnFocus:ve,isOnComposition:Ze,isSilentBlur:ne,options:ke,cachedOptions:Ke,optionsCount:Ct,prefixWidth:kt,tagInMultiLine:pt}=zg(o),Qt=fe(()=>{const wi=[t.b()],bn=B(a);return bn&&wi.push(t.m(bn)),n.disabled&&wi.push(t.m("disabled")),wi}),Zt=fe(()=>({maxWidth:`${B(Be)-32}px`,width:"100%"}));Hn(Tx,hs({props:n,options:ke,optionsArray:r,cachedOptions:Ke,optionsCount:Ct,filteredOptionsCount:ie,hoverIndex:R,handleOptionSelect:b,onOptionCreate:ae,onOptionDestroy:me,selectWrapper:ht,selected:tt,setSelected:y,queryChange:le,groupQueryChange:Ce})),Ds(()=>{o.cachedPlaceHolder=ue.value=n.placeholder||s("el.select.placeholder"),n.multiple&&Array.isArray(n.modelValue)&&n.modelValue.length>0&&(ue.value=""),XR(ht.value,c),n.remote&&n.multiple&&L(),hn(()=>{const wi=We.value&&We.value.$el;if(!!wi&&(Be.value=wi.getBoundingClientRect().width,e.slots.prefix)){const bn=wi.querySelector(`.${i.e("prefix")}`);kt.value=Math.max(bn.getBoundingClientRect().width+5,30)}}),y()}),xo(()=>{QR(ht.value,c)}),n.multiple&&!Array.isArray(n.modelValue)&&e.emit(ja,[]),!n.multiple&&Array.isArray(n.modelValue)&&e.emit(ja,"");const vn=fe(()=>{var wi,bn;return(bn=(wi=rt.value)==null?void 0:wi.popperRef)==null?void 0:bn.contentRef});return{tagInMultiLine:pt,prefixWidth:kt,selectSize:a,readonly:l,handleResize:c,collapseTagSize:u,debouncedOnInputChange:d,debouncedQueryChange:h,deletePrevTag:f,deleteTag:p,deleteSelected:m,handleOptionSelect:b,scrollToOption:w,inputWidth:Be,selected:tt,inputLength:ft,filteredOptionsCount:ie,visible:X,softFocus:Q,selectedLabel:P,hoverIndex:R,query:j,inputHovering:q,currentPlaceholder:ue,menuVisibleOnFocus:ve,isOnComposition:Ze,isSilentBlur:ne,options:ke,resetInputHeight:L,managePlaceholder:D,showClose:E,selectDisabled:T,iconComponent:x,iconReverse:k,showNewOption:N,emptyText:V,toggleLastOptionHitState:H,resetInputState:G,handleComposition:te,handleMenuEnter:we,handleFocus:be,blur:Me,handleBlur:He,handleClearClick:mt,handleClose:ot,handleKeydownEscape:De,toggleMenu:pe,selectOption:_t,getValueKey:_e,navigateOptions:Ge,dropMenuVisible:ye,focus:$e,reference:We,input:gt,tooltipRef:rt,popperPaneRef:vn,tags:Fe,selectWrapper:ht,scrollbar:ee,wrapperKls:Qt,selectTagsStyle:Zt,nsSelect:t}}}),fit={class:"select-trigger"},git=["disabled","autocomplete"],pit={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function mit(n,e,t,i,s,o){const r=Bi("el-tag"),a=Bi("el-tooltip"),l=Bi("el-icon"),c=Bi("el-input"),u=Bi("el-option"),d=Bi("el-scrollbar"),h=Bi("el-select-menu"),f=Bme("click-outside");return vr((O(),W("div",{ref:"selectWrapper",class:it(n.wrapperKls),onClick:e[23]||(e[23]=Va((...p)=>n.toggleMenu&&n.toggleMenu(...p),["stop"]))},[Ue(a,{ref:"tooltipRef",visible:n.dropMenuVisible,"onUpdate:visible":e[22]||(e[22]=p=>n.dropMenuVisible=p),placement:"bottom-start",teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,onShow:n.handleMenuEnter},{default:Oe(()=>[M("div",fit,[n.multiple?(O(),W("div",{key:0,ref:"tags",class:it(n.nsSelect.e("tags")),style:kn(n.selectTagsStyle)},[n.collapseTags&&n.selected.length?(O(),W("span",{key:0,class:it([n.nsSelect.b("tags-wrapper"),{"has-prefix":n.prefixWidth&&n.selected.length}])},[Ue(r,{closable:!n.selectDisabled&&!n.selected[0].isDisabled,size:n.collapseTagSize,hit:n.selected[0].hitState,type:n.tagType,"disable-transitions":"",onClose:e[0]||(e[0]=p=>n.deleteTag(p,n.selected[0]))},{default:Oe(()=>[M("span",{class:it(n.nsSelect.e("tags-text")),style:kn({maxWidth:n.inputWidth-123+"px"})},Rn(n.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),n.selected.length>1?(O(),St(r,{key:0,closable:!1,size:n.collapseTagSize,type:n.tagType,"disable-transitions":""},{default:Oe(()=>[n.collapseTagsTooltip?(O(),St(a,{key:0,disabled:n.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:!1},{default:Oe(()=>[M("span",{class:it(n.nsSelect.e("tags-text"))},"+ "+Rn(n.selected.length-1),3)]),content:Oe(()=>[M("div",{class:it(n.nsSelect.e("collapse-tags"))},[(O(!0),W(Ui,null,Ru(n.selected,(p,m)=>(O(),W("div",{key:m,class:it(n.nsSelect.e("collapse-tag"))},[(O(),St(r,{key:n.getValueKey(p),class:"in-tooltip",closable:!n.selectDisabled&&!p.isDisabled,size:n.collapseTagSize,hit:p.hitState,type:n.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:b=>n.deleteTag(b,p)},{default:Oe(()=>[M("span",{class:it(n.nsSelect.e("tags-text")),style:kn({maxWidth:n.inputWidth-75+"px"})},Rn(p.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect"])):(O(),W("span",{key:1,class:it(n.nsSelect.e("tags-text"))},"+ "+Rn(n.selected.length-1),3))]),_:1},8,["size","type"])):Mt("v-if",!0)],2)):Mt("v-if",!0),Mt(" <div> "),n.collapseTags?Mt("v-if",!0):(O(),St(gl,{key:1,onAfterLeave:n.resetInputHeight},{default:Oe(()=>[M("span",{class:it([n.nsSelect.b("tags-wrapper"),{"has-prefix":n.prefixWidth&&n.selected.length}])},[(O(!0),W(Ui,null,Ru(n.selected,p=>(O(),St(r,{key:n.getValueKey(p),closable:!n.selectDisabled&&!p.isDisabled,size:n.collapseTagSize,hit:p.hitState,type:n.tagType,"disable-transitions":"",onClose:m=>n.deleteTag(m,p)},{default:Oe(()=>[M("span",{class:it(n.nsSelect.e("tags-text")),style:kn({maxWidth:n.inputWidth-75+"px"})},Rn(p.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),Mt(" </div> "),n.filterable?vr((O(),W("input",{key:2,ref:"input","onUpdate:modelValue":e[1]||(e[1]=p=>n.query=p),type:"text",class:it([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:kn({marginLeft:n.prefixWidth&&!n.selected.length||n.tagInMultiLine?`${n.prefixWidth}px`:"",flexGrow:1,width:`${n.inputLength/(n.inputWidth-32)}%`,maxWidth:`${n.inputWidth-42}px`}),onFocus:e[2]||(e[2]=(...p)=>n.handleFocus&&n.handleFocus(...p)),onBlur:e[3]||(e[3]=(...p)=>n.handleBlur&&n.handleBlur(...p)),onKeyup:e[4]||(e[4]=(...p)=>n.managePlaceholder&&n.managePlaceholder(...p)),onKeydown:[e[5]||(e[5]=(...p)=>n.resetInputState&&n.resetInputState(...p)),e[6]||(e[6]=uc(Va(p=>n.navigateOptions("next"),["prevent"]),["down"])),e[7]||(e[7]=uc(Va(p=>n.navigateOptions("prev"),["prevent"]),["up"])),e[8]||(e[8]=uc((...p)=>n.handleKeydownEscape&&n.handleKeydownEscape(...p),["esc"])),e[9]||(e[9]=uc(Va((...p)=>n.selectOption&&n.selectOption(...p),["stop","prevent"]),["enter"])),e[10]||(e[10]=uc((...p)=>n.deletePrevTag&&n.deletePrevTag(...p),["delete"])),e[11]||(e[11]=uc(p=>n.visible=!1,["tab"]))],onCompositionstart:e[12]||(e[12]=(...p)=>n.handleComposition&&n.handleComposition(...p)),onCompositionupdate:e[13]||(e[13]=(...p)=>n.handleComposition&&n.handleComposition(...p)),onCompositionend:e[14]||(e[14]=(...p)=>n.handleComposition&&n.handleComposition(...p)),onInput:e[15]||(e[15]=(...p)=>n.debouncedQueryChange&&n.debouncedQueryChange(...p))},null,46,git)),[[z_e,n.query]]):Mt("v-if",!0)],6)):Mt("v-if",!0),Ue(c,{id:n.id,ref:"reference",modelValue:n.selectedLabel,"onUpdate:modelValue":e[16]||(e[16]=p=>n.selectedLabel=p),type:"text",placeholder:n.currentPlaceholder,name:n.name,autocomplete:n.autocomplete,size:n.selectSize,disabled:n.selectDisabled,readonly:n.readonly,"validate-event":!1,class:it([n.nsSelect.is("focus",n.visible)]),tabindex:n.multiple&&n.filterable?-1:void 0,onFocus:n.handleFocus,onBlur:n.handleBlur,onInput:n.debouncedOnInputChange,onPaste:n.debouncedOnInputChange,onCompositionstart:n.handleComposition,onCompositionupdate:n.handleComposition,onCompositionend:n.handleComposition,onKeydown:[e[17]||(e[17]=uc(Va(p=>n.navigateOptions("next"),["stop","prevent"]),["down"])),e[18]||(e[18]=uc(Va(p=>n.navigateOptions("prev"),["stop","prevent"]),["up"])),uc(Va(n.selectOption,["stop","prevent"]),["enter"]),uc(n.handleKeydownEscape,["esc"]),e[19]||(e[19]=uc(p=>n.visible=!1,["tab"]))],onMouseenter:e[20]||(e[20]=p=>n.inputHovering=!0),onMouseleave:e[21]||(e[21]=p=>n.inputHovering=!1)},ER({suffix:Oe(()=>[n.iconComponent&&!n.showClose?(O(),St(l,{key:0,class:it([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:Oe(()=>[(O(),St(Pr(n.iconComponent)))]),_:1},8,["class"])):Mt("v-if",!0),n.showClose&&n.clearIcon?(O(),St(l,{key:1,class:it([n.nsSelect.e("caret"),n.nsSelect.e("icon")]),onClick:n.handleClearClick},{default:Oe(()=>[(O(),St(Pr(n.clearIcon)))]),_:1},8,["class","onClick"])):Mt("v-if",!0)]),_:2},[n.$slots.prefix?{name:"prefix",fn:Oe(()=>[M("div",pit,[xt(n.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])])]),content:Oe(()=>[Ue(h,null,{default:Oe(()=>[vr(Ue(d,{ref:"scrollbar",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:it([n.nsSelect.is("empty",!n.allowCreate&&Boolean(n.query)&&n.filteredOptionsCount===0)])},{default:Oe(()=>[n.showNewOption?(O(),St(u,{key:0,value:n.query,created:!0},null,8,["value"])):Mt("v-if",!0),xt(n.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[Gc,n.options.size>0&&!n.loading]]),n.emptyText&&(!n.allowCreate||n.loading||n.allowCreate&&n.options.size===0)?(O(),W(Ui,{key:0},[n.$slots.empty?xt(n.$slots,"empty",{key:0}):(O(),W("p",{key:1,class:it(n.nsSelect.be("dropdown","empty"))},Rn(n.emptyText),3))],2112)):Mt("v-if",!0)]),_:3})]),_:3},8,["visible","teleported","popper-class","effect","transition","persistent","onShow"])],2)),[[f,n.handleClose,n.popperPaneRef]])}var _it=hi(hit,[["render",mit],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const vit=Ht({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(n){const e=li("select"),t=ze(!0),i=Do(),s=ze([]);Hn(JQ,hs(It({},zg(n))));const o=Wt(Tx);Ds(()=>{s.value=r(i.subTree)});const r=l=>{const c=[];return Array.isArray(l.children)&&l.children.forEach(u=>{var d;u.type&&u.type.name==="ElOption"&&u.component&&u.component.proxy?c.push(u.component.proxy):(d=u.children)!=null&&d.length&&c.push(...r(u))}),c},{groupQueryChange:a}=Ki(o);return $t(a,()=>{t.value=s.value.some(l=>l.visible===!0)}),{visible:t,ns:e}}});function bit(n,e,t,i,s,o){return vr((O(),W("ul",{class:it(n.ns.be("group","wrap"))},[M("li",{class:it(n.ns.be("group","title"))},Rn(n.label),3),M("li",null,[M("ul",{class:it(n.ns.b("group"))},[xt(n.$slots,"default")],2)])],2)),[[Gc,n.visible]])}var eJ=hi(vit,[["render",bit],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const tJ=er(_it,{Option:wO,OptionGroup:eJ}),iJ=pl(wO);pl(eJ);const Cit=["start","center","end","space-around","space-between","space-evenly"],wit=["top","middle","bottom"],yit=fn({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Cit,default:"start"},align:{type:String,values:wit,default:"top"}}),Sit={name:"ElRow"},Lit=Ht(Di(It({},Sit),{props:yit,setup(n){const e=n,t=li("row"),i=fe(()=>e.gutter);Hn(QX,{gutter:i});const s=fe(()=>{const o={};return e.gutter&&(o.marginRight=o.marginLeft=`-${e.gutter/2}px`),o});return(o,r)=>(O(),St(Pr(o.tag),{class:it([B(t).b(),B(t).is(`justify-${e.justify}`,o.justify!=="start"),B(t).is(`align-${e.align}`,o.align!=="top")]),style:kn(B(s))},{default:Oe(()=>[xt(o.$slots,"default")]),_:3},8,["class","style"]))}}));var xit=hi(Lit,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const rU=er(xit);function Dit(n){let e;const t=li("loading"),i=ze(!1),s=hs(Di(It({},n),{originalPosition:"",originalOverflow:"",visible:!1}));function o(f){s.text=f}function r(){const f=s.parent;if(!f.vLoadingAddClassList){let p=f.getAttribute("loading-number");p=Number.parseInt(p)-1,p?f.setAttribute("loading-number",p.toString()):(ig(f,t.bm("parent","relative")),f.removeAttribute("loading-number")),ig(f,t.bm("parent","hidden"))}a(),d.unmount()}function a(){var f,p;(p=(f=h.$el)==null?void 0:f.parentNode)==null||p.removeChild(h.$el)}function l(){var f;if(n.beforeClose&&!n.beforeClose())return;const p=s.parent;p.vLoadingAddClassList=void 0,i.value=!0,clearTimeout(e),e=window.setTimeout(()=>{i.value&&(i.value=!1,r())},400),s.visible=!1,(f=n.closed)==null||f.call(n)}function c(){!i.value||(i.value=!1,r())}const d=KZ({name:"ElLoading",setup(){return()=>{const f=s.spinner||s.svg,p=cs("svg",It({class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"25 25 50 50"},f?{innerHTML:f}:{}),[cs("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),m=s.text?cs("p",{class:t.b("text")},[s.text]):void 0;return cs(gl,{name:t.b("fade"),onAfterLeave:c},{default:Oe(()=>[vr(Ue("div",{style:{backgroundColor:s.background||""},class:[t.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[cs("div",{class:t.b("spinner")},[p,m])]),[[Gc,s.visible]])])})}}}),h=d.mount(document.createElement("div"));return Di(It({},zg(s)),{setText:o,removeElLoadingChild:a,close:l,handleAfterLeave:c,vm:h,get $el(){return h.$el}})}let SS;const kit=function(n){if(!Ls)return;const e=Eit(n);if(e.fullscreen&&SS)return SS;const t=Dit(Di(It({},e),{closed:()=>{var s;(s=e.closed)==null||s.call(e),e.fullscreen&&(SS=void 0)}}));Iit(e,e.parent,t),aU(e,e.parent,t),e.parent.vLoadingAddClassList=()=>aU(e,e.parent,t);let i=e.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",e.parent.setAttribute("loading-number",i),e.parent.appendChild(t.$el),hn(()=>t.visible.value=e.visible),e.fullscreen&&(SS=t),t},Eit=n=>{var e,t,i,s;let o;return Ai(n.target)?o=(e=document.querySelector(n.target))!=null?e:document.body:o=n.target||document.body,{parent:o===document.body||n.body?document.body:o,background:n.background||"",svg:n.svg||"",svgViewBox:n.svgViewBox||"",spinner:n.spinner||!1,text:n.text||"",fullscreen:o===document.body&&((t=n.fullscreen)!=null?t:!0),lock:(i=n.lock)!=null?i:!1,customClass:n.customClass||"",visible:(s=n.visible)!=null?s:!0,target:o}},Iit=async(n,e,t)=>{const{nextZIndex:i}=Dx(),s={};if(n.fullscreen)t.originalPosition.value=Of(document.body,"position"),t.originalOverflow.value=Of(document.body,"overflow"),s.zIndex=i();else if(n.parent===document.body){t.originalPosition.value=Of(document.body,"position"),await hn();for(const o of["top","left"]){const r=o==="top"?"scrollTop":"scrollLeft";s[o]=`${n.target.getBoundingClientRect()[o]+document.body[r]+document.documentElement[r]-Number.parseInt(Of(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])s[o]=`${n.target.getBoundingClientRect()[o]}px`}else t.originalPosition.value=Of(e,"position");for(const[o,r]of Object.entries(s))t.$el.style[o]=r},aU=(n,e,t)=>{const i=li("loading");t.originalPosition.value!=="absolute"&&t.originalPosition.value!=="fixed"?qp(e,i.bm("parent","relative")):ig(e,i.bm("parent","relative")),n.fullscreen&&n.lock?qp(e,i.bm("parent","hidden")):ig(e,i.bm("parent","hidden"))},V9=Symbol("ElLoading"),lU=(n,e)=>{var t,i,s,o;const r=e.instance,a=h=>tn(e.value)?e.value[h]:void 0,l=h=>{const f=Ai(h)&&(r==null?void 0:r[h])||h;return f&&ze(f)},c=h=>l(a(h)||n.getAttribute(`element-loading-${$g(h)}`)),u=(t=a("fullscreen"))!=null?t:e.modifiers.fullscreen,d={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:u,target:(i=a("target"))!=null?i:u?void 0:n,body:(s=a("body"))!=null?s:e.modifiers.body,lock:(o=a("lock"))!=null?o:e.modifiers.lock};n[V9]={options:d,instance:kit(d)}},Tit=(n,e)=>{for(const t of Object.keys(e))Zn(e[t])&&(e[t].value=n[t])},Nit={mounted(n,e){e.value&&lU(n,e)},updated(n,e){const t=n[V9];e.oldValue!==e.value&&(e.value&&!e.oldValue?lU(n,e):e.value&&e.oldValue?tn(e.value)&&Tit(e.value,t.options):t==null||t.instance.close())},unmounted(n){var e;(e=n[V9])==null||e.instance.close()}},nJ=["success","info","warning","error"],Mit=fn({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:Mm,default:""},id:{type:String,default:""},message:{type:ti([String,Object,Function]),default:""},onClose:{type:ti(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:nJ,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),Ait={destroy:()=>!0},Rit=Ht({name:"ElMessage",components:It({ElBadge:tQe,ElIcon:ws},GGe),props:Mit,emits:Ait,setup(n){const e=li("message"),t=ze(!1),i=ze(n.type?n.type==="error"?"danger":n.type:"info");let s;const o=fe(()=>{const h=n.type;return{[e.bm("icon",h)]:h&&Dz[h]}}),r=fe(()=>n.icon||Dz[n.type]||""),a=fe(()=>({top:`${n.offset}px`,zIndex:n.zIndex}));function l(){n.duration>0&&({stop:s}=UC(()=>{t.value&&u()},n.duration))}function c(){s==null||s()}function u(){t.value=!1}function d({code:h}){h===ji.esc?t.value&&u():l()}return Ds(()=>{l(),t.value=!0}),$t(()=>n.repeatNum,()=>{c(),l()}),um(document,"keydown",d),{ns:e,typeClass:o,iconComponent:r,customStyle:a,visible:t,badgeType:i,close:u,clearTimer:c,startTimer:l}}}),Oit=["id"],Pit=["innerHTML"];function Fit(n,e,t,i,s,o){const r=Bi("el-badge"),a=Bi("el-icon"),l=Bi("close");return O(),St(gl,{name:n.ns.b("fade"),onBeforeLeave:n.onClose,onAfterLeave:e[2]||(e[2]=c=>n.$emit("destroy"))},{default:Oe(()=>[vr(M("div",{id:n.id,class:it([n.ns.b(),{[n.ns.m(n.type)]:n.type&&!n.icon},n.ns.is("center",n.center),n.ns.is("closable",n.showClose),n.customClass]),style:kn(n.customStyle),role:"alert",onMouseenter:e[0]||(e[0]=(...c)=>n.clearTimer&&n.clearTimer(...c)),onMouseleave:e[1]||(e[1]=(...c)=>n.startTimer&&n.startTimer(...c))},[n.repeatNum>1?(O(),St(r,{key:0,value:n.repeatNum,type:n.badgeType,class:it(n.ns.e("badge"))},null,8,["value","type","class"])):Mt("v-if",!0),n.iconComponent?(O(),St(a,{key:1,class:it([n.ns.e("icon"),n.typeClass])},{default:Oe(()=>[(O(),St(Pr(n.iconComponent)))]),_:1},8,["class"])):Mt("v-if",!0),xt(n.$slots,"default",{},()=>[n.dangerouslyUseHTMLString?(O(),W(Ui,{key:1},[Mt(" Caution here, message could've been compromised, never use user's input as message "),M("p",{class:it(n.ns.e("content")),innerHTML:n.message},null,10,Pit)],2112)):(O(),W("p",{key:0,class:it(n.ns.e("content"))},Rn(n.message),3))]),n.showClose?(O(),St(a,{key:2,class:it(n.ns.e("closeBtn")),onClick:Va(n.close,["stop"])},{default:Oe(()=>[Ue(l)]),_:1},8,["class","onClick"])):Mt("v-if",!0)],46,Oit),[[Gc,n.visible]])]),_:3},8,["name","onBeforeLeave"])}var Bit=hi(Rit,[["render",Fit],["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);const Ha=[];let Vit=1;const tv=function(n={},e){if(!Ls)return{close:()=>{}};if(Fr(M9.max)&&Ha.length>=M9.max)return{close:()=>{}};if(!oh(n)&&tn(n)&&n.grouping&&!oh(n.message)&&Ha.length){const d=Ha.find(h=>{var f,p,m;return`${(p=(f=h.vm.props)==null?void 0:f.message)!=null?p:""}`==`${(m=n.message)!=null?m:""}`});if(d)return d.vm.component.props.repeatNum+=1,d.vm.component.props.type=(n==null?void 0:n.type)||"info",{close:()=>u.component.proxy.visible=!1}}(Ai(n)||oh(n))&&(n={message:n});let t=n.offset||20;Ha.forEach(({vm:d})=>{var h;t+=(((h=d.el)==null?void 0:h.offsetHeight)||0)+16}),t+=16;const{nextZIndex:i}=Dx(),s=`message_${Vit++}`,o=n.onClose,r=Di(It({zIndex:i()},n),{offset:t,id:s,onClose:()=>{Wit(s,o)}});let a=document.body;Tm(n.appendTo)?a=n.appendTo:Ai(n.appendTo)&&(a=document.querySelector(n.appendTo)),Tm(a)||(a=document.body);const l=document.createElement("div");l.className=`container_${s}`;const c=r.message,u=Ue(Bit,r,oi(c)?{default:c}:oh(c)?{default:()=>c}:null);return u.appContext=e||tv._context,u.props.onDestroy=()=>{E$(null,l)},E$(u,l),Ha.push({vm:u}),a.appendChild(l.firstElementChild),{close:()=>u.component.proxy.visible=!1}};nJ.forEach(n=>{tv[n]=(e={},t)=>((Ai(e)||oh(e))&&(e={message:e}),tv(Di(It({},e),{type:n}),t))});function Wit(n,e){const t=Ha.findIndex(({vm:r})=>n===r.component.props.id);if(t===-1)return;const{vm:i}=Ha[t];if(!i)return;e==null||e(i);const s=i.el.offsetHeight;Ha.splice(t,1);const o=Ha.length;if(!(o<1))for(let r=t;r<o;r++){const a=Number.parseInt(Ha[r].vm.el.style.top,10)-s-16;Ha[r].vm.component.props.offset=a}}function Hit(){var n;for(let e=Ha.length-1;e>=0;e--){const t=Ha[e].vm.component;(n=t==null?void 0:t.proxy)==null||n.close()}}tv.closeAll=Hit;tv._context=null;const U2=ZGe(tv,"$message"),$it="modulepreload",cU={},zit="/",at=function(e,t){return!t||t.length===0?e():Promise.all(t.map(i=>{if(i=`${zit}${i}`,i in cU)return;cU[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const r=document.createElement("link");if(r.rel=s?"stylesheet":$it,s||(r.as="script",r.crossOrigin=""),r.href=i,document.head.appendChild(r),s)return new Promise((a,l)=>{r.addEventListener("load",a),r.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var yO={exports:{}},sJ=function(e,t){return function(){for(var s=new Array(arguments.length),o=0;o<s.length;o++)s[o]=arguments[o];return e.apply(t,s)}},Uit=sJ,SO=Object.prototype.toString,LO=function(n){return function(e){var t=SO.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}}(Object.create(null));function S_(n){return n=n.toLowerCase(),function(t){return LO(t)===n}}function xO(n){return Array.isArray(n)}function e8(n){return typeof n=="undefined"}function jit(n){return n!==null&&!e8(n)&&n.constructor!==null&&!e8(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}var oJ=S_("ArrayBuffer");function Kit(n){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&oJ(n.buffer),e}function qit(n){return typeof n=="string"}function Git(n){return typeof n=="number"}function rJ(n){return n!==null&&typeof n=="object"}function s6(n){if(LO(n)!=="object")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}var Yit=S_("Date"),Zit=S_("File"),Xit=S_("Blob"),Qit=S_("FileList");function DO(n){return SO.call(n)==="[object Function]"}function Jit(n){return rJ(n)&&DO(n.pipe)}function ent(n){var e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||SO.call(n)===e||DO(n.toString)&&n.toString()===e)}var tnt=S_("URLSearchParams");function int(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function nnt(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function kO(n,e){if(!(n===null||typeof n=="undefined"))if(typeof n!="object"&&(n=[n]),xO(n))for(var t=0,i=n.length;t<i;t++)e.call(null,n[t],t,n);else for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.call(null,n[s],s,n)}function W9(){var n={};function e(s,o){s6(n[o])&&s6(s)?n[o]=W9(n[o],s):s6(s)?n[o]=W9({},s):xO(s)?n[o]=s.slice():n[o]=s}for(var t=0,i=arguments.length;t<i;t++)kO(arguments[t],e);return n}function snt(n,e,t){return kO(e,function(s,o){t&&typeof s=="function"?n[o]=Uit(s,t):n[o]=s}),n}function ont(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}function rnt(n,e,t,i){n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,t&&Object.assign(n.prototype,t)}function ant(n,e,t){var i,s,o,r={};e=e||{};do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],r[o]||(e[o]=n[o],r[o]=!0);n=Object.getPrototypeOf(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e}function lnt(n,e,t){n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return i!==-1&&i===t}function cnt(n){if(!n)return null;var e=n.length;if(e8(e))return null;for(var t=new Array(e);e-- >0;)t[e]=n[e];return t}var unt=function(n){return function(e){return n&&e instanceof n}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),tr={isArray:xO,isArrayBuffer:oJ,isBuffer:jit,isFormData:ent,isArrayBufferView:Kit,isString:qit,isNumber:Git,isObject:rJ,isPlainObject:s6,isUndefined:e8,isDate:Yit,isFile:Zit,isBlob:Xit,isFunction:DO,isStream:Jit,isURLSearchParams:tnt,isStandardBrowserEnv:nnt,forEach:kO,merge:W9,extend:snt,trim:int,stripBOM:ont,inherits:rnt,toFlatObject:ant,kindOf:LO,kindOfTest:S_,endsWith:lnt,toArray:cnt,isTypedArray:unt,isFileList:Qit},a0=tr;function uU(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var aJ=function(e,t,i){if(!t)return e;var s;if(i)s=i(t);else if(a0.isURLSearchParams(t))s=t.toString();else{var o=[];a0.forEach(t,function(l,c){l===null||typeof l=="undefined"||(a0.isArray(l)?c=c+"[]":l=[l],a0.forEach(l,function(d){a0.isDate(d)?d=d.toISOString():a0.isObject(d)&&(d=JSON.stringify(d)),o.push(uU(c)+"="+uU(d))}))}),s=o.join("&")}if(s){var r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e},dnt=tr;function Nx(){this.handlers=[]}Nx.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};Nx.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Nx.prototype.forEach=function(e){dnt.forEach(this.handlers,function(i){i!==null&&e(i)})};var hnt=Nx,fnt=tr,gnt=function(e,t){fnt.forEach(e,function(s,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=s,delete e[o])})},lJ=tr;function iv(n,e,t,i,s){Error.call(this),this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s)}lJ.inherits(iv,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var cJ=iv.prototype,uJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(n){uJ[n]={value:n}});Object.defineProperties(iv,uJ);Object.defineProperty(cJ,"isAxiosError",{value:!0});iv.from=function(n,e,t,i,s,o){var r=Object.create(cJ);return lJ.toFlatObject(n,r,function(l){return l!==Error.prototype}),iv.call(r,n.message,e,t,i,s),r.name=n.name,o&&Object.assign(r,o),r};var Yv=iv,dJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hc=tr;function pnt(n,e){e=e||new FormData;var t=[];function i(o){return o===null?"":hc.isDate(o)?o.toISOString():hc.isArrayBuffer(o)||hc.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function s(o,r){if(hc.isPlainObject(o)||hc.isArray(o)){if(t.indexOf(o)!==-1)throw Error("Circular reference detected in "+r);t.push(o),hc.forEach(o,function(l,c){if(!hc.isUndefined(l)){var u=r?r+"."+c:c,d;if(l&&!r&&typeof l=="object"){if(hc.endsWith(c,"{}"))l=JSON.stringify(l);else if(hc.endsWith(c,"[]")&&(d=hc.toArray(l))){d.forEach(function(h){!hc.isUndefined(h)&&e.append(u,i(h))});return}}s(l,u)}}),t.pop()}else e.append(r,i(o))}return s(n),e}var hJ=pnt,AE=Yv,mnt=function(e,t,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?e(i):t(new AE("Request failed with status code "+i.status,[AE.ERR_BAD_REQUEST,AE.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},LS=tr,_nt=LS.isStandardBrowserEnv()?function(){return{write:function(t,i,s,o,r,a){var l=[];l.push(t+"="+encodeURIComponent(i)),LS.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),LS.isString(o)&&l.push("path="+o),LS.isString(r)&&l.push("domain="+r),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){var i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),vnt=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},bnt=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},Cnt=vnt,wnt=bnt,fJ=function(e,t){return e&&!Cnt(t)?wnt(e,t):t},RE=tr,ynt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Snt=function(e){var t={},i,s,o;return e&&RE.forEach(e.split(`
`),function(a){if(o=a.indexOf(":"),i=RE.trim(a.substr(0,o)).toLowerCase(),s=RE.trim(a.substr(o+1)),i){if(t[i]&&ynt.indexOf(i)>=0)return;i==="set-cookie"?t[i]=(t[i]?t[i]:[]).concat([s]):t[i]=t[i]?t[i]+", "+s:s}}),t},dU=tr,Lnt=dU.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),i;function s(o){var r=o;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=s(window.location.href),function(r){var a=dU.isString(r)?s(r):r;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),H9=Yv,xnt=tr;function gJ(n){H9.call(this,n==null?"canceled":n,H9.ERR_CANCELED),this.name="CanceledError"}xnt.inherits(gJ,H9,{__CANCEL__:!0});var Mx=gJ,Dnt=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""},j2=tr,knt=mnt,Ent=_nt,Int=aJ,Tnt=fJ,Nnt=Snt,Mnt=Lnt,Ant=dJ,kd=Yv,Rnt=Mx,Ont=Dnt,hU=function(e){return new Promise(function(i,s){var o=e.data,r=e.headers,a=e.responseType,l;function c(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}j2.isFormData(o)&&j2.isStandardBrowserEnv()&&delete r["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.Authorization="Basic "+btoa(d+":"+h)}var f=Tnt(e.baseURL,e.url);u.open(e.method.toUpperCase(),Int(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function p(){if(!!u){var w="getAllResponseHeaders"in u?Nnt(u.getAllResponseHeaders()):null,y=!a||a==="text"||a==="json"?u.responseText:u.response,L={data:y,status:u.status,statusText:u.statusText,headers:w,config:e,request:u};knt(function(E){i(E),c()},function(E){s(E),c()},L),u=null}}if("onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(p)},u.onabort=function(){!u||(s(new kd("Request aborted",kd.ECONNABORTED,e,u)),u=null)},u.onerror=function(){s(new kd("Network Error",kd.ERR_NETWORK,e,u,u)),u=null},u.ontimeout=function(){var y=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",L=e.transitional||Ant;e.timeoutErrorMessage&&(y=e.timeoutErrorMessage),s(new kd(y,L.clarifyTimeoutError?kd.ETIMEDOUT:kd.ECONNABORTED,e,u)),u=null},j2.isStandardBrowserEnv()){var m=(e.withCredentials||Mnt(f))&&e.xsrfCookieName?Ent.read(e.xsrfCookieName):void 0;m&&(r[e.xsrfHeaderName]=m)}"setRequestHeader"in u&&j2.forEach(r,function(y,L){typeof o=="undefined"&&L.toLowerCase()==="content-type"?delete r[L]:u.setRequestHeader(L,y)}),j2.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&a!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(w){!u||(s(!w||w&&w.type?new Rnt:w),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),o||(o=null);var b=Ont(f);if(b&&["http","https","file"].indexOf(b)===-1){s(new kd("Unsupported protocol "+b+":",kd.ERR_BAD_REQUEST,e));return}u.send(o)})},Pnt=null,Ao=tr,fU=gnt,gU=Yv,Fnt=dJ,Bnt=hJ,Vnt={"Content-Type":"application/x-www-form-urlencoded"};function pU(n,e){!Ao.isUndefined(n)&&Ao.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function Wnt(){var n;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(n=hU),n}function Hnt(n,e,t){if(Ao.isString(n))try{return(e||JSON.parse)(n),Ao.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}var Ax={transitional:Fnt,adapter:Wnt(),transformRequest:[function(e,t){if(fU(t,"Accept"),fU(t,"Content-Type"),Ao.isFormData(e)||Ao.isArrayBuffer(e)||Ao.isBuffer(e)||Ao.isStream(e)||Ao.isFile(e)||Ao.isBlob(e))return e;if(Ao.isArrayBufferView(e))return e.buffer;if(Ao.isURLSearchParams(e))return pU(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var i=Ao.isObject(e),s=t&&t["Content-Type"],o;if((o=Ao.isFileList(e))||i&&s==="multipart/form-data"){var r=this.env&&this.env.FormData;return Bnt(o?{"files[]":e}:e,r&&new r)}else if(i||s==="application/json")return pU(t,"application/json"),Hnt(e);return e}],transformResponse:[function(e){var t=this.transitional||Ax.transitional,i=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,o=!i&&this.responseType==="json";if(o||s&&Ao.isString(e)&&e.length)try{return JSON.parse(e)}catch(r){if(o)throw r.name==="SyntaxError"?gU.from(r,gU.ERR_BAD_RESPONSE,this,null,this.response):r}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pnt},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ao.forEach(["delete","get","head"],function(e){Ax.headers[e]={}});Ao.forEach(["post","put","patch"],function(e){Ax.headers[e]=Ao.merge(Vnt)});var EO=Ax,$nt=tr,znt=EO,Unt=function(e,t,i){var s=this||znt;return $nt.forEach(i,function(r){e=r.call(s,e,t)}),e},pJ=function(e){return!!(e&&e.__CANCEL__)},mU=tr,OE=Unt,jnt=pJ,Knt=EO,qnt=Mx;function PE(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new qnt}var Gnt=function(e){PE(e),e.headers=e.headers||{},e.data=OE.call(e,e.data,e.headers,e.transformRequest),e.headers=mU.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),mU.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var t=e.adapter||Knt.adapter;return t(e).then(function(s){return PE(e),s.data=OE.call(e,s.data,s.headers,e.transformResponse),s},function(s){return jnt(s)||(PE(e),s&&s.response&&(s.response.data=OE.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})},Aa=tr,mJ=function(e,t){t=t||{};var i={};function s(u,d){return Aa.isPlainObject(u)&&Aa.isPlainObject(d)?Aa.merge(u,d):Aa.isPlainObject(d)?Aa.merge({},d):Aa.isArray(d)?d.slice():d}function o(u){if(Aa.isUndefined(t[u])){if(!Aa.isUndefined(e[u]))return s(void 0,e[u])}else return s(e[u],t[u])}function r(u){if(!Aa.isUndefined(t[u]))return s(void 0,t[u])}function a(u){if(Aa.isUndefined(t[u])){if(!Aa.isUndefined(e[u]))return s(void 0,e[u])}else return s(void 0,t[u])}function l(u){if(u in t)return s(e[u],t[u]);if(u in e)return s(void 0,e[u])}var c={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return Aa.forEach(Object.keys(e).concat(Object.keys(t)),function(d){var h=c[d]||o,f=h(d);Aa.isUndefined(f)&&h!==l||(i[d]=f)}),i},_J={version:"0.27.2"},Ynt=_J.version,Mf=Yv,IO={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){IO[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});var _U={};IO.transitional=function(e,t,i){function s(o,r){return"[Axios v"+Ynt+"] Transitional option '"+o+"'"+r+(i?". "+i:"")}return function(o,r,a){if(e===!1)throw new Mf(s(r," has been removed"+(t?" in "+t:"")),Mf.ERR_DEPRECATED);return t&&!_U[r]&&(_U[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,r,a):!0}};function Znt(n,e,t){if(typeof n!="object")throw new Mf("options must be an object",Mf.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(n),s=i.length;s-- >0;){var o=i[s],r=e[o];if(r){var a=n[o],l=a===void 0||r(a,o,n);if(l!==!0)throw new Mf("option "+o+" must be "+l,Mf.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Mf("Unknown option "+o,Mf.ERR_BAD_OPTION)}}var Xnt={assertOptions:Znt,validators:IO},vJ=tr,Qnt=aJ,vU=hnt,bU=Gnt,Rx=mJ,Jnt=fJ,bJ=Xnt,l0=bJ.validators;function nv(n){this.defaults=n,this.interceptors={request:new vU,response:new vU}}nv.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Rx(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var i=t.transitional;i!==void 0&&bJ.assertOptions(i,{silentJSONParsing:l0.transitional(l0.boolean),forcedJSONParsing:l0.transitional(l0.boolean),clarifyTimeoutError:l0.transitional(l0.boolean)},!1);var s=[],o=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(t)===!1||(o=o&&f.synchronous,s.unshift(f.fulfilled,f.rejected))});var r=[];this.interceptors.response.forEach(function(f){r.push(f.fulfilled,f.rejected)});var a;if(!o){var l=[bU,void 0];for(Array.prototype.unshift.apply(l,s),l=l.concat(r),a=Promise.resolve(t);l.length;)a=a.then(l.shift(),l.shift());return a}for(var c=t;s.length;){var u=s.shift(),d=s.shift();try{c=u(c)}catch(h){d(h);break}}try{a=bU(c)}catch(h){return Promise.reject(h)}for(;r.length;)a=a.then(r.shift(),r.shift());return a};nv.prototype.getUri=function(e){e=Rx(this.defaults,e);var t=Jnt(e.baseURL,e.url);return Qnt(t,e.params,e.paramsSerializer)};vJ.forEach(["delete","get","head","options"],function(e){nv.prototype[e]=function(t,i){return this.request(Rx(i||{},{method:e,url:t,data:(i||{}).data}))}});vJ.forEach(["post","put","patch"],function(e){function t(i){return function(o,r,a){return this.request(Rx(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:r}))}}nv.prototype[e]=t(),nv.prototype[e+"Form"]=t(!0)});var est=nv,tst=Mx;function sv(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(s){e=s});var t=this;this.promise.then(function(i){if(!!t._listeners){var s,o=t._listeners.length;for(s=0;s<o;s++)t._listeners[s](i);t._listeners=null}}),this.promise.then=function(i){var s,o=new Promise(function(r){t.subscribe(r),s=r}).then(i);return o.cancel=function(){t.unsubscribe(s)},o},n(function(s){t.reason||(t.reason=new tst(s),e(t.reason))})}sv.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};sv.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};sv.prototype.unsubscribe=function(e){if(!!this._listeners){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}};sv.source=function(){var e,t=new sv(function(s){e=s});return{token:t,cancel:e}};var ist=sv,nst=function(e){return function(i){return e.apply(null,i)}},sst=tr,ost=function(e){return sst.isObject(e)&&e.isAxiosError===!0},CU=tr,rst=sJ,o6=est,ast=mJ,lst=EO;function CJ(n){var e=new o6(n),t=rst(o6.prototype.request,e);return CU.extend(t,o6.prototype,e),CU.extend(t,e),t.create=function(s){return CJ(ast(n,s))},t}var ba=CJ(lst);ba.Axios=o6;ba.CanceledError=Mx;ba.CancelToken=ist;ba.isCancel=pJ;ba.VERSION=_J.version;ba.toFormData=hJ;ba.AxiosError=Yv;ba.Cancel=ba.CanceledError;ba.all=function(e){return Promise.all(e)};ba.spread=nst;ba.isAxiosError=ost;yO.exports=ba;yO.exports.default=ba;var cst=yO.exports;const ust=function(){return"?ts="+new Date().getTime()},GC={commonRequest(n,e,{noCache:t=!0,cancelToken:i,headers:s={},data:o={},params:r={}}){return new Promise((a,l)=>{cst.request({url:t?e:e+ust(),data:o,params:r,headers:s,cancelToken:i,method:n}).catch(c=>{l(c)}).then(c=>{if(!c||+c.status!=200||!c.data)return l(c);const{data:u}=c;a(u)})})},get(n,e,t){return GC.commonRequest("GET",n,It({params:e,noCache:!0},t))},post(n,e,t){return GC.commonRequest("POST",n,Object.assign({data:e},t))}},TO=location.origin,dst=n=>GC.get(`${TO}/gen/loadCase`,n),hst=n=>GC.post(`${TO}/gen/editAndPreviewCase`,n),fst=n=>GC.post(`${TO}/gen/saveSpecAndJson`,n),gst={tap:n=>"\u89E6\u53D1 tap \u4E8B\u4EF6",touchmove:n=>"\u89E6\u53D1 touchmove \u4E8B\u4EF6",touchstart:n=>"\u89E6\u53D1 touchstart \u4E8B\u4EF6",longpress:()=>"\u89E6\u53D1 longpress \u4E8B\u4EF6",touchend:n=>"\u89E6\u53D1 touchend \u4E8B\u4EF6",input:n=>"\u89E6\u53D1 input \u4E8B\u4EF6",updated:()=>"\u89E6\u53D1 updated \u4E8B\u4EF6",trigger:n=>"trigger \u5143\u7D20\u4E8B\u4EF6",assertVisible:n=>`\u65AD\u8A00 ${n.target}\u5143\u7D20\u662F\u5426\u5B58\u5728`,dataSnapshot:()=>"\u65AD\u8A00\u6570\u636E\u5FEB\u7167",wxmlSnapshot:()=>"\u65AD\u8A00 wxml \u5FEB\u7167",navigateLeft:()=>"\u64CD\u4F5C\u8DEF\u7531\u8FD4\u56DE",scroll:n=>"\u5143\u7D20\u89E6\u53D1\u6EDA\u52A8\u4E8B\u4EF6",getDOMIndependently:n=>`\u83B7\u53D6\u5143\u7D20 ${n.data[1].value}.${n.data[0].value}`,getDOMList:n=>{var e,t;return`\u83B7\u53D6\u5143\u7D20 ${n.data[1].value}.${n.data[0].value}${(e=n.data[2])!=null&&e.value?[(t=n.data[2])==null?void 0:t.value]:""}`},waitForSomeTime:n=>`\u7B49\u5F85\u65F6\u957F${n.data[0].value}`,waitForExactRouter:n=>`\u7B49\u5F85\u6307\u5B9A\u8DEF\u7531${n.data[0].value}`,waitForApiResponse:n=>`\u7B49\u5F85\u63A5\u53E3${n.data[0].value}\u54CD\u5E94`,operateRouterNavigateBack:()=>"\u64CD\u4F5C\u8DEF\u7531\u8FD4\u56DE",operateRouterRelaunch:n=>`\u64CD\u4F5C\u8DEF\u7531 Relaunch ${n.data[0].value}`,operateRouterNavigateTo:n=>`operateRouterNavigateTo ${n.data[0].value}`,operateRouterRedirectTo:n=>`operateRouterRedirectTo ${n.data[0].value}`,operateRouterSwitchTab:n=>`\u64CD\u4F5C\u8DEF\u7531\u5207\u6362 TAB ${n.data[0].value}`,assertTextContent:n=>`\u65AD\u8A00\u6587\u5B57\u5185\u5BB9 ${n.data[0].value}`,assertTextLength:n=>`\u65AD\u8A00\u6587\u5B57\u957F\u5EA6 ${n.data[0].value}`,assertTextByRegExp:n=>`\u65AD\u8A00\u6587\u5B57\u88AB\u6B63\u5219/${n.data[0].value}/${n.data[1].value}\u5339\u914D`,assertElementWidth:n=>`\u65AD\u8A00\u5143\u7D20\u5BBD\u5EA6${n.data[0].value} ${n.data[1].value}`,assertElementHeight:n=>`\u65AD\u8A00\u5143\u7D20\u957F\u5EA6 ${n.data[0].value} ${n.data[1].value}`,assertElementExistence:()=>"\u65AD\u8A00\u5143\u7D20\u662F\u5426\u5B58\u5728",assertResponseFiledValue:n=>`\u65AD\u8A00\u63A5\u53E3\u8FD4\u56DE\u503C ${n.data[0].value} ${n.data[1].value} ${n.data[2].value}`,screenshotFileSave:n=>`\u622A\u56FE${n.data[0].value&&n.data[1].value?n.data[1].value+"/"+n.data[0].value:""}`};function pst(n){return n?n.map(e=>{const{command:t}=e,i={type:"operate",command:t,label:"",cmdIndex:e.cmdIndex,tag:e.tagName,path:e.path,text:e.text,byPlatform:e.byPlatform},s=gst[t];return i.label=s(e),i}):[]}function mst(n,e=[]){if(!n||!Array.isArray(n))return console.warn("json.commands must be an Array"),[];const t=[];return n.forEach((i,s)=>{["mock","startRecord","stopRecord",...e].includes(i.command)||t.push(It({cmdIndex:s},i))}),t}function _st(n){var e;return(e=n==null?void 0:n.env)!=null&&e.recordAPIs.length?[...new Set(n.env.recordAPIs)]:[]}var $9={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,i="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",d=1,h=2,f=4,p=1,m=2,b=1,w=2,y=4,L=8,D=16,E=32,T=64,x=128,k=256,N=512,V=30,H="...",G=800,te=16,ae=1,me=2,we=3,be=1/0,Me=9007199254740991,He=17976931348623157e292,mt=0/0,ot=4294967295,De=ot-1,pe=ot>>>1,_t=[["ary",x],["bind",b],["bindKey",w],["curry",L],["curryRight",D],["flip",N],["partial",E],["partialRight",T],["rearg",k]],_e="[object Arguments]",Ge="[object Array]",ye="[object AsyncFunction]",We="[object Boolean]",gt="[object Date]",rt="[object DOMException]",Fe="[object Error]",ht="[object Function]",ee="[object GeneratorFunction]",le="[object Map]",Ce="[object Number]",$e="[object Null]",Be="[object Object]",tt="[object Promise]",ft="[object Proxy]",ie="[object RegExp]",X="[object Set]",Q="[object String]",P="[object Symbol]",R="[object Undefined]",j="[object WeakMap]",q="[object WeakSet]",ue="[object ArrayBuffer]",ve="[object DataView]",Ze="[object Float32Array]",ne="[object Float64Array]",ke="[object Int8Array]",Ke="[object Int16Array]",Ct="[object Int32Array]",kt="[object Uint8Array]",pt="[object Uint8ClampedArray]",Qt="[object Uint16Array]",Zt="[object Uint32Array]",vn=/\b__p \+= '';/g,wi=/\b(__p \+=) '' \+/g,bn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,su=/&(?:amp|lt|gt|quot|#39);/g,Ho=/[&<>"']/g,wl=RegExp(su.source),sc=RegExp(Ho.source),md=/<%-([\s\S]+?)%>/g,ou=/<%([\s\S]+?)%>/g,ru=/<%=([\s\S]+?)%>/g,Yr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H_=/^\w*$/,np=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xh=/[\\^$.*+?()[\]{}|]/g,YD=RegExp(Xh.source),Ut=/^\s+/,Se=/\s/,vt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pt=/\{\n\/\* \[wrapped with (.+)\] \*/,Sn=/,? & /,Eo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Io=/[()=,{}\[\]\/\s]/,To=/\\(\\)?/g,oc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qh=/\w*$/,C4=/^[-+]0x[0-9a-f]+$/i,ZD=/^0b[01]+$/i,mV=/^\[object .+?Constructor\]$/,ile=/^0o[0-7]+$/i,nle=/^(?:0|[1-9]\d*)$/,sle=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,w4=/($^)/,ole=/['\n\r\u2028\u2029\\]/g,y4="\\ud800-\\udfff",rle="\\u0300-\\u036f",ale="\\ufe20-\\ufe2f",lle="\\u20d0-\\u20ff",_V=rle+ale+lle,vV="\\u2700-\\u27bf",bV="a-z\\xdf-\\xf6\\xf8-\\xff",cle="\\xac\\xb1\\xd7\\xf7",ule="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dle="\\u2000-\\u206f",hle=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",CV="A-Z\\xc0-\\xd6\\xd8-\\xde",wV="\\ufe0e\\ufe0f",yV=cle+ule+dle+hle,XD="['\u2019]",fle="["+y4+"]",SV="["+yV+"]",S4="["+_V+"]",LV="\\d+",gle="["+vV+"]",xV="["+bV+"]",DV="[^"+y4+yV+LV+vV+bV+CV+"]",QD="\\ud83c[\\udffb-\\udfff]",ple="(?:"+S4+"|"+QD+")",kV="[^"+y4+"]",JD="(?:\\ud83c[\\udde6-\\uddff]){2}",ek="[\\ud800-\\udbff][\\udc00-\\udfff]",$_="["+CV+"]",EV="\\u200d",IV="(?:"+xV+"|"+DV+")",mle="(?:"+$_+"|"+DV+")",TV="(?:"+XD+"(?:d|ll|m|re|s|t|ve))?",NV="(?:"+XD+"(?:D|LL|M|RE|S|T|VE))?",MV=ple+"?",AV="["+wV+"]?",_le="(?:"+EV+"(?:"+[kV,JD,ek].join("|")+")"+AV+MV+")*",vle="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ble="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",RV=AV+MV+_le,Cle="(?:"+[gle,JD,ek].join("|")+")"+RV,wle="(?:"+[kV+S4+"?",S4,JD,ek,fle].join("|")+")",yle=RegExp(XD,"g"),Sle=RegExp(S4,"g"),tk=RegExp(QD+"(?="+QD+")|"+wle+RV,"g"),Lle=RegExp([$_+"?"+xV+"+"+TV+"(?="+[SV,$_,"$"].join("|")+")",mle+"+"+NV+"(?="+[SV,$_+IV,"$"].join("|")+")",$_+"?"+IV+"+"+TV,$_+"+"+NV,ble,vle,LV,Cle].join("|"),"g"),xle=RegExp("["+EV+y4+_V+wV+"]"),Dle=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kle=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ele=-1,rs={};rs[Ze]=rs[ne]=rs[ke]=rs[Ke]=rs[Ct]=rs[kt]=rs[pt]=rs[Qt]=rs[Zt]=!0,rs[_e]=rs[Ge]=rs[ue]=rs[We]=rs[ve]=rs[gt]=rs[Fe]=rs[ht]=rs[le]=rs[Ce]=rs[Be]=rs[ie]=rs[X]=rs[Q]=rs[j]=!1;var Qn={};Qn[_e]=Qn[Ge]=Qn[ue]=Qn[ve]=Qn[We]=Qn[gt]=Qn[Ze]=Qn[ne]=Qn[ke]=Qn[Ke]=Qn[Ct]=Qn[le]=Qn[Ce]=Qn[Be]=Qn[ie]=Qn[X]=Qn[Q]=Qn[P]=Qn[kt]=Qn[pt]=Qn[Qt]=Qn[Zt]=!0,Qn[Fe]=Qn[ht]=Qn[j]=!1;var Ile={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Tle={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nle={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mle={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ale=parseFloat,Rle=parseInt,OV=typeof z2=="object"&&z2&&z2.Object===Object&&z2,Ole=typeof self=="object"&&self&&self.Object===Object&&self,$o=OV||Ole||Function("return this")(),ik=e&&!e.nodeType&&e,sp=ik&&!0&&n&&!n.nodeType&&n,PV=sp&&sp.exports===ik,nk=PV&&OV.process,yl=function(){try{var he=sp&&sp.require&&sp.require("util").types;return he||nk&&nk.binding&&nk.binding("util")}catch{}}(),FV=yl&&yl.isArrayBuffer,BV=yl&&yl.isDate,VV=yl&&yl.isMap,WV=yl&&yl.isRegExp,HV=yl&&yl.isSet,$V=yl&&yl.isTypedArray;function ka(he,Ve,Ee){switch(Ee.length){case 0:return he.call(Ve);case 1:return he.call(Ve,Ee[0]);case 2:return he.call(Ve,Ee[0],Ee[1]);case 3:return he.call(Ve,Ee[0],Ee[1],Ee[2])}return he.apply(Ve,Ee)}function Ple(he,Ve,Ee,Et){for(var yi=-1,Cn=he==null?0:he.length;++yi<Cn;){var ao=he[yi];Ve(Et,ao,Ee(ao),he)}return Et}function Sl(he,Ve){for(var Ee=-1,Et=he==null?0:he.length;++Ee<Et&&Ve(he[Ee],Ee,he)!==!1;);return he}function Fle(he,Ve){for(var Ee=he==null?0:he.length;Ee--&&Ve(he[Ee],Ee,he)!==!1;);return he}function zV(he,Ve){for(var Ee=-1,Et=he==null?0:he.length;++Ee<Et;)if(!Ve(he[Ee],Ee,he))return!1;return!0}function Jh(he,Ve){for(var Ee=-1,Et=he==null?0:he.length,yi=0,Cn=[];++Ee<Et;){var ao=he[Ee];Ve(ao,Ee,he)&&(Cn[yi++]=ao)}return Cn}function L4(he,Ve){var Ee=he==null?0:he.length;return!!Ee&&z_(he,Ve,0)>-1}function sk(he,Ve,Ee){for(var Et=-1,yi=he==null?0:he.length;++Et<yi;)if(Ee(Ve,he[Et]))return!0;return!1}function vs(he,Ve){for(var Ee=-1,Et=he==null?0:he.length,yi=Array(Et);++Ee<Et;)yi[Ee]=Ve(he[Ee],Ee,he);return yi}function ef(he,Ve){for(var Ee=-1,Et=Ve.length,yi=he.length;++Ee<Et;)he[yi+Ee]=Ve[Ee];return he}function ok(he,Ve,Ee,Et){var yi=-1,Cn=he==null?0:he.length;for(Et&&Cn&&(Ee=he[++yi]);++yi<Cn;)Ee=Ve(Ee,he[yi],yi,he);return Ee}function Ble(he,Ve,Ee,Et){var yi=he==null?0:he.length;for(Et&&yi&&(Ee=he[--yi]);yi--;)Ee=Ve(Ee,he[yi],yi,he);return Ee}function rk(he,Ve){for(var Ee=-1,Et=he==null?0:he.length;++Ee<Et;)if(Ve(he[Ee],Ee,he))return!0;return!1}var Vle=ak("length");function Wle(he){return he.split("")}function Hle(he){return he.match(Eo)||[]}function UV(he,Ve,Ee){var Et;return Ee(he,function(yi,Cn,ao){if(Ve(yi,Cn,ao))return Et=Cn,!1}),Et}function x4(he,Ve,Ee,Et){for(var yi=he.length,Cn=Ee+(Et?1:-1);Et?Cn--:++Cn<yi;)if(Ve(he[Cn],Cn,he))return Cn;return-1}function z_(he,Ve,Ee){return Ve===Ve?Jle(he,Ve,Ee):x4(he,jV,Ee)}function $le(he,Ve,Ee,Et){for(var yi=Ee-1,Cn=he.length;++yi<Cn;)if(Et(he[yi],Ve))return yi;return-1}function jV(he){return he!==he}function KV(he,Ve){var Ee=he==null?0:he.length;return Ee?ck(he,Ve)/Ee:mt}function ak(he){return function(Ve){return Ve==null?t:Ve[he]}}function lk(he){return function(Ve){return he==null?t:he[Ve]}}function qV(he,Ve,Ee,Et,yi){return yi(he,function(Cn,ao,zn){Ee=Et?(Et=!1,Cn):Ve(Ee,Cn,ao,zn)}),Ee}function zle(he,Ve){var Ee=he.length;for(he.sort(Ve);Ee--;)he[Ee]=he[Ee].value;return he}function ck(he,Ve){for(var Ee,Et=-1,yi=he.length;++Et<yi;){var Cn=Ve(he[Et]);Cn!==t&&(Ee=Ee===t?Cn:Ee+Cn)}return Ee}function uk(he,Ve){for(var Ee=-1,Et=Array(he);++Ee<he;)Et[Ee]=Ve(Ee);return Et}function Ule(he,Ve){return vs(Ve,function(Ee){return[Ee,he[Ee]]})}function GV(he){return he&&he.slice(0,QV(he)+1).replace(Ut,"")}function Ea(he){return function(Ve){return he(Ve)}}function dk(he,Ve){return vs(Ve,function(Ee){return he[Ee]})}function y2(he,Ve){return he.has(Ve)}function YV(he,Ve){for(var Ee=-1,Et=he.length;++Ee<Et&&z_(Ve,he[Ee],0)>-1;);return Ee}function ZV(he,Ve){for(var Ee=he.length;Ee--&&z_(Ve,he[Ee],0)>-1;);return Ee}function jle(he,Ve){for(var Ee=he.length,Et=0;Ee--;)he[Ee]===Ve&&++Et;return Et}var Kle=lk(Ile),qle=lk(Tle);function Gle(he){return"\\"+Mle[he]}function Yle(he,Ve){return he==null?t:he[Ve]}function U_(he){return xle.test(he)}function Zle(he){return Dle.test(he)}function Xle(he){for(var Ve,Ee=[];!(Ve=he.next()).done;)Ee.push(Ve.value);return Ee}function hk(he){var Ve=-1,Ee=Array(he.size);return he.forEach(function(Et,yi){Ee[++Ve]=[yi,Et]}),Ee}function XV(he,Ve){return function(Ee){return he(Ve(Ee))}}function tf(he,Ve){for(var Ee=-1,Et=he.length,yi=0,Cn=[];++Ee<Et;){var ao=he[Ee];(ao===Ve||ao===u)&&(he[Ee]=u,Cn[yi++]=Ee)}return Cn}function D4(he){var Ve=-1,Ee=Array(he.size);return he.forEach(function(Et){Ee[++Ve]=Et}),Ee}function Qle(he){var Ve=-1,Ee=Array(he.size);return he.forEach(function(Et){Ee[++Ve]=[Et,Et]}),Ee}function Jle(he,Ve,Ee){for(var Et=Ee-1,yi=he.length;++Et<yi;)if(he[Et]===Ve)return Et;return-1}function ece(he,Ve,Ee){for(var Et=Ee+1;Et--;)if(he[Et]===Ve)return Et;return Et}function j_(he){return U_(he)?ice(he):Vle(he)}function rc(he){return U_(he)?nce(he):Wle(he)}function QV(he){for(var Ve=he.length;Ve--&&Se.test(he.charAt(Ve)););return Ve}var tce=lk(Nle);function ice(he){for(var Ve=tk.lastIndex=0;tk.test(he);)++Ve;return Ve}function nce(he){return he.match(tk)||[]}function sce(he){return he.match(Lle)||[]}var oce=function he(Ve){Ve=Ve==null?$o:K_.defaults($o.Object(),Ve,K_.pick($o,kle));var Ee=Ve.Array,Et=Ve.Date,yi=Ve.Error,Cn=Ve.Function,ao=Ve.Math,zn=Ve.Object,fk=Ve.RegExp,rce=Ve.String,Ll=Ve.TypeError,k4=Ee.prototype,ace=Cn.prototype,q_=zn.prototype,E4=Ve["__core-js_shared__"],I4=ace.toString,Mn=q_.hasOwnProperty,lce=0,JV=function(){var g=/[^.]+$/.exec(E4&&E4.keys&&E4.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),T4=q_.toString,cce=I4.call(zn),uce=$o._,dce=fk("^"+I4.call(Mn).replace(Xh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N4=PV?Ve.Buffer:t,nf=Ve.Symbol,M4=Ve.Uint8Array,eW=N4?N4.allocUnsafe:t,A4=XV(zn.getPrototypeOf,zn),tW=zn.create,iW=q_.propertyIsEnumerable,R4=k4.splice,nW=nf?nf.isConcatSpreadable:t,S2=nf?nf.iterator:t,op=nf?nf.toStringTag:t,O4=function(){try{var g=up(zn,"defineProperty");return g({},"",{}),g}catch{}}(),hce=Ve.clearTimeout!==$o.clearTimeout&&Ve.clearTimeout,fce=Et&&Et.now!==$o.Date.now&&Et.now,gce=Ve.setTimeout!==$o.setTimeout&&Ve.setTimeout,P4=ao.ceil,F4=ao.floor,gk=zn.getOwnPropertySymbols,pce=N4?N4.isBuffer:t,sW=Ve.isFinite,mce=k4.join,_ce=XV(zn.keys,zn),lo=ao.max,nr=ao.min,vce=Et.now,bce=Ve.parseInt,oW=ao.random,Cce=k4.reverse,pk=up(Ve,"DataView"),L2=up(Ve,"Map"),mk=up(Ve,"Promise"),G_=up(Ve,"Set"),x2=up(Ve,"WeakMap"),D2=up(zn,"create"),B4=x2&&new x2,Y_={},wce=dp(pk),yce=dp(L2),Sce=dp(mk),Lce=dp(G_),xce=dp(x2),V4=nf?nf.prototype:t,k2=V4?V4.valueOf:t,rW=V4?V4.toString:t;function $(g){if(As(g)&&!xi(g)&&!(g instanceof qi)){if(g instanceof xl)return g;if(Mn.call(g,"__wrapped__"))return aH(g)}return new xl(g)}var Z_=function(){function g(){}return function(_){if(!Es(_))return{};if(tW)return tW(_);g.prototype=_;var S=new g;return g.prototype=t,S}}();function W4(){}function xl(g,_){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=t}$.templateSettings={escape:md,evaluate:ou,interpolate:ru,variable:"",imports:{_:$}},$.prototype=W4.prototype,$.prototype.constructor=$,xl.prototype=Z_(W4.prototype),xl.prototype.constructor=xl;function qi(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ot,this.__views__=[]}function Dce(){var g=new qi(this.__wrapped__);return g.__actions__=Zr(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=Zr(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=Zr(this.__views__),g}function kce(){if(this.__filtered__){var g=new qi(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function Ece(){var g=this.__wrapped__.value(),_=this.__dir__,S=xi(g),I=_<0,F=S?g.length:0,K=Wue(0,F,this.__views__),se=K.start,ce=K.end,ge=ce-se,je=I?ce:se-1,qe=this.__iteratees__,Je=qe.length,yt=0,Ft=nr(ge,this.__takeCount__);if(!S||!I&&F==ge&&Ft==ge)return TW(g,this.__actions__);var ii=[];e:for(;ge--&&yt<Ft;){je+=_;for(var Mi=-1,ni=g[je];++Mi<Je;){var $i=qe[Mi],Ji=$i.iteratee,Na=$i.type,Ir=Ji(ni);if(Na==me)ni=Ir;else if(!Ir){if(Na==ae)continue e;break e}}ii[yt++]=ni}return ii}qi.prototype=Z_(W4.prototype),qi.prototype.constructor=qi;function rp(g){var _=-1,S=g==null?0:g.length;for(this.clear();++_<S;){var I=g[_];this.set(I[0],I[1])}}function Ice(){this.__data__=D2?D2(null):{},this.size=0}function Tce(g){var _=this.has(g)&&delete this.__data__[g];return this.size-=_?1:0,_}function Nce(g){var _=this.__data__;if(D2){var S=_[g];return S===l?t:S}return Mn.call(_,g)?_[g]:t}function Mce(g){var _=this.__data__;return D2?_[g]!==t:Mn.call(_,g)}function Ace(g,_){var S=this.__data__;return this.size+=this.has(g)?0:1,S[g]=D2&&_===t?l:_,this}rp.prototype.clear=Ice,rp.prototype.delete=Tce,rp.prototype.get=Nce,rp.prototype.has=Mce,rp.prototype.set=Ace;function _d(g){var _=-1,S=g==null?0:g.length;for(this.clear();++_<S;){var I=g[_];this.set(I[0],I[1])}}function Rce(){this.__data__=[],this.size=0}function Oce(g){var _=this.__data__,S=H4(_,g);if(S<0)return!1;var I=_.length-1;return S==I?_.pop():R4.call(_,S,1),--this.size,!0}function Pce(g){var _=this.__data__,S=H4(_,g);return S<0?t:_[S][1]}function Fce(g){return H4(this.__data__,g)>-1}function Bce(g,_){var S=this.__data__,I=H4(S,g);return I<0?(++this.size,S.push([g,_])):S[I][1]=_,this}_d.prototype.clear=Rce,_d.prototype.delete=Oce,_d.prototype.get=Pce,_d.prototype.has=Fce,_d.prototype.set=Bce;function vd(g){var _=-1,S=g==null?0:g.length;for(this.clear();++_<S;){var I=g[_];this.set(I[0],I[1])}}function Vce(){this.size=0,this.__data__={hash:new rp,map:new(L2||_d),string:new rp}}function Wce(g){var _=J4(this,g).delete(g);return this.size-=_?1:0,_}function Hce(g){return J4(this,g).get(g)}function $ce(g){return J4(this,g).has(g)}function zce(g,_){var S=J4(this,g),I=S.size;return S.set(g,_),this.size+=S.size==I?0:1,this}vd.prototype.clear=Vce,vd.prototype.delete=Wce,vd.prototype.get=Hce,vd.prototype.has=$ce,vd.prototype.set=zce;function ap(g){var _=-1,S=g==null?0:g.length;for(this.__data__=new vd;++_<S;)this.add(g[_])}function Uce(g){return this.__data__.set(g,l),this}function jce(g){return this.__data__.has(g)}ap.prototype.add=ap.prototype.push=Uce,ap.prototype.has=jce;function ac(g){var _=this.__data__=new _d(g);this.size=_.size}function Kce(){this.__data__=new _d,this.size=0}function qce(g){var _=this.__data__,S=_.delete(g);return this.size=_.size,S}function Gce(g){return this.__data__.get(g)}function Yce(g){return this.__data__.has(g)}function Zce(g,_){var S=this.__data__;if(S instanceof _d){var I=S.__data__;if(!L2||I.length<s-1)return I.push([g,_]),this.size=++S.size,this;S=this.__data__=new vd(I)}return S.set(g,_),this.size=S.size,this}ac.prototype.clear=Kce,ac.prototype.delete=qce,ac.prototype.get=Gce,ac.prototype.has=Yce,ac.prototype.set=Zce;function aW(g,_){var S=xi(g),I=!S&&hp(g),F=!S&&!I&&lf(g),K=!S&&!I&&!F&&e0(g),se=S||I||F||K,ce=se?uk(g.length,rce):[],ge=ce.length;for(var je in g)(_||Mn.call(g,je))&&!(se&&(je=="length"||F&&(je=="offset"||je=="parent")||K&&(je=="buffer"||je=="byteLength"||je=="byteOffset")||yd(je,ge)))&&ce.push(je);return ce}function lW(g){var _=g.length;return _?g[kk(0,_-1)]:t}function Xce(g,_){return eS(Zr(g),lp(_,0,g.length))}function Qce(g){return eS(Zr(g))}function _k(g,_,S){(S!==t&&!lc(g[_],S)||S===t&&!(_ in g))&&bd(g,_,S)}function E2(g,_,S){var I=g[_];(!(Mn.call(g,_)&&lc(I,S))||S===t&&!(_ in g))&&bd(g,_,S)}function H4(g,_){for(var S=g.length;S--;)if(lc(g[S][0],_))return S;return-1}function Jce(g,_,S,I){return sf(g,function(F,K,se){_(I,F,S(F),se)}),I}function cW(g,_){return g&&lu(_,No(_),g)}function eue(g,_){return g&&lu(_,Qr(_),g)}function bd(g,_,S){_=="__proto__"&&O4?O4(g,_,{configurable:!0,enumerable:!0,value:S,writable:!0}):g[_]=S}function vk(g,_){for(var S=-1,I=_.length,F=Ee(I),K=g==null;++S<I;)F[S]=K?t:Qk(g,_[S]);return F}function lp(g,_,S){return g===g&&(S!==t&&(g=g<=S?g:S),_!==t&&(g=g>=_?g:_)),g}function Dl(g,_,S,I,F,K){var se,ce=_&d,ge=_&h,je=_&f;if(S&&(se=F?S(g,I,F,K):S(g)),se!==t)return se;if(!Es(g))return g;var qe=xi(g);if(qe){if(se=$ue(g),!ce)return Zr(g,se)}else{var Je=sr(g),yt=Je==ht||Je==ee;if(lf(g))return AW(g,ce);if(Je==Be||Je==_e||yt&&!F){if(se=ge||yt?{}:QW(g),!ce)return ge?Nue(g,eue(se,g)):Tue(g,cW(se,g))}else{if(!Qn[Je])return F?g:{};se=zue(g,Je,ce)}}K||(K=new ac);var Ft=K.get(g);if(Ft)return Ft;K.set(g,se),kH(g)?g.forEach(function(ni){se.add(Dl(ni,_,S,ni,g,K))}):xH(g)&&g.forEach(function(ni,$i){se.set($i,Dl(ni,_,S,$i,g,K))});var ii=je?ge?Bk:Fk:ge?Qr:No,Mi=qe?t:ii(g);return Sl(Mi||g,function(ni,$i){Mi&&($i=ni,ni=g[$i]),E2(se,$i,Dl(ni,_,S,$i,g,K))}),se}function tue(g){var _=No(g);return function(S){return uW(S,g,_)}}function uW(g,_,S){var I=S.length;if(g==null)return!I;for(g=zn(g);I--;){var F=S[I],K=_[F],se=g[F];if(se===t&&!(F in g)||!K(se))return!1}return!0}function dW(g,_,S){if(typeof g!="function")throw new Ll(r);return O2(function(){g.apply(t,S)},_)}function I2(g,_,S,I){var F=-1,K=L4,se=!0,ce=g.length,ge=[],je=_.length;if(!ce)return ge;S&&(_=vs(_,Ea(S))),I?(K=sk,se=!1):_.length>=s&&(K=y2,se=!1,_=new ap(_));e:for(;++F<ce;){var qe=g[F],Je=S==null?qe:S(qe);if(qe=I||qe!==0?qe:0,se&&Je===Je){for(var yt=je;yt--;)if(_[yt]===Je)continue e;ge.push(qe)}else K(_,Je,I)||ge.push(qe)}return ge}var sf=BW(au),hW=BW(Ck,!0);function iue(g,_){var S=!0;return sf(g,function(I,F,K){return S=!!_(I,F,K),S}),S}function $4(g,_,S){for(var I=-1,F=g.length;++I<F;){var K=g[I],se=_(K);if(se!=null&&(ce===t?se===se&&!Ta(se):S(se,ce)))var ce=se,ge=K}return ge}function nue(g,_,S,I){var F=g.length;for(S=Ii(S),S<0&&(S=-S>F?0:F+S),I=I===t||I>F?F:Ii(I),I<0&&(I+=F),I=S>I?0:IH(I);S<I;)g[S++]=_;return g}function fW(g,_){var S=[];return sf(g,function(I,F,K){_(I,F,K)&&S.push(I)}),S}function zo(g,_,S,I,F){var K=-1,se=g.length;for(S||(S=jue),F||(F=[]);++K<se;){var ce=g[K];_>0&&S(ce)?_>1?zo(ce,_-1,S,I,F):ef(F,ce):I||(F[F.length]=ce)}return F}var bk=VW(),gW=VW(!0);function au(g,_){return g&&bk(g,_,No)}function Ck(g,_){return g&&gW(g,_,No)}function z4(g,_){return Jh(_,function(S){return Sd(g[S])})}function cp(g,_){_=rf(_,g);for(var S=0,I=_.length;g!=null&&S<I;)g=g[cu(_[S++])];return S&&S==I?g:t}function pW(g,_,S){var I=_(g);return xi(g)?I:ef(I,S(g))}function kr(g){return g==null?g===t?R:$e:op&&op in zn(g)?Vue(g):Que(g)}function wk(g,_){return g>_}function sue(g,_){return g!=null&&Mn.call(g,_)}function oue(g,_){return g!=null&&_ in zn(g)}function rue(g,_,S){return g>=nr(_,S)&&g<lo(_,S)}function yk(g,_,S){for(var I=S?sk:L4,F=g[0].length,K=g.length,se=K,ce=Ee(K),ge=1/0,je=[];se--;){var qe=g[se];se&&_&&(qe=vs(qe,Ea(_))),ge=nr(qe.length,ge),ce[se]=!S&&(_||F>=120&&qe.length>=120)?new ap(se&&qe):t}qe=g[0];var Je=-1,yt=ce[0];e:for(;++Je<F&&je.length<ge;){var Ft=qe[Je],ii=_?_(Ft):Ft;if(Ft=S||Ft!==0?Ft:0,!(yt?y2(yt,ii):I(je,ii,S))){for(se=K;--se;){var Mi=ce[se];if(!(Mi?y2(Mi,ii):I(g[se],ii,S)))continue e}yt&&yt.push(ii),je.push(Ft)}}return je}function aue(g,_,S,I){return au(g,function(F,K,se){_(I,S(F),K,se)}),I}function T2(g,_,S){_=rf(_,g),g=iH(g,_);var I=g==null?g:g[cu(El(_))];return I==null?t:ka(I,g,S)}function mW(g){return As(g)&&kr(g)==_e}function lue(g){return As(g)&&kr(g)==ue}function cue(g){return As(g)&&kr(g)==gt}function N2(g,_,S,I,F){return g===_?!0:g==null||_==null||!As(g)&&!As(_)?g!==g&&_!==_:uue(g,_,S,I,N2,F)}function uue(g,_,S,I,F,K){var se=xi(g),ce=xi(_),ge=se?Ge:sr(g),je=ce?Ge:sr(_);ge=ge==_e?Be:ge,je=je==_e?Be:je;var qe=ge==Be,Je=je==Be,yt=ge==je;if(yt&&lf(g)){if(!lf(_))return!1;se=!0,qe=!1}if(yt&&!qe)return K||(K=new ac),se||e0(g)?YW(g,_,S,I,F,K):Fue(g,_,ge,S,I,F,K);if(!(S&p)){var Ft=qe&&Mn.call(g,"__wrapped__"),ii=Je&&Mn.call(_,"__wrapped__");if(Ft||ii){var Mi=Ft?g.value():g,ni=ii?_.value():_;return K||(K=new ac),F(Mi,ni,S,I,K)}}return yt?(K||(K=new ac),Bue(g,_,S,I,F,K)):!1}function due(g){return As(g)&&sr(g)==le}function Sk(g,_,S,I){var F=S.length,K=F,se=!I;if(g==null)return!K;for(g=zn(g);F--;){var ce=S[F];if(se&&ce[2]?ce[1]!==g[ce[0]]:!(ce[0]in g))return!1}for(;++F<K;){ce=S[F];var ge=ce[0],je=g[ge],qe=ce[1];if(se&&ce[2]){if(je===t&&!(ge in g))return!1}else{var Je=new ac;if(I)var yt=I(je,qe,ge,g,_,Je);if(!(yt===t?N2(qe,je,p|m,I,Je):yt))return!1}}return!0}function _W(g){if(!Es(g)||que(g))return!1;var _=Sd(g)?dce:mV;return _.test(dp(g))}function hue(g){return As(g)&&kr(g)==ie}function fue(g){return As(g)&&sr(g)==X}function gue(g){return As(g)&&rS(g.length)&&!!rs[kr(g)]}function vW(g){return typeof g=="function"?g:g==null?Jr:typeof g=="object"?xi(g)?wW(g[0],g[1]):CW(g):WH(g)}function Lk(g){if(!R2(g))return _ce(g);var _=[];for(var S in zn(g))Mn.call(g,S)&&S!="constructor"&&_.push(S);return _}function pue(g){if(!Es(g))return Xue(g);var _=R2(g),S=[];for(var I in g)I=="constructor"&&(_||!Mn.call(g,I))||S.push(I);return S}function xk(g,_){return g<_}function bW(g,_){var S=-1,I=Xr(g)?Ee(g.length):[];return sf(g,function(F,K,se){I[++S]=_(F,K,se)}),I}function CW(g){var _=Wk(g);return _.length==1&&_[0][2]?eH(_[0][0],_[0][1]):function(S){return S===g||Sk(S,g,_)}}function wW(g,_){return $k(g)&&JW(_)?eH(cu(g),_):function(S){var I=Qk(S,g);return I===t&&I===_?Jk(S,g):N2(_,I,p|m)}}function U4(g,_,S,I,F){g!==_&&bk(_,function(K,se){if(F||(F=new ac),Es(K))mue(g,_,se,S,U4,I,F);else{var ce=I?I(Uk(g,se),K,se+"",g,_,F):t;ce===t&&(ce=K),_k(g,se,ce)}},Qr)}function mue(g,_,S,I,F,K,se){var ce=Uk(g,S),ge=Uk(_,S),je=se.get(ge);if(je){_k(g,S,je);return}var qe=K?K(ce,ge,S+"",g,_,se):t,Je=qe===t;if(Je){var yt=xi(ge),Ft=!yt&&lf(ge),ii=!yt&&!Ft&&e0(ge);qe=ge,yt||Ft||ii?xi(ce)?qe=ce:zs(ce)?qe=Zr(ce):Ft?(Je=!1,qe=AW(ge,!0)):ii?(Je=!1,qe=RW(ge,!0)):qe=[]:P2(ge)||hp(ge)?(qe=ce,hp(ce)?qe=TH(ce):(!Es(ce)||Sd(ce))&&(qe=QW(ge))):Je=!1}Je&&(se.set(ge,qe),F(qe,ge,I,K,se),se.delete(ge)),_k(g,S,qe)}function yW(g,_){var S=g.length;if(!!S)return _+=_<0?S:0,yd(_,S)?g[_]:t}function SW(g,_,S){_.length?_=vs(_,function(K){return xi(K)?function(se){return cp(se,K.length===1?K[0]:K)}:K}):_=[Jr];var I=-1;_=vs(_,Ea(Jt()));var F=bW(g,function(K,se,ce){var ge=vs(_,function(je){return je(K)});return{criteria:ge,index:++I,value:K}});return zle(F,function(K,se){return Iue(K,se,S)})}function _ue(g,_){return LW(g,_,function(S,I){return Jk(g,I)})}function LW(g,_,S){for(var I=-1,F=_.length,K={};++I<F;){var se=_[I],ce=cp(g,se);S(ce,se)&&M2(K,rf(se,g),ce)}return K}function vue(g){return function(_){return cp(_,g)}}function Dk(g,_,S,I){var F=I?$le:z_,K=-1,se=_.length,ce=g;for(g===_&&(_=Zr(_)),S&&(ce=vs(g,Ea(S)));++K<se;)for(var ge=0,je=_[K],qe=S?S(je):je;(ge=F(ce,qe,ge,I))>-1;)ce!==g&&R4.call(ce,ge,1),R4.call(g,ge,1);return g}function xW(g,_){for(var S=g?_.length:0,I=S-1;S--;){var F=_[S];if(S==I||F!==K){var K=F;yd(F)?R4.call(g,F,1):Tk(g,F)}}return g}function kk(g,_){return g+F4(oW()*(_-g+1))}function bue(g,_,S,I){for(var F=-1,K=lo(P4((_-g)/(S||1)),0),se=Ee(K);K--;)se[I?K:++F]=g,g+=S;return se}function Ek(g,_){var S="";if(!g||_<1||_>Me)return S;do _%2&&(S+=g),_=F4(_/2),_&&(g+=g);while(_);return S}function Ri(g,_){return jk(tH(g,_,Jr),g+"")}function Cue(g){return lW(t0(g))}function wue(g,_){var S=t0(g);return eS(S,lp(_,0,S.length))}function M2(g,_,S,I){if(!Es(g))return g;_=rf(_,g);for(var F=-1,K=_.length,se=K-1,ce=g;ce!=null&&++F<K;){var ge=cu(_[F]),je=S;if(ge==="__proto__"||ge==="constructor"||ge==="prototype")return g;if(F!=se){var qe=ce[ge];je=I?I(qe,ge,ce):t,je===t&&(je=Es(qe)?qe:yd(_[F+1])?[]:{})}E2(ce,ge,je),ce=ce[ge]}return g}var DW=B4?function(g,_){return B4.set(g,_),g}:Jr,yue=O4?function(g,_){return O4(g,"toString",{configurable:!0,enumerable:!1,value:tE(_),writable:!0})}:Jr;function Sue(g){return eS(t0(g))}function kl(g,_,S){var I=-1,F=g.length;_<0&&(_=-_>F?0:F+_),S=S>F?F:S,S<0&&(S+=F),F=_>S?0:S-_>>>0,_>>>=0;for(var K=Ee(F);++I<F;)K[I]=g[I+_];return K}function Lue(g,_){var S;return sf(g,function(I,F,K){return S=_(I,F,K),!S}),!!S}function j4(g,_,S){var I=0,F=g==null?I:g.length;if(typeof _=="number"&&_===_&&F<=pe){for(;I<F;){var K=I+F>>>1,se=g[K];se!==null&&!Ta(se)&&(S?se<=_:se<_)?I=K+1:F=K}return F}return Ik(g,_,Jr,S)}function Ik(g,_,S,I){var F=0,K=g==null?0:g.length;if(K===0)return 0;_=S(_);for(var se=_!==_,ce=_===null,ge=Ta(_),je=_===t;F<K;){var qe=F4((F+K)/2),Je=S(g[qe]),yt=Je!==t,Ft=Je===null,ii=Je===Je,Mi=Ta(Je);if(se)var ni=I||ii;else je?ni=ii&&(I||yt):ce?ni=ii&&yt&&(I||!Ft):ge?ni=ii&&yt&&!Ft&&(I||!Mi):Ft||Mi?ni=!1:ni=I?Je<=_:Je<_;ni?F=qe+1:K=qe}return nr(K,De)}function kW(g,_){for(var S=-1,I=g.length,F=0,K=[];++S<I;){var se=g[S],ce=_?_(se):se;if(!S||!lc(ce,ge)){var ge=ce;K[F++]=se===0?0:se}}return K}function EW(g){return typeof g=="number"?g:Ta(g)?mt:+g}function Ia(g){if(typeof g=="string")return g;if(xi(g))return vs(g,Ia)+"";if(Ta(g))return rW?rW.call(g):"";var _=g+"";return _=="0"&&1/g==-be?"-0":_}function of(g,_,S){var I=-1,F=L4,K=g.length,se=!0,ce=[],ge=ce;if(S)se=!1,F=sk;else if(K>=s){var je=_?null:Oue(g);if(je)return D4(je);se=!1,F=y2,ge=new ap}else ge=_?[]:ce;e:for(;++I<K;){var qe=g[I],Je=_?_(qe):qe;if(qe=S||qe!==0?qe:0,se&&Je===Je){for(var yt=ge.length;yt--;)if(ge[yt]===Je)continue e;_&&ge.push(Je),ce.push(qe)}else F(ge,Je,S)||(ge!==ce&&ge.push(Je),ce.push(qe))}return ce}function Tk(g,_){return _=rf(_,g),g=iH(g,_),g==null||delete g[cu(El(_))]}function IW(g,_,S,I){return M2(g,_,S(cp(g,_)),I)}function K4(g,_,S,I){for(var F=g.length,K=I?F:-1;(I?K--:++K<F)&&_(g[K],K,g););return S?kl(g,I?0:K,I?K+1:F):kl(g,I?K+1:0,I?F:K)}function TW(g,_){var S=g;return S instanceof qi&&(S=S.value()),ok(_,function(I,F){return F.func.apply(F.thisArg,ef([I],F.args))},S)}function Nk(g,_,S){var I=g.length;if(I<2)return I?of(g[0]):[];for(var F=-1,K=Ee(I);++F<I;)for(var se=g[F],ce=-1;++ce<I;)ce!=F&&(K[F]=I2(K[F]||se,g[ce],_,S));return of(zo(K,1),_,S)}function NW(g,_,S){for(var I=-1,F=g.length,K=_.length,se={};++I<F;){var ce=I<K?_[I]:t;S(se,g[I],ce)}return se}function Mk(g){return zs(g)?g:[]}function Ak(g){return typeof g=="function"?g:Jr}function rf(g,_){return xi(g)?g:$k(g,_)?[g]:rH(Ln(g))}var xue=Ri;function af(g,_,S){var I=g.length;return S=S===t?I:S,!_&&S>=I?g:kl(g,_,S)}var MW=hce||function(g){return $o.clearTimeout(g)};function AW(g,_){if(_)return g.slice();var S=g.length,I=eW?eW(S):new g.constructor(S);return g.copy(I),I}function Rk(g){var _=new g.constructor(g.byteLength);return new M4(_).set(new M4(g)),_}function Due(g,_){var S=_?Rk(g.buffer):g.buffer;return new g.constructor(S,g.byteOffset,g.byteLength)}function kue(g){var _=new g.constructor(g.source,Qh.exec(g));return _.lastIndex=g.lastIndex,_}function Eue(g){return k2?zn(k2.call(g)):{}}function RW(g,_){var S=_?Rk(g.buffer):g.buffer;return new g.constructor(S,g.byteOffset,g.length)}function OW(g,_){if(g!==_){var S=g!==t,I=g===null,F=g===g,K=Ta(g),se=_!==t,ce=_===null,ge=_===_,je=Ta(_);if(!ce&&!je&&!K&&g>_||K&&se&&ge&&!ce&&!je||I&&se&&ge||!S&&ge||!F)return 1;if(!I&&!K&&!je&&g<_||je&&S&&F&&!I&&!K||ce&&S&&F||!se&&F||!ge)return-1}return 0}function Iue(g,_,S){for(var I=-1,F=g.criteria,K=_.criteria,se=F.length,ce=S.length;++I<se;){var ge=OW(F[I],K[I]);if(ge){if(I>=ce)return ge;var je=S[I];return ge*(je=="desc"?-1:1)}}return g.index-_.index}function PW(g,_,S,I){for(var F=-1,K=g.length,se=S.length,ce=-1,ge=_.length,je=lo(K-se,0),qe=Ee(ge+je),Je=!I;++ce<ge;)qe[ce]=_[ce];for(;++F<se;)(Je||F<K)&&(qe[S[F]]=g[F]);for(;je--;)qe[ce++]=g[F++];return qe}function FW(g,_,S,I){for(var F=-1,K=g.length,se=-1,ce=S.length,ge=-1,je=_.length,qe=lo(K-ce,0),Je=Ee(qe+je),yt=!I;++F<qe;)Je[F]=g[F];for(var Ft=F;++ge<je;)Je[Ft+ge]=_[ge];for(;++se<ce;)(yt||F<K)&&(Je[Ft+S[se]]=g[F++]);return Je}function Zr(g,_){var S=-1,I=g.length;for(_||(_=Ee(I));++S<I;)_[S]=g[S];return _}function lu(g,_,S,I){var F=!S;S||(S={});for(var K=-1,se=_.length;++K<se;){var ce=_[K],ge=I?I(S[ce],g[ce],ce,S,g):t;ge===t&&(ge=g[ce]),F?bd(S,ce,ge):E2(S,ce,ge)}return S}function Tue(g,_){return lu(g,Hk(g),_)}function Nue(g,_){return lu(g,ZW(g),_)}function q4(g,_){return function(S,I){var F=xi(S)?Ple:Jce,K=_?_():{};return F(S,g,Jt(I,2),K)}}function X_(g){return Ri(function(_,S){var I=-1,F=S.length,K=F>1?S[F-1]:t,se=F>2?S[2]:t;for(K=g.length>3&&typeof K=="function"?(F--,K):t,se&&Er(S[0],S[1],se)&&(K=F<3?t:K,F=1),_=zn(_);++I<F;){var ce=S[I];ce&&g(_,ce,I,K)}return _})}function BW(g,_){return function(S,I){if(S==null)return S;if(!Xr(S))return g(S,I);for(var F=S.length,K=_?F:-1,se=zn(S);(_?K--:++K<F)&&I(se[K],K,se)!==!1;);return S}}function VW(g){return function(_,S,I){for(var F=-1,K=zn(_),se=I(_),ce=se.length;ce--;){var ge=se[g?ce:++F];if(S(K[ge],ge,K)===!1)break}return _}}function Mue(g,_,S){var I=_&b,F=A2(g);function K(){var se=this&&this!==$o&&this instanceof K?F:g;return se.apply(I?S:this,arguments)}return K}function WW(g){return function(_){_=Ln(_);var S=U_(_)?rc(_):t,I=S?S[0]:_.charAt(0),F=S?af(S,1).join(""):_.slice(1);return I[g]()+F}}function Q_(g){return function(_){return ok(BH(FH(_).replace(yle,"")),g,"")}}function A2(g){return function(){var _=arguments;switch(_.length){case 0:return new g;case 1:return new g(_[0]);case 2:return new g(_[0],_[1]);case 3:return new g(_[0],_[1],_[2]);case 4:return new g(_[0],_[1],_[2],_[3]);case 5:return new g(_[0],_[1],_[2],_[3],_[4]);case 6:return new g(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new g(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var S=Z_(g.prototype),I=g.apply(S,_);return Es(I)?I:S}}function Aue(g,_,S){var I=A2(g);function F(){for(var K=arguments.length,se=Ee(K),ce=K,ge=J_(F);ce--;)se[ce]=arguments[ce];var je=K<3&&se[0]!==ge&&se[K-1]!==ge?[]:tf(se,ge);if(K-=je.length,K<S)return jW(g,_,G4,F.placeholder,t,se,je,t,t,S-K);var qe=this&&this!==$o&&this instanceof F?I:g;return ka(qe,this,se)}return F}function HW(g){return function(_,S,I){var F=zn(_);if(!Xr(_)){var K=Jt(S,3);_=No(_),S=function(ce){return K(F[ce],ce,F)}}var se=g(_,S,I);return se>-1?F[K?_[se]:se]:t}}function $W(g){return wd(function(_){var S=_.length,I=S,F=xl.prototype.thru;for(g&&_.reverse();I--;){var K=_[I];if(typeof K!="function")throw new Ll(r);if(F&&!se&&Q4(K)=="wrapper")var se=new xl([],!0)}for(I=se?I:S;++I<S;){K=_[I];var ce=Q4(K),ge=ce=="wrapper"?Vk(K):t;ge&&zk(ge[0])&&ge[1]==(x|L|E|k)&&!ge[4].length&&ge[9]==1?se=se[Q4(ge[0])].apply(se,ge[3]):se=K.length==1&&zk(K)?se[ce]():se.thru(K)}return function(){var je=arguments,qe=je[0];if(se&&je.length==1&&xi(qe))return se.plant(qe).value();for(var Je=0,yt=S?_[Je].apply(this,je):qe;++Je<S;)yt=_[Je].call(this,yt);return yt}})}function G4(g,_,S,I,F,K,se,ce,ge,je){var qe=_&x,Je=_&b,yt=_&w,Ft=_&(L|D),ii=_&N,Mi=yt?t:A2(g);function ni(){for(var $i=arguments.length,Ji=Ee($i),Na=$i;Na--;)Ji[Na]=arguments[Na];if(Ft)var Ir=J_(ni),Ma=jle(Ji,Ir);if(I&&(Ji=PW(Ji,I,F,Ft)),K&&(Ji=FW(Ji,K,se,Ft)),$i-=Ma,Ft&&$i<je){var Us=tf(Ji,Ir);return jW(g,_,G4,ni.placeholder,S,Ji,Us,ce,ge,je-$i)}var cc=Je?S:this,xd=yt?cc[g]:g;return $i=Ji.length,ce?Ji=Jue(Ji,ce):ii&&$i>1&&Ji.reverse(),qe&&ge<$i&&(Ji.length=ge),this&&this!==$o&&this instanceof ni&&(xd=Mi||A2(xd)),xd.apply(cc,Ji)}return ni}function zW(g,_){return function(S,I){return aue(S,g,_(I),{})}}function Y4(g,_){return function(S,I){var F;if(S===t&&I===t)return _;if(S!==t&&(F=S),I!==t){if(F===t)return I;typeof S=="string"||typeof I=="string"?(S=Ia(S),I=Ia(I)):(S=EW(S),I=EW(I)),F=g(S,I)}return F}}function Ok(g){return wd(function(_){return _=vs(_,Ea(Jt())),Ri(function(S){var I=this;return g(_,function(F){return ka(F,I,S)})})})}function Z4(g,_){_=_===t?" ":Ia(_);var S=_.length;if(S<2)return S?Ek(_,g):_;var I=Ek(_,P4(g/j_(_)));return U_(_)?af(rc(I),0,g).join(""):I.slice(0,g)}function Rue(g,_,S,I){var F=_&b,K=A2(g);function se(){for(var ce=-1,ge=arguments.length,je=-1,qe=I.length,Je=Ee(qe+ge),yt=this&&this!==$o&&this instanceof se?K:g;++je<qe;)Je[je]=I[je];for(;ge--;)Je[je++]=arguments[++ce];return ka(yt,F?S:this,Je)}return se}function UW(g){return function(_,S,I){return I&&typeof I!="number"&&Er(_,S,I)&&(S=I=t),_=Ld(_),S===t?(S=_,_=0):S=Ld(S),I=I===t?_<S?1:-1:Ld(I),bue(_,S,I,g)}}function X4(g){return function(_,S){return typeof _=="string"&&typeof S=="string"||(_=Il(_),S=Il(S)),g(_,S)}}function jW(g,_,S,I,F,K,se,ce,ge,je){var qe=_&L,Je=qe?se:t,yt=qe?t:se,Ft=qe?K:t,ii=qe?t:K;_|=qe?E:T,_&=~(qe?T:E),_&y||(_&=~(b|w));var Mi=[g,_,F,Ft,Je,ii,yt,ce,ge,je],ni=S.apply(t,Mi);return zk(g)&&nH(ni,Mi),ni.placeholder=I,sH(ni,g,_)}function Pk(g){var _=ao[g];return function(S,I){if(S=Il(S),I=I==null?0:nr(Ii(I),292),I&&sW(S)){var F=(Ln(S)+"e").split("e"),K=_(F[0]+"e"+(+F[1]+I));return F=(Ln(K)+"e").split("e"),+(F[0]+"e"+(+F[1]-I))}return _(S)}}var Oue=G_&&1/D4(new G_([,-0]))[1]==be?function(g){return new G_(g)}:sE;function KW(g){return function(_){var S=sr(_);return S==le?hk(_):S==X?Qle(_):Ule(_,g(_))}}function Cd(g,_,S,I,F,K,se,ce){var ge=_&w;if(!ge&&typeof g!="function")throw new Ll(r);var je=I?I.length:0;if(je||(_&=~(E|T),I=F=t),se=se===t?se:lo(Ii(se),0),ce=ce===t?ce:Ii(ce),je-=F?F.length:0,_&T){var qe=I,Je=F;I=F=t}var yt=ge?t:Vk(g),Ft=[g,_,S,I,F,qe,Je,K,se,ce];if(yt&&Zue(Ft,yt),g=Ft[0],_=Ft[1],S=Ft[2],I=Ft[3],F=Ft[4],ce=Ft[9]=Ft[9]===t?ge?0:g.length:lo(Ft[9]-je,0),!ce&&_&(L|D)&&(_&=~(L|D)),!_||_==b)var ii=Mue(g,_,S);else _==L||_==D?ii=Aue(g,_,ce):(_==E||_==(b|E))&&!F.length?ii=Rue(g,_,S,I):ii=G4.apply(t,Ft);var Mi=yt?DW:nH;return sH(Mi(ii,Ft),g,_)}function qW(g,_,S,I){return g===t||lc(g,q_[S])&&!Mn.call(I,S)?_:g}function GW(g,_,S,I,F,K){return Es(g)&&Es(_)&&(K.set(_,g),U4(g,_,t,GW,K),K.delete(_)),g}function Pue(g){return P2(g)?t:g}function YW(g,_,S,I,F,K){var se=S&p,ce=g.length,ge=_.length;if(ce!=ge&&!(se&&ge>ce))return!1;var je=K.get(g),qe=K.get(_);if(je&&qe)return je==_&&qe==g;var Je=-1,yt=!0,Ft=S&m?new ap:t;for(K.set(g,_),K.set(_,g);++Je<ce;){var ii=g[Je],Mi=_[Je];if(I)var ni=se?I(Mi,ii,Je,_,g,K):I(ii,Mi,Je,g,_,K);if(ni!==t){if(ni)continue;yt=!1;break}if(Ft){if(!rk(_,function($i,Ji){if(!y2(Ft,Ji)&&(ii===$i||F(ii,$i,S,I,K)))return Ft.push(Ji)})){yt=!1;break}}else if(!(ii===Mi||F(ii,Mi,S,I,K))){yt=!1;break}}return K.delete(g),K.delete(_),yt}function Fue(g,_,S,I,F,K,se){switch(S){case ve:if(g.byteLength!=_.byteLength||g.byteOffset!=_.byteOffset)return!1;g=g.buffer,_=_.buffer;case ue:return!(g.byteLength!=_.byteLength||!K(new M4(g),new M4(_)));case We:case gt:case Ce:return lc(+g,+_);case Fe:return g.name==_.name&&g.message==_.message;case ie:case Q:return g==_+"";case le:var ce=hk;case X:var ge=I&p;if(ce||(ce=D4),g.size!=_.size&&!ge)return!1;var je=se.get(g);if(je)return je==_;I|=m,se.set(g,_);var qe=YW(ce(g),ce(_),I,F,K,se);return se.delete(g),qe;case P:if(k2)return k2.call(g)==k2.call(_)}return!1}function Bue(g,_,S,I,F,K){var se=S&p,ce=Fk(g),ge=ce.length,je=Fk(_),qe=je.length;if(ge!=qe&&!se)return!1;for(var Je=ge;Je--;){var yt=ce[Je];if(!(se?yt in _:Mn.call(_,yt)))return!1}var Ft=K.get(g),ii=K.get(_);if(Ft&&ii)return Ft==_&&ii==g;var Mi=!0;K.set(g,_),K.set(_,g);for(var ni=se;++Je<ge;){yt=ce[Je];var $i=g[yt],Ji=_[yt];if(I)var Na=se?I(Ji,$i,yt,_,g,K):I($i,Ji,yt,g,_,K);if(!(Na===t?$i===Ji||F($i,Ji,S,I,K):Na)){Mi=!1;break}ni||(ni=yt=="constructor")}if(Mi&&!ni){var Ir=g.constructor,Ma=_.constructor;Ir!=Ma&&"constructor"in g&&"constructor"in _&&!(typeof Ir=="function"&&Ir instanceof Ir&&typeof Ma=="function"&&Ma instanceof Ma)&&(Mi=!1)}return K.delete(g),K.delete(_),Mi}function wd(g){return jk(tH(g,t,uH),g+"")}function Fk(g){return pW(g,No,Hk)}function Bk(g){return pW(g,Qr,ZW)}var Vk=B4?function(g){return B4.get(g)}:sE;function Q4(g){for(var _=g.name+"",S=Y_[_],I=Mn.call(Y_,_)?S.length:0;I--;){var F=S[I],K=F.func;if(K==null||K==g)return F.name}return _}function J_(g){var _=Mn.call($,"placeholder")?$:g;return _.placeholder}function Jt(){var g=$.iteratee||iE;return g=g===iE?vW:g,arguments.length?g(arguments[0],arguments[1]):g}function J4(g,_){var S=g.__data__;return Kue(_)?S[typeof _=="string"?"string":"hash"]:S.map}function Wk(g){for(var _=No(g),S=_.length;S--;){var I=_[S],F=g[I];_[S]=[I,F,JW(F)]}return _}function up(g,_){var S=Yle(g,_);return _W(S)?S:t}function Vue(g){var _=Mn.call(g,op),S=g[op];try{g[op]=t;var I=!0}catch{}var F=T4.call(g);return I&&(_?g[op]=S:delete g[op]),F}var Hk=gk?function(g){return g==null?[]:(g=zn(g),Jh(gk(g),function(_){return iW.call(g,_)}))}:oE,ZW=gk?function(g){for(var _=[];g;)ef(_,Hk(g)),g=A4(g);return _}:oE,sr=kr;(pk&&sr(new pk(new ArrayBuffer(1)))!=ve||L2&&sr(new L2)!=le||mk&&sr(mk.resolve())!=tt||G_&&sr(new G_)!=X||x2&&sr(new x2)!=j)&&(sr=function(g){var _=kr(g),S=_==Be?g.constructor:t,I=S?dp(S):"";if(I)switch(I){case wce:return ve;case yce:return le;case Sce:return tt;case Lce:return X;case xce:return j}return _});function Wue(g,_,S){for(var I=-1,F=S.length;++I<F;){var K=S[I],se=K.size;switch(K.type){case"drop":g+=se;break;case"dropRight":_-=se;break;case"take":_=nr(_,g+se);break;case"takeRight":g=lo(g,_-se);break}}return{start:g,end:_}}function Hue(g){var _=g.match(Pt);return _?_[1].split(Sn):[]}function XW(g,_,S){_=rf(_,g);for(var I=-1,F=_.length,K=!1;++I<F;){var se=cu(_[I]);if(!(K=g!=null&&S(g,se)))break;g=g[se]}return K||++I!=F?K:(F=g==null?0:g.length,!!F&&rS(F)&&yd(se,F)&&(xi(g)||hp(g)))}function $ue(g){var _=g.length,S=new g.constructor(_);return _&&typeof g[0]=="string"&&Mn.call(g,"index")&&(S.index=g.index,S.input=g.input),S}function QW(g){return typeof g.constructor=="function"&&!R2(g)?Z_(A4(g)):{}}function zue(g,_,S){var I=g.constructor;switch(_){case ue:return Rk(g);case We:case gt:return new I(+g);case ve:return Due(g,S);case Ze:case ne:case ke:case Ke:case Ct:case kt:case pt:case Qt:case Zt:return RW(g,S);case le:return new I;case Ce:case Q:return new I(g);case ie:return kue(g);case X:return new I;case P:return Eue(g)}}function Uue(g,_){var S=_.length;if(!S)return g;var I=S-1;return _[I]=(S>1?"& ":"")+_[I],_=_.join(S>2?", ":" "),g.replace(vt,`{
/* [wrapped with `+_+`] */
`)}function jue(g){return xi(g)||hp(g)||!!(nW&&g&&g[nW])}function yd(g,_){var S=typeof g;return _=_==null?Me:_,!!_&&(S=="number"||S!="symbol"&&nle.test(g))&&g>-1&&g%1==0&&g<_}function Er(g,_,S){if(!Es(S))return!1;var I=typeof _;return(I=="number"?Xr(S)&&yd(_,S.length):I=="string"&&_ in S)?lc(S[_],g):!1}function $k(g,_){if(xi(g))return!1;var S=typeof g;return S=="number"||S=="symbol"||S=="boolean"||g==null||Ta(g)?!0:H_.test(g)||!Yr.test(g)||_!=null&&g in zn(_)}function Kue(g){var _=typeof g;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?g!=="__proto__":g===null}function zk(g){var _=Q4(g),S=$[_];if(typeof S!="function"||!(_ in qi.prototype))return!1;if(g===S)return!0;var I=Vk(S);return!!I&&g===I[0]}function que(g){return!!JV&&JV in g}var Gue=E4?Sd:rE;function R2(g){var _=g&&g.constructor,S=typeof _=="function"&&_.prototype||q_;return g===S}function JW(g){return g===g&&!Es(g)}function eH(g,_){return function(S){return S==null?!1:S[g]===_&&(_!==t||g in zn(S))}}function Yue(g){var _=sS(g,function(I){return S.size===c&&S.clear(),I}),S=_.cache;return _}function Zue(g,_){var S=g[1],I=_[1],F=S|I,K=F<(b|w|x),se=I==x&&S==L||I==x&&S==k&&g[7].length<=_[8]||I==(x|k)&&_[7].length<=_[8]&&S==L;if(!(K||se))return g;I&b&&(g[2]=_[2],F|=S&b?0:y);var ce=_[3];if(ce){var ge=g[3];g[3]=ge?PW(ge,ce,_[4]):ce,g[4]=ge?tf(g[3],u):_[4]}return ce=_[5],ce&&(ge=g[5],g[5]=ge?FW(ge,ce,_[6]):ce,g[6]=ge?tf(g[5],u):_[6]),ce=_[7],ce&&(g[7]=ce),I&x&&(g[8]=g[8]==null?_[8]:nr(g[8],_[8])),g[9]==null&&(g[9]=_[9]),g[0]=_[0],g[1]=F,g}function Xue(g){var _=[];if(g!=null)for(var S in zn(g))_.push(S);return _}function Que(g){return T4.call(g)}function tH(g,_,S){return _=lo(_===t?g.length-1:_,0),function(){for(var I=arguments,F=-1,K=lo(I.length-_,0),se=Ee(K);++F<K;)se[F]=I[_+F];F=-1;for(var ce=Ee(_+1);++F<_;)ce[F]=I[F];return ce[_]=S(se),ka(g,this,ce)}}function iH(g,_){return _.length<2?g:cp(g,kl(_,0,-1))}function Jue(g,_){for(var S=g.length,I=nr(_.length,S),F=Zr(g);I--;){var K=_[I];g[I]=yd(K,S)?F[K]:t}return g}function Uk(g,_){if(!(_==="constructor"&&typeof g[_]=="function")&&_!="__proto__")return g[_]}var nH=oH(DW),O2=gce||function(g,_){return $o.setTimeout(g,_)},jk=oH(yue);function sH(g,_,S){var I=_+"";return jk(g,Uue(I,ede(Hue(I),S)))}function oH(g){var _=0,S=0;return function(){var I=vce(),F=te-(I-S);if(S=I,F>0){if(++_>=G)return arguments[0]}else _=0;return g.apply(t,arguments)}}function eS(g,_){var S=-1,I=g.length,F=I-1;for(_=_===t?I:_;++S<_;){var K=kk(S,F),se=g[K];g[K]=g[S],g[S]=se}return g.length=_,g}var rH=Yue(function(g){var _=[];return g.charCodeAt(0)===46&&_.push(""),g.replace(np,function(S,I,F,K){_.push(F?K.replace(To,"$1"):I||S)}),_});function cu(g){if(typeof g=="string"||Ta(g))return g;var _=g+"";return _=="0"&&1/g==-be?"-0":_}function dp(g){if(g!=null){try{return I4.call(g)}catch{}try{return g+""}catch{}}return""}function ede(g,_){return Sl(_t,function(S){var I="_."+S[0];_&S[1]&&!L4(g,I)&&g.push(I)}),g.sort()}function aH(g){if(g instanceof qi)return g.clone();var _=new xl(g.__wrapped__,g.__chain__);return _.__actions__=Zr(g.__actions__),_.__index__=g.__index__,_.__values__=g.__values__,_}function tde(g,_,S){(S?Er(g,_,S):_===t)?_=1:_=lo(Ii(_),0);var I=g==null?0:g.length;if(!I||_<1)return[];for(var F=0,K=0,se=Ee(P4(I/_));F<I;)se[K++]=kl(g,F,F+=_);return se}function ide(g){for(var _=-1,S=g==null?0:g.length,I=0,F=[];++_<S;){var K=g[_];K&&(F[I++]=K)}return F}function nde(){var g=arguments.length;if(!g)return[];for(var _=Ee(g-1),S=arguments[0],I=g;I--;)_[I-1]=arguments[I];return ef(xi(S)?Zr(S):[S],zo(_,1))}var sde=Ri(function(g,_){return zs(g)?I2(g,zo(_,1,zs,!0)):[]}),ode=Ri(function(g,_){var S=El(_);return zs(S)&&(S=t),zs(g)?I2(g,zo(_,1,zs,!0),Jt(S,2)):[]}),rde=Ri(function(g,_){var S=El(_);return zs(S)&&(S=t),zs(g)?I2(g,zo(_,1,zs,!0),t,S):[]});function ade(g,_,S){var I=g==null?0:g.length;return I?(_=S||_===t?1:Ii(_),kl(g,_<0?0:_,I)):[]}function lde(g,_,S){var I=g==null?0:g.length;return I?(_=S||_===t?1:Ii(_),_=I-_,kl(g,0,_<0?0:_)):[]}function cde(g,_){return g&&g.length?K4(g,Jt(_,3),!0,!0):[]}function ude(g,_){return g&&g.length?K4(g,Jt(_,3),!0):[]}function dde(g,_,S,I){var F=g==null?0:g.length;return F?(S&&typeof S!="number"&&Er(g,_,S)&&(S=0,I=F),nue(g,_,S,I)):[]}function lH(g,_,S){var I=g==null?0:g.length;if(!I)return-1;var F=S==null?0:Ii(S);return F<0&&(F=lo(I+F,0)),x4(g,Jt(_,3),F)}function cH(g,_,S){var I=g==null?0:g.length;if(!I)return-1;var F=I-1;return S!==t&&(F=Ii(S),F=S<0?lo(I+F,0):nr(F,I-1)),x4(g,Jt(_,3),F,!0)}function uH(g){var _=g==null?0:g.length;return _?zo(g,1):[]}function hde(g){var _=g==null?0:g.length;return _?zo(g,be):[]}function fde(g,_){var S=g==null?0:g.length;return S?(_=_===t?1:Ii(_),zo(g,_)):[]}function gde(g){for(var _=-1,S=g==null?0:g.length,I={};++_<S;){var F=g[_];I[F[0]]=F[1]}return I}function dH(g){return g&&g.length?g[0]:t}function pde(g,_,S){var I=g==null?0:g.length;if(!I)return-1;var F=S==null?0:Ii(S);return F<0&&(F=lo(I+F,0)),z_(g,_,F)}function mde(g){var _=g==null?0:g.length;return _?kl(g,0,-1):[]}var _de=Ri(function(g){var _=vs(g,Mk);return _.length&&_[0]===g[0]?yk(_):[]}),vde=Ri(function(g){var _=El(g),S=vs(g,Mk);return _===El(S)?_=t:S.pop(),S.length&&S[0]===g[0]?yk(S,Jt(_,2)):[]}),bde=Ri(function(g){var _=El(g),S=vs(g,Mk);return _=typeof _=="function"?_:t,_&&S.pop(),S.length&&S[0]===g[0]?yk(S,t,_):[]});function Cde(g,_){return g==null?"":mce.call(g,_)}function El(g){var _=g==null?0:g.length;return _?g[_-1]:t}function wde(g,_,S){var I=g==null?0:g.length;if(!I)return-1;var F=I;return S!==t&&(F=Ii(S),F=F<0?lo(I+F,0):nr(F,I-1)),_===_?ece(g,_,F):x4(g,jV,F,!0)}function yde(g,_){return g&&g.length?yW(g,Ii(_)):t}var Sde=Ri(hH);function hH(g,_){return g&&g.length&&_&&_.length?Dk(g,_):g}function Lde(g,_,S){return g&&g.length&&_&&_.length?Dk(g,_,Jt(S,2)):g}function xde(g,_,S){return g&&g.length&&_&&_.length?Dk(g,_,t,S):g}var Dde=wd(function(g,_){var S=g==null?0:g.length,I=vk(g,_);return xW(g,vs(_,function(F){return yd(F,S)?+F:F}).sort(OW)),I});function kde(g,_){var S=[];if(!(g&&g.length))return S;var I=-1,F=[],K=g.length;for(_=Jt(_,3);++I<K;){var se=g[I];_(se,I,g)&&(S.push(se),F.push(I))}return xW(g,F),S}function Kk(g){return g==null?g:Cce.call(g)}function Ede(g,_,S){var I=g==null?0:g.length;return I?(S&&typeof S!="number"&&Er(g,_,S)?(_=0,S=I):(_=_==null?0:Ii(_),S=S===t?I:Ii(S)),kl(g,_,S)):[]}function Ide(g,_){return j4(g,_)}function Tde(g,_,S){return Ik(g,_,Jt(S,2))}function Nde(g,_){var S=g==null?0:g.length;if(S){var I=j4(g,_);if(I<S&&lc(g[I],_))return I}return-1}function Mde(g,_){return j4(g,_,!0)}function Ade(g,_,S){return Ik(g,_,Jt(S,2),!0)}function Rde(g,_){var S=g==null?0:g.length;if(S){var I=j4(g,_,!0)-1;if(lc(g[I],_))return I}return-1}function Ode(g){return g&&g.length?kW(g):[]}function Pde(g,_){return g&&g.length?kW(g,Jt(_,2)):[]}function Fde(g){var _=g==null?0:g.length;return _?kl(g,1,_):[]}function Bde(g,_,S){return g&&g.length?(_=S||_===t?1:Ii(_),kl(g,0,_<0?0:_)):[]}function Vde(g,_,S){var I=g==null?0:g.length;return I?(_=S||_===t?1:Ii(_),_=I-_,kl(g,_<0?0:_,I)):[]}function Wde(g,_){return g&&g.length?K4(g,Jt(_,3),!1,!0):[]}function Hde(g,_){return g&&g.length?K4(g,Jt(_,3)):[]}var $de=Ri(function(g){return of(zo(g,1,zs,!0))}),zde=Ri(function(g){var _=El(g);return zs(_)&&(_=t),of(zo(g,1,zs,!0),Jt(_,2))}),Ude=Ri(function(g){var _=El(g);return _=typeof _=="function"?_:t,of(zo(g,1,zs,!0),t,_)});function jde(g){return g&&g.length?of(g):[]}function Kde(g,_){return g&&g.length?of(g,Jt(_,2)):[]}function qde(g,_){return _=typeof _=="function"?_:t,g&&g.length?of(g,t,_):[]}function qk(g){if(!(g&&g.length))return[];var _=0;return g=Jh(g,function(S){if(zs(S))return _=lo(S.length,_),!0}),uk(_,function(S){return vs(g,ak(S))})}function fH(g,_){if(!(g&&g.length))return[];var S=qk(g);return _==null?S:vs(S,function(I){return ka(_,t,I)})}var Gde=Ri(function(g,_){return zs(g)?I2(g,_):[]}),Yde=Ri(function(g){return Nk(Jh(g,zs))}),Zde=Ri(function(g){var _=El(g);return zs(_)&&(_=t),Nk(Jh(g,zs),Jt(_,2))}),Xde=Ri(function(g){var _=El(g);return _=typeof _=="function"?_:t,Nk(Jh(g,zs),t,_)}),Qde=Ri(qk);function Jde(g,_){return NW(g||[],_||[],E2)}function ehe(g,_){return NW(g||[],_||[],M2)}var the=Ri(function(g){var _=g.length,S=_>1?g[_-1]:t;return S=typeof S=="function"?(g.pop(),S):t,fH(g,S)});function gH(g){var _=$(g);return _.__chain__=!0,_}function ihe(g,_){return _(g),g}function tS(g,_){return _(g)}var nhe=wd(function(g){var _=g.length,S=_?g[0]:0,I=this.__wrapped__,F=function(K){return vk(K,g)};return _>1||this.__actions__.length||!(I instanceof qi)||!yd(S)?this.thru(F):(I=I.slice(S,+S+(_?1:0)),I.__actions__.push({func:tS,args:[F],thisArg:t}),new xl(I,this.__chain__).thru(function(K){return _&&!K.length&&K.push(t),K}))});function she(){return gH(this)}function ohe(){return new xl(this.value(),this.__chain__)}function rhe(){this.__values__===t&&(this.__values__=EH(this.value()));var g=this.__index__>=this.__values__.length,_=g?t:this.__values__[this.__index__++];return{done:g,value:_}}function ahe(){return this}function lhe(g){for(var _,S=this;S instanceof W4;){var I=aH(S);I.__index__=0,I.__values__=t,_?F.__wrapped__=I:_=I;var F=I;S=S.__wrapped__}return F.__wrapped__=g,_}function che(){var g=this.__wrapped__;if(g instanceof qi){var _=g;return this.__actions__.length&&(_=new qi(this)),_=_.reverse(),_.__actions__.push({func:tS,args:[Kk],thisArg:t}),new xl(_,this.__chain__)}return this.thru(Kk)}function uhe(){return TW(this.__wrapped__,this.__actions__)}var dhe=q4(function(g,_,S){Mn.call(g,S)?++g[S]:bd(g,S,1)});function hhe(g,_,S){var I=xi(g)?zV:iue;return S&&Er(g,_,S)&&(_=t),I(g,Jt(_,3))}function fhe(g,_){var S=xi(g)?Jh:fW;return S(g,Jt(_,3))}var ghe=HW(lH),phe=HW(cH);function mhe(g,_){return zo(iS(g,_),1)}function _he(g,_){return zo(iS(g,_),be)}function vhe(g,_,S){return S=S===t?1:Ii(S),zo(iS(g,_),S)}function pH(g,_){var S=xi(g)?Sl:sf;return S(g,Jt(_,3))}function mH(g,_){var S=xi(g)?Fle:hW;return S(g,Jt(_,3))}var bhe=q4(function(g,_,S){Mn.call(g,S)?g[S].push(_):bd(g,S,[_])});function Che(g,_,S,I){g=Xr(g)?g:t0(g),S=S&&!I?Ii(S):0;var F=g.length;return S<0&&(S=lo(F+S,0)),aS(g)?S<=F&&g.indexOf(_,S)>-1:!!F&&z_(g,_,S)>-1}var whe=Ri(function(g,_,S){var I=-1,F=typeof _=="function",K=Xr(g)?Ee(g.length):[];return sf(g,function(se){K[++I]=F?ka(_,se,S):T2(se,_,S)}),K}),yhe=q4(function(g,_,S){bd(g,S,_)});function iS(g,_){var S=xi(g)?vs:bW;return S(g,Jt(_,3))}function She(g,_,S,I){return g==null?[]:(xi(_)||(_=_==null?[]:[_]),S=I?t:S,xi(S)||(S=S==null?[]:[S]),SW(g,_,S))}var Lhe=q4(function(g,_,S){g[S?0:1].push(_)},function(){return[[],[]]});function xhe(g,_,S){var I=xi(g)?ok:qV,F=arguments.length<3;return I(g,Jt(_,4),S,F,sf)}function Dhe(g,_,S){var I=xi(g)?Ble:qV,F=arguments.length<3;return I(g,Jt(_,4),S,F,hW)}function khe(g,_){var S=xi(g)?Jh:fW;return S(g,oS(Jt(_,3)))}function Ehe(g){var _=xi(g)?lW:Cue;return _(g)}function Ihe(g,_,S){(S?Er(g,_,S):_===t)?_=1:_=Ii(_);var I=xi(g)?Xce:wue;return I(g,_)}function The(g){var _=xi(g)?Qce:Sue;return _(g)}function Nhe(g){if(g==null)return 0;if(Xr(g))return aS(g)?j_(g):g.length;var _=sr(g);return _==le||_==X?g.size:Lk(g).length}function Mhe(g,_,S){var I=xi(g)?rk:Lue;return S&&Er(g,_,S)&&(_=t),I(g,Jt(_,3))}var Ahe=Ri(function(g,_){if(g==null)return[];var S=_.length;return S>1&&Er(g,_[0],_[1])?_=[]:S>2&&Er(_[0],_[1],_[2])&&(_=[_[0]]),SW(g,zo(_,1),[])}),nS=fce||function(){return $o.Date.now()};function Rhe(g,_){if(typeof _!="function")throw new Ll(r);return g=Ii(g),function(){if(--g<1)return _.apply(this,arguments)}}function _H(g,_,S){return _=S?t:_,_=g&&_==null?g.length:_,Cd(g,x,t,t,t,t,_)}function vH(g,_){var S;if(typeof _!="function")throw new Ll(r);return g=Ii(g),function(){return--g>0&&(S=_.apply(this,arguments)),g<=1&&(_=t),S}}var Gk=Ri(function(g,_,S){var I=b;if(S.length){var F=tf(S,J_(Gk));I|=E}return Cd(g,I,_,S,F)}),bH=Ri(function(g,_,S){var I=b|w;if(S.length){var F=tf(S,J_(bH));I|=E}return Cd(_,I,g,S,F)});function CH(g,_,S){_=S?t:_;var I=Cd(g,L,t,t,t,t,t,_);return I.placeholder=CH.placeholder,I}function wH(g,_,S){_=S?t:_;var I=Cd(g,D,t,t,t,t,t,_);return I.placeholder=wH.placeholder,I}function yH(g,_,S){var I,F,K,se,ce,ge,je=0,qe=!1,Je=!1,yt=!0;if(typeof g!="function")throw new Ll(r);_=Il(_)||0,Es(S)&&(qe=!!S.leading,Je="maxWait"in S,K=Je?lo(Il(S.maxWait)||0,_):K,yt="trailing"in S?!!S.trailing:yt);function Ft(Us){var cc=I,xd=F;return I=F=t,je=Us,se=g.apply(xd,cc),se}function ii(Us){return je=Us,ce=O2($i,_),qe?Ft(Us):se}function Mi(Us){var cc=Us-ge,xd=Us-je,HH=_-cc;return Je?nr(HH,K-xd):HH}function ni(Us){var cc=Us-ge,xd=Us-je;return ge===t||cc>=_||cc<0||Je&&xd>=K}function $i(){var Us=nS();if(ni(Us))return Ji(Us);ce=O2($i,Mi(Us))}function Ji(Us){return ce=t,yt&&I?Ft(Us):(I=F=t,se)}function Na(){ce!==t&&MW(ce),je=0,I=ge=F=ce=t}function Ir(){return ce===t?se:Ji(nS())}function Ma(){var Us=nS(),cc=ni(Us);if(I=arguments,F=this,ge=Us,cc){if(ce===t)return ii(ge);if(Je)return MW(ce),ce=O2($i,_),Ft(ge)}return ce===t&&(ce=O2($i,_)),se}return Ma.cancel=Na,Ma.flush=Ir,Ma}var Ohe=Ri(function(g,_){return dW(g,1,_)}),Phe=Ri(function(g,_,S){return dW(g,Il(_)||0,S)});function Fhe(g){return Cd(g,N)}function sS(g,_){if(typeof g!="function"||_!=null&&typeof _!="function")throw new Ll(r);var S=function(){var I=arguments,F=_?_.apply(this,I):I[0],K=S.cache;if(K.has(F))return K.get(F);var se=g.apply(this,I);return S.cache=K.set(F,se)||K,se};return S.cache=new(sS.Cache||vd),S}sS.Cache=vd;function oS(g){if(typeof g!="function")throw new Ll(r);return function(){var _=arguments;switch(_.length){case 0:return!g.call(this);case 1:return!g.call(this,_[0]);case 2:return!g.call(this,_[0],_[1]);case 3:return!g.call(this,_[0],_[1],_[2])}return!g.apply(this,_)}}function Bhe(g){return vH(2,g)}var Vhe=xue(function(g,_){_=_.length==1&&xi(_[0])?vs(_[0],Ea(Jt())):vs(zo(_,1),Ea(Jt()));var S=_.length;return Ri(function(I){for(var F=-1,K=nr(I.length,S);++F<K;)I[F]=_[F].call(this,I[F]);return ka(g,this,I)})}),Yk=Ri(function(g,_){var S=tf(_,J_(Yk));return Cd(g,E,t,_,S)}),SH=Ri(function(g,_){var S=tf(_,J_(SH));return Cd(g,T,t,_,S)}),Whe=wd(function(g,_){return Cd(g,k,t,t,t,_)});function Hhe(g,_){if(typeof g!="function")throw new Ll(r);return _=_===t?_:Ii(_),Ri(g,_)}function $he(g,_){if(typeof g!="function")throw new Ll(r);return _=_==null?0:lo(Ii(_),0),Ri(function(S){var I=S[_],F=af(S,0,_);return I&&ef(F,I),ka(g,this,F)})}function zhe(g,_,S){var I=!0,F=!0;if(typeof g!="function")throw new Ll(r);return Es(S)&&(I="leading"in S?!!S.leading:I,F="trailing"in S?!!S.trailing:F),yH(g,_,{leading:I,maxWait:_,trailing:F})}function Uhe(g){return _H(g,1)}function jhe(g,_){return Yk(Ak(_),g)}function Khe(){if(!arguments.length)return[];var g=arguments[0];return xi(g)?g:[g]}function qhe(g){return Dl(g,f)}function Ghe(g,_){return _=typeof _=="function"?_:t,Dl(g,f,_)}function Yhe(g){return Dl(g,d|f)}function Zhe(g,_){return _=typeof _=="function"?_:t,Dl(g,d|f,_)}function Xhe(g,_){return _==null||uW(g,_,No(_))}function lc(g,_){return g===_||g!==g&&_!==_}var Qhe=X4(wk),Jhe=X4(function(g,_){return g>=_}),hp=mW(function(){return arguments}())?mW:function(g){return As(g)&&Mn.call(g,"callee")&&!iW.call(g,"callee")},xi=Ee.isArray,efe=FV?Ea(FV):lue;function Xr(g){return g!=null&&rS(g.length)&&!Sd(g)}function zs(g){return As(g)&&Xr(g)}function tfe(g){return g===!0||g===!1||As(g)&&kr(g)==We}var lf=pce||rE,ife=BV?Ea(BV):cue;function nfe(g){return As(g)&&g.nodeType===1&&!P2(g)}function sfe(g){if(g==null)return!0;if(Xr(g)&&(xi(g)||typeof g=="string"||typeof g.splice=="function"||lf(g)||e0(g)||hp(g)))return!g.length;var _=sr(g);if(_==le||_==X)return!g.size;if(R2(g))return!Lk(g).length;for(var S in g)if(Mn.call(g,S))return!1;return!0}function ofe(g,_){return N2(g,_)}function rfe(g,_,S){S=typeof S=="function"?S:t;var I=S?S(g,_):t;return I===t?N2(g,_,t,S):!!I}function Zk(g){if(!As(g))return!1;var _=kr(g);return _==Fe||_==rt||typeof g.message=="string"&&typeof g.name=="string"&&!P2(g)}function afe(g){return typeof g=="number"&&sW(g)}function Sd(g){if(!Es(g))return!1;var _=kr(g);return _==ht||_==ee||_==ye||_==ft}function LH(g){return typeof g=="number"&&g==Ii(g)}function rS(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=Me}function Es(g){var _=typeof g;return g!=null&&(_=="object"||_=="function")}function As(g){return g!=null&&typeof g=="object"}var xH=VV?Ea(VV):due;function lfe(g,_){return g===_||Sk(g,_,Wk(_))}function cfe(g,_,S){return S=typeof S=="function"?S:t,Sk(g,_,Wk(_),S)}function ufe(g){return DH(g)&&g!=+g}function dfe(g){if(Gue(g))throw new yi(o);return _W(g)}function hfe(g){return g===null}function ffe(g){return g==null}function DH(g){return typeof g=="number"||As(g)&&kr(g)==Ce}function P2(g){if(!As(g)||kr(g)!=Be)return!1;var _=A4(g);if(_===null)return!0;var S=Mn.call(_,"constructor")&&_.constructor;return typeof S=="function"&&S instanceof S&&I4.call(S)==cce}var Xk=WV?Ea(WV):hue;function gfe(g){return LH(g)&&g>=-Me&&g<=Me}var kH=HV?Ea(HV):fue;function aS(g){return typeof g=="string"||!xi(g)&&As(g)&&kr(g)==Q}function Ta(g){return typeof g=="symbol"||As(g)&&kr(g)==P}var e0=$V?Ea($V):gue;function pfe(g){return g===t}function mfe(g){return As(g)&&sr(g)==j}function _fe(g){return As(g)&&kr(g)==q}var vfe=X4(xk),bfe=X4(function(g,_){return g<=_});function EH(g){if(!g)return[];if(Xr(g))return aS(g)?rc(g):Zr(g);if(S2&&g[S2])return Xle(g[S2]());var _=sr(g),S=_==le?hk:_==X?D4:t0;return S(g)}function Ld(g){if(!g)return g===0?g:0;if(g=Il(g),g===be||g===-be){var _=g<0?-1:1;return _*He}return g===g?g:0}function Ii(g){var _=Ld(g),S=_%1;return _===_?S?_-S:_:0}function IH(g){return g?lp(Ii(g),0,ot):0}function Il(g){if(typeof g=="number")return g;if(Ta(g))return mt;if(Es(g)){var _=typeof g.valueOf=="function"?g.valueOf():g;g=Es(_)?_+"":_}if(typeof g!="string")return g===0?g:+g;g=GV(g);var S=ZD.test(g);return S||ile.test(g)?Rle(g.slice(2),S?2:8):C4.test(g)?mt:+g}function TH(g){return lu(g,Qr(g))}function Cfe(g){return g?lp(Ii(g),-Me,Me):g===0?g:0}function Ln(g){return g==null?"":Ia(g)}var wfe=X_(function(g,_){if(R2(_)||Xr(_)){lu(_,No(_),g);return}for(var S in _)Mn.call(_,S)&&E2(g,S,_[S])}),NH=X_(function(g,_){lu(_,Qr(_),g)}),lS=X_(function(g,_,S,I){lu(_,Qr(_),g,I)}),yfe=X_(function(g,_,S,I){lu(_,No(_),g,I)}),Sfe=wd(vk);function Lfe(g,_){var S=Z_(g);return _==null?S:cW(S,_)}var xfe=Ri(function(g,_){g=zn(g);var S=-1,I=_.length,F=I>2?_[2]:t;for(F&&Er(_[0],_[1],F)&&(I=1);++S<I;)for(var K=_[S],se=Qr(K),ce=-1,ge=se.length;++ce<ge;){var je=se[ce],qe=g[je];(qe===t||lc(qe,q_[je])&&!Mn.call(g,je))&&(g[je]=K[je])}return g}),Dfe=Ri(function(g){return g.push(t,GW),ka(MH,t,g)});function kfe(g,_){return UV(g,Jt(_,3),au)}function Efe(g,_){return UV(g,Jt(_,3),Ck)}function Ife(g,_){return g==null?g:bk(g,Jt(_,3),Qr)}function Tfe(g,_){return g==null?g:gW(g,Jt(_,3),Qr)}function Nfe(g,_){return g&&au(g,Jt(_,3))}function Mfe(g,_){return g&&Ck(g,Jt(_,3))}function Afe(g){return g==null?[]:z4(g,No(g))}function Rfe(g){return g==null?[]:z4(g,Qr(g))}function Qk(g,_,S){var I=g==null?t:cp(g,_);return I===t?S:I}function Ofe(g,_){return g!=null&&XW(g,_,sue)}function Jk(g,_){return g!=null&&XW(g,_,oue)}var Pfe=zW(function(g,_,S){_!=null&&typeof _.toString!="function"&&(_=T4.call(_)),g[_]=S},tE(Jr)),Ffe=zW(function(g,_,S){_!=null&&typeof _.toString!="function"&&(_=T4.call(_)),Mn.call(g,_)?g[_].push(S):g[_]=[S]},Jt),Bfe=Ri(T2);function No(g){return Xr(g)?aW(g):Lk(g)}function Qr(g){return Xr(g)?aW(g,!0):pue(g)}function Vfe(g,_){var S={};return _=Jt(_,3),au(g,function(I,F,K){bd(S,_(I,F,K),I)}),S}function Wfe(g,_){var S={};return _=Jt(_,3),au(g,function(I,F,K){bd(S,F,_(I,F,K))}),S}var Hfe=X_(function(g,_,S){U4(g,_,S)}),MH=X_(function(g,_,S,I){U4(g,_,S,I)}),$fe=wd(function(g,_){var S={};if(g==null)return S;var I=!1;_=vs(_,function(K){return K=rf(K,g),I||(I=K.length>1),K}),lu(g,Bk(g),S),I&&(S=Dl(S,d|h|f,Pue));for(var F=_.length;F--;)Tk(S,_[F]);return S});function zfe(g,_){return AH(g,oS(Jt(_)))}var Ufe=wd(function(g,_){return g==null?{}:_ue(g,_)});function AH(g,_){if(g==null)return{};var S=vs(Bk(g),function(I){return[I]});return _=Jt(_),LW(g,S,function(I,F){return _(I,F[0])})}function jfe(g,_,S){_=rf(_,g);var I=-1,F=_.length;for(F||(F=1,g=t);++I<F;){var K=g==null?t:g[cu(_[I])];K===t&&(I=F,K=S),g=Sd(K)?K.call(g):K}return g}function Kfe(g,_,S){return g==null?g:M2(g,_,S)}function qfe(g,_,S,I){return I=typeof I=="function"?I:t,g==null?g:M2(g,_,S,I)}var RH=KW(No),OH=KW(Qr);function Gfe(g,_,S){var I=xi(g),F=I||lf(g)||e0(g);if(_=Jt(_,4),S==null){var K=g&&g.constructor;F?S=I?new K:[]:Es(g)?S=Sd(K)?Z_(A4(g)):{}:S={}}return(F?Sl:au)(g,function(se,ce,ge){return _(S,se,ce,ge)}),S}function Yfe(g,_){return g==null?!0:Tk(g,_)}function Zfe(g,_,S){return g==null?g:IW(g,_,Ak(S))}function Xfe(g,_,S,I){return I=typeof I=="function"?I:t,g==null?g:IW(g,_,Ak(S),I)}function t0(g){return g==null?[]:dk(g,No(g))}function Qfe(g){return g==null?[]:dk(g,Qr(g))}function Jfe(g,_,S){return S===t&&(S=_,_=t),S!==t&&(S=Il(S),S=S===S?S:0),_!==t&&(_=Il(_),_=_===_?_:0),lp(Il(g),_,S)}function ege(g,_,S){return _=Ld(_),S===t?(S=_,_=0):S=Ld(S),g=Il(g),rue(g,_,S)}function tge(g,_,S){if(S&&typeof S!="boolean"&&Er(g,_,S)&&(_=S=t),S===t&&(typeof _=="boolean"?(S=_,_=t):typeof g=="boolean"&&(S=g,g=t)),g===t&&_===t?(g=0,_=1):(g=Ld(g),_===t?(_=g,g=0):_=Ld(_)),g>_){var I=g;g=_,_=I}if(S||g%1||_%1){var F=oW();return nr(g+F*(_-g+Ale("1e-"+((F+"").length-1))),_)}return kk(g,_)}var ige=Q_(function(g,_,S){return _=_.toLowerCase(),g+(S?PH(_):_)});function PH(g){return eE(Ln(g).toLowerCase())}function FH(g){return g=Ln(g),g&&g.replace(sle,Kle).replace(Sle,"")}function nge(g,_,S){g=Ln(g),_=Ia(_);var I=g.length;S=S===t?I:lp(Ii(S),0,I);var F=S;return S-=_.length,S>=0&&g.slice(S,F)==_}function sge(g){return g=Ln(g),g&&sc.test(g)?g.replace(Ho,qle):g}function oge(g){return g=Ln(g),g&&YD.test(g)?g.replace(Xh,"\\$&"):g}var rge=Q_(function(g,_,S){return g+(S?"-":"")+_.toLowerCase()}),age=Q_(function(g,_,S){return g+(S?" ":"")+_.toLowerCase()}),lge=WW("toLowerCase");function cge(g,_,S){g=Ln(g),_=Ii(_);var I=_?j_(g):0;if(!_||I>=_)return g;var F=(_-I)/2;return Z4(F4(F),S)+g+Z4(P4(F),S)}function uge(g,_,S){g=Ln(g),_=Ii(_);var I=_?j_(g):0;return _&&I<_?g+Z4(_-I,S):g}function dge(g,_,S){g=Ln(g),_=Ii(_);var I=_?j_(g):0;return _&&I<_?Z4(_-I,S)+g:g}function hge(g,_,S){return S||_==null?_=0:_&&(_=+_),bce(Ln(g).replace(Ut,""),_||0)}function fge(g,_,S){return(S?Er(g,_,S):_===t)?_=1:_=Ii(_),Ek(Ln(g),_)}function gge(){var g=arguments,_=Ln(g[0]);return g.length<3?_:_.replace(g[1],g[2])}var pge=Q_(function(g,_,S){return g+(S?"_":"")+_.toLowerCase()});function mge(g,_,S){return S&&typeof S!="number"&&Er(g,_,S)&&(_=S=t),S=S===t?ot:S>>>0,S?(g=Ln(g),g&&(typeof _=="string"||_!=null&&!Xk(_))&&(_=Ia(_),!_&&U_(g))?af(rc(g),0,S):g.split(_,S)):[]}var _ge=Q_(function(g,_,S){return g+(S?" ":"")+eE(_)});function vge(g,_,S){return g=Ln(g),S=S==null?0:lp(Ii(S),0,g.length),_=Ia(_),g.slice(S,S+_.length)==_}function bge(g,_,S){var I=$.templateSettings;S&&Er(g,_,S)&&(_=t),g=Ln(g),_=lS({},_,I,qW);var F=lS({},_.imports,I.imports,qW),K=No(F),se=dk(F,K),ce,ge,je=0,qe=_.interpolate||w4,Je="__p += '",yt=fk((_.escape||w4).source+"|"+qe.source+"|"+(qe===ru?oc:w4).source+"|"+(_.evaluate||w4).source+"|$","g"),Ft="//# sourceURL="+(Mn.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ele+"]")+`
`;g.replace(yt,function(ni,$i,Ji,Na,Ir,Ma){return Ji||(Ji=Na),Je+=g.slice(je,Ma).replace(ole,Gle),$i&&(ce=!0,Je+=`' +
__e(`+$i+`) +
'`),Ir&&(ge=!0,Je+=`';
`+Ir+`;
__p += '`),Ji&&(Je+=`' +
((__t = (`+Ji+`)) == null ? '' : __t) +
'`),je=Ma+ni.length,ni}),Je+=`';
`;var ii=Mn.call(_,"variable")&&_.variable;if(!ii)Je=`with (obj) {
`+Je+`
}
`;else if(Io.test(ii))throw new yi(a);Je=(ge?Je.replace(vn,""):Je).replace(wi,"$1").replace(bn,"$1;"),Je="function("+(ii||"obj")+`) {
`+(ii?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ce?", __e = _.escape":"")+(ge?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Je+`return __p
}`;var Mi=VH(function(){return Cn(K,Ft+"return "+Je).apply(t,se)});if(Mi.source=Je,Zk(Mi))throw Mi;return Mi}function Cge(g){return Ln(g).toLowerCase()}function wge(g){return Ln(g).toUpperCase()}function yge(g,_,S){if(g=Ln(g),g&&(S||_===t))return GV(g);if(!g||!(_=Ia(_)))return g;var I=rc(g),F=rc(_),K=YV(I,F),se=ZV(I,F)+1;return af(I,K,se).join("")}function Sge(g,_,S){if(g=Ln(g),g&&(S||_===t))return g.slice(0,QV(g)+1);if(!g||!(_=Ia(_)))return g;var I=rc(g),F=ZV(I,rc(_))+1;return af(I,0,F).join("")}function Lge(g,_,S){if(g=Ln(g),g&&(S||_===t))return g.replace(Ut,"");if(!g||!(_=Ia(_)))return g;var I=rc(g),F=YV(I,rc(_));return af(I,F).join("")}function xge(g,_){var S=V,I=H;if(Es(_)){var F="separator"in _?_.separator:F;S="length"in _?Ii(_.length):S,I="omission"in _?Ia(_.omission):I}g=Ln(g);var K=g.length;if(U_(g)){var se=rc(g);K=se.length}if(S>=K)return g;var ce=S-j_(I);if(ce<1)return I;var ge=se?af(se,0,ce).join(""):g.slice(0,ce);if(F===t)return ge+I;if(se&&(ce+=ge.length-ce),Xk(F)){if(g.slice(ce).search(F)){var je,qe=ge;for(F.global||(F=fk(F.source,Ln(Qh.exec(F))+"g")),F.lastIndex=0;je=F.exec(qe);)var Je=je.index;ge=ge.slice(0,Je===t?ce:Je)}}else if(g.indexOf(Ia(F),ce)!=ce){var yt=ge.lastIndexOf(F);yt>-1&&(ge=ge.slice(0,yt))}return ge+I}function Dge(g){return g=Ln(g),g&&wl.test(g)?g.replace(su,tce):g}var kge=Q_(function(g,_,S){return g+(S?" ":"")+_.toUpperCase()}),eE=WW("toUpperCase");function BH(g,_,S){return g=Ln(g),_=S?t:_,_===t?Zle(g)?sce(g):Hle(g):g.match(_)||[]}var VH=Ri(function(g,_){try{return ka(g,t,_)}catch(S){return Zk(S)?S:new yi(S)}}),Ege=wd(function(g,_){return Sl(_,function(S){S=cu(S),bd(g,S,Gk(g[S],g))}),g});function Ige(g){var _=g==null?0:g.length,S=Jt();return g=_?vs(g,function(I){if(typeof I[1]!="function")throw new Ll(r);return[S(I[0]),I[1]]}):[],Ri(function(I){for(var F=-1;++F<_;){var K=g[F];if(ka(K[0],this,I))return ka(K[1],this,I)}})}function Tge(g){return tue(Dl(g,d))}function tE(g){return function(){return g}}function Nge(g,_){return g==null||g!==g?_:g}var Mge=$W(),Age=$W(!0);function Jr(g){return g}function iE(g){return vW(typeof g=="function"?g:Dl(g,d))}function Rge(g){return CW(Dl(g,d))}function Oge(g,_){return wW(g,Dl(_,d))}var Pge=Ri(function(g,_){return function(S){return T2(S,g,_)}}),Fge=Ri(function(g,_){return function(S){return T2(g,S,_)}});function nE(g,_,S){var I=No(_),F=z4(_,I);S==null&&!(Es(_)&&(F.length||!I.length))&&(S=_,_=g,g=this,F=z4(_,No(_)));var K=!(Es(S)&&"chain"in S)||!!S.chain,se=Sd(g);return Sl(F,function(ce){var ge=_[ce];g[ce]=ge,se&&(g.prototype[ce]=function(){var je=this.__chain__;if(K||je){var qe=g(this.__wrapped__),Je=qe.__actions__=Zr(this.__actions__);return Je.push({func:ge,args:arguments,thisArg:g}),qe.__chain__=je,qe}return ge.apply(g,ef([this.value()],arguments))})}),g}function Bge(){return $o._===this&&($o._=uce),this}function sE(){}function Vge(g){return g=Ii(g),Ri(function(_){return yW(_,g)})}var Wge=Ok(vs),Hge=Ok(zV),$ge=Ok(rk);function WH(g){return $k(g)?ak(cu(g)):vue(g)}function zge(g){return function(_){return g==null?t:cp(g,_)}}var Uge=UW(),jge=UW(!0);function oE(){return[]}function rE(){return!1}function Kge(){return{}}function qge(){return""}function Gge(){return!0}function Yge(g,_){if(g=Ii(g),g<1||g>Me)return[];var S=ot,I=nr(g,ot);_=Jt(_),g-=ot;for(var F=uk(I,_);++S<g;)_(S);return F}function Zge(g){return xi(g)?vs(g,cu):Ta(g)?[g]:Zr(rH(Ln(g)))}function Xge(g){var _=++lce;return Ln(g)+_}var Qge=Y4(function(g,_){return g+_},0),Jge=Pk("ceil"),epe=Y4(function(g,_){return g/_},1),tpe=Pk("floor");function ipe(g){return g&&g.length?$4(g,Jr,wk):t}function npe(g,_){return g&&g.length?$4(g,Jt(_,2),wk):t}function spe(g){return KV(g,Jr)}function ope(g,_){return KV(g,Jt(_,2))}function rpe(g){return g&&g.length?$4(g,Jr,xk):t}function ape(g,_){return g&&g.length?$4(g,Jt(_,2),xk):t}var lpe=Y4(function(g,_){return g*_},1),cpe=Pk("round"),upe=Y4(function(g,_){return g-_},0);function dpe(g){return g&&g.length?ck(g,Jr):0}function hpe(g,_){return g&&g.length?ck(g,Jt(_,2)):0}return $.after=Rhe,$.ary=_H,$.assign=wfe,$.assignIn=NH,$.assignInWith=lS,$.assignWith=yfe,$.at=Sfe,$.before=vH,$.bind=Gk,$.bindAll=Ege,$.bindKey=bH,$.castArray=Khe,$.chain=gH,$.chunk=tde,$.compact=ide,$.concat=nde,$.cond=Ige,$.conforms=Tge,$.constant=tE,$.countBy=dhe,$.create=Lfe,$.curry=CH,$.curryRight=wH,$.debounce=yH,$.defaults=xfe,$.defaultsDeep=Dfe,$.defer=Ohe,$.delay=Phe,$.difference=sde,$.differenceBy=ode,$.differenceWith=rde,$.drop=ade,$.dropRight=lde,$.dropRightWhile=cde,$.dropWhile=ude,$.fill=dde,$.filter=fhe,$.flatMap=mhe,$.flatMapDeep=_he,$.flatMapDepth=vhe,$.flatten=uH,$.flattenDeep=hde,$.flattenDepth=fde,$.flip=Fhe,$.flow=Mge,$.flowRight=Age,$.fromPairs=gde,$.functions=Afe,$.functionsIn=Rfe,$.groupBy=bhe,$.initial=mde,$.intersection=_de,$.intersectionBy=vde,$.intersectionWith=bde,$.invert=Pfe,$.invertBy=Ffe,$.invokeMap=whe,$.iteratee=iE,$.keyBy=yhe,$.keys=No,$.keysIn=Qr,$.map=iS,$.mapKeys=Vfe,$.mapValues=Wfe,$.matches=Rge,$.matchesProperty=Oge,$.memoize=sS,$.merge=Hfe,$.mergeWith=MH,$.method=Pge,$.methodOf=Fge,$.mixin=nE,$.negate=oS,$.nthArg=Vge,$.omit=$fe,$.omitBy=zfe,$.once=Bhe,$.orderBy=She,$.over=Wge,$.overArgs=Vhe,$.overEvery=Hge,$.overSome=$ge,$.partial=Yk,$.partialRight=SH,$.partition=Lhe,$.pick=Ufe,$.pickBy=AH,$.property=WH,$.propertyOf=zge,$.pull=Sde,$.pullAll=hH,$.pullAllBy=Lde,$.pullAllWith=xde,$.pullAt=Dde,$.range=Uge,$.rangeRight=jge,$.rearg=Whe,$.reject=khe,$.remove=kde,$.rest=Hhe,$.reverse=Kk,$.sampleSize=Ihe,$.set=Kfe,$.setWith=qfe,$.shuffle=The,$.slice=Ede,$.sortBy=Ahe,$.sortedUniq=Ode,$.sortedUniqBy=Pde,$.split=mge,$.spread=$he,$.tail=Fde,$.take=Bde,$.takeRight=Vde,$.takeRightWhile=Wde,$.takeWhile=Hde,$.tap=ihe,$.throttle=zhe,$.thru=tS,$.toArray=EH,$.toPairs=RH,$.toPairsIn=OH,$.toPath=Zge,$.toPlainObject=TH,$.transform=Gfe,$.unary=Uhe,$.union=$de,$.unionBy=zde,$.unionWith=Ude,$.uniq=jde,$.uniqBy=Kde,$.uniqWith=qde,$.unset=Yfe,$.unzip=qk,$.unzipWith=fH,$.update=Zfe,$.updateWith=Xfe,$.values=t0,$.valuesIn=Qfe,$.without=Gde,$.words=BH,$.wrap=jhe,$.xor=Yde,$.xorBy=Zde,$.xorWith=Xde,$.zip=Qde,$.zipObject=Jde,$.zipObjectDeep=ehe,$.zipWith=the,$.entries=RH,$.entriesIn=OH,$.extend=NH,$.extendWith=lS,nE($,$),$.add=Qge,$.attempt=VH,$.camelCase=ige,$.capitalize=PH,$.ceil=Jge,$.clamp=Jfe,$.clone=qhe,$.cloneDeep=Yhe,$.cloneDeepWith=Zhe,$.cloneWith=Ghe,$.conformsTo=Xhe,$.deburr=FH,$.defaultTo=Nge,$.divide=epe,$.endsWith=nge,$.eq=lc,$.escape=sge,$.escapeRegExp=oge,$.every=hhe,$.find=ghe,$.findIndex=lH,$.findKey=kfe,$.findLast=phe,$.findLastIndex=cH,$.findLastKey=Efe,$.floor=tpe,$.forEach=pH,$.forEachRight=mH,$.forIn=Ife,$.forInRight=Tfe,$.forOwn=Nfe,$.forOwnRight=Mfe,$.get=Qk,$.gt=Qhe,$.gte=Jhe,$.has=Ofe,$.hasIn=Jk,$.head=dH,$.identity=Jr,$.includes=Che,$.indexOf=pde,$.inRange=ege,$.invoke=Bfe,$.isArguments=hp,$.isArray=xi,$.isArrayBuffer=efe,$.isArrayLike=Xr,$.isArrayLikeObject=zs,$.isBoolean=tfe,$.isBuffer=lf,$.isDate=ife,$.isElement=nfe,$.isEmpty=sfe,$.isEqual=ofe,$.isEqualWith=rfe,$.isError=Zk,$.isFinite=afe,$.isFunction=Sd,$.isInteger=LH,$.isLength=rS,$.isMap=xH,$.isMatch=lfe,$.isMatchWith=cfe,$.isNaN=ufe,$.isNative=dfe,$.isNil=ffe,$.isNull=hfe,$.isNumber=DH,$.isObject=Es,$.isObjectLike=As,$.isPlainObject=P2,$.isRegExp=Xk,$.isSafeInteger=gfe,$.isSet=kH,$.isString=aS,$.isSymbol=Ta,$.isTypedArray=e0,$.isUndefined=pfe,$.isWeakMap=mfe,$.isWeakSet=_fe,$.join=Cde,$.kebabCase=rge,$.last=El,$.lastIndexOf=wde,$.lowerCase=age,$.lowerFirst=lge,$.lt=vfe,$.lte=bfe,$.max=ipe,$.maxBy=npe,$.mean=spe,$.meanBy=ope,$.min=rpe,$.minBy=ape,$.stubArray=oE,$.stubFalse=rE,$.stubObject=Kge,$.stubString=qge,$.stubTrue=Gge,$.multiply=lpe,$.nth=yde,$.noConflict=Bge,$.noop=sE,$.now=nS,$.pad=cge,$.padEnd=uge,$.padStart=dge,$.parseInt=hge,$.random=tge,$.reduce=xhe,$.reduceRight=Dhe,$.repeat=fge,$.replace=gge,$.result=jfe,$.round=cpe,$.runInContext=he,$.sample=Ehe,$.size=Nhe,$.snakeCase=pge,$.some=Mhe,$.sortedIndex=Ide,$.sortedIndexBy=Tde,$.sortedIndexOf=Nde,$.sortedLastIndex=Mde,$.sortedLastIndexBy=Ade,$.sortedLastIndexOf=Rde,$.startCase=_ge,$.startsWith=vge,$.subtract=upe,$.sum=dpe,$.sumBy=hpe,$.template=bge,$.times=Yge,$.toFinite=Ld,$.toInteger=Ii,$.toLength=IH,$.toLower=Cge,$.toNumber=Il,$.toSafeInteger=Cfe,$.toString=Ln,$.toUpper=wge,$.trim=yge,$.trimEnd=Sge,$.trimStart=Lge,$.truncate=xge,$.unescape=Dge,$.uniqueId=Xge,$.upperCase=kge,$.upperFirst=eE,$.each=pH,$.eachRight=mH,$.first=dH,nE($,function(){var g={};return au($,function(_,S){Mn.call($.prototype,S)||(g[S]=_)}),g}(),{chain:!1}),$.VERSION=i,Sl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){$[g].placeholder=$}),Sl(["drop","take"],function(g,_){qi.prototype[g]=function(S){S=S===t?1:lo(Ii(S),0);var I=this.__filtered__&&!_?new qi(this):this.clone();return I.__filtered__?I.__takeCount__=nr(S,I.__takeCount__):I.__views__.push({size:nr(S,ot),type:g+(I.__dir__<0?"Right":"")}),I},qi.prototype[g+"Right"]=function(S){return this.reverse()[g](S).reverse()}}),Sl(["filter","map","takeWhile"],function(g,_){var S=_+1,I=S==ae||S==we;qi.prototype[g]=function(F){var K=this.clone();return K.__iteratees__.push({iteratee:Jt(F,3),type:S}),K.__filtered__=K.__filtered__||I,K}}),Sl(["head","last"],function(g,_){var S="take"+(_?"Right":"");qi.prototype[g]=function(){return this[S](1).value()[0]}}),Sl(["initial","tail"],function(g,_){var S="drop"+(_?"":"Right");qi.prototype[g]=function(){return this.__filtered__?new qi(this):this[S](1)}}),qi.prototype.compact=function(){return this.filter(Jr)},qi.prototype.find=function(g){return this.filter(g).head()},qi.prototype.findLast=function(g){return this.reverse().find(g)},qi.prototype.invokeMap=Ri(function(g,_){return typeof g=="function"?new qi(this):this.map(function(S){return T2(S,g,_)})}),qi.prototype.reject=function(g){return this.filter(oS(Jt(g)))},qi.prototype.slice=function(g,_){g=Ii(g);var S=this;return S.__filtered__&&(g>0||_<0)?new qi(S):(g<0?S=S.takeRight(-g):g&&(S=S.drop(g)),_!==t&&(_=Ii(_),S=_<0?S.dropRight(-_):S.take(_-g)),S)},qi.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},qi.prototype.toArray=function(){return this.take(ot)},au(qi.prototype,function(g,_){var S=/^(?:filter|find|map|reject)|While$/.test(_),I=/^(?:head|last)$/.test(_),F=$[I?"take"+(_=="last"?"Right":""):_],K=I||/^find/.test(_);!F||($.prototype[_]=function(){var se=this.__wrapped__,ce=I?[1]:arguments,ge=se instanceof qi,je=ce[0],qe=ge||xi(se),Je=function($i){var Ji=F.apply($,ef([$i],ce));return I&&yt?Ji[0]:Ji};qe&&S&&typeof je=="function"&&je.length!=1&&(ge=qe=!1);var yt=this.__chain__,Ft=!!this.__actions__.length,ii=K&&!yt,Mi=ge&&!Ft;if(!K&&qe){se=Mi?se:new qi(this);var ni=g.apply(se,ce);return ni.__actions__.push({func:tS,args:[Je],thisArg:t}),new xl(ni,yt)}return ii&&Mi?g.apply(this,ce):(ni=this.thru(Je),ii?I?ni.value()[0]:ni.value():ni)})}),Sl(["pop","push","shift","sort","splice","unshift"],function(g){var _=k4[g],S=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",I=/^(?:pop|shift)$/.test(g);$.prototype[g]=function(){var F=arguments;if(I&&!this.__chain__){var K=this.value();return _.apply(xi(K)?K:[],F)}return this[S](function(se){return _.apply(xi(se)?se:[],F)})}}),au(qi.prototype,function(g,_){var S=$[_];if(S){var I=S.name+"";Mn.call(Y_,I)||(Y_[I]=[]),Y_[I].push({name:_,func:S})}}),Y_[G4(t,w).name]=[{name:"wrapper",func:t}],qi.prototype.clone=Dce,qi.prototype.reverse=kce,qi.prototype.value=Ece,$.prototype.at=nhe,$.prototype.chain=she,$.prototype.commit=ohe,$.prototype.next=rhe,$.prototype.plant=lhe,$.prototype.reverse=che,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=uhe,$.prototype.first=$.prototype.head,S2&&($.prototype[S2]=ahe),$},K_=oce();sp?((sp.exports=K_)._=K_,ik._=K_):$o._=K_}).call(z2)})($9,$9.exports);var vst=$9.exports;const Zv=n=>`${n}ByEnhanced`,NO=Zv("getDOM"),wJ=Zv("waitFor"),yJ=Zv("assertionAdded"),SJ=Zv("routerOperated"),LJ=Zv("screenshotAdded"),xJ=Zv("elementOperate"),wU=[{title:"\u83B7\u53D6 DOM \u5143\u7D20",action:NO},{title:"\u64CD\u4F5C\u5143\u7D20",action:xJ},{title:"\u65B0\u589E WaitFor",action:wJ},{title:"\u65B0\u589E\u65AD\u8A00",action:yJ},{title:"\u64CD\u4F5C\u8DEF\u7531",action:SJ},{title:"\u622A\u56FE",action:LJ}],z9={[NO]:{selectOptions:[{label:"\u5355\u4E2A\u5143\u7D20",value:"getDOMIndependently"},{label:"\u5217\u8868\u5143\u7D20",value:"getDOMList"}],selectedValue:"getDOMIndependently",inputOptions:{getDOMIndependently:[{value:"",label:"\u7C7B\u540D\uFF1A",placeholder:""},{value:"",label:"\u7EC4\u4EF6\u540D\uFF1A",placeholder:""}],getDOMList:[{value:"",label:"\u7C7B\u540D\uFF1A",placeholder:""},{value:"",label:"\u7EC4\u4EF6\u540D\uFF1A",placeholder:""},{value:"0",label:"\u76EE\u6807\u5143\u7D20\u7D22\u5F15\uFF1A",placeholder:""}]}},[xJ]:{selectOptions:[{value:"tap",label:"\u89E6\u53D1tap\u4E8B\u4EF6"},{value:"longpress",label:"\u89E6\u53D1longpress\u4E8B\u4EF6"},{value:"touchstart",label:" \u89E6\u53D1touchstart \u4E8B\u4EF6"},{value:"touchmove",label:"\u89E6\u53D1 touchmove \u4E8B\u4EF6"},{value:"touchend",label:"\u89E6\u53D1 touchend \u4E8B\u4EF6"},{label:"\u89E6\u53D1 input \u4E8B\u4EF6",value:"input"},{value:"trigger",label:"trigger \u5143\u7D20\u4E8B\u4EF6"}],selectedValue:"tap",inputOptions:{tap:[{value:"",label:"\u53C2\u6570\uFF1A",placeholder:"tap \u4E8B\u4EF6\u5BF9\u8C61"}],longpress:[{value:"",label:"\u53C2\u6570\uFF1A",placeholder:"longpress \u4E8B\u4EF6\u5BF9\u8C61"}],touchstart:[{value:"",label:"\u53C2\u6570\uFF1A",placeholder:"touchstart \u4E8B\u4EF6\u5BF9\u8C61"}],touchmove:[{value:"",label:"\u53C2\u6570\uFF1A",placeholder:"touchmove \u4E8B\u4EF6\u5BF9\u8C61"}],touchend:[{value:"",label:"\u53C2\u6570\uFF1A",placeholder:"touchend \u4E8B\u4EF6\u5BF9\u8C61"}],trigger:[{value:"",label:"\u4E8B\u4EF6\u540D\uFF1A",placeholder:"element.trigger(type: string, detail?: Object): Promise<void>"},{value:"",label:"\u4E8B\u4EF6\u53C2\u6570\uFF1A",placeholder:"element.trigger(type: string, detail?: Object): Promise<void>"}],input:[{value:"",label:"\u8F93\u5165\u503C\uFF1A",placeholder:"element.input(value: string): Promise<void>"}]}},[wJ]:{selectOptions:[{label:"waitFor \u65F6\u95F4",value:"waitForSomeTime"},{label:"waitFor \u9875\u9762\u8DEF\u7531",value:"waitForExactRouter"},{label:"waitFor \u63A5\u53E3",value:"waitForApiResponse"}],selectedValue:"waitForSomeTime",inputOptions:{waitForSomeTime:[{value:1e4,label:"\u65F6\u957F\uFF1A",placeholder:""}],waitForExactRouter:[{value:"",label:"\u9875\u9762 path\uFF1A",placeholder:""}],waitForApiResponse:[{value:"",label:"\u63A5\u53E3 path\uFF1A",placeholder:""}]}},[SJ]:{selectOptions:[{label:"navigateBack",value:"operateRouterNavigateBack"},{label:"reLaunch",value:"operateRouterRelaunch"},{label:"navigateTo",value:"operateRouterNavigateTo"},{label:"redirectTo",value:"operateRouterRedirectTo"},{label:"switchTab",value:"operateRouterSwitchTab"}],selectedValue:"operateRouterNavigateBack",inputOptions:{operateRouterNavigateBack:[],operateRouterRelaunch:[{value:"",label:"ReLaunch Url:",placeholder:""}],operateRouterNavigateTo:[{value:"",label:"NavigateTo Url:",placeholder:""}],operateRouterRedirectTo:[{value:"",label:"RedirectTo Url:",placeholder:""}],operateRouterSwitchTab:[{value:"",label:"SwitchTab Url:",placeholder:""}]}},[yJ]:{selectOptions:[{label:"\u65AD\u8A00\u5143\u7D20\u6587\u6848\u5185\u5BB9",value:"assertTextContent"},{label:"\u65AD\u8A00\u5143\u7D20\u6587\u6848\u957F\u5EA6",value:"assertTextLength"},{label:"\u65AD\u8A00\u5143\u7D20\u6587\u6848\u7B26\u5408RegExp",value:"assertTextByRegExp"},{label:"\u65AD\u8A00\u5143\u7D20\u5BBD\u5EA6",value:"assertElementWidth"},{label:"\u65AD\u8A00\u5143\u7D20\u9AD8\u5EA6",value:"assertElementHeight"},{label:"\u65AD\u8A00\u5143\u7D20\u662F\u5426\u5B58\u5728",value:"assertElementExistence"},{label:"\u65AD\u8A00\u63A5\u53E3\u8FD4\u56DE\u5B57\u6BB5",value:"assertResponseFiledValue"}],selectedValue:"assertTextContent",inputOptions:{assertTextContent:[{value:"",label:"\u9884\u671F\u6587\u6848\uFF1A",placeholder:""}],assertTextLength:[{value:"",label:"\u9884\u671F\u6587\u6848\u957F\u5EA6\uFF1A",placeholder:""}],assertTextByRegExp:[{value:"",label:"\u6B63\u5219\u5143\u5B57\u7B26\uFF1A",placeholder:""},{value:"",label:"\u6B63\u5219\u4FEE\u9970\u7B26\uFF1A",placeholder:""}],assertElementWidth:[{value:"",label:"\u64CD\u4F5C\u7B26\uFF1A",placeholder:"===, >=, <="},{value:"",label:"\u9884\u671F\u5BBD\u5EA6\uFF1A",placeholder:""}],assertElementHeight:[{value:"",label:"\u64CD\u4F5C\u7B26\uFF1A",placeholder:"===, >=, <="},{value:"",label:"\u9884\u671F\u9AD8\u5EA6\uFF1A",placeholder:""}],assertElementExistence:[],assertResponseFiledValue:[{value:"",label:"\u53D6\u503C\u8868\u8FBE\u5F0F\uFF1A",placeholder:"{ options: { data: \u8FD4\u56DE\u503C }, url: \u8BF7\u6C42\u63A5\u53E3 }, options.data.xxx"},{value:"",label:"\u6BD4\u8F83\u64CD\u4F5C\u7B26\uFF1A",placeholder:""},{value:"",label:"\u8FD4\u56DE\u503C\u9884\u671F\uFF1A",placeholder:""}]}},[LJ]:{selectedValue:"screenshotFileSave",inputOptions:{screenshotFileSave:[{value:"",label:"\u6587\u4EF6\u540D\uFF1A",placeholder:""},{value:"",label:"\u4FDD\u5B58\u8DEF\u5F84\uFF1A",placeholder:""}]}}};var bst=function(){var n=document.getSelection();if(!n.rangeCount)return function(){};for(var e=document.activeElement,t=[],i=0;i<n.rangeCount;i++)t.push(n.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return n.removeAllRanges(),function(){n.type==="Caret"&&n.removeAllRanges(),n.rangeCount||t.forEach(function(s){n.addRange(s)}),e&&e.focus()}},Cst=bst,yU={"text/plain":"Text","text/html":"Url",default:"Text"},wst="Copy to clipboard: #{key}, Enter";function yst(n){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,e)}function Sst(n,e){var t,i,s,o,r,a,l=!1;e||(e={}),t=e.debug||!1;try{s=Cst(),o=document.createRange(),r=document.getSelection(),a=document.createElement("span"),a.textContent=n,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData=="undefined"){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=yU[e.format]||yU.default;window.clipboardData.setData(d,n)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,n);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(a),o.selectNodeContents(a),r.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){t&&console.error("unable to copy using execCommand: ",u),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",n),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){t&&console.error("unable to copy using clipboardData: ",d),t&&console.error("falling back to prompt"),i=yst("message"in e?e.message:wst),window.prompt(i,n)}}finally{r&&(typeof r.removeRange=="function"?r.removeRange(o):r.removeAllRanges()),a&&document.body.removeChild(a),s()}return l}var Lst=Sst;globalThis&&globalThis.__awaiter;let xst=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function Dst(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(i,s)=>{const o=s[0],r=e[o];let a=i;return typeof r=="string"?a=r:(typeof r=="number"||typeof r=="boolean"||r===void 0||r===null)&&(a=String(r)),a}),xst&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function v(n,e,...t){return Dst(e,t)}var FE;const Lb="en";let t8=!1,i8=!1,r6=!1,DJ=!1,MO=!1,AO=!1,xS,a6=Lb,kst,Lf;const Yn=typeof self=="object"?self:typeof global=="object"?global:{};let Ko;typeof Yn.vscode!="undefined"&&typeof Yn.vscode.process!="undefined"?Ko=Yn.vscode.process:typeof process!="undefined"&&(Ko=process);const Est=typeof((FE=Ko==null?void 0:Ko.versions)===null||FE===void 0?void 0:FE.electron)=="string",Ist=Est&&(Ko==null?void 0:Ko.type)==="renderer";if(typeof navigator=="object"&&!Ist)Lf=navigator.userAgent,t8=Lf.indexOf("Windows")>=0,i8=Lf.indexOf("Macintosh")>=0,AO=(Lf.indexOf("Macintosh")>=0||Lf.indexOf("iPad")>=0||Lf.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,r6=Lf.indexOf("Linux")>=0,MO=!0,v({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"),xS=Lb,a6=xS;else if(typeof Ko=="object"){t8=Ko.platform==="win32",i8=Ko.platform==="darwin",r6=Ko.platform==="linux",r6&&!!Ko.env.SNAP&&Ko.env.SNAP_REVISION,Ko.env.CI||Ko.env.BUILD_ARTIFACTSTAGINGDIRECTORY,xS=Lb,a6=Lb;const n=Ko.env.VSCODE_NLS_CONFIG;if(n)try{const e=JSON.parse(n),t=e.availableLanguages["*"];xS=e.locale,a6=t||Lb,kst=e._translationsConfigFile}catch{}DJ=!0}else console.error("Unable to resolve platform.");const oo=t8,ai=i8,So=r6,Rc=DJ,jg=MO,Tst=MO&&typeof Yn.importScripts=="function",Xu=AO,Qu=Lf,Nst=a6,Mst=typeof Yn.postMessage=="function"&&!Yn.importScripts,kJ=(()=>{if(Mst){const n=[];Yn.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,s=n.length;i<s;i++){const o=n[i];if(o.id===t.data.vscodeScheduleAsyncWork){n.splice(i,1),o.callback();return}}});let e=0;return t=>{const i=++e;n.push({id:i,callback:t}),Yn.postMessage({vscodeScheduleAsyncWork:i},"*")}}return n=>setTimeout(n)})(),Ka=i8||AO?2:t8?1:3;let SU=!0,LU=!1;function EJ(){if(!LU){LU=!0;const n=new Uint8Array(2);n[0]=1,n[1]=2,SU=new Uint16Array(n.buffer)[0]===(2<<8)+1}return SU}const IJ=!!(Qu&&Qu.indexOf("Chrome")>=0),Ast=!!(Qu&&Qu.indexOf("Firefox")>=0),Rst=!!(!IJ&&Qu&&Qu.indexOf("Safari")>=0),Ost=!!(Qu&&Qu.indexOf("Edg/")>=0);Qu&&Qu.indexOf("Android")>=0;var ei;(function(n){function e(D){return D&&typeof D=="object"&&typeof D[Symbol.iterator]=="function"}n.is=e;const t=Object.freeze([]);function i(){return t}n.empty=i;function*s(D){yield D}n.single=s;function o(D){return D||t}n.from=o;function r(D){return!D||D[Symbol.iterator]().next().done===!0}n.isEmpty=r;function a(D){return D[Symbol.iterator]().next().value}n.first=a;function l(D,E){for(const T of D)if(E(T))return!0;return!1}n.some=l;function c(D,E){for(const T of D)if(E(T))return T}n.find=c;function*u(D,E){for(const T of D)E(T)&&(yield T)}n.filter=u;function*d(D,E){let T=0;for(const x of D)yield E(x,T++)}n.map=d;function*h(...D){for(const E of D)for(const T of E)yield T}n.concat=h;function*f(D){for(const E of D)for(const T of E)yield T}n.concatNested=f;function p(D,E,T){let x=T;for(const k of D)x=E(x,k);return x}n.reduce=p;function m(D,E){let T=0;for(const x of D)E(x,T++)}n.forEach=m;function*b(D,E,T=D.length){for(E<0&&(E+=D.length),T<0?T+=D.length:T>D.length&&(T=D.length);E<T;E++)yield D[E]}n.slice=b;function w(D,E=Number.POSITIVE_INFINITY){const T=[];if(E===0)return[T,D];const x=D[Symbol.iterator]();for(let k=0;k<E;k++){const N=x.next();if(N.done)return[T,n.empty()];T.push(N.value)}return[T,{[Symbol.iterator](){return x}}]}n.consume=w;function y(D){return w(D)[0]}n.collect=y;function L(D,E,T=(x,k)=>x===k){const x=D[Symbol.iterator](),k=E[Symbol.iterator]();for(;;){const N=x.next(),V=k.next();if(N.done!==V.done)return!1;if(N.done)return!0;if(!T(N.value,V.value))return!1}}n.equals=L})(ei||(ei={}));class Pn{constructor(e){this.element=e,this.next=Pn.Undefined,this.prev=Pn.Undefined}}Pn.Undefined=new Pn(void 0);class Yo{constructor(){this._first=Pn.Undefined,this._last=Pn.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Pn.Undefined}clear(){let e=this._first;for(;e!==Pn.Undefined;){const t=e.next;e.prev=Pn.Undefined,e.next=Pn.Undefined,e=t}this._first=Pn.Undefined,this._last=Pn.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new Pn(e);if(this._first===Pn.Undefined)this._first=i,this._last=i;else if(t){const o=this._last;this._last=i,i.prev=o,o.next=i}else{const o=this._first;this._first=i,i.next=o,o.prev=i}this._size+=1;let s=!1;return()=>{s||(s=!0,this._remove(i))}}shift(){if(this._first!==Pn.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Pn.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Pn.Undefined&&e.next!==Pn.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Pn.Undefined&&e.next===Pn.Undefined?(this._first=Pn.Undefined,this._last=Pn.Undefined):e.next===Pn.Undefined?(this._last=this._last.prev,this._last.next=Pn.Undefined):e.prev===Pn.Undefined&&(this._first=this._first.next,this._first.prev=Pn.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Pn.Undefined;)yield e.element,e=e.next}}const TJ="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function Pst(n=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const t of TJ)n.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}const RO=Pst();function NJ(n){let e=RO;if(n&&n instanceof RegExp)if(n.global)e=n;else{let t="g";n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.unicode&&(t+="u"),e=new RegExp(n.source,t)}return e.lastIndex=0,e}const MJ=new Yo;MJ.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function YC(n,e,t,i,s){if(s||(s=ei.first(MJ)),t.length>s.maxLen){let c=n-s.maxLen/2;return c<0?c=0:i+=c,t=t.substring(c,n+s.maxLen/2),YC(n,e,t,i,s)}const o=Date.now(),r=n-1-i;let a=-1,l=null;for(let c=1;!(Date.now()-o>=s.timeBudget);c++){const u=r-s.windowSize*c;e.lastIndex=Math.max(0,u);const d=Fst(e,t,r,a);if(!d&&l||(l=d,u<=0))break;a=u}if(l){const c={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function Fst(n,e,t,i){let s;for(;s=n.exec(e);){const o=s.index||0;if(o<=t&&n.lastIndex>=t)return s;if(i>0&&o>i)return null}return null}function Ra(n,e=0){return n[n.length-(1+e)]}function Bst(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function va(n,e,t=(i,s)=>i===s){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,s=n.length;i<s;i++)if(!t(n[i],e[i]))return!1;return!0}function Vst(n,e){const t=n.length-1;e<t&&(n[e]=n[t]),n.pop()}function OO(n,e,t){return Wst(n.length,i=>t(n[i],e))}function Wst(n,e){let t=0,i=n-1;for(;t<=i;){const s=(t+i)/2|0,o=e(s);if(o<0)t=s+1;else if(o>0)i=s-1;else return s}return-(t+1)}function AJ(n,e){let t=0,i=n.length;if(i===0)return 0;for(;t<i;){const s=Math.floor((t+i)/2);e(n[s])?i=s:t=s+1}return t}function U9(n,e,t){if(n=n|0,n>=e.length)throw new TypeError("invalid index");const i=e[Math.floor(e.length*Math.random())],s=[],o=[],r=[];for(const a of e){const l=t(a,i);l<0?s.push(a):l>0?o.push(a):r.push(a)}return n<s.length?U9(n,s,t):n<s.length+r.length?r[0]:U9(n-(s.length+r.length),o,t)}function xU(n,e){const t=[];let i;for(const s of n.slice(0).sort(e))!i||e(i[0],s)!==0?(i=[s],t.push(i)):i.push(s);return t}function Iy(n){return n.filter(e=>!!e)}function RJ(n){return!Array.isArray(n)||n.length===0}function vo(n){return Array.isArray(n)&&n.length>0}function Nh(n,e=t=>t){const t=new Set;return n.filter(i=>{const s=e(i);return t.has(s)?!1:(t.add(s),!0)})}function n8(n,e){const t=Hst(n,e);if(t!==-1)return n[t]}function Hst(n,e){for(let t=n.length-1;t>=0;t--){const i=n[t];if(e(i))return t}return-1}function OJ(n,e){return n.length>0?n[0]:e}function Uo(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);const i=[];if(t<=e)for(let s=t;s<e;s++)i.push(s);else for(let s=t;s>e;s--)i.push(s);return i}function Ox(n,e,t){const i=n.slice(0,e),s=n.slice(e);return i.concat(t,s)}function BE(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function DS(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function DU(n,e){for(const t of e)n.push(t)}function PO(n){return Array.isArray(n)?n:[n]}function $st(n,e,t){const i=PJ(n,e),s=n.length,o=t.length;n.length=s+o;for(let r=s-1;r>=i;r--)n[r+o]=n[r];for(let r=0;r<o;r++)n[r+i]=t[r]}function kU(n,e,t,i){const s=PJ(n,e),o=n.splice(s,t);return $st(n,s,i),o}function PJ(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}var EU;(function(n){function e(s){return s<0}n.isLessThan=e;function t(s){return s>0}n.isGreaterThan=t;function i(s){return s===0}n.isNeitherLessOrGreaterThan=i,n.greaterThan=1,n.lessThan=-1,n.neitherLessOrGreaterThan=0})(EU||(EU={}));function iC(n,e){return(t,i)=>e(n(t),n(i))}const zst=(n,e)=>n-e;function FJ(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const s=n[i];e(s,t)>0&&(t=s)}return t}function BJ(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const s=n[i];e(s,t)>=0&&(t=s)}return t}function Ust(n,e){return FJ(n,(t,i)=>-e(t,i))}class ZC{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}function VJ(n){return Array.isArray(n)}function br(n){return typeof n=="string"}function pr(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function jst(n){const e=Object.getPrototypeOf(Uint8Array);return typeof n=="object"&&n instanceof e}function wg(n){return typeof n=="number"&&!isNaN(n)}function IU(n){return!!n&&typeof n[Symbol.iterator]=="function"}function WJ(n){return n===!0||n===!1}function Br(n){return typeof n=="undefined"}function Kst(n){return!ca(n)}function ca(n){return Br(n)||n===null}function Vi(n,e){if(!n)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function kS(n){if(ca(n))throw new Error("Assertion Failed: argument is undefined or null");return n}function s8(n){return typeof n=="function"}function qst(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)Gst(n[i],e[i])}function Gst(n,e){if(br(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(s8(e)){try{if(n instanceof e)return}catch{}if(!ca(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Yst(n){let e=[],t=Object.getPrototypeOf(n);for(;Object.prototype!==t;)e=e.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return e}function FO(n){const e=[];for(const t of Yst(n))typeof n[t]=="function"&&e.push(t);return e}function Zst(n,e){const t=s=>function(){const o=Array.prototype.slice.call(arguments,0);return e(s,o)},i={};for(const s of n)i[s]=t(s);return i}function hr(n){return n===null?void 0:n}function Px(n,e="Unreachable"){throw new Error(e)}function qd(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const e=Array.isArray(n)?[]:{};return Object.keys(n).forEach(t=>{n[t]&&typeof n[t]=="object"?e[t]=qd(n[t]):e[t]=n[t]}),e}function Xst(n){if(!n||typeof n!="object")return n;const e=[n];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if(HJ.call(t,i)){const s=t[i];typeof s=="object"&&!Object.isFrozen(s)&&!jst(s)&&e.push(s)}}return n}const HJ=Object.prototype.hasOwnProperty;function $J(n,e){return j9(n,e,new Set)}function j9(n,e,t){if(ca(n))return n;const i=e(n);if(typeof i!="undefined")return i;if(VJ(n)){const s=[];for(const o of n)s.push(j9(o,e,t));return s}if(pr(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);const s={};for(const o in n)HJ.call(n,o)&&(s[o]=j9(n[o],e,t));return t.delete(n),s}return n}function ld(n,e,t=!0){return pr(n)?(pr(e)&&Object.keys(e).forEach(i=>{i in n?t&&(pr(n[i])&&pr(e[i])?ld(n[i],e[i],t):n[i]=e[i]):n[i]=e[i]}),n):e}function nl(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!nl(n[t],e[t]))return!1}else{const s=[];for(i in n)s.push(i);s.sort();const o=[];for(i in e)o.push(i);if(o.sort(),!nl(s,o))return!1;for(t=0;t<s.length;t++)if(!nl(n[s[t]],e[s[t]]))return!1}return!0}const po={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}},xf=8;class zJ{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class UJ{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class gs{constructor(e,t,i,s){this.id=e,this.name=t,this.defaultValue=i,this.schema=s}applyUpdate(e,t){return Fx(e,t)}compute(e,t,i){return i}}class nC{constructor(e,t){this.newValue=e,this.didChange=t}}function Fx(n,e){if(typeof n!="object"||typeof e!="object"||!n||!e)return new nC(e,n!==e);if(Array.isArray(n)||Array.isArray(e)){const i=Array.isArray(n)&&Array.isArray(e)&&va(n,e);return new nC(e,!i)}let t=!1;for(const i in e)if(e.hasOwnProperty(i)){const s=Fx(n[i],e[i]);s.didChange&&(n[i]=s.newValue,t=!0)}return new nC(n,t)}class Xv{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return Fx(e,t)}validate(e){return this.defaultValue}}class L_{constructor(e,t,i,s){this.id=e,this.name=t,this.defaultValue=i,this.schema=s}applyUpdate(e,t){return Fx(e,t)}validate(e){return typeof e=="undefined"?this.defaultValue:e}compute(e,t,i){return i}}function wt(n,e){return typeof n=="undefined"?e:n==="false"?!1:Boolean(n)}class di extends L_{constructor(e,t,i,s=void 0){typeof s!="undefined"&&(s.type="boolean",s.default=i),super(e,t,i,s)}validate(e){return wt(e,this.defaultValue)}}function K9(n,e,t,i){if(typeof n=="undefined")return e;let s=parseInt(n,10);return isNaN(s)?e:(s=Math.max(t,s),s=Math.min(i,s),s|0)}class un extends L_{constructor(e,t,i,s,o,r=void 0){typeof r!="undefined"&&(r.type="integer",r.default=i,r.minimum=s,r.maximum=o),super(e,t,i,r),this.minimum=s,this.maximum=o}static clampedInt(e,t,i,s){return K9(e,t,i,s)}validate(e){return un.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class Ou extends L_{constructor(e,t,i,s,o){typeof o!="undefined"&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=s}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e=="undefined")return t;const i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(Ou.float(e,this.defaultValue))}}class Rr extends L_{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,s=void 0){typeof s!="undefined"&&(s.type="string",s.default=i),super(e,t,i,s)}validate(e){return Rr.string(e,this.defaultValue)}}function to(n,e,t){return typeof n!="string"||t.indexOf(n)===-1?e:n}class bs extends L_{constructor(e,t,i,s,o=void 0){typeof o!="undefined"&&(o.type="string",o.enum=s,o.default=i),super(e,t,i,o),this._allowedValues=s}validate(e){return to(e,this.defaultValue,this._allowedValues)}}class K2 extends gs{constructor(e,t,i,s,o,r,a=void 0){typeof a!="undefined"&&(a.type="string",a.enum=o,a.default=s),super(e,t,i,a),this._allowedValues=o,this._convert=r}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function Qst(n){switch(n){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class Jst extends gs{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[v("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),v("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),v("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:v("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}}class eot extends gs{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:v("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:v("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertSpace:wt(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:wt(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function tot(n){switch(n){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Gs;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(Gs||(Gs={}));function iot(n){switch(n){case"line":return Gs.Line;case"block":return Gs.Block;case"underline":return Gs.Underline;case"line-thin":return Gs.LineThin;case"block-outline":return Gs.BlockOutline;case"underline-thin":return Gs.UnderlineThin}}class not extends Xv{constructor(){super(130)}compute(e,t,i){const s=["monaco-editor"];return t.get(35)&&s.push(t.get(35)),e.extraEditorClassName&&s.push(e.extraEditorClassName),t.get(68)==="default"?s.push("mouse-default"):t.get(68)==="copy"&&s.push("mouse-copy"),t.get(102)&&s.push("showUnused"),t.get(128)&&s.push("showDeprecated"),s.join(" ")}}class sot extends di{constructor(){super(33,"emptySelectionClipboard",!0,{description:v("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}class oot extends gs{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:v("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[v("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),v("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),v("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:v("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[v("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),v("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),v("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:v("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:v("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:ai},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:v("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:v("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{cursorMoveOnType:wt(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":to(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":to(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:wt(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:wt(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:wt(t.loop,this.defaultValue.loop)}}}class ua extends gs{constructor(){super(47,"fontLigatures",ua.OFF,{anyOf:[{type:"boolean",description:v("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:v("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:v("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e=="undefined"?this.defaultValue:typeof e=="string"?e==="false"?ua.OFF:e==="true"?ua.ON:e:Boolean(e)?ua.ON:ua.OFF}}ua.OFF='"liga" off, "calt" off';ua.ON='"liga" on, "calt" on';class rot extends Xv{constructor(){super(46)}compute(e,t,i){return e.fontInfo}}class aot extends L_{constructor(){super(48,"fontSize",Hr.fontSize,{type:"number",minimum:6,maximum:100,default:Hr.fontSize,description:v("fontSize","Controls the font size in pixels.")})}validate(e){const t=Ou.float(e,this.defaultValue);return t===0?Hr.fontSize:Ou.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}class ku extends gs{constructor(){super(49,"fontWeight",Hr.fontWeight,{anyOf:[{type:"number",minimum:ku.MINIMUM_VALUE,maximum:ku.MAXIMUM_VALUE,errorMessage:v("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:ku.SUGGESTION_VALUES}],default:Hr.fontWeight,description:v("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(un.clampedInt(e,Hr.fontWeight,ku.MINIMUM_VALUE,ku.MAXIMUM_VALUE))}}ku.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];ku.MINIMUM_VALUE=1;ku.MAXIMUM_VALUE=1e3;class lot extends gs{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[v("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),v("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),v("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:v("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:v("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:v("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:v("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:v("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:v("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:v("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:v("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:v("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:v("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:v("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,s,o,r;if(!e||typeof e!="object")return this.defaultValue;const a=e;return{multiple:to(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(t=a.multipleDefinitions)!==null&&t!==void 0?t:to(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(i=a.multipleTypeDefinitions)!==null&&i!==void 0?i:to(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(s=a.multipleDeclarations)!==null&&s!==void 0?s:to(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(o=a.multipleImplementations)!==null&&o!==void 0?o:to(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(r=a.multipleReferences)!==null&&r!==void 0?r:to(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Rr.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Rr.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Rr.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Rr.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Rr.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class cot extends gs{constructor(){const e={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:v("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:v("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:v("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:v("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:wt(t.enabled,this.defaultValue.enabled),delay:un.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:wt(t.sticky,this.defaultValue.sticky),above:wt(t.above,this.defaultValue.above)}}}class v1 extends Xv{constructor(){super(133)}compute(e,t,i){return v1.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,s=(e.viewLineCount+i)/(e.pixelRatio*e.height),o=Math.floor(e.viewLineCount/s);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:s,minimapLineCount:o}}static _computeMinimapLayout(e,t){const i=e.outerWidth,s=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*s),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:s};const r=t.stableMinimapLayoutInput,a=r&&e.outerHeight===r.outerHeight&&e.lineHeight===r.lineHeight&&e.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&e.pixelRatio===r.pixelRatio&&e.scrollBeyondLastLine===r.scrollBeyondLastLine&&e.minimap.enabled===r.minimap.enabled&&e.minimap.side===r.minimap.side&&e.minimap.size===r.minimap.size&&e.minimap.showSlider===r.minimap.showSlider&&e.minimap.renderCharacters===r.minimap.renderCharacters&&e.minimap.maxColumn===r.minimap.maxColumn&&e.minimap.scale===r.minimap.scale&&e.verticalScrollbarWidth===r.verticalScrollbarWidth&&e.isViewportWrapping===r.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,u=e.scrollBeyondLastLine,d=e.minimap.renderCharacters;let h=o>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const f=e.minimap.maxColumn,p=e.minimap.size,m=e.minimap.side,b=e.verticalScrollbarWidth,w=e.viewLineCount,y=e.remainingWidth,L=e.isViewportWrapping,D=d?2:3;let E=Math.floor(o*s);const T=E/o;let x=!1,k=!1,N=D*h,V=h/o,H=1;if(p==="fill"||p==="fit"){const{typicalViewportLineCount:Me,extraLinesBeyondLastLine:He,desiredRatio:mt,minimapLineCount:ot}=v1.computeContainedMinimapLineCount({viewLineCount:w,scrollBeyondLastLine:u,height:s,lineHeight:l,pixelRatio:o});if(w/ot>1)x=!0,k=!0,h=1,N=1,V=h/o;else{let pe=!1,_t=h+1;if(p==="fit"){const _e=Math.ceil((w+He)*N);L&&a&&y<=t.stableFitRemainingWidth?(pe=!0,_t=t.stableFitMaxMinimapScale):pe=_e>E}if(p==="fill"||pe){x=!0;const _e=h;N=Math.min(l*o,Math.max(1,Math.floor(1/mt))),L&&a&&y<=t.stableFitRemainingWidth&&(_t=t.stableFitMaxMinimapScale),h=Math.min(_t,Math.max(1,Math.floor(N/D))),h>_e&&(H=Math.min(2,h/_e)),V=h/o/H,E=Math.ceil(Math.max(Me,w+He)*N),L?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=y,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const G=Math.floor(f*V),te=Math.min(G,Math.max(0,Math.floor((y-b-2)*V/(c+V)))+xf);let ae=Math.floor(o*te);const me=ae/o;ae=Math.floor(ae*H);const we=d?1:2,be=m==="left"?0:i-te-b;return{renderMinimap:we,minimapLeft:be,minimapWidth:te,minimapHeightIsEditorHeight:x,minimapIsSampling:k,minimapScale:h,minimapLineHeight:N,minimapCanvasInnerWidth:ae,minimapCanvasInnerHeight:E,minimapCanvasOuterWidth:me,minimapCanvasOuterHeight:T}}static computeLayout(e,t){const i=t.outerWidth|0,s=t.outerHeight|0,o=t.lineHeight|0,r=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,u=t.viewLineCount,d=e.get(125),h=d==="inherit"?e.get(124):d,f=h==="inherit"?e.get(120):h,p=e.get(123),m=e.get(2),b=t.isDominatedByLongLines,w=e.get(52),y=e.get(62).renderType!==0,L=e.get(63),D=e.get(96),E=e.get(67),T=e.get(94),x=T.verticalScrollbarSize,k=T.verticalHasArrows,N=T.arrowSize,V=T.horizontalScrollbarSize,H=e.get(60),G=e.get(39),te=e.get(101)!=="never";let ae;if(typeof H=="string"&&/^\d+(\.\d+)?ch$/.test(H)){const gt=parseFloat(H.substr(0,H.length-2));ae=un.clampedInt(gt*a,0,0,1e3)}else ae=un.clampedInt(H,0,0,1e3);G&&te&&(ae+=16);let me=0;if(y){const gt=Math.max(r,L);me=Math.round(gt*l)}let we=0;w&&(we=o);let be=0,Me=be+we,He=Me+me,mt=He+ae;const ot=i-we-me-ae;let De=!1,pe=!1,_t=-1;m!==2&&(h==="inherit"&&b?(De=!0,pe=!0):f==="on"||f==="bounded"?pe=!0:f==="wordWrapColumn"&&(_t=p));const _e=v1._computeMinimapLayout({outerWidth:i,outerHeight:s,lineHeight:o,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:D,minimap:E,verticalScrollbarWidth:x,viewLineCount:u,remainingWidth:ot,isViewportWrapping:pe},t.memory||new UJ);_e.renderMinimap!==0&&_e.minimapLeft===0&&(be+=_e.minimapWidth,Me+=_e.minimapWidth,He+=_e.minimapWidth,mt+=_e.minimapWidth);const Ge=ot-_e.minimapWidth,ye=Math.max(1,Math.floor((Ge-x-2)/a)),We=k?N:0;return pe&&(_t=Math.max(1,ye),f==="bounded"&&(_t=Math.min(_t,p))),{width:i,height:s,glyphMarginLeft:be,glyphMarginWidth:we,lineNumbersLeft:Me,lineNumbersWidth:me,decorationsLeft:He,decorationsWidth:ae,contentLeft:mt,contentWidth:Ge,minimap:_e,viewportColumn:ye,isWordWrapMinified:De,isViewportWrapping:pe,wrappingColumn:_t,verticalScrollbarWidth:x,horizontalScrollbarHeight:V,overviewRuler:{top:We,width:x,height:s-2*We,right:0}}}}class uot extends gs{constructor(){const e={enabled:!0};super(59,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:v("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:wt(e.enabled,this.defaultValue.enabled)}}}class dot extends gs{constructor(){const e={stickyScroll:{enabled:!1}};super(34,"experimental",e,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:e.stickyScroll.enabled,description:v("editor.experimental.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")}})}validate(e){var t;return!e||typeof e!="object"?this.defaultValue:{stickyScroll:{enabled:wt((t=e.stickyScroll)===null||t===void 0?void 0:t.enabled,this.defaultValue.stickyScroll.enabled)}}}}class hot extends gs{constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:v("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[v("editor.inlayHints.on","Inlay hints are enabled"),v("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding `Ctrl+Alt`"),v("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding `Ctrl+Alt`"),v("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:v("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:v("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:v("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return typeof t.enabled=="boolean"&&(t.enabled=t.enabled?"on":"off"),{enabled:to(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:un.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Rr.string(t.fontFamily,this.defaultValue.fontFamily),padding:wt(t.padding,this.defaultValue.padding)}}}class fot extends Ou{constructor(){super(61,"lineHeight",Hr.lineHeight,e=>Ou.clamp(e,0,150),{markdownDescription:v("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}}class got extends gs{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:v("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:v("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[v("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),v("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),v("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:v("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:v("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:v("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:v("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:v("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:v("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:wt(t.enabled,this.defaultValue.enabled),autohide:wt(t.autohide,this.defaultValue.autohide),size:to(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:to(t.side,this.defaultValue.side,["right","left"]),showSlider:to(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:wt(t.renderCharacters,this.defaultValue.renderCharacters),scale:un.clampedInt(t.scale,1,1,3),maxColumn:un.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function pot(n){return n==="ctrlCmd"?ai?"metaKey":"ctrlKey":"altKey"}class mot extends gs{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:v("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:v("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{top:un.clampedInt(t.top,0,0,1e3),bottom:un.clampedInt(t.bottom,0,0,1e3)}}}class _ot extends gs{constructor(){const e={enabled:!0,cycle:!1};super(78,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:v("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:v("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:wt(t.enabled,this.defaultValue.enabled),cycle:wt(t.cycle,this.defaultValue.cycle)}}}class vot extends Xv{constructor(){super(131)}compute(e,t,i){return e.pixelRatio}}class bot extends gs{constructor(){const e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[v("on","Quick suggestions show inside the suggest widget"),v("inline","Quick suggestions show as ghost text"),v("off","Quick suggestions are disabled")]}];super(81,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:v("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:v("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:v("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:v("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){const c=e?"on":"off";return{comments:c,strings:c,other:c}}if(!e||typeof e!="object")return this.defaultValue;const{other:t,comments:i,strings:s}=e,o=["on","inline","off"];let r,a,l;return typeof t=="boolean"?r=t?"on":"off":r=to(t,this.defaultValue.other,o),typeof i=="boolean"?a=i?"on":"off":a=to(i,this.defaultValue.comments,o),typeof s=="boolean"?l=s?"on":"off":l=to(s,this.defaultValue.strings,o),{other:r,comments:a,strings:l}}}class Cot extends gs{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[v("lineNumbers.off","Line numbers are not rendered."),v("lineNumbers.on","Line numbers are rendered as absolute number."),v("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),v("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:v("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e!="undefined"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}}function o8(n){const e=n.get(89);return e==="editable"?n.get(83):e!=="on"}class wot extends gs{constructor(){const e=[],t={type:"number",description:v("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(93,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:v("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:v("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(const i of e)if(typeof i=="number")t.push({column:un.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){const s=i;t.push({column:un.clampedInt(s.column,0,0,1e4),color:s.color})}return t.sort((i,s)=>i.column-s.column),t}return this.defaultValue}}function TU(n,e){if(typeof n!="string")return e;switch(n){case"hidden":return 2;case"visible":return 3;default:return 1}}class yot extends gs{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[v("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),v("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),v("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:v("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[v("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),v("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),v("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:v("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:v("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:v("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:v("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e,i=un.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),s=un.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:un.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:TU(t.vertical,this.defaultValue.vertical),horizontal:TU(t.horizontal,this.defaultValue.horizontal),useShadows:wt(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:wt(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:wt(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:wt(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:wt(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:un.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:s,verticalSliderSize:un.clampedInt(t.verticalSliderSize,s,0,1e3),scrollByPage:wt(t.scrollByPage,this.defaultValue.scrollByPage)}}}const sa="inUntrustedWorkspace",lr={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class Sot extends gs{constructor(){const e={nonBasicASCII:sa,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:sa,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",e,{[lr.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,sa],default:e.nonBasicASCII,description:v("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[lr.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:v("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[lr.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:v("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[lr.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,sa],default:e.includeComments,description:v("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[lr.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,sa],default:e.includeStrings,description:v("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[lr.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:v("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[lr.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:v("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&e&&(nl(e.allowedCharacters,t.allowedCharacters)||(e=Object.assign(Object.assign({},e),{allowedCharacters:t.allowedCharacters}),i=!0)),t.allowedLocales&&e&&(nl(e.allowedLocales,t.allowedLocales)||(e=Object.assign(Object.assign({},e),{allowedLocales:t.allowedLocales}),i=!0));const s=super.applyUpdate(e,t);return i?new nC(s.newValue,!0):s}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{nonBasicASCII:b1(t.nonBasicASCII,sa,[!0,!1,sa]),invisibleCharacters:wt(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:wt(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:b1(t.includeComments,sa,[!0,!1,sa]),includeStrings:b1(t.includeStrings,sa,[!0,!1,sa]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;const i={};for(const[s,o]of Object.entries(e))o===!0&&(i[s]=!0);return i}}class Lot extends gs{constructor(){const e={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:v("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:wt(t.enabled,this.defaultValue.enabled),mode:to(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class xot extends gs{constructor(){const e={enabled:po.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:po.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:v("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:v("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:wt(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:wt(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class Dot extends gs{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[v("editor.guides.bracketPairs.true","Enables bracket pair guides."),v("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),v("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:v("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[v("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),v("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),v("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:v("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:v("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:v("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[v("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),v("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),v("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:v("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{bracketPairs:b1(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:b1(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:wt(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:wt(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:b1(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function b1(n,e,t){const i=t.indexOf(n);return i===-1?e:t[i]}class kot extends gs{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[v("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),v("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:v("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:v("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:v("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:v("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:v("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:v("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:v("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:v("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:v("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:v("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:v("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:v("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertMode:to(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:wt(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:wt(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:wt(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:wt(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:wt(t.showIcons,this.defaultValue.showIcons),showStatusBar:wt(t.showStatusBar,this.defaultValue.showStatusBar),preview:wt(t.preview,this.defaultValue.preview),previewMode:to(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:wt(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:wt(t.showMethods,this.defaultValue.showMethods),showFunctions:wt(t.showFunctions,this.defaultValue.showFunctions),showConstructors:wt(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:wt(t.showDeprecated,this.defaultValue.showDeprecated),showFields:wt(t.showFields,this.defaultValue.showFields),showVariables:wt(t.showVariables,this.defaultValue.showVariables),showClasses:wt(t.showClasses,this.defaultValue.showClasses),showStructs:wt(t.showStructs,this.defaultValue.showStructs),showInterfaces:wt(t.showInterfaces,this.defaultValue.showInterfaces),showModules:wt(t.showModules,this.defaultValue.showModules),showProperties:wt(t.showProperties,this.defaultValue.showProperties),showEvents:wt(t.showEvents,this.defaultValue.showEvents),showOperators:wt(t.showOperators,this.defaultValue.showOperators),showUnits:wt(t.showUnits,this.defaultValue.showUnits),showValues:wt(t.showValues,this.defaultValue.showValues),showConstants:wt(t.showConstants,this.defaultValue.showConstants),showEnums:wt(t.showEnums,this.defaultValue.showEnums),showEnumMembers:wt(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:wt(t.showKeywords,this.defaultValue.showKeywords),showWords:wt(t.showWords,this.defaultValue.showWords),showColors:wt(t.showColors,this.defaultValue.showColors),showFiles:wt(t.showFiles,this.defaultValue.showFiles),showReferences:wt(t.showReferences,this.defaultValue.showReferences),showFolders:wt(t.showFolders,this.defaultValue.showFolders),showTypeParameters:wt(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:wt(t.showSnippets,this.defaultValue.showSnippets),showUsers:wt(t.showUsers,this.defaultValue.showUsers),showIssues:wt(t.showIssues,this.defaultValue.showIssues)}}}class Eot extends gs{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:v("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:wt(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Iot extends Xv{constructor(){super(132)}compute(e,t,i){return t.get(83)?!0:e.tabFocusMode}}function Tot(n){switch(n){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Not extends Xv{constructor(){super(134)}compute(e,t,i){const s=t.get(133);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:s.isWordWrapMinified,isViewportWrapping:s.isViewportWrapping,wrappingColumn:s.wrappingColumn}}}class Mot extends gs{constructor(){const e={enabled:!0};super(32,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:v("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:wt(e.enabled,this.defaultValue.enabled)}}}const Aot="Consolas, 'Courier New', monospace",Rot="Menlo, Monaco, 'Courier New', monospace",Oot="'Droid Sans Mono', 'monospace', monospace",Hr={fontFamily:ai?Rot:So?Oot:Aot,fontWeight:"normal",fontSize:ai?12:14,lineHeight:0,letterSpacing:0},j0=[];function Re(n){return j0[n.id]=n,n}const Xc={acceptSuggestionOnCommitCharacter:Re(new di(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:v("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Re(new bs(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",v("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:v("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Re(new Jst),accessibilityPageSize:Re(new un(3,"accessibilityPageSize",10,1,1073741824,{description:v("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Re(new Rr(4,"ariaLabel",v("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Re(new bs(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),v("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:v("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Re(new bs(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",v("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:v("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Re(new bs(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",v("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:v("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Re(new bs(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),v("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:v("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Re(new K2(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],Qst,{enumDescriptions:[v("editor.autoIndent.none","The editor will not insert indentation automatically."),v("editor.autoIndent.keep","The editor will keep the current line's indentation."),v("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),v("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),v("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:v("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Re(new di(10,"automaticLayout",!1)),autoSurround:Re(new bs(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[v("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),v("editor.autoSurround.quotes","Surround with quotes but not brackets."),v("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:v("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Re(new xot),bracketPairGuides:Re(new Dot),stickyTabStops:Re(new di(106,"stickyTabStops",!1,{description:v("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Re(new di(14,"codeLens",!0,{description:v("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Re(new Rr(15,"codeLensFontFamily","",{description:v("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Re(new un(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:v("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Re(new di(17,"colorDecorators",!0,{description:v("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:Re(new di(18,"columnSelection",!1,{description:v("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Re(new eot),contextmenu:Re(new di(20,"contextmenu",!0)),copyWithSyntaxHighlighting:Re(new di(21,"copyWithSyntaxHighlighting",!0,{description:v("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Re(new K2(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],tot,{description:v("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Re(new di(23,"cursorSmoothCaretAnimation",!1,{description:v("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Re(new K2(24,"cursorStyle",Gs.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],iot,{description:v("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Re(new un(25,"cursorSurroundingLines",0,0,1073741824,{description:v("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Re(new bs(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[v("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),v("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:v("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Re(new un(27,"cursorWidth",0,0,1073741824,{markdownDescription:v("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Re(new di(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:Re(new di(29,"disableMonospaceOptimizations",!1)),domReadOnly:Re(new di(30,"domReadOnly",!1)),dragAndDrop:Re(new di(31,"dragAndDrop",!0,{description:v("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Re(new sot),dropIntoEditor:Re(new Mot),experimental:Re(new dot),extraEditorClassName:Re(new Rr(35,"extraEditorClassName","")),fastScrollSensitivity:Re(new Ou(36,"fastScrollSensitivity",5,n=>n<=0?5:n,{markdownDescription:v("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Re(new oot),fixedOverflowWidgets:Re(new di(38,"fixedOverflowWidgets",!1)),folding:Re(new di(39,"folding",!0,{description:v("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Re(new bs(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[v("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),v("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:v("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Re(new di(41,"foldingHighlight",!0,{description:v("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Re(new di(42,"foldingImportsByDefault",!1,{description:v("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Re(new un(43,"foldingMaximumRegions",5e3,10,65e3,{description:v("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Re(new di(44,"unfoldOnClickAfterEndOfLine",!1,{description:v("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Re(new Rr(45,"fontFamily",Hr.fontFamily,{description:v("fontFamily","Controls the font family.")})),fontInfo:Re(new rot),fontLigatures2:Re(new ua),fontSize:Re(new aot),fontWeight:Re(new ku),formatOnPaste:Re(new di(50,"formatOnPaste",!1,{description:v("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Re(new di(51,"formatOnType",!1,{description:v("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Re(new di(52,"glyphMargin",!0,{description:v("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Re(new lot),hideCursorInOverviewRuler:Re(new di(54,"hideCursorInOverviewRuler",!1,{description:v("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Re(new cot),inDiffEditor:Re(new di(56,"inDiffEditor",!1)),letterSpacing:Re(new Ou(58,"letterSpacing",Hr.letterSpacing,n=>Ou.clamp(n,-5,20),{description:v("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Re(new uot),lineDecorationsWidth:Re(new L_(60,"lineDecorationsWidth",10)),lineHeight:Re(new fot),lineNumbers:Re(new Cot),lineNumbersMinChars:Re(new un(63,"lineNumbersMinChars",5,1,300)),linkedEditing:Re(new di(64,"linkedEditing",!1,{description:v("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:Re(new di(65,"links",!0,{description:v("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Re(new bs(66,"matchBrackets","always",["always","near","never"],{description:v("matchBrackets","Highlight matching brackets.")})),minimap:Re(new got),mouseStyle:Re(new bs(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Re(new Ou(69,"mouseWheelScrollSensitivity",1,n=>n===0?1:n,{markdownDescription:v("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Re(new di(70,"mouseWheelZoom",!1,{markdownDescription:v("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Re(new di(71,"multiCursorMergeOverlapping",!0,{description:v("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Re(new K2(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],pot,{markdownEnumDescriptions:[v("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),v("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:v({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Re(new bs(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[v("multiCursorPaste.spread","Each cursor pastes a single line of the text."),v("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:v("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Re(new di(74,"occurrencesHighlight",!0,{description:v("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Re(new di(75,"overviewRulerBorder",!0,{description:v("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Re(new un(76,"overviewRulerLanes",3,0,3)),padding:Re(new mot),parameterHints:Re(new _ot),peekWidgetDefaultFocus:Re(new bs(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[v("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),v("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:v("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Re(new di(80,"definitionLinkOpensInPeek",!1,{description:v("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Re(new bot),quickSuggestionsDelay:Re(new un(82,"quickSuggestionsDelay",10,0,1073741824,{description:v("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Re(new di(83,"readOnly",!1)),renameOnType:Re(new di(84,"renameOnType",!1,{description:v("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:v("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Re(new di(85,"renderControlCharacters",!0,{description:v("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Re(new di(86,"renderFinalNewline",!0,{description:v("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Re(new bs(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",v("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:v("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Re(new di(88,"renderLineHighlightOnlyWhenFocus",!1,{description:v("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Re(new bs(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Re(new bs(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",v("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),v("renderWhitespace.selection","Render whitespace characters only on selected text."),v("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:v("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Re(new un(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Re(new di(92,"roundedSelection",!0,{description:v("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Re(new wot),scrollbar:Re(new yot),scrollBeyondLastColumn:Re(new un(95,"scrollBeyondLastColumn",4,0,1073741824,{description:v("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Re(new di(96,"scrollBeyondLastLine",!0,{description:v("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Re(new di(97,"scrollPredominantAxis",!0,{description:v("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Re(new di(98,"selectionClipboard",!0,{description:v("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:So})),selectionHighlight:Re(new di(99,"selectionHighlight",!0,{description:v("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Re(new di(100,"selectOnLineNumbers",!0)),showFoldingControls:Re(new bs(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[v("showFoldingControls.always","Always show the folding controls."),v("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),v("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:v("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Re(new di(102,"showUnused",!0,{description:v("showUnused","Controls fading out of unused code.")})),showDeprecated:Re(new di(128,"showDeprecated",!0,{description:v("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Re(new hot),snippetSuggestions:Re(new bs(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[v("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),v("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),v("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),v("snippetSuggestions.none","Do not show snippet suggestions.")],description:v("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Re(new Eot),smoothScrolling:Re(new di(105,"smoothScrolling",!1,{description:v("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Re(new un(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Re(new kot),inlineSuggest:Re(new Lot),suggestFontSize:Re(new un(109,"suggestFontSize",0,0,1e3,{markdownDescription:v("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:Re(new un(110,"suggestLineHeight",0,0,1e3,{markdownDescription:v("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Re(new di(111,"suggestOnTriggerCharacters",!0,{description:v("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Re(new bs(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[v("suggestSelection.first","Always select the first suggestion."),v("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),v("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:v("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Re(new bs(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[v("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),v("tabCompletion.off","Disable tab completions."),v("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:v("tabCompletion","Enables tab completions.")})),tabIndex:Re(new un(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:Re(new Sot),unusualLineTerminators:Re(new bs(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[v("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),v("unusualLineTerminators.off","Unusual line terminators are ignored."),v("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:v("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Re(new di(117,"useShadowDOM",!0)),useTabStops:Re(new di(118,"useTabStops",!0,{description:v("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Re(new Rr(119,"wordSeparators",TJ,{description:v("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Re(new bs(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[v("wordWrap.off","Lines will never wrap."),v("wordWrap.on","Lines will wrap at the viewport width."),v({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),v({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:v({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Re(new Rr(121,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Re(new Rr(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Re(new un(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:v({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Re(new bs(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Re(new bs(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Re(new K2(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Tot,{enumDescriptions:[v("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),v("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),v("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),v("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:v("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Re(new bs(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[v("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),v("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:v("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Re(new not),pixelRatio:Re(new vot),tabFocusMode:Re(new Iot),layoutInfo:Re(new v1),wrappingInfo:Re(new Not)};class Pot{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?ov.isErrorNoTelemetry(e)?new ov(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const jJ=new Pot;function Ot(n){cd(n)||jJ.onUnexpectedError(n)}function $s(n){cd(n)||jJ.onUnexpectedExternalError(n)}function NU(n){if(n instanceof Error){const{name:e,message:t}=n,i=n.stacktrace||n.stack;return{$isError:!0,name:e,message:t,stack:i,noTelemetry:ov.isErrorNoTelemetry(n)}}return n}const r8="Canceled";function cd(n){return n instanceof Kg?!0:n instanceof Error&&n.name===r8&&n.message===r8}class Kg extends Error{constructor(){super(r8),this.name=this.message}}function KJ(){const n=new Error(r8);return n.name=n.message,n}function Oc(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function Fot(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class Bot extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class ov extends Error{constructor(e){super(e),this.name="ErrorNoTelemetry"}static fromError(e){if(e instanceof ov)return e;const t=new ov;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="ErrorNoTelemetry"}}class BO extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,BO.prototype);debugger}}function Mh(n){const e=this;let t=!1,i;return function(){return t||(t=!0,i=n.apply(e,arguments)),i}}class Vot extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function VO(n){return typeof n.dispose=="function"&&n.dispose.length===0}function vi(n){if(ei.is(n)){const e=[];for(const t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new Vot(e);return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function $u(...n){return jt(()=>vi(n))}function jt(n){return{dispose:Mh(()=>{n()})}}class Ie{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{vi(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?Ie.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}Ie.DISABLE_DISPOSED_WARNING=!1;class de{constructor(){this._store=new Ie,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}de.None=Object.freeze({dispose(){}});class Bo{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)===null||t===void 0||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)===null||e===void 0||e.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e}}class Wot{constructor(e){this._disposable=e,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class Hot{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1}set(e){let t=e;return this.unset=()=>t=void 0,this.isset=()=>t!==void 0,this.dispose=()=>{t&&(t(),t=void 0)},this}}class $ot{constructor(e){this.object=e}dispose(){}}const zot=Yn.performance&&typeof Yn.performance.now=="function";class yr{constructor(e){this._highResolution=zot&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new yr(e)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?Yn.performance.now():Date.now()}}var ct;(function(n){n.None=()=>de.None;function e(T){return(x,k=null,N)=>{let V=!1,H;return H=T(G=>{if(!V)return H?H.dispose():V=!0,x.call(k,G)},null,N),V&&H.dispose(),H}}n.once=e;function t(T,x,k){return l((N,V=null,H)=>T(G=>N.call(V,x(G)),null,H),k)}n.map=t;function i(T,x,k){return l((N,V=null,H)=>T(G=>{x(G),N.call(V,G)},null,H),k)}n.forEach=i;function s(T,x,k){return l((N,V=null,H)=>T(G=>x(G)&&N.call(V,G),null,H),k)}n.filter=s;function o(T){return T}n.signal=o;function r(...T){return(x,k=null,N)=>$u(...T.map(V=>V(H=>x.call(k,H),null,N)))}n.any=r;function a(T,x,k,N){let V=k;return t(T,H=>(V=x(V,H),V),N)}n.reduce=a;function l(T,x){let k;const N={onFirstListenerAdd(){k=T(V.fire,V)},onLastListenerRemove(){k==null||k.dispose()}},V=new J(N);return x==null||x.add(V),V.event}function c(T,x,k=100,N=!1,V,H){let G,te,ae,me=0;const we={leakWarningThreshold:V,onFirstListenerAdd(){G=T(Me=>{me++,te=x(te,Me),N&&!ae&&(be.fire(te),te=void 0),clearTimeout(ae),ae=setTimeout(()=>{const He=te;te=void 0,ae=void 0,(!N||me>1)&&be.fire(He),me=0},k)})},onLastListenerRemove(){G.dispose()}},be=new J(we);return H==null||H.add(be),be.event}n.debounce=c;function u(T,x=(N,V)=>N===V,k){let N=!0,V;return s(T,H=>{const G=N||!x(H,V);return N=!1,V=H,G},k)}n.latch=u;function d(T,x,k){return[n.filter(T,x,k),n.filter(T,N=>!x(N),k)]}n.split=d;function h(T,x=!1,k=[]){let N=k.slice(),V=T(te=>{N?N.push(te):G.fire(te)});const H=()=>{N==null||N.forEach(te=>G.fire(te)),N=null},G=new J({onFirstListenerAdd(){V||(V=T(te=>G.fire(te)))},onFirstListenerDidAdd(){N&&(x?setTimeout(H):H())},onLastListenerRemove(){V&&V.dispose(),V=null}});return G.event}n.buffer=h;class f{constructor(x){this.event=x,this.disposables=new Ie}map(x){return new f(t(this.event,x,this.disposables))}forEach(x){return new f(i(this.event,x,this.disposables))}filter(x){return new f(s(this.event,x,this.disposables))}reduce(x,k){return new f(a(this.event,x,k,this.disposables))}latch(){return new f(u(this.event,void 0,this.disposables))}debounce(x,k=100,N=!1,V){return new f(c(this.event,x,k,N,V,this.disposables))}on(x,k,N){return this.event(x,k,N)}once(x,k,N){return e(this.event)(x,k,N)}dispose(){this.disposables.dispose()}}function p(T){return new f(T)}n.chain=p;function m(T,x,k=N=>N){const N=(...te)=>G.fire(k(...te)),V=()=>T.on(x,N),H=()=>T.removeListener(x,N),G=new J({onFirstListenerAdd:V,onLastListenerRemove:H});return G.event}n.fromNodeEventEmitter=m;function b(T,x,k=N=>N){const N=(...te)=>G.fire(k(...te)),V=()=>T.addEventListener(x,N),H=()=>T.removeEventListener(x,N),G=new J({onFirstListenerAdd:V,onLastListenerRemove:H});return G.event}n.fromDOMEventEmitter=b;function w(T){return new Promise(x=>e(T)(x))}n.toPromise=w;function y(T,x){return x(void 0),T(k=>x(k))}n.runAndSubscribe=y;function L(T,x){let k=null;function N(H){k==null||k.dispose(),k=new Ie,x(H,k)}N(void 0);const V=T(H=>N(H));return jt(()=>{V.dispose(),k==null||k.dispose()})}n.runAndSubscribeWithStore=L;class D{constructor(x,k){this.obs=x,this._counter=0,this._hasChanged=!1;const N={onFirstListenerAdd:()=>{x.addObserver(this)},onLastListenerRemove:()=>{x.removeObserver(this)}};this.emitter=new J(N),k&&k.add(this.emitter)}beginUpdate(x){this._counter++}handleChange(x,k){this._hasChanged=!0}endUpdate(x){--this._counter===0&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}function E(T,x){return new D(T,x).emitter.event}n.fromObservable=E})(ct||(ct={}));class Bx{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${Bx._idPool++}`}start(e){this._stopWatch=new yr(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}Bx._idPool=0;class WO{constructor(e){this.value=e}static create(){var e;return new WO((e=new Error().stack)!==null&&e!==void 0?e:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class Uot{constructor(e,t,i){this.callback=e,this.callbackThis=t,this.stack=i,this.subscription=new Hot}invoke(e){this.callback.call(this.callbackThis,e)}}class J{constructor(e){var t,i;this._disposed=!1,this._options=e,this._leakageMon=void 0,this._perfMon=!((t=this._options)===null||t===void 0)&&t._profName?new Bx(this._options._profName):void 0,this._deliveryQueue=(i=this._options)===null||i===void 0?void 0:i.deliveryQueue}dispose(){var e,t,i,s;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),(e=this._deliveryQueue)===null||e===void 0||e.clear(this),(i=(t=this._options)===null||t===void 0?void 0:t.onLastListenerRemove)===null||i===void 0||i.call(t),(s=this._leakageMon)===null||s===void 0||s.dispose())}get event(){return this._event||(this._event=(e,t,i)=>{var s,o,r;this._listeners||(this._listeners=new Yo);const a=this._listeners.isEmpty();a&&((s=this._options)===null||s===void 0?void 0:s.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let l,c;this._leakageMon&&this._listeners.size>=30&&(c=WO.create(),l=this._leakageMon.check(c,this._listeners.size+1));const u=new Uot(e,t,c),d=this._listeners.push(u);a&&((o=this._options)===null||o===void 0?void 0:o.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),!((r=this._options)===null||r===void 0)&&r.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);const h=u.subscription.set(()=>{l==null||l(),this._disposed||(d(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return i instanceof Ie?i.add(h):Array.isArray(i)&&i.push(h),h}),this._event}fire(e){var t,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new jot);for(const s of this._listeners)this._deliveryQueue.push(this,s,e);(t=this._perfMon)===null||t===void 0||t.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(i=this._perfMon)===null||i===void 0||i.stop()}}}class qJ{constructor(){this._queue=new Yo}get size(){return this._queue.size}push(e,t,i){this._queue.push(new Kot(e,t,i))}clear(e){const t=new Yo;for(const i of this._queue)i.emitter!==e&&t.push(i);this._queue=t}deliver(){for(;this._queue.size>0;){const e=this._queue.shift();try{e.listener.invoke(e.event)}catch(t){Ot(t)}}}}class jot extends qJ{clear(e){this._queue.clear()}}class Kot{constructor(e,t,i){this.emitter=e,this.listener=t,this.event=i}}class a8 extends J{constructor(e){super(e),this._isPaused=0,this._eventQueue=new Yo,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class qot extends a8{constructor(e){var t;super(e),this._delay=(t=e.delay)!==null&&t!==void 0?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class HO{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,s)=>e(o=>{const r=this.buffers[this.buffers.length-1];r?r.push(()=>t.call(i,o)):t.call(i,o)},void 0,s)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach(s=>s()),i}}class MU{constructor(){this.listening=!1,this.inputEvent=ct.None,this.inputEventListener=de.None,this.emitter=new J({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const GJ=Object.freeze(function(n,e){const t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}});var Yt;(function(n){function e(t){return t===n.None||t===n.Cancelled||t instanceof l6?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}n.isCancellationToken=e,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ct.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:GJ})})(Yt||(Yt={}));class l6{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?GJ:(this._emitter||(this._emitter=new J),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class ro{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new l6),this._token}cancel(){this._token?this._token instanceof l6&&this._token.cancel():this._token=Yt.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof l6&&this._token.dispose():this._token=Yt.None}}class $O{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const c6=new $O,q9=new $O,G9=new $O,YJ=new Array(230),Got=Object.create(null),Yot=Object.create(null),zO=[];for(let n=0;n<=193;n++)zO[n]=-1;(function(){const n="",e=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[0,1,1,"Hyper",0,n,0,n,n,n],[0,1,2,"Super",0,n,0,n,n,n],[0,1,3,"Fn",0,n,0,n,n,n],[0,1,4,"FnLock",0,n,0,n,n,n],[0,1,5,"Suspend",0,n,0,n,n,n],[0,1,6,"Resume",0,n,0,n,n,n],[0,1,7,"Turbo",0,n,0,n,n,n],[0,1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[0,1,9,"WakeUp",0,n,0,n,n,n],[31,0,10,"KeyA",31,"A",65,"VK_A",n,n],[32,0,11,"KeyB",32,"B",66,"VK_B",n,n],[33,0,12,"KeyC",33,"C",67,"VK_C",n,n],[34,0,13,"KeyD",34,"D",68,"VK_D",n,n],[35,0,14,"KeyE",35,"E",69,"VK_E",n,n],[36,0,15,"KeyF",36,"F",70,"VK_F",n,n],[37,0,16,"KeyG",37,"G",71,"VK_G",n,n],[38,0,17,"KeyH",38,"H",72,"VK_H",n,n],[39,0,18,"KeyI",39,"I",73,"VK_I",n,n],[40,0,19,"KeyJ",40,"J",74,"VK_J",n,n],[41,0,20,"KeyK",41,"K",75,"VK_K",n,n],[42,0,21,"KeyL",42,"L",76,"VK_L",n,n],[43,0,22,"KeyM",43,"M",77,"VK_M",n,n],[44,0,23,"KeyN",44,"N",78,"VK_N",n,n],[45,0,24,"KeyO",45,"O",79,"VK_O",n,n],[46,0,25,"KeyP",46,"P",80,"VK_P",n,n],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[48,0,27,"KeyR",48,"R",82,"VK_R",n,n],[49,0,28,"KeyS",49,"S",83,"VK_S",n,n],[50,0,29,"KeyT",50,"T",84,"VK_T",n,n],[51,0,30,"KeyU",51,"U",85,"VK_U",n,n],[52,0,31,"KeyV",52,"V",86,"VK_V",n,n],[53,0,32,"KeyW",53,"W",87,"VK_W",n,n],[54,0,33,"KeyX",54,"X",88,"VK_X",n,n],[55,0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[22,0,36,"Digit1",22,"1",49,"VK_1",n,n],[23,0,37,"Digit2",23,"2",50,"VK_2",n,n],[24,0,38,"Digit3",24,"3",51,"VK_3",n,n],[25,0,39,"Digit4",25,"4",52,"VK_4",n,n],[26,0,40,"Digit5",26,"5",53,"VK_5",n,n],[27,0,41,"Digit6",27,"6",54,"VK_6",n,n],[28,0,42,"Digit7",28,"7",55,"VK_7",n,n],[29,0,43,"Digit8",29,"8",56,"VK_8",n,n],[30,0,44,"Digit9",30,"9",57,"VK_9",n,n],[21,0,45,"Digit0",21,"0",48,"VK_0",n,n],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[10,1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,n,0,n,n,n],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[59,1,64,"F1",59,"F1",112,"VK_F1",n,n],[60,1,65,"F2",60,"F2",113,"VK_F2",n,n],[61,1,66,"F3",61,"F3",114,"VK_F3",n,n],[62,1,67,"F4",62,"F4",115,"VK_F4",n,n],[63,1,68,"F5",63,"F5",116,"VK_F5",n,n],[64,1,69,"F6",64,"F6",117,"VK_F6",n,n],[65,1,70,"F7",65,"F7",118,"VK_F7",n,n],[66,1,71,"F8",66,"F8",119,"VK_F8",n,n],[67,1,72,"F9",67,"F9",120,"VK_F9",n,n],[68,1,73,"F10",68,"F10",121,"VK_F10",n,n],[69,1,74,"F11",69,"F11",122,"VK_F11",n,n],[70,1,75,"F12",70,"F12",123,"VK_F12",n,n],[0,1,76,"PrintScreen",0,n,0,n,n,n],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",n,n],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[14,1,80,"Home",14,"Home",36,"VK_HOME",n,n],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[13,1,83,"End",13,"End",35,"VK_END",n,n],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",n,n],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",n,n],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",n,n],[3,1,94,"NumpadEnter",3,n,0,n,n,n],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",n,n],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",n,n],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",n,n],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",n,n],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",n,n],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",n,n],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",n,n],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",n,n],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",n,n],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",n,n],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",n,n],[58,1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[0,1,108,"Power",0,n,0,n,n,n],[0,1,109,"NumpadEqual",0,n,0,n,n,n],[71,1,110,"F13",71,"F13",124,"VK_F13",n,n],[72,1,111,"F14",72,"F14",125,"VK_F14",n,n],[73,1,112,"F15",73,"F15",126,"VK_F15",n,n],[74,1,113,"F16",74,"F16",127,"VK_F16",n,n],[75,1,114,"F17",75,"F17",128,"VK_F17",n,n],[76,1,115,"F18",76,"F18",129,"VK_F18",n,n],[77,1,116,"F19",77,"F19",130,"VK_F19",n,n],[0,1,117,"F20",0,n,0,"VK_F20",n,n],[0,1,118,"F21",0,n,0,"VK_F21",n,n],[0,1,119,"F22",0,n,0,"VK_F22",n,n],[0,1,120,"F23",0,n,0,"VK_F23",n,n],[0,1,121,"F24",0,n,0,"VK_F24",n,n],[0,1,122,"Open",0,n,0,n,n,n],[0,1,123,"Help",0,n,0,n,n,n],[0,1,124,"Select",0,n,0,n,n,n],[0,1,125,"Again",0,n,0,n,n,n],[0,1,126,"Undo",0,n,0,n,n,n],[0,1,127,"Cut",0,n,0,n,n,n],[0,1,128,"Copy",0,n,0,n,n,n],[0,1,129,"Paste",0,n,0,n,n,n],[0,1,130,"Find",0,n,0,n,n,n],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",n,n],[0,1,136,"KanaMode",0,n,0,n,n,n],[0,0,137,"IntlYen",0,n,0,n,n,n],[0,1,138,"Convert",0,n,0,n,n,n],[0,1,139,"NonConvert",0,n,0,n,n,n],[0,1,140,"Lang1",0,n,0,n,n,n],[0,1,141,"Lang2",0,n,0,n,n,n],[0,1,142,"Lang3",0,n,0,n,n,n],[0,1,143,"Lang4",0,n,0,n,n,n],[0,1,144,"Lang5",0,n,0,n,n,n],[0,1,145,"Abort",0,n,0,n,n,n],[0,1,146,"Props",0,n,0,n,n,n],[0,1,147,"NumpadParenLeft",0,n,0,n,n,n],[0,1,148,"NumpadParenRight",0,n,0,n,n,n],[0,1,149,"NumpadBackspace",0,n,0,n,n,n],[0,1,150,"NumpadMemoryStore",0,n,0,n,n,n],[0,1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[0,1,152,"NumpadMemoryClear",0,n,0,n,n,n],[0,1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[0,1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",n,n],[0,1,156,"NumpadClearEntry",0,n,0,n,n,n],[5,1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[4,1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[6,1,0,n,6,"Alt",18,"VK_MENU",n,n],[57,1,0,n,57,"Meta",0,"VK_COMMAND",n,n],[5,1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[4,1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[6,1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[57,1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[5,1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[4,1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[6,1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[57,1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[0,1,165,"BrightnessUp",0,n,0,n,n,n],[0,1,166,"BrightnessDown",0,n,0,n,n,n],[0,1,167,"MediaPlay",0,n,0,n,n,n],[0,1,168,"MediaRecord",0,n,0,n,n,n],[0,1,169,"MediaFastForward",0,n,0,n,n,n],[0,1,170,"MediaRewind",0,n,0,n,n,n],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",n,n],[0,1,174,"Eject",0,n,0,n,n,n],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[0,1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[0,1,180,"SelectTask",0,n,0,n,n,n],[0,1,181,"LaunchScreenSaver",0,n,0,n,n,n],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[0,1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[0,1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[0,1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[0,1,189,"ZoomToggle",0,n,0,n,n,n],[0,1,190,"MailReply",0,n,0,n,n,n],[0,1,191,"MailForward",0,n,0,n,n,n],[0,1,192,"MailSend",0,n,0,n,n,n],[109,1,0,n,109,"KeyInComposition",229,n,n,n],[111,1,0,n,111,"ABNT_C2",194,"VK_ABNT_C2",n,n],[91,1,0,n,91,"OEM_8",223,"VK_OEM_8",n,n],[0,1,0,n,0,n,0,"VK_KANA",n,n],[0,1,0,n,0,n,0,"VK_HANGUL",n,n],[0,1,0,n,0,n,0,"VK_JUNJA",n,n],[0,1,0,n,0,n,0,"VK_FINAL",n,n],[0,1,0,n,0,n,0,"VK_HANJA",n,n],[0,1,0,n,0,n,0,"VK_KANJI",n,n],[0,1,0,n,0,n,0,"VK_CONVERT",n,n],[0,1,0,n,0,n,0,"VK_NONCONVERT",n,n],[0,1,0,n,0,n,0,"VK_ACCEPT",n,n],[0,1,0,n,0,n,0,"VK_MODECHANGE",n,n],[0,1,0,n,0,n,0,"VK_SELECT",n,n],[0,1,0,n,0,n,0,"VK_PRINT",n,n],[0,1,0,n,0,n,0,"VK_EXECUTE",n,n],[0,1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[0,1,0,n,0,n,0,"VK_HELP",n,n],[0,1,0,n,0,n,0,"VK_APPS",n,n],[0,1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[0,1,0,n,0,n,0,"VK_PACKET",n,n],[0,1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_ATTN",n,n],[0,1,0,n,0,n,0,"VK_CRSEL",n,n],[0,1,0,n,0,n,0,"VK_EXSEL",n,n],[0,1,0,n,0,n,0,"VK_EREOF",n,n],[0,1,0,n,0,n,0,"VK_PLAY",n,n],[0,1,0,n,0,n,0,"VK_ZOOM",n,n],[0,1,0,n,0,n,0,"VK_NONAME",n,n],[0,1,0,n,0,n,0,"VK_PA1",n,n],[0,1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],i=[];for(const s of e){const[o,r,a,l,c,u,d,h,f,p]=s;if(i[a]||(i[a]=!0,Got[l]=a,Yot[l.toLowerCase()]=a,r&&(zO[a]=c)),!t[c]){if(t[c]=!0,!u)throw new Error(`String representation missing for key code ${c} around scan code ${l}`);c6.define(c,u),q9.define(c,f||u),G9.define(c,p||f||u)}d&&(YJ[d]=c)}})();var Zp;(function(n){function e(a){return c6.keyCodeToStr(a)}n.toString=e;function t(a){return c6.strToKeyCode(a)}n.fromString=t;function i(a){return q9.keyCodeToStr(a)}n.toUserSettingsUS=i;function s(a){return G9.keyCodeToStr(a)}n.toUserSettingsGeneral=s;function o(a){return q9.strToKeyCode(a)||G9.strToKeyCode(a)}n.fromUserSettings=o;function r(a){if(a>=93&&a<=108)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return c6.keyCodeToStr(a)}n.toElectronAccelerator=r})(Zp||(Zp={}));function ks(n,e){const t=(e&65535)<<16>>>0;return(n|t)>>>0}let C1;if(typeof Yn.vscode!="undefined"&&typeof Yn.vscode.process!="undefined"){const n=Yn.vscode.process;C1={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process!="undefined"?C1={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:C1={get platform(){return oo?"win32":ai?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const Y9=C1.cwd,Zot=C1.env,x_=C1.platform,Xot=65,Qot=97,Jot=90,ert=122,ng=46,Mo=47,ia=92,pf=58,trt=63;class ZJ extends Error{constructor(e,t,i){let s;typeof t=="string"&&t.indexOf("not ")===0?(s="must not be",t=t.replace(/^not /,"")):s="must be";const o=e.indexOf(".")!==-1?"property":"argument";let r=`The "${e}" ${o} ${s} of type ${t}`;r+=`. Received type ${typeof i}`,super(r),this.code="ERR_INVALID_ARG_TYPE"}}function Fs(n,e){if(typeof n!="string")throw new ZJ(e,"string",n)}function Ti(n){return n===Mo||n===ia}function Z9(n){return n===Mo}function mf(n){return n>=Xot&&n<=Jot||n>=Qot&&n<=ert}function l8(n,e,t,i){let s="",o=0,r=-1,a=0,l=0;for(let c=0;c<=n.length;++c){if(c<n.length)l=n.charCodeAt(c);else{if(i(l))break;l=Mo}if(i(l)){if(!(r===c-1||a===1))if(a===2){if(s.length<2||o!==2||s.charCodeAt(s.length-1)!==ng||s.charCodeAt(s.length-2)!==ng){if(s.length>2){const u=s.lastIndexOf(t);u===-1?(s="",o=0):(s=s.slice(0,u),o=s.length-1-s.lastIndexOf(t)),r=c,a=0;continue}else if(s.length!==0){s="",o=0,r=c,a=0;continue}}e&&(s+=s.length>0?`${t}..`:"..",o=2)}else s.length>0?s+=`${t}${n.slice(r+1,c)}`:s=n.slice(r+1,c),o=c-r-1;r=c,a=0}else l===ng&&a!==-1?++a:a=-1}return s}function XJ(n,e){if(e===null||typeof e!="object")throw new ZJ("pathObject","Object",e);const t=e.dir||e.root,i=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}const Vr={resolve(...n){let e="",t="",i=!1;for(let s=n.length-1;s>=-1;s--){let o;if(s>=0){if(o=n[s],Fs(o,"path"),o.length===0)continue}else e.length===0?o=Y9():(o=Zot[`=${e}`]||Y9(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===ia)&&(o=`${e}\\`));const r=o.length;let a=0,l="",c=!1;const u=o.charCodeAt(0);if(r===1)Ti(u)&&(a=1,c=!0);else if(Ti(u))if(c=!0,Ti(o.charCodeAt(1))){let d=2,h=d;for(;d<r&&!Ti(o.charCodeAt(d));)d++;if(d<r&&d!==h){const f=o.slice(h,d);for(h=d;d<r&&Ti(o.charCodeAt(d));)d++;if(d<r&&d!==h){for(h=d;d<r&&!Ti(o.charCodeAt(d));)d++;(d===r||d!==h)&&(l=`\\\\${f}\\${o.slice(h,d)}`,a=d)}}}else a=1;else mf(u)&&o.charCodeAt(1)===pf&&(l=o.slice(0,2),a=2,r>2&&Ti(o.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${o.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=l8(t,!i,"\\",Ti),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){Fs(n,"path");const e=n.length;if(e===0)return".";let t=0,i,s=!1;const o=n.charCodeAt(0);if(e===1)return Z9(o)?"\\":n;if(Ti(o))if(s=!0,Ti(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!Ti(n.charCodeAt(a));)a++;if(a<e&&a!==l){const c=n.slice(l,a);for(l=a;a<e&&Ti(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!Ti(n.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${n.slice(l,a)}`,t=a)}}}else t=1;else mf(o)&&n.charCodeAt(1)===pf&&(i=n.slice(0,2),t=2,e>2&&Ti(n.charCodeAt(2))&&(s=!0,t=3));let r=t<e?l8(n.slice(t),!s,"\\",Ti):"";return r.length===0&&!s&&(r="."),r.length>0&&Ti(n.charCodeAt(e-1))&&(r+="\\"),i===void 0?s?`\\${r}`:r:s?`${i}\\${r}`:`${i}${r}`},isAbsolute(n){Fs(n,"path");const e=n.length;if(e===0)return!1;const t=n.charCodeAt(0);return Ti(t)||e>2&&mf(t)&&n.charCodeAt(1)===pf&&Ti(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let o=0;o<n.length;++o){const r=n[o];Fs(r,"path"),r.length>0&&(e===void 0?e=t=r:e+=`\\${r}`)}if(e===void 0)return".";let i=!0,s=0;if(typeof t=="string"&&Ti(t.charCodeAt(0))){++s;const o=t.length;o>1&&Ti(t.charCodeAt(1))&&(++s,o>2&&(Ti(t.charCodeAt(2))?++s:i=!1))}if(i){for(;s<e.length&&Ti(e.charCodeAt(s));)s++;s>=2&&(e=`\\${e.slice(s)}`)}return Vr.normalize(e)},relative(n,e){if(Fs(n,"from"),Fs(e,"to"),n===e)return"";const t=Vr.resolve(n),i=Vr.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let s=0;for(;s<n.length&&n.charCodeAt(s)===ia;)s++;let o=n.length;for(;o-1>s&&n.charCodeAt(o-1)===ia;)o--;const r=o-s;let a=0;for(;a<e.length&&e.charCodeAt(a)===ia;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===ia;)l--;const c=l-a,u=r<c?r:c;let d=-1,h=0;for(;h<u;h++){const p=n.charCodeAt(s+h);if(p!==e.charCodeAt(a+h))break;p===ia&&(d=h)}if(h!==u){if(d===-1)return i}else{if(c>u){if(e.charCodeAt(a+h)===ia)return i.slice(a+h+1);if(h===2)return i.slice(a+h)}r>u&&(n.charCodeAt(s+h)===ia?d=h:h===2&&(d=3)),d===-1&&(d=0)}let f="";for(h=s+d+1;h<=o;++h)(h===o||n.charCodeAt(h)===ia)&&(f+=f.length===0?"..":"\\..");return a+=d,f.length>0?`${f}${i.slice(a,l)}`:(i.charCodeAt(a)===ia&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string")return n;if(n.length===0)return"";const e=Vr.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===ia){if(e.charCodeAt(1)===ia){const t=e.charCodeAt(2);if(t!==trt&&t!==ng)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(mf(e.charCodeAt(0))&&e.charCodeAt(1)===pf&&e.charCodeAt(2)===ia)return`\\\\?\\${e}`;return n},dirname(n){Fs(n,"path");const e=n.length;if(e===0)return".";let t=-1,i=0;const s=n.charCodeAt(0);if(e===1)return Ti(s)?n:".";if(Ti(s)){if(t=i=1,Ti(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!Ti(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&Ti(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!Ti(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else mf(s)&&n.charCodeAt(1)===pf&&(t=e>2&&Ti(n.charCodeAt(2))?3:2,i=t);let o=-1,r=!0;for(let a=e-1;a>=i;--a)if(Ti(n.charCodeAt(a))){if(!r){o=a;break}}else r=!1;if(o===-1){if(t===-1)return".";o=t}return n.slice(0,o)},basename(n,e){e!==void 0&&Fs(e,"ext"),Fs(n,"path");let t=0,i=-1,s=!0,o;if(n.length>=2&&mf(n.charCodeAt(0))&&n.charCodeAt(1)===pf&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let r=e.length-1,a=-1;for(o=n.length-1;o>=t;--o){const l=n.charCodeAt(o);if(Ti(l)){if(!s){t=o+1;break}}else a===-1&&(s=!1,a=o+1),r>=0&&(l===e.charCodeAt(r)?--r===-1&&(i=o):(r=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(o=n.length-1;o>=t;--o)if(Ti(n.charCodeAt(o))){if(!s){t=o+1;break}}else i===-1&&(s=!1,i=o+1);return i===-1?"":n.slice(t,i)},extname(n){Fs(n,"path");let e=0,t=-1,i=0,s=-1,o=!0,r=0;n.length>=2&&n.charCodeAt(1)===pf&&mf(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){const l=n.charCodeAt(a);if(Ti(l)){if(!o){i=a+1;break}continue}s===-1&&(o=!1,s=a+1),l===ng?t===-1?t=a:r!==1&&(r=1):t!==-1&&(r=-1)}return t===-1||s===-1||r===0||r===1&&t===s-1&&t===i+1?"":n.slice(t,s)},format:XJ.bind(null,"\\"),parse(n){Fs(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.length;let i=0,s=n.charCodeAt(0);if(t===1)return Ti(s)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(Ti(s)){if(i=1,Ti(n.charCodeAt(1))){let d=2,h=d;for(;d<t&&!Ti(n.charCodeAt(d));)d++;if(d<t&&d!==h){for(h=d;d<t&&Ti(n.charCodeAt(d));)d++;if(d<t&&d!==h){for(h=d;d<t&&!Ti(n.charCodeAt(d));)d++;d===t?i=d:d!==h&&(i=d+1)}}}}else if(mf(s)&&n.charCodeAt(1)===pf){if(t<=2)return e.root=e.dir=n,e;if(i=2,Ti(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let o=-1,r=i,a=-1,l=!0,c=n.length-1,u=0;for(;c>=i;--c){if(s=n.charCodeAt(c),Ti(s)){if(!l){r=c+1;break}continue}a===-1&&(l=!1,a=c+1),s===ng?o===-1?o=c:u!==1&&(u=1):o!==-1&&(u=-1)}return a!==-1&&(o===-1||u===0||u===1&&o===a-1&&o===r+1?e.base=e.name=n.slice(r,a):(e.name=n.slice(r,o),e.base=n.slice(r,a),e.ext=n.slice(o,a))),r>0&&r!==i?e.dir=n.slice(0,r-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},ds={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){const s=i>=0?n[i]:Y9();Fs(s,"path"),s.length!==0&&(e=`${s}/${e}`,t=s.charCodeAt(0)===Mo)}return e=l8(e,!t,"/",Z9),t?`/${e}`:e.length>0?e:"."},normalize(n){if(Fs(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===Mo,t=n.charCodeAt(n.length-1)===Mo;return n=l8(n,!e,"/",Z9),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return Fs(n,"path"),n.length>0&&n.charCodeAt(0)===Mo},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const i=n[t];Fs(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":ds.normalize(e)},relative(n,e){if(Fs(n,"from"),Fs(e,"to"),n===e||(n=ds.resolve(n),e=ds.resolve(e),n===e))return"";const t=1,i=n.length,s=i-t,o=1,r=e.length-o,a=s<r?s:r;let l=-1,c=0;for(;c<a;c++){const d=n.charCodeAt(t+c);if(d!==e.charCodeAt(o+c))break;d===Mo&&(l=c)}if(c===a)if(r>a){if(e.charCodeAt(o+c)===Mo)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else s>a&&(n.charCodeAt(t+c)===Mo?l=c:c===0&&(l=0));let u="";for(c=t+l+1;c<=i;++c)(c===i||n.charCodeAt(c)===Mo)&&(u+=u.length===0?"..":"/..");return`${u}${e.slice(o+l)}`},toNamespacedPath(n){return n},dirname(n){if(Fs(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===Mo;let t=-1,i=!0;for(let s=n.length-1;s>=1;--s)if(n.charCodeAt(s)===Mo){if(!i){t=s;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&Fs(e,"ext"),Fs(n,"path");let t=0,i=-1,s=!0,o;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let r=e.length-1,a=-1;for(o=n.length-1;o>=0;--o){const l=n.charCodeAt(o);if(l===Mo){if(!s){t=o+1;break}}else a===-1&&(s=!1,a=o+1),r>=0&&(l===e.charCodeAt(r)?--r===-1&&(i=o):(r=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===Mo){if(!s){t=o+1;break}}else i===-1&&(s=!1,i=o+1);return i===-1?"":n.slice(t,i)},extname(n){Fs(n,"path");let e=-1,t=0,i=-1,s=!0,o=0;for(let r=n.length-1;r>=0;--r){const a=n.charCodeAt(r);if(a===Mo){if(!s){t=r+1;break}continue}i===-1&&(s=!1,i=r+1),a===ng?e===-1?e=r:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||i===-1||o===0||o===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:XJ.bind(null,"/"),parse(n){Fs(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.charCodeAt(0)===Mo;let i;t?(e.root="/",i=1):i=0;let s=-1,o=0,r=-1,a=!0,l=n.length-1,c=0;for(;l>=i;--l){const u=n.charCodeAt(l);if(u===Mo){if(!a){o=l+1;break}continue}r===-1&&(a=!1,r=l+1),u===ng?s===-1?s=l:c!==1&&(c=1):s!==-1&&(c=-1)}if(r!==-1){const u=o===0&&t?1:o;s===-1||c===0||c===1&&s===r-1&&s===o+1?e.base=e.name=n.slice(u,r):(e.name=n.slice(u,s),e.base=n.slice(u,r),e.ext=n.slice(s,r))}return o>0?e.dir=n.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};ds.win32=Vr.win32=Vr;ds.posix=Vr.posix=ds;const QJ=x_==="win32"?Vr.normalize:ds.normalize,irt=x_==="win32"?Vr.resolve:ds.resolve,nrt=x_==="win32"?Vr.relative:ds.relative,JJ=x_==="win32"?Vr.dirname:ds.dirname,hm=x_==="win32"?Vr.basename:ds.basename,srt=x_==="win32"?Vr.extname:ds.extname,zu=x_==="win32"?Vr.sep:ds.sep,ort=/^\w[\w\d+.-]*$/,rrt=/^\//,art=/^\/\//;function AU(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!ort.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!rrt.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(art.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function lrt(n,e){return!n&&!e?"file":n}function crt(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==wc&&(e=wc+e):e=wc;break}return e}const Un="",wc="/",urt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class bt{constructor(e,t,i,s,o,r=!1){typeof e=="object"?(this.scheme=e.scheme||Un,this.authority=e.authority||Un,this.path=e.path||Un,this.query=e.query||Un,this.fragment=e.fragment||Un):(this.scheme=lrt(e,r),this.authority=t||Un,this.path=crt(this.scheme,i||Un),this.query=s||Un,this.fragment=o||Un,AU(this,r))}static isUri(e){return e instanceof bt?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}get fsPath(){return c8(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:s,query:o,fragment:r}=e;return t===void 0?t=this.scheme:t===null&&(t=Un),i===void 0?i=this.authority:i===null&&(i=Un),s===void 0?s=this.path:s===null&&(s=Un),o===void 0?o=this.query:o===null&&(o=Un),r===void 0?r=this.fragment:r===null&&(r=Un),t===this.scheme&&i===this.authority&&s===this.path&&o===this.query&&r===this.fragment?this:new c0(t,i,s,o,r)}static parse(e,t=!1){const i=urt.exec(e);return i?new c0(i[2]||Un,ES(i[4]||Un),ES(i[5]||Un),ES(i[7]||Un),ES(i[9]||Un),t):new c0(Un,Un,Un,Un,Un)}static file(e){let t=Un;if(oo&&(e=e.replace(/\\/g,wc)),e[0]===wc&&e[1]===wc){const i=e.indexOf(wc,2);i===-1?(t=e.substring(2),e=wc):(t=e.substring(2,i),e=e.substring(i)||wc)}return new c0("file",t,e,Un,Un)}static from(e){const t=new c0(e.scheme,e.authority,e.path,e.query,e.fragment);return AU(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return oo&&e.scheme==="file"?i=bt.file(Vr.join(c8(e,!0),...t)).path:i=ds.join(e.path,...t),e.with({path:i})}toString(e=!1){return X9(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof bt)return e;{const t=new c0(e);return t._formatted=e.external,t._fsPath=e._sep===eee?e.fsPath:null,t}}else return e}}const eee=oo?1:void 0;class c0 extends bt{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=c8(this,!1)),this._fsPath}toString(e=!1){return e?X9(this,!0):(this._formatted||(this._formatted=X9(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=eee),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const tee={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function RU(n,e){let t,i=-1;for(let s=0;s<n.length;s++){const o=n.charCodeAt(s);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47)i!==-1&&(t+=encodeURIComponent(n.substring(i,s)),i=-1),t!==void 0&&(t+=n.charAt(s));else{t===void 0&&(t=n.substr(0,s));const r=tee[o];r!==void 0?(i!==-1&&(t+=encodeURIComponent(n.substring(i,s)),i=-1),t+=r):i===-1&&(i=s)}}return i!==-1&&(t+=encodeURIComponent(n.substring(i))),t!==void 0?t:n}function drt(n){let e;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=tee[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function c8(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,oo&&(t=t.replace(/\//g,"\\")),t}function X9(n,e){const t=e?drt:RU;let i="",{scheme:s,authority:o,path:r,query:a,fragment:l}=n;if(s&&(i+=s,i+=":"),(o||s==="file")&&(i+=wc,i+=wc),o){let c=o.indexOf("@");if(c!==-1){const u=o.substr(0,c);o=o.substr(c+1),c=u.indexOf(":"),c===-1?i+=t(u,!1):(i+=t(u.substr(0,c),!1),i+=":",i+=t(u.substr(c+1),!1)),i+="@"}o=o.toLowerCase(),c=o.indexOf(":"),c===-1?i+=t(o,!1):(i+=t(o.substr(0,c),!1),i+=o.substr(c))}if(r){if(r.length>=3&&r.charCodeAt(0)===47&&r.charCodeAt(2)===58){const c=r.charCodeAt(1);c>=65&&c<=90&&(r=`/${String.fromCharCode(c+32)}:${r.substr(3)}`)}else if(r.length>=2&&r.charCodeAt(1)===58){const c=r.charCodeAt(0);c>=65&&c<=90&&(r=`${String.fromCharCode(c+32)}:${r.substr(2)}`)}i+=t(r,!0)}return a&&(i+="?",i+=t(a,!1)),l&&(i+="#",i+=e?l:RU(l,!1)),i}function iee(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+iee(n.substr(3)):n}}const OU=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ES(n){return n.match(OU)?n.replace(OU,e=>iee(e)):n}class oe{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new oe(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return oe.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return oe.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return oe.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){const i=e.lineNumber|0,s=t.lineNumber|0;if(i===s){const o=e.column|0,r=t.column|0;return o-r}return i-s}clone(){return new oe(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new oe(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}}class A{constructor(e,t,i,s){e>i||e===i&&t>s?(this.startLineNumber=i,this.startColumn=s,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=s)}isEmpty(){return A.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return A.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return A.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return A.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return A.plusRange(this,e)}static plusRange(e,t){let i,s,o,r;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,s=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,s=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,s=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,r=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,r=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,r=e.endColumn),new A(i,s,o,r)}intersectRanges(e){return A.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,s=e.startColumn,o=e.endLineNumber,r=e.endColumn;const a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,u=t.endColumn;return i<a?(i=a,s=l):i===a&&(s=Math.max(s,l)),o>c?(o=c,r=u):o===c&&(r=Math.min(r,u)),i>o||i===o&&s>r?null:new A(i,s,o,r)}equalsRange(e){return A.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return A.getEndPosition(this)}static getEndPosition(e){return new oe(e.endLineNumber,e.endColumn)}getStartPosition(){return A.getStartPosition(this)}static getStartPosition(e){return new oe(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new A(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new A(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return A.collapseToStart(this)}static collapseToStart(e){return new A(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new A(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new A(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const o=e.startLineNumber|0,r=t.startLineNumber|0;if(o===r){const a=e.startColumn|0,l=t.startColumn|0;if(a===l){const c=e.endLineNumber|0,u=t.endLineNumber|0;if(c===u){const d=e.endColumn|0,h=t.endColumn|0;return d-h}return c-u}return a-l}return o-r}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}}class Ye extends A{constructor(e,t,i,s){super(e,t,i,s),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=s}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return Ye.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new Ye(this.startLineNumber,this.startColumn,e,t):new Ye(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new oe(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new oe(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new Ye(e,t,this.endLineNumber,this.endColumn):new Ye(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new Ye(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new Ye(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new Ye(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new Ye(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,s=e.length;i<s;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,s,o){return o===0?new Ye(e,t,i,s):new Ye(i,s,e,t)}}function hrt(n){return n?n.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}class C{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,C._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return C._allCodicons}}C._allCodicons=[];C.add=new C("add",{fontCharacter:"\\ea60"});C.plus=new C("plus",C.add.definition);C.gistNew=new C("gist-new",C.add.definition);C.repoCreate=new C("repo-create",C.add.definition);C.lightbulb=new C("lightbulb",{fontCharacter:"\\ea61"});C.lightBulb=new C("light-bulb",{fontCharacter:"\\ea61"});C.repo=new C("repo",{fontCharacter:"\\ea62"});C.repoDelete=new C("repo-delete",{fontCharacter:"\\ea62"});C.gistFork=new C("gist-fork",{fontCharacter:"\\ea63"});C.repoForked=new C("repo-forked",{fontCharacter:"\\ea63"});C.gitPullRequest=new C("git-pull-request",{fontCharacter:"\\ea64"});C.gitPullRequestAbandoned=new C("git-pull-request-abandoned",{fontCharacter:"\\ea64"});C.recordKeys=new C("record-keys",{fontCharacter:"\\ea65"});C.keyboard=new C("keyboard",{fontCharacter:"\\ea65"});C.tag=new C("tag",{fontCharacter:"\\ea66"});C.tagAdd=new C("tag-add",{fontCharacter:"\\ea66"});C.tagRemove=new C("tag-remove",{fontCharacter:"\\ea66"});C.person=new C("person",{fontCharacter:"\\ea67"});C.personFollow=new C("person-follow",{fontCharacter:"\\ea67"});C.personOutline=new C("person-outline",{fontCharacter:"\\ea67"});C.personFilled=new C("person-filled",{fontCharacter:"\\ea67"});C.gitBranch=new C("git-branch",{fontCharacter:"\\ea68"});C.gitBranchCreate=new C("git-branch-create",{fontCharacter:"\\ea68"});C.gitBranchDelete=new C("git-branch-delete",{fontCharacter:"\\ea68"});C.sourceControl=new C("source-control",{fontCharacter:"\\ea68"});C.mirror=new C("mirror",{fontCharacter:"\\ea69"});C.mirrorPublic=new C("mirror-public",{fontCharacter:"\\ea69"});C.star=new C("star",{fontCharacter:"\\ea6a"});C.starAdd=new C("star-add",{fontCharacter:"\\ea6a"});C.starDelete=new C("star-delete",{fontCharacter:"\\ea6a"});C.starEmpty=new C("star-empty",{fontCharacter:"\\ea6a"});C.comment=new C("comment",{fontCharacter:"\\ea6b"});C.commentAdd=new C("comment-add",{fontCharacter:"\\ea6b"});C.alert=new C("alert",{fontCharacter:"\\ea6c"});C.warning=new C("warning",{fontCharacter:"\\ea6c"});C.search=new C("search",{fontCharacter:"\\ea6d"});C.searchSave=new C("search-save",{fontCharacter:"\\ea6d"});C.logOut=new C("log-out",{fontCharacter:"\\ea6e"});C.signOut=new C("sign-out",{fontCharacter:"\\ea6e"});C.logIn=new C("log-in",{fontCharacter:"\\ea6f"});C.signIn=new C("sign-in",{fontCharacter:"\\ea6f"});C.eye=new C("eye",{fontCharacter:"\\ea70"});C.eyeUnwatch=new C("eye-unwatch",{fontCharacter:"\\ea70"});C.eyeWatch=new C("eye-watch",{fontCharacter:"\\ea70"});C.circleFilled=new C("circle-filled",{fontCharacter:"\\ea71"});C.primitiveDot=new C("primitive-dot",{fontCharacter:"\\ea71"});C.closeDirty=new C("close-dirty",{fontCharacter:"\\ea71"});C.debugBreakpoint=new C("debug-breakpoint",{fontCharacter:"\\ea71"});C.debugBreakpointDisabled=new C("debug-breakpoint-disabled",{fontCharacter:"\\ea71"});C.debugHint=new C("debug-hint",{fontCharacter:"\\ea71"});C.primitiveSquare=new C("primitive-square",{fontCharacter:"\\ea72"});C.edit=new C("edit",{fontCharacter:"\\ea73"});C.pencil=new C("pencil",{fontCharacter:"\\ea73"});C.info=new C("info",{fontCharacter:"\\ea74"});C.issueOpened=new C("issue-opened",{fontCharacter:"\\ea74"});C.gistPrivate=new C("gist-private",{fontCharacter:"\\ea75"});C.gitForkPrivate=new C("git-fork-private",{fontCharacter:"\\ea75"});C.lock=new C("lock",{fontCharacter:"\\ea75"});C.mirrorPrivate=new C("mirror-private",{fontCharacter:"\\ea75"});C.close=new C("close",{fontCharacter:"\\ea76"});C.removeClose=new C("remove-close",{fontCharacter:"\\ea76"});C.x=new C("x",{fontCharacter:"\\ea76"});C.repoSync=new C("repo-sync",{fontCharacter:"\\ea77"});C.sync=new C("sync",{fontCharacter:"\\ea77"});C.clone=new C("clone",{fontCharacter:"\\ea78"});C.desktopDownload=new C("desktop-download",{fontCharacter:"\\ea78"});C.beaker=new C("beaker",{fontCharacter:"\\ea79"});C.microscope=new C("microscope",{fontCharacter:"\\ea79"});C.vm=new C("vm",{fontCharacter:"\\ea7a"});C.deviceDesktop=new C("device-desktop",{fontCharacter:"\\ea7a"});C.file=new C("file",{fontCharacter:"\\ea7b"});C.fileText=new C("file-text",{fontCharacter:"\\ea7b"});C.more=new C("more",{fontCharacter:"\\ea7c"});C.ellipsis=new C("ellipsis",{fontCharacter:"\\ea7c"});C.kebabHorizontal=new C("kebab-horizontal",{fontCharacter:"\\ea7c"});C.mailReply=new C("mail-reply",{fontCharacter:"\\ea7d"});C.reply=new C("reply",{fontCharacter:"\\ea7d"});C.organization=new C("organization",{fontCharacter:"\\ea7e"});C.organizationFilled=new C("organization-filled",{fontCharacter:"\\ea7e"});C.organizationOutline=new C("organization-outline",{fontCharacter:"\\ea7e"});C.newFile=new C("new-file",{fontCharacter:"\\ea7f"});C.fileAdd=new C("file-add",{fontCharacter:"\\ea7f"});C.newFolder=new C("new-folder",{fontCharacter:"\\ea80"});C.fileDirectoryCreate=new C("file-directory-create",{fontCharacter:"\\ea80"});C.trash=new C("trash",{fontCharacter:"\\ea81"});C.trashcan=new C("trashcan",{fontCharacter:"\\ea81"});C.history=new C("history",{fontCharacter:"\\ea82"});C.clock=new C("clock",{fontCharacter:"\\ea82"});C.folder=new C("folder",{fontCharacter:"\\ea83"});C.fileDirectory=new C("file-directory",{fontCharacter:"\\ea83"});C.symbolFolder=new C("symbol-folder",{fontCharacter:"\\ea83"});C.logoGithub=new C("logo-github",{fontCharacter:"\\ea84"});C.markGithub=new C("mark-github",{fontCharacter:"\\ea84"});C.github=new C("github",{fontCharacter:"\\ea84"});C.terminal=new C("terminal",{fontCharacter:"\\ea85"});C.console=new C("console",{fontCharacter:"\\ea85"});C.repl=new C("repl",{fontCharacter:"\\ea85"});C.zap=new C("zap",{fontCharacter:"\\ea86"});C.symbolEvent=new C("symbol-event",{fontCharacter:"\\ea86"});C.error=new C("error",{fontCharacter:"\\ea87"});C.stop=new C("stop",{fontCharacter:"\\ea87"});C.variable=new C("variable",{fontCharacter:"\\ea88"});C.symbolVariable=new C("symbol-variable",{fontCharacter:"\\ea88"});C.array=new C("array",{fontCharacter:"\\ea8a"});C.symbolArray=new C("symbol-array",{fontCharacter:"\\ea8a"});C.symbolModule=new C("symbol-module",{fontCharacter:"\\ea8b"});C.symbolPackage=new C("symbol-package",{fontCharacter:"\\ea8b"});C.symbolNamespace=new C("symbol-namespace",{fontCharacter:"\\ea8b"});C.symbolObject=new C("symbol-object",{fontCharacter:"\\ea8b"});C.symbolMethod=new C("symbol-method",{fontCharacter:"\\ea8c"});C.symbolFunction=new C("symbol-function",{fontCharacter:"\\ea8c"});C.symbolConstructor=new C("symbol-constructor",{fontCharacter:"\\ea8c"});C.symbolBoolean=new C("symbol-boolean",{fontCharacter:"\\ea8f"});C.symbolNull=new C("symbol-null",{fontCharacter:"\\ea8f"});C.symbolNumeric=new C("symbol-numeric",{fontCharacter:"\\ea90"});C.symbolNumber=new C("symbol-number",{fontCharacter:"\\ea90"});C.symbolStructure=new C("symbol-structure",{fontCharacter:"\\ea91"});C.symbolStruct=new C("symbol-struct",{fontCharacter:"\\ea91"});C.symbolParameter=new C("symbol-parameter",{fontCharacter:"\\ea92"});C.symbolTypeParameter=new C("symbol-type-parameter",{fontCharacter:"\\ea92"});C.symbolKey=new C("symbol-key",{fontCharacter:"\\ea93"});C.symbolText=new C("symbol-text",{fontCharacter:"\\ea93"});C.symbolReference=new C("symbol-reference",{fontCharacter:"\\ea94"});C.goToFile=new C("go-to-file",{fontCharacter:"\\ea94"});C.symbolEnum=new C("symbol-enum",{fontCharacter:"\\ea95"});C.symbolValue=new C("symbol-value",{fontCharacter:"\\ea95"});C.symbolRuler=new C("symbol-ruler",{fontCharacter:"\\ea96"});C.symbolUnit=new C("symbol-unit",{fontCharacter:"\\ea96"});C.activateBreakpoints=new C("activate-breakpoints",{fontCharacter:"\\ea97"});C.archive=new C("archive",{fontCharacter:"\\ea98"});C.arrowBoth=new C("arrow-both",{fontCharacter:"\\ea99"});C.arrowDown=new C("arrow-down",{fontCharacter:"\\ea9a"});C.arrowLeft=new C("arrow-left",{fontCharacter:"\\ea9b"});C.arrowRight=new C("arrow-right",{fontCharacter:"\\ea9c"});C.arrowSmallDown=new C("arrow-small-down",{fontCharacter:"\\ea9d"});C.arrowSmallLeft=new C("arrow-small-left",{fontCharacter:"\\ea9e"});C.arrowSmallRight=new C("arrow-small-right",{fontCharacter:"\\ea9f"});C.arrowSmallUp=new C("arrow-small-up",{fontCharacter:"\\eaa0"});C.arrowUp=new C("arrow-up",{fontCharacter:"\\eaa1"});C.bell=new C("bell",{fontCharacter:"\\eaa2"});C.bold=new C("bold",{fontCharacter:"\\eaa3"});C.book=new C("book",{fontCharacter:"\\eaa4"});C.bookmark=new C("bookmark",{fontCharacter:"\\eaa5"});C.debugBreakpointConditionalUnverified=new C("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"});C.debugBreakpointConditional=new C("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"});C.debugBreakpointConditionalDisabled=new C("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"});C.debugBreakpointDataUnverified=new C("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"});C.debugBreakpointData=new C("debug-breakpoint-data",{fontCharacter:"\\eaa9"});C.debugBreakpointDataDisabled=new C("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"});C.debugBreakpointLogUnverified=new C("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"});C.debugBreakpointLog=new C("debug-breakpoint-log",{fontCharacter:"\\eaab"});C.debugBreakpointLogDisabled=new C("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"});C.briefcase=new C("briefcase",{fontCharacter:"\\eaac"});C.broadcast=new C("broadcast",{fontCharacter:"\\eaad"});C.browser=new C("browser",{fontCharacter:"\\eaae"});C.bug=new C("bug",{fontCharacter:"\\eaaf"});C.calendar=new C("calendar",{fontCharacter:"\\eab0"});C.caseSensitive=new C("case-sensitive",{fontCharacter:"\\eab1"});C.check=new C("check",{fontCharacter:"\\eab2"});C.checklist=new C("checklist",{fontCharacter:"\\eab3"});C.chevronDown=new C("chevron-down",{fontCharacter:"\\eab4"});C.dropDownButton=new C("drop-down-button",C.chevronDown.definition);C.chevronLeft=new C("chevron-left",{fontCharacter:"\\eab5"});C.chevronRight=new C("chevron-right",{fontCharacter:"\\eab6"});C.chevronUp=new C("chevron-up",{fontCharacter:"\\eab7"});C.chromeClose=new C("chrome-close",{fontCharacter:"\\eab8"});C.chromeMaximize=new C("chrome-maximize",{fontCharacter:"\\eab9"});C.chromeMinimize=new C("chrome-minimize",{fontCharacter:"\\eaba"});C.chromeRestore=new C("chrome-restore",{fontCharacter:"\\eabb"});C.circleOutline=new C("circle-outline",{fontCharacter:"\\eabc"});C.debugBreakpointUnverified=new C("debug-breakpoint-unverified",{fontCharacter:"\\eabc"});C.circleSlash=new C("circle-slash",{fontCharacter:"\\eabd"});C.circuitBoard=new C("circuit-board",{fontCharacter:"\\eabe"});C.clearAll=new C("clear-all",{fontCharacter:"\\eabf"});C.clippy=new C("clippy",{fontCharacter:"\\eac0"});C.closeAll=new C("close-all",{fontCharacter:"\\eac1"});C.cloudDownload=new C("cloud-download",{fontCharacter:"\\eac2"});C.cloudUpload=new C("cloud-upload",{fontCharacter:"\\eac3"});C.code=new C("code",{fontCharacter:"\\eac4"});C.collapseAll=new C("collapse-all",{fontCharacter:"\\eac5"});C.colorMode=new C("color-mode",{fontCharacter:"\\eac6"});C.commentDiscussion=new C("comment-discussion",{fontCharacter:"\\eac7"});C.compareChanges=new C("compare-changes",{fontCharacter:"\\eafd"});C.creditCard=new C("credit-card",{fontCharacter:"\\eac9"});C.dash=new C("dash",{fontCharacter:"\\eacc"});C.dashboard=new C("dashboard",{fontCharacter:"\\eacd"});C.database=new C("database",{fontCharacter:"\\eace"});C.debugContinue=new C("debug-continue",{fontCharacter:"\\eacf"});C.debugDisconnect=new C("debug-disconnect",{fontCharacter:"\\ead0"});C.debugPause=new C("debug-pause",{fontCharacter:"\\ead1"});C.debugRestart=new C("debug-restart",{fontCharacter:"\\ead2"});C.debugStart=new C("debug-start",{fontCharacter:"\\ead3"});C.debugStepInto=new C("debug-step-into",{fontCharacter:"\\ead4"});C.debugStepOut=new C("debug-step-out",{fontCharacter:"\\ead5"});C.debugStepOver=new C("debug-step-over",{fontCharacter:"\\ead6"});C.debugStop=new C("debug-stop",{fontCharacter:"\\ead7"});C.debug=new C("debug",{fontCharacter:"\\ead8"});C.deviceCameraVideo=new C("device-camera-video",{fontCharacter:"\\ead9"});C.deviceCamera=new C("device-camera",{fontCharacter:"\\eada"});C.deviceMobile=new C("device-mobile",{fontCharacter:"\\eadb"});C.diffAdded=new C("diff-added",{fontCharacter:"\\eadc"});C.diffIgnored=new C("diff-ignored",{fontCharacter:"\\eadd"});C.diffModified=new C("diff-modified",{fontCharacter:"\\eade"});C.diffRemoved=new C("diff-removed",{fontCharacter:"\\eadf"});C.diffRenamed=new C("diff-renamed",{fontCharacter:"\\eae0"});C.diff=new C("diff",{fontCharacter:"\\eae1"});C.discard=new C("discard",{fontCharacter:"\\eae2"});C.editorLayout=new C("editor-layout",{fontCharacter:"\\eae3"});C.emptyWindow=new C("empty-window",{fontCharacter:"\\eae4"});C.exclude=new C("exclude",{fontCharacter:"\\eae5"});C.extensions=new C("extensions",{fontCharacter:"\\eae6"});C.eyeClosed=new C("eye-closed",{fontCharacter:"\\eae7"});C.fileBinary=new C("file-binary",{fontCharacter:"\\eae8"});C.fileCode=new C("file-code",{fontCharacter:"\\eae9"});C.fileMedia=new C("file-media",{fontCharacter:"\\eaea"});C.filePdf=new C("file-pdf",{fontCharacter:"\\eaeb"});C.fileSubmodule=new C("file-submodule",{fontCharacter:"\\eaec"});C.fileSymlinkDirectory=new C("file-symlink-directory",{fontCharacter:"\\eaed"});C.fileSymlinkFile=new C("file-symlink-file",{fontCharacter:"\\eaee"});C.fileZip=new C("file-zip",{fontCharacter:"\\eaef"});C.files=new C("files",{fontCharacter:"\\eaf0"});C.filter=new C("filter",{fontCharacter:"\\eaf1"});C.flame=new C("flame",{fontCharacter:"\\eaf2"});C.foldDown=new C("fold-down",{fontCharacter:"\\eaf3"});C.foldUp=new C("fold-up",{fontCharacter:"\\eaf4"});C.fold=new C("fold",{fontCharacter:"\\eaf5"});C.folderActive=new C("folder-active",{fontCharacter:"\\eaf6"});C.folderOpened=new C("folder-opened",{fontCharacter:"\\eaf7"});C.gear=new C("gear",{fontCharacter:"\\eaf8"});C.gift=new C("gift",{fontCharacter:"\\eaf9"});C.gistSecret=new C("gist-secret",{fontCharacter:"\\eafa"});C.gist=new C("gist",{fontCharacter:"\\eafb"});C.gitCommit=new C("git-commit",{fontCharacter:"\\eafc"});C.gitCompare=new C("git-compare",{fontCharacter:"\\eafd"});C.gitMerge=new C("git-merge",{fontCharacter:"\\eafe"});C.githubAction=new C("github-action",{fontCharacter:"\\eaff"});C.githubAlt=new C("github-alt",{fontCharacter:"\\eb00"});C.globe=new C("globe",{fontCharacter:"\\eb01"});C.grabber=new C("grabber",{fontCharacter:"\\eb02"});C.graph=new C("graph",{fontCharacter:"\\eb03"});C.gripper=new C("gripper",{fontCharacter:"\\eb04"});C.heart=new C("heart",{fontCharacter:"\\eb05"});C.home=new C("home",{fontCharacter:"\\eb06"});C.horizontalRule=new C("horizontal-rule",{fontCharacter:"\\eb07"});C.hubot=new C("hubot",{fontCharacter:"\\eb08"});C.inbox=new C("inbox",{fontCharacter:"\\eb09"});C.issueClosed=new C("issue-closed",{fontCharacter:"\\eba4"});C.issueReopened=new C("issue-reopened",{fontCharacter:"\\eb0b"});C.issues=new C("issues",{fontCharacter:"\\eb0c"});C.italic=new C("italic",{fontCharacter:"\\eb0d"});C.jersey=new C("jersey",{fontCharacter:"\\eb0e"});C.json=new C("json",{fontCharacter:"\\eb0f"});C.kebabVertical=new C("kebab-vertical",{fontCharacter:"\\eb10"});C.key=new C("key",{fontCharacter:"\\eb11"});C.law=new C("law",{fontCharacter:"\\eb12"});C.lightbulbAutofix=new C("lightbulb-autofix",{fontCharacter:"\\eb13"});C.linkExternal=new C("link-external",{fontCharacter:"\\eb14"});C.link=new C("link",{fontCharacter:"\\eb15"});C.listOrdered=new C("list-ordered",{fontCharacter:"\\eb16"});C.listUnordered=new C("list-unordered",{fontCharacter:"\\eb17"});C.liveShare=new C("live-share",{fontCharacter:"\\eb18"});C.loading=new C("loading",{fontCharacter:"\\eb19"});C.location=new C("location",{fontCharacter:"\\eb1a"});C.mailRead=new C("mail-read",{fontCharacter:"\\eb1b"});C.mail=new C("mail",{fontCharacter:"\\eb1c"});C.markdown=new C("markdown",{fontCharacter:"\\eb1d"});C.megaphone=new C("megaphone",{fontCharacter:"\\eb1e"});C.mention=new C("mention",{fontCharacter:"\\eb1f"});C.milestone=new C("milestone",{fontCharacter:"\\eb20"});C.mortarBoard=new C("mortar-board",{fontCharacter:"\\eb21"});C.move=new C("move",{fontCharacter:"\\eb22"});C.multipleWindows=new C("multiple-windows",{fontCharacter:"\\eb23"});C.mute=new C("mute",{fontCharacter:"\\eb24"});C.noNewline=new C("no-newline",{fontCharacter:"\\eb25"});C.note=new C("note",{fontCharacter:"\\eb26"});C.octoface=new C("octoface",{fontCharacter:"\\eb27"});C.openPreview=new C("open-preview",{fontCharacter:"\\eb28"});C.package_=new C("package",{fontCharacter:"\\eb29"});C.paintcan=new C("paintcan",{fontCharacter:"\\eb2a"});C.pin=new C("pin",{fontCharacter:"\\eb2b"});C.play=new C("play",{fontCharacter:"\\eb2c"});C.run=new C("run",{fontCharacter:"\\eb2c"});C.plug=new C("plug",{fontCharacter:"\\eb2d"});C.preserveCase=new C("preserve-case",{fontCharacter:"\\eb2e"});C.preview=new C("preview",{fontCharacter:"\\eb2f"});C.project=new C("project",{fontCharacter:"\\eb30"});C.pulse=new C("pulse",{fontCharacter:"\\eb31"});C.question=new C("question",{fontCharacter:"\\eb32"});C.quote=new C("quote",{fontCharacter:"\\eb33"});C.radioTower=new C("radio-tower",{fontCharacter:"\\eb34"});C.reactions=new C("reactions",{fontCharacter:"\\eb35"});C.references=new C("references",{fontCharacter:"\\eb36"});C.refresh=new C("refresh",{fontCharacter:"\\eb37"});C.regex=new C("regex",{fontCharacter:"\\eb38"});C.remoteExplorer=new C("remote-explorer",{fontCharacter:"\\eb39"});C.remote=new C("remote",{fontCharacter:"\\eb3a"});C.remove=new C("remove",{fontCharacter:"\\eb3b"});C.replaceAll=new C("replace-all",{fontCharacter:"\\eb3c"});C.replace=new C("replace",{fontCharacter:"\\eb3d"});C.repoClone=new C("repo-clone",{fontCharacter:"\\eb3e"});C.repoForcePush=new C("repo-force-push",{fontCharacter:"\\eb3f"});C.repoPull=new C("repo-pull",{fontCharacter:"\\eb40"});C.repoPush=new C("repo-push",{fontCharacter:"\\eb41"});C.report=new C("report",{fontCharacter:"\\eb42"});C.requestChanges=new C("request-changes",{fontCharacter:"\\eb43"});C.rocket=new C("rocket",{fontCharacter:"\\eb44"});C.rootFolderOpened=new C("root-folder-opened",{fontCharacter:"\\eb45"});C.rootFolder=new C("root-folder",{fontCharacter:"\\eb46"});C.rss=new C("rss",{fontCharacter:"\\eb47"});C.ruby=new C("ruby",{fontCharacter:"\\eb48"});C.saveAll=new C("save-all",{fontCharacter:"\\eb49"});C.saveAs=new C("save-as",{fontCharacter:"\\eb4a"});C.save=new C("save",{fontCharacter:"\\eb4b"});C.screenFull=new C("screen-full",{fontCharacter:"\\eb4c"});C.screenNormal=new C("screen-normal",{fontCharacter:"\\eb4d"});C.searchStop=new C("search-stop",{fontCharacter:"\\eb4e"});C.server=new C("server",{fontCharacter:"\\eb50"});C.settingsGear=new C("settings-gear",{fontCharacter:"\\eb51"});C.settings=new C("settings",{fontCharacter:"\\eb52"});C.shield=new C("shield",{fontCharacter:"\\eb53"});C.smiley=new C("smiley",{fontCharacter:"\\eb54"});C.sortPrecedence=new C("sort-precedence",{fontCharacter:"\\eb55"});C.splitHorizontal=new C("split-horizontal",{fontCharacter:"\\eb56"});C.splitVertical=new C("split-vertical",{fontCharacter:"\\eb57"});C.squirrel=new C("squirrel",{fontCharacter:"\\eb58"});C.starFull=new C("star-full",{fontCharacter:"\\eb59"});C.starHalf=new C("star-half",{fontCharacter:"\\eb5a"});C.symbolClass=new C("symbol-class",{fontCharacter:"\\eb5b"});C.symbolColor=new C("symbol-color",{fontCharacter:"\\eb5c"});C.symbolCustomColor=new C("symbol-customcolor",{fontCharacter:"\\eb5c"});C.symbolConstant=new C("symbol-constant",{fontCharacter:"\\eb5d"});C.symbolEnumMember=new C("symbol-enum-member",{fontCharacter:"\\eb5e"});C.symbolField=new C("symbol-field",{fontCharacter:"\\eb5f"});C.symbolFile=new C("symbol-file",{fontCharacter:"\\eb60"});C.symbolInterface=new C("symbol-interface",{fontCharacter:"\\eb61"});C.symbolKeyword=new C("symbol-keyword",{fontCharacter:"\\eb62"});C.symbolMisc=new C("symbol-misc",{fontCharacter:"\\eb63"});C.symbolOperator=new C("symbol-operator",{fontCharacter:"\\eb64"});C.symbolProperty=new C("symbol-property",{fontCharacter:"\\eb65"});C.wrench=new C("wrench",{fontCharacter:"\\eb65"});C.wrenchSubaction=new C("wrench-subaction",{fontCharacter:"\\eb65"});C.symbolSnippet=new C("symbol-snippet",{fontCharacter:"\\eb66"});C.tasklist=new C("tasklist",{fontCharacter:"\\eb67"});C.telescope=new C("telescope",{fontCharacter:"\\eb68"});C.textSize=new C("text-size",{fontCharacter:"\\eb69"});C.threeBars=new C("three-bars",{fontCharacter:"\\eb6a"});C.thumbsdown=new C("thumbsdown",{fontCharacter:"\\eb6b"});C.thumbsup=new C("thumbsup",{fontCharacter:"\\eb6c"});C.tools=new C("tools",{fontCharacter:"\\eb6d"});C.triangleDown=new C("triangle-down",{fontCharacter:"\\eb6e"});C.triangleLeft=new C("triangle-left",{fontCharacter:"\\eb6f"});C.triangleRight=new C("triangle-right",{fontCharacter:"\\eb70"});C.triangleUp=new C("triangle-up",{fontCharacter:"\\eb71"});C.twitter=new C("twitter",{fontCharacter:"\\eb72"});C.unfold=new C("unfold",{fontCharacter:"\\eb73"});C.unlock=new C("unlock",{fontCharacter:"\\eb74"});C.unmute=new C("unmute",{fontCharacter:"\\eb75"});C.unverified=new C("unverified",{fontCharacter:"\\eb76"});C.verified=new C("verified",{fontCharacter:"\\eb77"});C.versions=new C("versions",{fontCharacter:"\\eb78"});C.vmActive=new C("vm-active",{fontCharacter:"\\eb79"});C.vmOutline=new C("vm-outline",{fontCharacter:"\\eb7a"});C.vmRunning=new C("vm-running",{fontCharacter:"\\eb7b"});C.watch=new C("watch",{fontCharacter:"\\eb7c"});C.whitespace=new C("whitespace",{fontCharacter:"\\eb7d"});C.wholeWord=new C("whole-word",{fontCharacter:"\\eb7e"});C.window=new C("window",{fontCharacter:"\\eb7f"});C.wordWrap=new C("word-wrap",{fontCharacter:"\\eb80"});C.zoomIn=new C("zoom-in",{fontCharacter:"\\eb81"});C.zoomOut=new C("zoom-out",{fontCharacter:"\\eb82"});C.listFilter=new C("list-filter",{fontCharacter:"\\eb83"});C.listFlat=new C("list-flat",{fontCharacter:"\\eb84"});C.listSelection=new C("list-selection",{fontCharacter:"\\eb85"});C.selection=new C("selection",{fontCharacter:"\\eb85"});C.listTree=new C("list-tree",{fontCharacter:"\\eb86"});C.debugBreakpointFunctionUnverified=new C("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"});C.debugBreakpointFunction=new C("debug-breakpoint-function",{fontCharacter:"\\eb88"});C.debugBreakpointFunctionDisabled=new C("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"});C.debugStackframeActive=new C("debug-stackframe-active",{fontCharacter:"\\eb89"});C.circleSmallFilled=new C("circle-small-filled",{fontCharacter:"\\eb8a"});C.debugStackframeDot=new C("debug-stackframe-dot",C.circleSmallFilled.definition);C.debugStackframe=new C("debug-stackframe",{fontCharacter:"\\eb8b"});C.debugStackframeFocused=new C("debug-stackframe-focused",{fontCharacter:"\\eb8b"});C.debugBreakpointUnsupported=new C("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"});C.symbolString=new C("symbol-string",{fontCharacter:"\\eb8d"});C.debugReverseContinue=new C("debug-reverse-continue",{fontCharacter:"\\eb8e"});C.debugStepBack=new C("debug-step-back",{fontCharacter:"\\eb8f"});C.debugRestartFrame=new C("debug-restart-frame",{fontCharacter:"\\eb90"});C.callIncoming=new C("call-incoming",{fontCharacter:"\\eb92"});C.callOutgoing=new C("call-outgoing",{fontCharacter:"\\eb93"});C.menu=new C("menu",{fontCharacter:"\\eb94"});C.expandAll=new C("expand-all",{fontCharacter:"\\eb95"});C.feedback=new C("feedback",{fontCharacter:"\\eb96"});C.groupByRefType=new C("group-by-ref-type",{fontCharacter:"\\eb97"});C.ungroupByRefType=new C("ungroup-by-ref-type",{fontCharacter:"\\eb98"});C.account=new C("account",{fontCharacter:"\\eb99"});C.bellDot=new C("bell-dot",{fontCharacter:"\\eb9a"});C.debugConsole=new C("debug-console",{fontCharacter:"\\eb9b"});C.library=new C("library",{fontCharacter:"\\eb9c"});C.output=new C("output",{fontCharacter:"\\eb9d"});C.runAll=new C("run-all",{fontCharacter:"\\eb9e"});C.syncIgnored=new C("sync-ignored",{fontCharacter:"\\eb9f"});C.pinned=new C("pinned",{fontCharacter:"\\eba0"});C.githubInverted=new C("github-inverted",{fontCharacter:"\\eba1"});C.debugAlt=new C("debug-alt",{fontCharacter:"\\eb91"});C.serverProcess=new C("server-process",{fontCharacter:"\\eba2"});C.serverEnvironment=new C("server-environment",{fontCharacter:"\\eba3"});C.pass=new C("pass",{fontCharacter:"\\eba4"});C.stopCircle=new C("stop-circle",{fontCharacter:"\\eba5"});C.playCircle=new C("play-circle",{fontCharacter:"\\eba6"});C.record=new C("record",{fontCharacter:"\\eba7"});C.debugAltSmall=new C("debug-alt-small",{fontCharacter:"\\eba8"});C.vmConnect=new C("vm-connect",{fontCharacter:"\\eba9"});C.cloud=new C("cloud",{fontCharacter:"\\ebaa"});C.merge=new C("merge",{fontCharacter:"\\ebab"});C.exportIcon=new C("export",{fontCharacter:"\\ebac"});C.graphLeft=new C("graph-left",{fontCharacter:"\\ebad"});C.magnet=new C("magnet",{fontCharacter:"\\ebae"});C.notebook=new C("notebook",{fontCharacter:"\\ebaf"});C.redo=new C("redo",{fontCharacter:"\\ebb0"});C.checkAll=new C("check-all",{fontCharacter:"\\ebb1"});C.pinnedDirty=new C("pinned-dirty",{fontCharacter:"\\ebb2"});C.passFilled=new C("pass-filled",{fontCharacter:"\\ebb3"});C.circleLargeFilled=new C("circle-large-filled",{fontCharacter:"\\ebb4"});C.circleLargeOutline=new C("circle-large-outline",{fontCharacter:"\\ebb5"});C.combine=new C("combine",{fontCharacter:"\\ebb6"});C.gather=new C("gather",{fontCharacter:"\\ebb6"});C.table=new C("table",{fontCharacter:"\\ebb7"});C.variableGroup=new C("variable-group",{fontCharacter:"\\ebb8"});C.typeHierarchy=new C("type-hierarchy",{fontCharacter:"\\ebb9"});C.typeHierarchySub=new C("type-hierarchy-sub",{fontCharacter:"\\ebba"});C.typeHierarchySuper=new C("type-hierarchy-super",{fontCharacter:"\\ebbb"});C.gitPullRequestCreate=new C("git-pull-request-create",{fontCharacter:"\\ebbc"});C.runAbove=new C("run-above",{fontCharacter:"\\ebbd"});C.runBelow=new C("run-below",{fontCharacter:"\\ebbe"});C.notebookTemplate=new C("notebook-template",{fontCharacter:"\\ebbf"});C.debugRerun=new C("debug-rerun",{fontCharacter:"\\ebc0"});C.workspaceTrusted=new C("workspace-trusted",{fontCharacter:"\\ebc1"});C.workspaceUntrusted=new C("workspace-untrusted",{fontCharacter:"\\ebc2"});C.workspaceUnspecified=new C("workspace-unspecified",{fontCharacter:"\\ebc3"});C.terminalCmd=new C("terminal-cmd",{fontCharacter:"\\ebc4"});C.terminalDebian=new C("terminal-debian",{fontCharacter:"\\ebc5"});C.terminalLinux=new C("terminal-linux",{fontCharacter:"\\ebc6"});C.terminalPowershell=new C("terminal-powershell",{fontCharacter:"\\ebc7"});C.terminalTmux=new C("terminal-tmux",{fontCharacter:"\\ebc8"});C.terminalUbuntu=new C("terminal-ubuntu",{fontCharacter:"\\ebc9"});C.terminalBash=new C("terminal-bash",{fontCharacter:"\\ebca"});C.arrowSwap=new C("arrow-swap",{fontCharacter:"\\ebcb"});C.copy=new C("copy",{fontCharacter:"\\ebcc"});C.personAdd=new C("person-add",{fontCharacter:"\\ebcd"});C.filterFilled=new C("filter-filled",{fontCharacter:"\\ebce"});C.wand=new C("wand",{fontCharacter:"\\ebcf"});C.debugLineByLine=new C("debug-line-by-line",{fontCharacter:"\\ebd0"});C.inspect=new C("inspect",{fontCharacter:"\\ebd1"});C.layers=new C("layers",{fontCharacter:"\\ebd2"});C.layersDot=new C("layers-dot",{fontCharacter:"\\ebd3"});C.layersActive=new C("layers-active",{fontCharacter:"\\ebd4"});C.compass=new C("compass",{fontCharacter:"\\ebd5"});C.compassDot=new C("compass-dot",{fontCharacter:"\\ebd6"});C.compassActive=new C("compass-active",{fontCharacter:"\\ebd7"});C.azure=new C("azure",{fontCharacter:"\\ebd8"});C.issueDraft=new C("issue-draft",{fontCharacter:"\\ebd9"});C.gitPullRequestClosed=new C("git-pull-request-closed",{fontCharacter:"\\ebda"});C.gitPullRequestDraft=new C("git-pull-request-draft",{fontCharacter:"\\ebdb"});C.debugAll=new C("debug-all",{fontCharacter:"\\ebdc"});C.debugCoverage=new C("debug-coverage",{fontCharacter:"\\ebdd"});C.runErrors=new C("run-errors",{fontCharacter:"\\ebde"});C.folderLibrary=new C("folder-library",{fontCharacter:"\\ebdf"});C.debugContinueSmall=new C("debug-continue-small",{fontCharacter:"\\ebe0"});C.beakerStop=new C("beaker-stop",{fontCharacter:"\\ebe1"});C.graphLine=new C("graph-line",{fontCharacter:"\\ebe2"});C.graphScatter=new C("graph-scatter",{fontCharacter:"\\ebe3"});C.pieChart=new C("pie-chart",{fontCharacter:"\\ebe4"});C.bracket=new C("bracket",C.json.definition);C.bracketDot=new C("bracket-dot",{fontCharacter:"\\ebe5"});C.bracketError=new C("bracket-error",{fontCharacter:"\\ebe6"});C.lockSmall=new C("lock-small",{fontCharacter:"\\ebe7"});C.azureDevops=new C("azure-devops",{fontCharacter:"\\ebe8"});C.verifiedFilled=new C("verified-filled",{fontCharacter:"\\ebe9"});C.newLine=new C("newline",{fontCharacter:"\\ebea"});C.layout=new C("layout",{fontCharacter:"\\ebeb"});C.layoutActivitybarLeft=new C("layout-activitybar-left",{fontCharacter:"\\ebec"});C.layoutActivitybarRight=new C("layout-activitybar-right",{fontCharacter:"\\ebed"});C.layoutPanelLeft=new C("layout-panel-left",{fontCharacter:"\\ebee"});C.layoutPanelCenter=new C("layout-panel-center",{fontCharacter:"\\ebef"});C.layoutPanelJustify=new C("layout-panel-justify",{fontCharacter:"\\ebf0"});C.layoutPanelRight=new C("layout-panel-right",{fontCharacter:"\\ebf1"});C.layoutPanel=new C("layout-panel",{fontCharacter:"\\ebf2"});C.layoutSidebarLeft=new C("layout-sidebar-left",{fontCharacter:"\\ebf3"});C.layoutSidebarRight=new C("layout-sidebar-right",{fontCharacter:"\\ebf4"});C.layoutStatusbar=new C("layout-statusbar",{fontCharacter:"\\ebf5"});C.layoutMenubar=new C("layout-menubar",{fontCharacter:"\\ebf6"});C.layoutCentered=new C("layout-centered",{fontCharacter:"\\ebf7"});C.layoutSidebarRightOff=new C("layout-sidebar-right-off",{fontCharacter:"\\ec00"});C.layoutPanelOff=new C("layout-panel-off",{fontCharacter:"\\ec01"});C.layoutSidebarLeftOff=new C("layout-sidebar-left-off",{fontCharacter:"\\ec02"});C.target=new C("target",{fontCharacter:"\\ebf8"});C.indent=new C("indent",{fontCharacter:"\\ebf9"});C.recordSmall=new C("record-small",{fontCharacter:"\\ebfa"});C.errorSmall=new C("error-small",{fontCharacter:"\\ebfb"});C.arrowCircleDown=new C("arrow-circle-down",{fontCharacter:"\\ebfc"});C.arrowCircleLeft=new C("arrow-circle-left",{fontCharacter:"\\ebfd"});C.arrowCircleRight=new C("arrow-circle-right",{fontCharacter:"\\ebfe"});C.arrowCircleUp=new C("arrow-circle-up",{fontCharacter:"\\ebff"});C.heartFilled=new C("heart-filled",{fontCharacter:"\\ec04"});C.map=new C("map",{fontCharacter:"\\ec05"});C.mapFilled=new C("map-filled",{fontCharacter:"\\ec06"});C.circleSmall=new C("circle-small",{fontCharacter:"\\ec07"});C.bellSlash=new C("bell-slash",{fontCharacter:"\\ec08"});C.bellSlashDot=new C("bell-slash-dot",{fontCharacter:"\\ec09"});C.commentUnresolved=new C("comment-unresolved",{fontCharacter:"\\ec0a"});C.gitPullRequestGoToChanges=new C("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"});C.gitPullRequestNewChanges=new C("git-pull-request-new-changes",{fontCharacter:"\\ec0c"});C.dialogError=new C("dialog-error",C.error.definition);C.dialogWarning=new C("dialog-warning",C.warning.definition);C.dialogInfo=new C("dialog-info",C.info.definition);C.dialogClose=new C("dialog-close",C.close.definition);C.treeItemExpanded=new C("tree-item-expanded",C.chevronDown.definition);C.treeFilterOnTypeOn=new C("tree-filter-on-type-on",C.listFilter.definition);C.treeFilterOnTypeOff=new C("tree-filter-on-type-off",C.listSelection.definition);C.treeFilterClear=new C("tree-filter-clear",C.close.definition);C.treeItemLoading=new C("tree-item-loading",C.loading.definition);C.menuSelection=new C("menu-selection",C.check.definition);C.menuSubmenu=new C("menu-submenu",C.chevronRight.definition);C.menuBarMore=new C("menubar-more",C.more.definition);C.scrollbarButtonLeft=new C("scrollbar-button-left",C.triangleLeft.definition);C.scrollbarButtonRight=new C("scrollbar-button-right",C.triangleRight.definition);C.scrollbarButtonUp=new C("scrollbar-button-up",C.triangleUp.definition);C.scrollbarButtonDown=new C("scrollbar-button-down",C.triangleDown.definition);C.toolBarMore=new C("toolbar-more",C.more.definition);C.quickInputBack=new C("quick-input-back",C.arrowLeft.definition);var Go;(function(n){n.iconNameSegment="[A-Za-z0-9]+",n.iconNameExpression="[A-Za-z0-9-]+",n.iconModifierExpression="~[A-Za-z]+",n.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${n.iconNameExpression})(${n.iconModifierExpression})?$`);function t(o){if(o instanceof C)return["codicon","codicon-"+o.id];const r=e.exec(o.id);if(!r)return t(C.error);const[,a,l]=r,c=["codicon","codicon-"+a];return l&&c.push("codicon-modifier-"+l.substr(1)),c}n.asClassNameArray=t;function i(o){return t(o).join(" ")}n.asClassName=i;function s(o){return"."+t(o).join(".")}n.asCSSSelector=s})(Go||(Go={}));var Q9=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class frt{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new J,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),jt(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerFactory(e,t){var i;(i=this._factories.get(e))===null||i===void 0||i.dispose();const s=new grt(this,e,t);return this._factories.set(e,s),jt(()=>{const o=this._factories.get(e);!o||o!==s||(this._factories.delete(e),o.dispose())})}getOrCreate(e){return Q9(this,void 0,void 0,function*(){const t=this.get(e);if(t)return t;const i=this._factories.get(e);return!i||i.isResolved?null:(yield i.resolve(),this.get(e))})}get(e){return this._map.get(e)||null}isResolved(e){if(this.get(e))return!0;const i=this._factories.get(e);return!!(!i||i.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class grt extends de{constructor(e,t,i){super(),this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Q9(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Q9(this,void 0,void 0,function*(){const e=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))})}}class XC{constructor(e,t,i){this._tokenBrand=void 0,this.offset=e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class UO{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class Vx{constructor(e,t){this._encodedTokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}var QC;(function(n){const e=new Map;e.set(0,C.symbolMethod),e.set(1,C.symbolFunction),e.set(2,C.symbolConstructor),e.set(3,C.symbolField),e.set(4,C.symbolVariable),e.set(5,C.symbolClass),e.set(6,C.symbolStruct),e.set(7,C.symbolInterface),e.set(8,C.symbolModule),e.set(9,C.symbolProperty),e.set(10,C.symbolEvent),e.set(11,C.symbolOperator),e.set(12,C.symbolUnit),e.set(13,C.symbolValue),e.set(15,C.symbolEnum),e.set(14,C.symbolConstant),e.set(15,C.symbolEnum),e.set(16,C.symbolEnumMember),e.set(17,C.symbolKeyword),e.set(27,C.symbolSnippet),e.set(18,C.symbolText),e.set(19,C.symbolColor),e.set(20,C.symbolFile),e.set(21,C.symbolReference),e.set(22,C.symbolCustomColor),e.set(23,C.symbolFolder),e.set(24,C.symbolTypeParameter),e.set(25,C.account),e.set(26,C.issues);function t(o){let r=e.get(o);return r||(console.info("No codicon found for CompletionItemKind "+o),r=C.symbolProperty),r}n.toIcon=t;const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26);function s(o,r){let a=i.get(o);return typeof a=="undefined"&&!r&&(a=9),a}n.fromString=s})(QC||(QC={}));var qa;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(qa||(qa={}));var Uu;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(Uu||(Uu={}));var JC;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(JC||(JC={}));function prt(n){return n&&bt.isUri(n.uri)&&A.isIRange(n.range)&&(A.isIRange(n.originSelectionRange)||A.isIRange(n.targetSelectionRange))}var J9;(function(n){const e=new Map;e.set(0,C.symbolFile),e.set(1,C.symbolModule),e.set(2,C.symbolNamespace),e.set(3,C.symbolPackage),e.set(4,C.symbolClass),e.set(5,C.symbolMethod),e.set(6,C.symbolProperty),e.set(7,C.symbolField),e.set(8,C.symbolConstructor),e.set(9,C.symbolEnum),e.set(10,C.symbolInterface),e.set(11,C.symbolFunction),e.set(12,C.symbolVariable),e.set(13,C.symbolConstant),e.set(14,C.symbolString),e.set(15,C.symbolNumber),e.set(16,C.symbolBoolean),e.set(17,C.symbolArray),e.set(18,C.symbolObject),e.set(19,C.symbolKey),e.set(20,C.symbolNull),e.set(21,C.symbolEnumMember),e.set(22,C.symbolStruct),e.set(23,C.symbolEvent),e.set(24,C.symbolOperator),e.set(25,C.symbolTypeParameter);function t(i){let s=e.get(i);return s||(console.info("No codicon found for SymbolKind "+i),s=C.symbolProperty),s}n.toIcon=t})(J9||(J9={}));class Wc{constructor(e){this.value=e}}Wc.Comment=new Wc("comment");Wc.Imports=new Wc("imports");Wc.Region=new Wc("region");var eN;(function(n){function e(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}n.is=e})(eN||(eN={}));var u8;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(u8||(u8={}));const Dn=new frt;var tN;(function(n){n[n.Unknown=0]="Unknown",n[n.Disabled=1]="Disabled",n[n.Enabled=2]="Enabled"})(tN||(tN={}));var iN;(function(n){n[n.Invoke=1]="Invoke",n[n.Auto=2]="Auto"})(iN||(iN={}));var d8;(function(n){n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(d8||(d8={}));var nN;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.User=25]="User",n[n.Issue=26]="Issue",n[n.Snippet=27]="Snippet"})(nN||(nN={}));var sN;(function(n){n[n.Deprecated=1]="Deprecated"})(sN||(sN={}));var oN;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(oN||(oN={}));var rN;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(rN||(rN={}));var aN;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(aN||(aN={}));var lN;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(lN||(lN={}));var cN;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(cN||(cN={}));var uN;(function(n){n[n.None=0]="None",n[n.Keep=1]="Keep",n[n.Brackets=2]="Brackets",n[n.Advanced=3]="Advanced",n[n.Full=4]="Full"})(uN||(uN={}));var dN;(function(n){n[n.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",n[n.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",n[n.accessibilitySupport=2]="accessibilitySupport",n[n.accessibilityPageSize=3]="accessibilityPageSize",n[n.ariaLabel=4]="ariaLabel",n[n.autoClosingBrackets=5]="autoClosingBrackets",n[n.autoClosingDelete=6]="autoClosingDelete",n[n.autoClosingOvertype=7]="autoClosingOvertype",n[n.autoClosingQuotes=8]="autoClosingQuotes",n[n.autoIndent=9]="autoIndent",n[n.automaticLayout=10]="automaticLayout",n[n.autoSurround=11]="autoSurround",n[n.bracketPairColorization=12]="bracketPairColorization",n[n.guides=13]="guides",n[n.codeLens=14]="codeLens",n[n.codeLensFontFamily=15]="codeLensFontFamily",n[n.codeLensFontSize=16]="codeLensFontSize",n[n.colorDecorators=17]="colorDecorators",n[n.columnSelection=18]="columnSelection",n[n.comments=19]="comments",n[n.contextmenu=20]="contextmenu",n[n.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",n[n.cursorBlinking=22]="cursorBlinking",n[n.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",n[n.cursorStyle=24]="cursorStyle",n[n.cursorSurroundingLines=25]="cursorSurroundingLines",n[n.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",n[n.cursorWidth=27]="cursorWidth",n[n.disableLayerHinting=28]="disableLayerHinting",n[n.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",n[n.domReadOnly=30]="domReadOnly",n[n.dragAndDrop=31]="dragAndDrop",n[n.dropIntoEditor=32]="dropIntoEditor",n[n.emptySelectionClipboard=33]="emptySelectionClipboard",n[n.experimental=34]="experimental",n[n.extraEditorClassName=35]="extraEditorClassName",n[n.fastScrollSensitivity=36]="fastScrollSensitivity",n[n.find=37]="find",n[n.fixedOverflowWidgets=38]="fixedOverflowWidgets",n[n.folding=39]="folding",n[n.foldingStrategy=40]="foldingStrategy",n[n.foldingHighlight=41]="foldingHighlight",n[n.foldingImportsByDefault=42]="foldingImportsByDefault",n[n.foldingMaximumRegions=43]="foldingMaximumRegions",n[n.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",n[n.fontFamily=45]="fontFamily",n[n.fontInfo=46]="fontInfo",n[n.fontLigatures=47]="fontLigatures",n[n.fontSize=48]="fontSize",n[n.fontWeight=49]="fontWeight",n[n.formatOnPaste=50]="formatOnPaste",n[n.formatOnType=51]="formatOnType",n[n.glyphMargin=52]="glyphMargin",n[n.gotoLocation=53]="gotoLocation",n[n.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",n[n.hover=55]="hover",n[n.inDiffEditor=56]="inDiffEditor",n[n.inlineSuggest=57]="inlineSuggest",n[n.letterSpacing=58]="letterSpacing",n[n.lightbulb=59]="lightbulb",n[n.lineDecorationsWidth=60]="lineDecorationsWidth",n[n.lineHeight=61]="lineHeight",n[n.lineNumbers=62]="lineNumbers",n[n.lineNumbersMinChars=63]="lineNumbersMinChars",n[n.linkedEditing=64]="linkedEditing",n[n.links=65]="links",n[n.matchBrackets=66]="matchBrackets",n[n.minimap=67]="minimap",n[n.mouseStyle=68]="mouseStyle",n[n.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",n[n.mouseWheelZoom=70]="mouseWheelZoom",n[n.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",n[n.multiCursorModifier=72]="multiCursorModifier",n[n.multiCursorPaste=73]="multiCursorPaste",n[n.occurrencesHighlight=74]="occurrencesHighlight",n[n.overviewRulerBorder=75]="overviewRulerBorder",n[n.overviewRulerLanes=76]="overviewRulerLanes",n[n.padding=77]="padding",n[n.parameterHints=78]="parameterHints",n[n.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",n[n.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",n[n.quickSuggestions=81]="quickSuggestions",n[n.quickSuggestionsDelay=82]="quickSuggestionsDelay",n[n.readOnly=83]="readOnly",n[n.renameOnType=84]="renameOnType",n[n.renderControlCharacters=85]="renderControlCharacters",n[n.renderFinalNewline=86]="renderFinalNewline",n[n.renderLineHighlight=87]="renderLineHighlight",n[n.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",n[n.renderValidationDecorations=89]="renderValidationDecorations",n[n.renderWhitespace=90]="renderWhitespace",n[n.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",n[n.roundedSelection=92]="roundedSelection",n[n.rulers=93]="rulers",n[n.scrollbar=94]="scrollbar",n[n.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",n[n.scrollBeyondLastLine=96]="scrollBeyondLastLine",n[n.scrollPredominantAxis=97]="scrollPredominantAxis",n[n.selectionClipboard=98]="selectionClipboard",n[n.selectionHighlight=99]="selectionHighlight",n[n.selectOnLineNumbers=100]="selectOnLineNumbers",n[n.showFoldingControls=101]="showFoldingControls",n[n.showUnused=102]="showUnused",n[n.snippetSuggestions=103]="snippetSuggestions",n[n.smartSelect=104]="smartSelect",n[n.smoothScrolling=105]="smoothScrolling",n[n.stickyTabStops=106]="stickyTabStops",n[n.stopRenderingLineAfter=107]="stopRenderingLineAfter",n[n.suggest=108]="suggest",n[n.suggestFontSize=109]="suggestFontSize",n[n.suggestLineHeight=110]="suggestLineHeight",n[n.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",n[n.suggestSelection=112]="suggestSelection",n[n.tabCompletion=113]="tabCompletion",n[n.tabIndex=114]="tabIndex",n[n.unicodeHighlighting=115]="unicodeHighlighting",n[n.unusualLineTerminators=116]="unusualLineTerminators",n[n.useShadowDOM=117]="useShadowDOM",n[n.useTabStops=118]="useTabStops",n[n.wordSeparators=119]="wordSeparators",n[n.wordWrap=120]="wordWrap",n[n.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",n[n.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",n[n.wordWrapColumn=123]="wordWrapColumn",n[n.wordWrapOverride1=124]="wordWrapOverride1",n[n.wordWrapOverride2=125]="wordWrapOverride2",n[n.wrappingIndent=126]="wrappingIndent",n[n.wrappingStrategy=127]="wrappingStrategy",n[n.showDeprecated=128]="showDeprecated",n[n.inlayHints=129]="inlayHints",n[n.editorClassName=130]="editorClassName",n[n.pixelRatio=131]="pixelRatio",n[n.tabFocusMode=132]="tabFocusMode",n[n.layoutInfo=133]="layoutInfo",n[n.wrappingInfo=134]="wrappingInfo"})(dN||(dN={}));var hN;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(hN||(hN={}));var fN;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(fN||(fN={}));var gN;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(gN||(gN={}));var pN;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(pN||(pN={}));var mN;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(mN||(mN={}));var _N;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(_N||(_N={}));var vN;(function(n){n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.NumLock=78]="NumLock",n[n.ScrollLock=79]="ScrollLock",n[n.Semicolon=80]="Semicolon",n[n.Equal=81]="Equal",n[n.Comma=82]="Comma",n[n.Minus=83]="Minus",n[n.Period=84]="Period",n[n.Slash=85]="Slash",n[n.Backquote=86]="Backquote",n[n.BracketLeft=87]="BracketLeft",n[n.Backslash=88]="Backslash",n[n.BracketRight=89]="BracketRight",n[n.Quote=90]="Quote",n[n.OEM_8=91]="OEM_8",n[n.IntlBackslash=92]="IntlBackslash",n[n.Numpad0=93]="Numpad0",n[n.Numpad1=94]="Numpad1",n[n.Numpad2=95]="Numpad2",n[n.Numpad3=96]="Numpad3",n[n.Numpad4=97]="Numpad4",n[n.Numpad5=98]="Numpad5",n[n.Numpad6=99]="Numpad6",n[n.Numpad7=100]="Numpad7",n[n.Numpad8=101]="Numpad8",n[n.Numpad9=102]="Numpad9",n[n.NumpadMultiply=103]="NumpadMultiply",n[n.NumpadAdd=104]="NumpadAdd",n[n.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=106]="NumpadSubtract",n[n.NumpadDecimal=107]="NumpadDecimal",n[n.NumpadDivide=108]="NumpadDivide",n[n.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",n[n.ABNT_C1=110]="ABNT_C1",n[n.ABNT_C2=111]="ABNT_C2",n[n.AudioVolumeMute=112]="AudioVolumeMute",n[n.AudioVolumeUp=113]="AudioVolumeUp",n[n.AudioVolumeDown=114]="AudioVolumeDown",n[n.BrowserSearch=115]="BrowserSearch",n[n.BrowserHome=116]="BrowserHome",n[n.BrowserBack=117]="BrowserBack",n[n.BrowserForward=118]="BrowserForward",n[n.MediaTrackNext=119]="MediaTrackNext",n[n.MediaTrackPrevious=120]="MediaTrackPrevious",n[n.MediaStop=121]="MediaStop",n[n.MediaPlayPause=122]="MediaPlayPause",n[n.LaunchMediaPlayer=123]="LaunchMediaPlayer",n[n.LaunchMail=124]="LaunchMail",n[n.LaunchApp2=125]="LaunchApp2",n[n.Clear=126]="Clear",n[n.MAX_VALUE=127]="MAX_VALUE"})(vN||(vN={}));var bN;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(bN||(bN={}));var CN;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(CN||(CN={}));var wN;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(wN||(wN={}));var yN;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(yN||(yN={}));var SN;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})(SN||(SN={}));var LN;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(LN||(LN={}));var xN;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.None=2]="None",n[n.LeftOfInjectedText=3]="LeftOfInjectedText",n[n.RightOfInjectedText=4]="RightOfInjectedText"})(xN||(xN={}));var DN;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(DN||(DN={}));var kN;(function(n){n[n.None=0]="None",n[n.Text=1]="Text",n[n.Blocks=2]="Blocks"})(kN||(kN={}));var EN;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(EN||(EN={}));var IN;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(IN||(IN={}));var TN;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(TN||(TN={}));var NN;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(NN||(NN={}));var MN;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(MN||(MN={}));var AN;(function(n){n[n.Deprecated=1]="Deprecated"})(AN||(AN={}));var RN;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(RN||(RN={}));var ON;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(ON||(ON={}));var PN;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(PN||(PN={}));var FN;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(FN||(FN={}));class Ty{static chord(e,t){return ks(e,t)}}Ty.CtrlCmd=2048;Ty.Shift=1024;Ty.Alt=512;Ty.WinCtrl=256;function nee(){return{editor:void 0,languages:void 0,CancellationTokenSource:ro,Emitter:J,KeyCode:vN,KeyMod:Ty,Position:oe,Range:A,Selection:Ye,SelectionDirection:TN,MarkerSeverity:bN,MarkerTag:CN,Uri:bt,Token:XC}}class mrt{constructor(e){this.fn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){const t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.fn(e)),this.lastCache}}class PU{constructor(e){this.fn=e,this._map=new Map}get cachedValues(){return this._map}get(e){if(this._map.has(e))return this._map.get(e);const t=this.fn(e);return this._map.set(e,t),t}}class rv{constructor(e){this.executor=e,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var see;function oee(n){return!n||typeof n!="string"?!0:n.trim().length===0}const _rt=/{(\d+)}/g;function Qa(n,...e){return e.length===0?n:n.replace(_rt,function(t,i){const s=parseInt(i,10);return isNaN(s)||s<0||s>=e.length?t:e[s]})}function jO(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Ca(n){return n.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function vrt(n,e=" "){const t=Wx(n,e);return ree(t,e)}function Wx(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let i=0;for(;n.indexOf(e,i)===i;)i=i+t;return n.substring(i)}function ree(n,e){if(!n||!e)return n;const t=e.length,i=n.length;if(t===0||i===0)return n;let s=i,o=-1;for(;o=n.lastIndexOf(e,s-1),!(o===-1||o+t!==s);){if(o===0)return"";s=o}return n.substring(0,s)}function brt(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Crt(n){return n.replace(/\*/g,"")}function aee(n,e,t={}){if(!n)throw new Error("Cannot create regex from empty string");e||(n=Ca(n)),t.wholeWord&&(/\B/.test(n.charAt(0))||(n="\\b"+n),/\B/.test(n.charAt(n.length-1))||(n=n+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(n,i)}function wrt(n){return n.source==="^"||n.source==="^$"||n.source==="$"||n.source==="^\\s*$"?!1:!!(n.exec("")&&n.lastIndex===0)}function VE(n){return(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")}function Ju(n){return n.split(/\r\n|\r|\n/)}function Qo(n){for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function zi(n,e=0,t=n.length){for(let i=e;i<t;i++){const s=n.charCodeAt(i);if(s!==32&&s!==9)return n.substring(e,i)}return n.substring(e,t)}function ju(n,e=n.length-1){for(let t=e;t>=0;t--){const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function ew(n,e){return n<e?-1:n>e?1:0}function KO(n,e,t=0,i=n.length,s=0,o=e.length){for(;t<i&&s<o;t++,s++){const l=n.charCodeAt(t),c=e.charCodeAt(s);if(l<c)return-1;if(l>c)return 1}const r=i-t,a=o-s;return r<a?-1:r>a?1:0}function BN(n,e){return Ny(n,e,0,n.length,0,e.length)}function Ny(n,e,t=0,i=n.length,s=0,o=e.length){for(;t<i&&s<o;t++,s++){let l=n.charCodeAt(t),c=e.charCodeAt(s);if(l===c)continue;if(l>=128||c>=128)return KO(n.toLowerCase(),e.toLowerCase(),t,i,s,o);zf(l)&&(l-=32),zf(c)&&(c-=32);const u=l-c;if(u!==0)return u}const r=i-t,a=o-s;return r<a?-1:r>a?1:0}function IS(n){return n>=48&&n<=57}function zf(n){return n>=97&&n<=122}function Su(n){return n>=65&&n<=90}function K0(n,e){return n.length===e.length&&Ny(n,e)===0}function qO(n,e){const t=e.length;return e.length>n.length?!1:Ny(n,e,0,t)===0}function Rm(n,e){const t=Math.min(n.length,e.length);let i;for(i=0;i<t;i++)if(n.charCodeAt(i)!==e.charCodeAt(i))return i;return t}function tw(n,e){const t=Math.min(n.length,e.length);let i;const s=n.length-1,o=e.length-1;for(i=0;i<t;i++)if(n.charCodeAt(s-i)!==e.charCodeAt(o-i))return i;return t}function Is(n){return 55296<=n&&n<=56319}function Om(n){return 56320<=n&&n<=57343}function GO(n,e){return(n-55296<<10)+(e-56320)+65536}function h8(n,e,t){const i=n.charCodeAt(t);if(Is(i)&&t+1<e){const s=n.charCodeAt(t+1);if(Om(s))return GO(i,s)}return i}function yrt(n,e){const t=n.charCodeAt(e-1);if(Om(t)&&e>1){const i=n.charCodeAt(e-2);if(Is(i))return GO(i,t)}return t}class YO{constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}get offset(){return this._offset}setOffset(e){this._offset=e}prevCodePoint(){const e=yrt(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=h8(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class f8{constructor(e,t=0){this._iterator=new YO(e,t)}get offset(){return this._iterator.offset}nextGraphemeLength(){const e=Uf.getInstance(),t=this._iterator,i=t.offset;let s=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const o=t.offset,r=e.getGraphemeBreakType(t.nextCodePoint());if(FU(s,r)){t.setOffset(o);break}s=r}return t.offset-i}prevGraphemeLength(){const e=Uf.getInstance(),t=this._iterator,i=t.offset;let s=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const o=t.offset,r=e.getGraphemeBreakType(t.prevCodePoint());if(FU(r,s)){t.setOffset(o);break}s=r}return i-t.offset}eol(){return this._iterator.eol()}}function ZO(n,e){return new f8(n,e).nextGraphemeLength()}function lee(n,e){return new f8(n,e).prevGraphemeLength()}function Srt(n,e){e>0&&Om(n.charCodeAt(e))&&e--;const t=e+ZO(n,e);return[t-lee(n,t),t]}const Lrt=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function av(n){return Lrt.test(n)}const xrt=/^[\t\n\r\x20-\x7E]*$/;function Hx(n){return xrt.test(n)}const cee=/[\u2028\u2029]/;function uee(n){return cee.test(n)}function yg(n){return n>=11904&&n<=55215||n>=63744&&n<=64255||n>=65281&&n<=65374}function XO(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129008||n>=129280&&n<=129535||n>=129648&&n<=129782}const Drt=String.fromCharCode(65279);function QO(n){return!!(n&&n.length>0&&n.charCodeAt(0)===65279)}function krt(n,e=!1){return n?(e&&(n=n.replace(/\\./g,"")),n.toLowerCase()!==n):!1}function dee(n){return n=n%(2*26),n<26?String.fromCharCode(97+n):String.fromCharCode(65+n-26)}function FU(n,e){return n===0?e!==5&&e!==7:n===2&&e===3?!1:n===4||n===2||n===3||e===4||e===2||e===3?!0:!(n===8&&(e===8||e===9||e===11||e===12)||(n===11||n===9)&&(e===9||e===10)||(n===12||n===10)&&e===10||e===5||e===13||e===7||n===1||n===13&&e===14||n===6&&e===6)}class Uf{constructor(){this._data=Ert()}static getInstance(){return Uf._INSTANCE||(Uf._INSTANCE=new Uf),Uf._INSTANCE}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let s=1;for(;s<=i;)if(e<t[3*s])s=2*s;else if(e>t[3*s+1])s=2*s+1;else return t[3*s+2];return 0}}Uf._INSTANCE=null;function Ert(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function Irt(n,e){if(n===0)return 0;const t=Trt(n,e);if(t!==void 0)return t;const i=new YO(e,n);return i.prevCodePoint(),i.offset}function Trt(n,e){const t=new YO(e,n);let i=t.prevCodePoint();for(;Nrt(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!XO(i))return;let s=t.offset;return s>0&&t.prevCodePoint()===8205&&(s=t.offset),s}function Nrt(n){return 127995<=n&&n<=127999}const Mrt="\xA0";class Xl{constructor(e){this.confusableDictionary=e}static getInstance(e){return Xl.cache.get(Array.from(e))}static getLocales(){return Xl._locales.getValue()}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}see=Xl;Xl.ambiguousCharacterData=new rv(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));Xl.cache=new mrt(n=>{function e(c){const u=new Map;for(let d=0;d<c.length;d+=2)u.set(c[d],c[d+1]);return u}function t(c,u){const d=new Map(c);for(const[h,f]of u)d.set(h,f);return d}function i(c,u){if(!c)return u;const d=new Map;for(const[h,f]of c)u.has(h)&&d.set(h,f);return d}const s=see.ambiguousCharacterData.getValue();let o=n.filter(c=>!c.startsWith("_")&&c in s);o.length===0&&(o=["_default"]);let r;for(const c of o){const u=e(s[c]);r=i(r,u)}const a=e(s._common),l=t(a,r);return new Xl(l)});Xl._locales=new rv(()=>Object.keys(Xl.ambiguousCharacterData.getValue()).filter(n=>!n.startsWith("_")));class Ku{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Ku.getRawData())),this._data}static isInvisibleCharacter(e){return Ku.getData().has(e)}static get codePoints(){return Ku.getData()}}Ku._data=void 0;class VN{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}VN.INSTANCE=new VN;class Art extends de{constructor(){super(),this._onDidChange=this._register(new J),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(e){var t;(t=this._mediaQueryList)===null||t===void 0||t.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),e&&this._onDidChange.fire()}}class Rrt extends de{constructor(){super(),this._onDidChange=this._register(new J),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const e=this._register(new Art);this._register(e.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i}}class Ort{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new Rrt),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function JO(n,e){typeof n=="string"&&(n=window.matchMedia(n)),n.addEventListener("change",e)}const lv=new Ort;function hee(){return VN.INSTANCE.getZoomFactor()}const Qv=navigator.userAgent,wa=Qv.indexOf("Firefox")>=0,sg=Qv.indexOf("AppleWebKit")>=0,eP=Qv.indexOf("Chrome")>=0,Ah=!eP&&Qv.indexOf("Safari")>=0,tP=!eP&&!Ah&&sg,Prt=Qv.indexOf("Electron/")>=0,fee=Qv.indexOf("Android")>=0;let WN=!1;if(window.matchMedia){const n=window.matchMedia("(display-mode: standalone)");WN=n.matches,JO(n,({matches:e})=>{WN=e})}function iP(){return WN}var Frt=Object.freeze(Object.defineProperty({__proto__:null,addMatchMediaChangeListener:JO,PixelRatio:lv,getZoomFactor:hee,isFirefox:wa,isWebKit:sg,isChrome:eP,isSafari:Ah,isWebkitWebView:tP,isElectron:Prt,isAndroid:fee,isStandalone:iP},Symbol.toStringTag,{value:"Module"}));class gee{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=du(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=du(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=du(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=du(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=du(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=du(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=du(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=du(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=du(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=du(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function du(n){return typeof n=="number"?`${n}px`:n}function fi(n){return new gee(n)}function bo(n,e){n instanceof gee?(n.setFontFamily(e.getMassagedFontFamily()),n.setFontWeight(e.fontWeight),n.setFontSize(e.fontSize),n.setFontFeatureSettings(e.fontFeatureSettings),n.setLineHeight(e.lineHeight),n.setLetterSpacing(e.letterSpacing)):(n.style.fontFamily=e.getMassagedFontFamily(),n.style.fontWeight=e.fontWeight,n.style.fontSize=e.fontSize+"px",n.style.fontFeatureSettings=e.fontFeatureSettings,n.style.lineHeight=e.lineHeight+"px",n.style.letterSpacing=e.letterSpacing+"px")}class Brt{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class nP{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");bo(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");bo(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const s=document.createElement("div");bo(s,this._bareFontInfo),s.style.fontStyle="italic",e.appendChild(s);const o=[];for(const r of this._requests){let a;r.type===0&&(a=t),r.type===2&&(a=i),r.type===1&&(a=s),a.appendChild(document.createElement("br"));const l=document.createElement("span");nP._render(l,r),a.appendChild(l),o.push(l)}this._container=e,this._testElements=o}static _render(e,t){if(t.chr===" "){let i="\xA0";for(let s=0;s<8;s++)i+=i;e.innerText=i}else{let i=t.chr;for(let s=0;s<8;s++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const i=this._requests[e],s=this._testElements[e];i.fulfill(s.offsetWidth/256)}}}function Vrt(n,e){new nP(n,e).read()}const Rh=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new J,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(n){n=Math.min(Math.max(-5,n),20),this._zoomLevel!==n&&(this._zoomLevel=n,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Wrt=ai?1.5:1.35,WE=8;class fm{constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i){const s=e.get(45),o=e.get(49),r=e.get(48),a=e.get(47),l=e.get(61),c=e.get(58);return fm._create(s,o,r,a,l,c,t,i)}static _create(e,t,i,s,o,r,a,l){o===0?o=Wrt*i:o<WE&&(o=o*i),o=Math.round(o),o<WE&&(o=WE);const c=1+(l?0:Rh.getZoomLevel()*.1);return i*=c,o*=c,new fm({pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:s,lineHeight:o,letterSpacing:r})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const e=Hr.fontFamily,t=fm._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}const Hrt=1;class HN extends fm{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=Hrt,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class $rt extends de{constructor(){super(),this._onDidChange=this._register(new J),this.onDidChange=this._onDidChange.event,this._cache=new BU,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new BU,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readFontInfo(e){if(!this._cache.has(e)){let t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new HN({pixelRatio:lv.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}_createRequest(e,t,i,s){const o=new Brt(e,t);return i.push(o),s==null||s.push(o),o}_actualReadFontInfo(e){const t=[],i=[],s=this._createRequest("n",0,t,i),o=this._createRequest("\uFF4D",0,t,null),r=this._createRequest(" ",0,t,i),a=this._createRequest("0",0,t,i),l=this._createRequest("1",0,t,i),c=this._createRequest("2",0,t,i),u=this._createRequest("3",0,t,i),d=this._createRequest("4",0,t,i),h=this._createRequest("5",0,t,i),f=this._createRequest("6",0,t,i),p=this._createRequest("7",0,t,i),m=this._createRequest("8",0,t,i),b=this._createRequest("9",0,t,i),w=this._createRequest("\u2192",0,t,i),y=this._createRequest("\uFFEB",0,t,null),L=this._createRequest("\xB7",0,t,i),D=this._createRequest(String.fromCharCode(11825),0,t,null),E="|/-_ilm%";for(let V=0,H=E.length;V<H;V++)this._createRequest(E.charAt(V),0,t,i),this._createRequest(E.charAt(V),1,t,i),this._createRequest(E.charAt(V),2,t,i);Vrt(e,t);const T=Math.max(a.width,l.width,c.width,u.width,d.width,h.width,f.width,p.width,m.width,b.width);let x=e.fontFeatureSettings===ua.OFF;const k=i[0].width;for(let V=1,H=i.length;x&&V<H;V++){const G=k-i[V].width;if(G<-.001||G>.001){x=!1;break}}let N=!0;return x&&y.width!==k&&(N=!1),y.width>w.width&&(N=!1),new HN({pixelRatio:lv.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:x,typicalHalfwidthCharacterWidth:s.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:N,spaceWidth:r.width,middotWidth:L.width,wsmiddotWidth:D.width,maxDigitWidth:T},!0)}}class BU{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}const $N=new $rt;var Dc;(function(n){n.serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[n.DI_DEPENDENCIES]||[]}n.getServiceDependencies=e})(Dc||(Dc={}));const Bt=ui("instantiationService");function zrt(n,e,t){e[Dc.DI_TARGET]===e?e[Dc.DI_DEPENDENCIES].push({id:n,index:t}):(e[Dc.DI_DEPENDENCIES]=[{id:n,index:t}],e[Dc.DI_TARGET]=e)}function ui(n){if(Dc.serviceIds.has(n))return Dc.serviceIds.get(n);const e=function(t,i,s){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");zrt(e,t,s)};return e.toString=()=>n,Dc.serviceIds.set(n,e),e}const Ei=ui("codeEditorService");function sC(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}const Urt={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class jrt extends de{constructor(e,t={}){super(),this._onDidUpdate=this._register(new J),this._editor=e,this._options=ld(t,Urt,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new A(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):t.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new A(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new A(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,i)=>A.compareRangesUsingStarts(t.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1;const i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let s=0,o=this.ranges.length;s<o&&!t;s++){const r=this.ranges[s].range;i.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=s+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(e,t){if(sC(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const s=i.range.getStartPosition();this._editor.setPosition(s),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}const My={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var ll;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(ll||(ll={}));var sl;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(sl||(sl={}));var kc;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(kc||(kc={}));class u6{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),this.indentSize=e.tabSize|0,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&nl(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class iw{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}function Krt(n){return n&&typeof n.read=="function"}class HE{constructor(e,t,i,s,o,r){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=s,this.isAutoWhitespaceEdit=o,this._isTracked=r}}class qrt{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}class Grt{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function Yrt(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}var is;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(is||(is={}));class $E{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const i=e.findTokenIndexAtOffset(t-2),s=e.getStandardTokenType(i);return this.isOK(s)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const s=String.fromCharCode(i);if(!this.open.includes(s)&&!this.close.includes(s))return s}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class Zrt{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)q2(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),q2(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),q2(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),q2(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&q2(this.autoClosingPairsCloseSingleChar,t.close,t)}}function q2(n,e,t){n.has(e)?n.get(e).push(t):n.set(e,[t])}function $x(n,e){const t=n.getCount(),i=n.findTokenIndexAtOffset(e),s=n.getLanguageId(i);let o=i;for(;o+1<t&&n.getLanguageId(o+1)===s;)o++;let r=i;for(;r>0&&n.getLanguageId(r-1)===s;)r--;return new Xrt(n,s,r,o+1,n.getStartOffset(r),n.getEndOffset(o))}class Xrt{constructor(e,t,i,s,o,r){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=s,this.firstCharOffset=o,this._lastCharOffset=r}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function mu(n){return(n&3)!==0}class zx{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new $E(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new $E({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new $E({open:t.open,close:t.close||""}))}this._autoCloseBefore=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:zx.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}zx.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;const VU=typeof Buffer!="undefined";let zE;class Ux{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return VU&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new Ux(e)}toString(){return VU?this.buffer.toString():(zE||(zE=new TextDecoder),zE.decode(this.buffer))}}function Qrt(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0}function Jrt(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255}function pc(n,e){return n[e]*Math.pow(2,24)+n[e+1]*Math.pow(2,16)+n[e+2]*Math.pow(2,8)+n[e+3]}function mc(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function WU(n,e){return n[e]}function HU(n,e,t){n[t]=e}let UE;function pee(){return UE||(UE=new TextDecoder("UTF-16LE")),UE}let jE;function eat(){return jE||(jE=new TextDecoder("UTF-16BE")),jE}let KE;function mee(){return KE||(KE=EJ()?pee():eat()),KE}const _ee=typeof TextDecoder!="undefined";let Sg,zN;_ee?(Sg=n=>new iat(n),zN=tat):(Sg=n=>new nat,zN=vee);function tat(n,e,t){const i=new Uint16Array(n.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?vee(n,e,t):pee().decode(i)}function vee(n,e,t){const i=[];let s=0;for(let o=0;o<t;o++){const r=Qrt(n,e);e+=2,i[s++]=String.fromCharCode(r)}return i.join("")}class iat{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return mee().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||Is(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class nat{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}class g8{constructor(e,t,i,s,o,r){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=s,this.forwardRegex=o,this.reversedRegex=r,this._openSet=g8._toSet(this.open),this._closeSet=g8._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function sat(n){const e=n.length;n=n.map(r=>[r[0].toLowerCase(),r[1].toLowerCase()]);const t=[];for(let r=0;r<e;r++)t[r]=r;const i=(r,a)=>{const[l,c]=r,[u,d]=a;return l===u||l===d||c===u||c===d},s=(r,a)=>{const l=Math.min(r,a),c=Math.max(r,a);for(let u=0;u<e;u++)t[u]===c&&(t[u]=l)};for(let r=0;r<e;r++){const a=n[r];for(let l=r+1;l<e;l++){const c=n[l];i(a,c)&&s(t[r],t[l])}}const o=[];for(let r=0;r<e;r++){const a=[],l=[];for(let c=0;c<e;c++)if(t[c]===r){const[u,d]=n[c];a.push(u),l.push(d)}a.length>0&&o.push({open:a,close:l})}return o}class oat{constructor(e,t){this._richEditBracketsBrand=void 0;const i=sat(t);this.brackets=i.map((s,o)=>new g8(e,o,s.open,s.close,rat(s.open,s.close,i,o),aat(s.open,s.close,i,o))),this.forwardRegex=lat(this.brackets),this.reversedRegex=cat(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const s of this.brackets){for(const o of s.open)this.textIsBracket[o]=s,this.textIsOpenBracket[o]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,o.length);for(const o of s.close)this.textIsBracket[o]=s,this.textIsOpenBracket[o]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,o.length)}}}function bee(n,e,t,i){for(let s=0,o=e.length;s<o;s++){if(s===t)continue;const r=e[s];for(const a of r.open)a.indexOf(n)>=0&&i.push(a);for(const a of r.close)a.indexOf(n)>=0&&i.push(a)}}function Cee(n,e){return n.length-e.length}function jx(n){if(n.length<=1)return n;const e=[],t=new Set;for(const i of n)t.has(i)||(e.push(i),t.add(i));return e}function rat(n,e,t,i){let s=[];s=s.concat(n),s=s.concat(e);for(let o=0,r=s.length;o<r;o++)bee(s[o],t,i,s);return s=jx(s),s.sort(Cee),s.reverse(),Kx(s)}function aat(n,e,t,i){let s=[];s=s.concat(n),s=s.concat(e);for(let o=0,r=s.length;o<r;o++)bee(s[o],t,i,s);return s=jx(s),s.sort(Cee),s.reverse(),Kx(s.map(sP))}function lat(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=jx(e),Kx(e)}function cat(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=jx(e),Kx(e.map(sP))}function uat(n){const e=/^[\w ]+$/.test(n);return n=Ca(n),e?`\\b${n}\\b`:n}function Kx(n){const e=`(${n.map(uat).join(")|(")})`;return aee(e,!0)}const sP=function(){function n(i){if(_ee){const s=new Uint16Array(i.length);let o=0;for(let r=i.length-1;r>=0;r--)s[o++]=i.charCodeAt(r);return mee().decode(s)}else{const s=[];let o=0;for(let r=i.length-1;r>=0;r--)s[o++]=i.charAt(r);return s.join("")}}let e=null,t=null;return function(s){return e!==s&&(e=s,t=n(e)),t}}();class Al{static _findPrevBracketInText(e,t,i,s){const o=i.match(e);if(!o)return null;const r=i.length-(o.index||0),a=o[0].length,l=s+r;return new A(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,s,o){const a=sP(i).substring(i.length-o,i.length-s);return this._findPrevBracketInText(e,t,a,s)}static findNextBracketInText(e,t,i,s){const o=i.match(e);if(!o)return null;const r=o.index||0,a=o[0].length;if(a===0)return null;const l=s+r;return new A(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,s,o){const r=i.substring(s,o);return this.findNextBracketInText(e,t,r,s)}}class dat{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const s=i.charAt(i.length-1);e.push(s)}return Nh(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const s=t.findTokenIndexAtOffset(i-1);if(mu(t.getStandardTokenType(s)))return null;const o=this._richEditBrackets.reversedRegex,r=t.getLineContent().substring(0,i-1)+e,a=Al.findPrevBracketInRange(o,1,r,0,r.length);if(!a)return null;const l=r.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const u=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:l}:null}}function TS(n){return n.global&&(n.lastIndex=0),!0}class hat{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&TS(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&TS(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&TS(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&TS(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class q0{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=q0._createOpenBracketRegExp(t[0]),s=q0._createCloseBracketRegExp(t[1]);i&&s&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:s})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,s){if(e>=3)for(let o=0,r=this._regExpRules.length;o<r;o++){const a=this._regExpRules[o];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:s},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&i.length>0&&s.length>0)for(let o=0,r=this._brackets.length;o<r;o++){const a=this._brackets[o];if(a.openRegExp.test(i)&&a.closeRegExp.test(s))return{indentAction:is.IndentOutdent}}if(e>=2&&i.length>0){for(let o=0,r=this._brackets.length;o<r;o++)if(this._brackets[o].openRegExp.test(i))return{indentAction:is.Indent}}return null}static _createOpenBracketRegExp(e){let t=Ca(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",q0._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=Ca(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,q0._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Ot(t),null}}}const Ci=ui("configurationService");function wee(n,e){const t=Object.create(null);for(const i in n)oP(t,i,n[i],e);return t}function oP(n,e,t,i){const s=e.split("."),o=s.pop();let r=n;for(let a=0;a<s.length;a++){const l=s[a];let c=r[l];switch(typeof c){case"undefined":c=r[l]=Object.create(null);break;case"object":break;default:i(`Ignoring ${e} as ${s.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}r=c}if(typeof r=="object"&&r!==null)try{r[o]=t}catch{i(`Ignoring ${e} as ${s.join(".")} is ${JSON.stringify(r)}`)}else i(`Ignoring ${e} as ${s.join(".")} is ${JSON.stringify(r)}`)}function fat(n,e){const t=e.split(".");yee(n,t)}function yee(n,e){const t=e.shift();if(e.length===0){delete n[t];return}if(Object.keys(n).indexOf(t)!==-1){const i=n[t];typeof i=="object"&&!Array.isArray(i)&&(yee(i,e),Object.keys(i).length===0&&delete n[t])}}function $U(n,e,t){function i(r,a){let l=r;for(const c of a){if(typeof l!="object"||l===null)return;l=l[c]}return l}const s=e.split("."),o=i(n,s);return typeof o=="undefined"?t:o}function gat(n){return n.replace(/[\[\]]/g,"")}const In=ui("languageService");class Lu{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const See=[];function gi(n,e,t){e instanceof Lu||(e=new Lu(e,[],t)),See.push([n,e])}function zU(){return See}class pat{constructor(){this.data=new Map}add(e,t){sC(br(e)),sC(pr(t)),sC(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const Tn=new pat,fr=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),qx={JSONContribution:"base.contributions.json"};function mat(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}class _at{constructor(){this._onDidChangeSchema=new J,this.schemasById={}}registerSchema(e,t){this.schemasById[mat(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const vat=new _at;Tn.add(qx.JSONContribution,vat);const Uh={Configuration:"base.contributions.configuration"},G2="vscode://schemas/settings/resourceLanguage",UU=Tn.as(qx.JSONContribution);class bat{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new J,this._onDidUpdateConfiguration=new J,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:v("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},UU.registerSchema(G2,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=this.doRegisterConfigurations(e,t);UU.registerSchema(G2,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){var t;const i=[],s=[];for(const{overrides:o,source:r}of e)for(const a in o)if(i.push(a),nw.test(a)){const l=this.configurationDefaultsOverrides.get(a),c=(t=l==null?void 0:l.valuesSources)!==null&&t!==void 0?t:new Map;if(r)for(const f of Object.keys(o[a]))c.set(f,r);const u=Object.assign(Object.assign({},(l==null?void 0:l.value)||{}),o[a]);this.configurationDefaultsOverrides.set(a,{source:r,value:u,valuesSources:c});const d=gat(a),h={type:"object",default:u,description:v("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",d),$ref:G2,defaultDefaultValue:u,source:br(r)?void 0:r,defaultValueSource:r};s.push(...xee(a)),this.configurationProperties[a]=h,this.defaultLanguageConfigurationOverridesNode.properties[a]=h}else{this.configurationDefaultsOverrides.set(a,{value:o[a],source:r});const l=this.configurationProperties[a];l&&(this.updatePropertyDefaultValue(a,l),this.updateSchema(a,l))}this.registerOverrideIdentifiers(s),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:!0})}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){const i=[];return e.forEach(s=>{i.push(...this.validateAndRegisterProperties(s,t,s.extensionInfo,s.restrictedProperties)),this.configurationContributors.push(s),this.registerJSONConfiguration(s)}),i}validateAndRegisterProperties(e,t=!0,i,s,o=3){var r;o=ca(e.scope)?o:e.scope;const a=[],l=e.properties;if(l)for(const u in l){const d=l[u];if(t&&yat(u,d)){delete l[u];continue}if(d.source=i,d.defaultDefaultValue=l[u].default,this.updatePropertyDefaultValue(u,d),nw.test(u)?d.scope=void 0:(d.scope=ca(d.scope)?o:d.scope,d.restricted=ca(d.restricted)?!!(s!=null&&s.includes(u)):d.restricted),l[u].hasOwnProperty("included")&&!l[u].included){this.excludedConfigurationProperties[u]=l[u],delete l[u];continue}else this.configurationProperties[u]=l[u],!((r=l[u].policy)===null||r===void 0)&&r.name&&this.policyConfigurations.set(l[u].policy.name,u);!l[u].deprecationMessage&&l[u].markdownDeprecationMessage&&(l[u].deprecationMessage=l[u].markdownDeprecationMessage),a.push(u)}const c=e.allOf;if(c)for(const u of c)a.push(...this.validateAndRegisterProperties(u,t,i,s,o));return a}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=i=>{const s=i.properties;if(s)for(const r in s)this.updateSchema(r,s[r]);const o=i.allOf;o==null||o.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:v("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:v("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:G2};this.updatePropertyDefaultValue(t,i)}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){v("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),v("overrideSettings.errorMessage","This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e);let s=i==null?void 0:i.value,o=i==null?void 0:i.source;Br(s)&&(s=t.defaultDefaultValue,o=void 0),Br(s)&&(s=wat(t.type)),t.default=s,t.defaultValueSource=o}}const Lee="\\[([^\\]]+)\\]",jU=new RegExp(Lee,"g"),Cat=`^(${Lee})+$`,nw=new RegExp(Cat);function xee(n){const e=[];if(nw.test(n)){let t=jU.exec(n);for(;t!=null&&t.length;){const i=t[1].trim();i&&e.push(i),t=jU.exec(n)}}return Nh(e)}function wat(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const d6=new bat;Tn.add(Uh.Configuration,d6);function yat(n,e){var t,i,s,o;return n.trim()?nw.test(n)?v("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):d6.getConfigurationProperties()[n]!==void 0?v("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):((t=e.policy)===null||t===void 0?void 0:t.name)&&d6.getPolicyConfigurations().get((i=e.policy)===null||i===void 0?void 0:i.name)!==void 0?v("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,(s=e.policy)===null||s===void 0?void 0:s.name,d6.getPolicyConfigurations().get((o=e.policy)===null||o===void 0?void 0:o.name)):null:v("config.property.empty","Cannot register an empty property")}const Sat={ModesRegistry:"editor.modesRegistry"};class Lat{constructor(){this._onDidChangeLanguages=new J,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}}const cv=new Lat;Tn.add(Sat.ModesRegistry,cv);const ol="plaintext",xat=".txt";cv.registerLanguage({id:ol,extensions:[xat],aliases:[v("plainText.alias","Plain Text"),"text"],mimetypes:[fr.text]});Tn.as(Uh.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);class Dat{constructor(e,t){this.languageId=e;let i;t.colorizedBracketPairs?i=KU(t.colorizedBracketPairs.map(r=>[r[0],r[1]])):t.brackets?i=KU(t.brackets.map(r=>[r[0],r[1]]).filter(r=>!(r[0]==="<"&&r[1]===">"))):i=[];const s=new PU(r=>{const a=new Set;return{info:new kat(this,r,a),closing:a}}),o=new PU(r=>{const a=new Set;return{info:new Eat(this,r,a),opening:a}});for(const[r,a]of i){const l=s.get(r),c=o.get(a);l.closing.add(c.info),c.opening.add(l.info)}this._openingBrackets=new Map([...s.cachedValues].map(([r,a])=>[r,a.info])),this._closingBrackets=new Map([...o.cachedValues].map(([r,a])=>[r,a.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}}function KU(n){return n.filter(([e,t])=>e!==""&&t!=="")}class Dee{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class kat extends Dee{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class Eat extends Dee{constructor(e,t,i){super(e,t),this.closedBrackets=i,this.isOpeningBracket=!1}closes(e){if(e.languageId===this.languageId&&e.config!==this.config)throw new BO("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(e)}getClosedBrackets(){return[...this.closedBrackets]}}var Iat=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},qU=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class qE{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}}const Xn=ui("languageConfigurationService");let UN=class extends de{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new Aat),this.onDidChangeEmitter=this._register(new J),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(jN));this._register(this.configurationService.onDidChangeConfiguration(s=>{const o=s.change.keys.some(a=>i.has(a)),r=s.change.overrides.filter(([a,l])=>l.some(c=>i.has(c))).map(([a])=>a);if(o)this.configurations.clear(),this.onDidChangeEmitter.fire(new qE(void 0));else for(const a of r)this.languageService.isRegisteredLanguageId(a)&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new qE(a)))})),this._register(this._registry.onDidChange(s=>{this.configurations.delete(s.languageId),this.onDidChangeEmitter.fire(new qE(s.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=Tat(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};UN=Iat([qU(0,Ci),qU(1,In)],UN);function Tat(n,e,t,i){let s=e.getLanguageConfiguration(n);if(!s){if(!i.isRegisteredLanguageId(n))throw new Error(`Language id "${n}" is not configured nor known`);s=new sw(n,{})}const o=Nat(s.languageId,t),r=Eee([s.underlyingConfig,o]);return new sw(s.languageId,r)}const jN={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Nat(n,e){const t=e.getValue(jN.brackets,{overrideIdentifier:n}),i=e.getValue(jN.colorizedBracketPairs,{overrideIdentifier:n});return{brackets:GU(t),colorizedBracketPairs:GU(i)}}function GU(n){if(!!Array.isArray(n))return n.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function kee(n,e,t){const i=n.getLineContent(e);let s=zi(i);return s.length>t-1&&(s=s.substring(0,t-1)),s}function w1(n,e,t){n.tokenization.forceTokenization(e);const i=n.tokenization.getLineTokens(e),s=typeof t=="undefined"?n.getLineMaxColumn(e)-1:t-1;return $x(i,s)}class Mat{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new YU(e,t,++this._order);return this._entries.push(i),this._resolved=null,jt(()=>{for(let s=0;s<this._entries.length;s++)if(this._entries[s]===i){this._entries.splice(s,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new sw(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(YU.cmp),Eee(this._entries.map(e=>e.configuration)))}}function Eee(n){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of n)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class YU{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class ZU{constructor(e){this.languageId=e}}class Aat extends de{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new J),this.onDidChange=this._onDidChange.event,this._register(this.register(ol,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let s=this._entries.get(e);s||(s=new Mat(e),this._entries.set(e,s));const o=s.register(t,i);return this._onDidChange.fire(new ZU(e)),jt(()=>{o.dispose(),this._onDidChange.fire(new ZU(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}}class sw{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new q0(this.underlyingConfig):null,this.comments=sw._handleComments(this.underlyingConfig),this.characterPair=new zx(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||RO,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new hat(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new Dat(e,this.underlyingConfig)}getWordDefinition(){return NJ(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new oat(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new dat(this.brackets)),this._electricCharacter}onEnter(e,t,i,s){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,s):null}getAutoClosingPairs(){return new Zrt(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[s,o]=t.blockComment;i.blockCommentStartToken=s,i.blockCommentEndToken=o}return i}}gi(Xn,UN);const uv=new class{clone(){return this}equals(n){return this===n}};function rP(n,e){return new UO([new XC(0,"",n)],e)}function Gx(n,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(n<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new Vx(t,e===null?uv:e)}const Nn=ui("modelService");var Pa=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},xb=globalThis&&globalThis.__asyncValues||function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(r){return new Promise(function(a,l){r=n[o](r),s(a,l,r.done,r.value)})}}function s(o,r,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},r)}};function KN(n){return!!n&&typeof n.then=="function"}function Ws(n){const e=new ro,t=n(e.token),i=new Promise((s,o)=>{const r=e.token.onCancellationRequested(()=>{r.dispose(),e.dispose(),o(new Kg)});Promise.resolve(t).then(a=>{r.dispose(),e.dispose(),s(a)},a=>{r.dispose(),e.dispose(),o(a)})});return new class{cancel(){e.cancel()}then(s,o){return i.then(s,o)}catch(s){return this.then(void 0,s)}finally(s){return i.finally(s)}}}function aP(n,e,t){return new Promise((i,s)=>{const o=e.onCancellationRequested(()=>{o.dispose(),i(t)});n.then(i,s).finally(()=>o.dispose())})}class Rat{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{this.queuedPromise=null;const i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(s=>{this.activePromise=null,t(s)},s=>{this.activePromise=null,i(s)})})}}const Oat=(n,e)=>{let t=!0;const i=setTimeout(()=>{t=!1,e()},n);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},Pat=n=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,n())}),{isTriggered:()=>e,dispose:()=>{e=!1}}},Iee=Symbol("MicrotaskDelay");class ed{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((s,o)=>{this.doResolve=s,this.doReject=o}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const s=this.task;return this.task=null,s()}}));const i=()=>{var s;this.deferred=null,(s=this.doResolve)===null||s===void 0||s.call(this,null)};return this.deferred=t===Iee?Pat(i):Oat(t,i),this.completionPromise}isTriggered(){var e;return!!(!((e=this.deferred)===null||e===void 0)&&e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&((e=this.doReject)===null||e===void 0||e.call(this,new Kg),this.completionPromise=null)}cancelTimeout(){var e;(e=this.deferred)===null||e===void 0||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class Fat{constructor(e){this.delayer=new ed(e),this.throttler=new Rat}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}dispose(){this.delayer.dispose()}}function Lg(n,e){return e?new Promise((t,i)=>{const s=setTimeout(()=>{o.dispose(),t()},n),o=e.onCancellationRequested(()=>{clearTimeout(s),o.dispose(),i(new Kg)})}):Ws(t=>Lg(n,t))}function Pm(n,e=0){const t=setTimeout(n,e);return jt(()=>clearTimeout(t))}function Tee(n,e,t=null){let i=0;const s=n.length,o=()=>{if(i>=s)return Promise.resolve(t);const r=n[i++];return Promise.resolve(r()).then(l=>e(l)?Promise.resolve(l):o())};return o()}class La{constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class Ay{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}}class Hi{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;(e=this.runner)===null||e===void 0||e.call(this)}}let ow;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?ow=n=>{kJ(()=>{if(e)return;const t=Date.now()+15;n(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,t-Date.now())}}))});let e=!1;return{dispose(){e||(e=!0)}}}:ow=(n,e)=>{const t=requestIdleCallback(n,typeof e=="number"?{timeout:e}:void 0);let i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(t))}}}})();class og{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=ow(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class lP{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(e){return new Promise(t=>{this.completeCallback(e),this.resolved=!0,t()})}cancel(){new Promise(e=>{this.errorCallback(new Kg),this.rejected=!0,e()})}}var qN;(function(n){function e(i){return Pa(this,void 0,void 0,function*(){let s;const o=yield Promise.all(i.map(r=>r.then(a=>a,a=>{s||(s=a)})));if(typeof s!="undefined")throw s;return o})}n.settled=e;function t(i){return new Promise((s,o)=>Pa(this,void 0,void 0,function*(){try{yield i(s,o)}catch(r){o(r)}}))}n.withAsyncBody=t})(qN||(qN={}));class ts{constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new J,queueMicrotask(()=>Pa(this,void 0,void 0,function*(){const t={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{yield Promise.resolve(e(t)),this.resolve()}catch(i){this.reject(i)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}}))}static fromArray(e){return new ts(t=>{t.emitMany(e)})}static fromPromise(e){return new ts(t=>Pa(this,void 0,void 0,function*(){t.emitMany(yield e)}))}static fromPromises(e){return new ts(t=>Pa(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>Pa(this,void 0,void 0,function*(){return t.emitOne(yield i)})))}))}static merge(e){return new ts(t=>Pa(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>{var s,o;return Pa(this,void 0,void 0,function*(){var r,a;try{for(s=xb(i);o=yield s.next(),!o.done;){const l=o.value;t.emitOne(l)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(a=s.return)&&(yield a.call(s))}finally{if(r)throw r.error}}})}))}))}[Symbol.asyncIterator](){let e=0;return{next:()=>Pa(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};yield ct.toPromise(this._onStateChanged.event)}while(!0)})}}static map(e,t){return new ts(i=>Pa(this,void 0,void 0,function*(){var s,o;try{for(var r=xb(e),a;a=yield r.next(),!a.done;){const l=a.value;i.emitOne(t(l))}}catch(l){s={error:l}}finally{try{a&&!a.done&&(o=r.return)&&(yield o.call(r))}finally{if(s)throw s.error}}}))}map(e){return ts.map(this,e)}static filter(e,t){return new ts(i=>Pa(this,void 0,void 0,function*(){var s,o;try{for(var r=xb(e),a;a=yield r.next(),!a.done;){const l=a.value;t(l)&&i.emitOne(l)}}catch(l){s={error:l}}finally{try{a&&!a.done&&(o=r.return)&&(yield o.call(r))}finally{if(s)throw s.error}}}))}filter(e){return ts.filter(this,e)}static coalesce(e){return ts.filter(e,t=>!!t)}coalesce(){return ts.coalesce(this)}static toPromise(e){var t,i,s,o;return Pa(this,void 0,void 0,function*(){const r=[];try{for(t=xb(e);i=yield t.next(),!i.done;){const a=i.value;r.push(a)}}catch(a){s={error:a}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(s)throw s.error}}return r})}toPromise(){return ts.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}}ts.EMPTY=ts.fromArray([]);class Bat extends ts{constructor(e,t){super(t),this._source=e}cancel(){this._source.cancel()}}function Vat(n){const e=new ro,t=n(e.token);return new Bat(e,i=>Pa(this,void 0,void 0,function*(){var s,o;const r=e.token.onCancellationRequested(()=>{r.dispose(),e.dispose(),i.reject(new Kg)});try{try{for(var a=xb(t),l;l=yield a.next(),!l.done;){const c=l.value;if(e.token.isCancellationRequested)return;i.emitOne(c)}}catch(c){s={error:c}}finally{try{l&&!l.done&&(o=a.return)&&(yield o.call(a))}finally{if(s)throw s.error}}r.dispose(),e.dispose()}catch(c){r.dispose(),e.dispose(),i.reject(c)}}))}const Wat="$initialize";let XU=!1;function GN(n){!jg||(XU||(XU=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(n.message))}class Hat{constructor(e,t,i,s){this.vsWorker=e,this.req=t,this.method=i,this.args=s,this.type=0}}class QU{constructor(e,t,i,s){this.vsWorker=e,this.seq=t,this.res=i,this.err=s,this.type=1}}class $at{constructor(e,t,i,s){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=s,this.type=2}}class zat{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class Uat{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class jat{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise((s,o)=>{this._pendingReplies[i]={resolve:s,reject:o},this._send(new Hat(this._workerId,i,e,t))})}listen(e,t){let i=null;const s=new J({onFirstListenerAdd:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,s),this._send(new $at(this._workerId,i,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(i),this._send(new Uat(this._workerId,i)),i=null}});return s.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.method,e.args).then(s=>{this._send(new QU(this._workerId,t,s,void 0))},s=>{s.detail instanceof Error&&(s.detail=NU(s.detail)),this._send(new QU(this._workerId,t,void 0,NU(s)))})}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)(s=>{this._send(new zat(this._workerId,t,s))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){const t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class Kat extends de{constructor(e,t,i){super();let s=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",c=>{this._protocol.handleMessage(c)},c=>{s==null||s(c)})),this._protocol=new jat({sendMessage:(c,u)=>{this._worker.postMessage(c,u)},handleMessage:(c,u)=>{if(typeof i[c]!="function")return Promise.reject(new Error("Missing method "+c+" on main thread host."));try{return Promise.resolve(i[c].apply(i,u))}catch(d){return Promise.reject(d)}},handleEvent:(c,u)=>{if(Mee(c)){const d=i[c].call(i,u);if(typeof d!="function")throw new Error(`Missing dynamic event ${c} on main thread host.`);return d}if(Nee(c)){const d=i[c];if(typeof d!="function")throw new Error(`Missing event ${c} on main thread host.`);return d}throw new Error(`Malformed event name ${c}`)}}),this._protocol.setWorkerId(this._worker.getId());let o=null;typeof Yn.require!="undefined"&&typeof Yn.require.getConfig=="function"?o=Yn.require.getConfig():typeof Yn.requirejs!="undefined"&&(o=Yn.requirejs.s.contexts._.config);const r=FO(i);this._onModuleLoaded=this._protocol.sendMessage(Wat,[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,r]);const a=(c,u)=>this._request(c,u),l=(c,u)=>this._protocol.listen(c,u);this._lazyProxy=new Promise((c,u)=>{s=u,this._onModuleLoaded.then(d=>{c(qat(d,a,l))},d=>{u(d),this._onError("Worker failed to load "+t,d)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,s)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,s)},s)})}_onError(e,t){console.error(e),console.info(t)}}function Nee(n){return n[0]==="o"&&n[1]==="n"&&Su(n.charCodeAt(2))}function Mee(n){return/^onDynamic/.test(n)&&Su(n.charCodeAt(9))}function qat(n,e,t){const i=r=>function(){const a=Array.prototype.slice.call(arguments,0);return e(r,a)},s=r=>function(a){return t(r,a)},o={};for(const r of n){if(Mee(r)){o[r]=s(r);continue}if(Nee(r)){o[r]=t(r,void 0);continue}o[r]=i(r)}return o}var GE;const JU=(GE=window.trustedTypes)===null||GE===void 0?void 0:GE.createPolicy("defaultWorkerFactory",{createScriptURL:n=>n});function Gat(n){if(Yn.MonacoEnvironment){if(typeof Yn.MonacoEnvironment.getWorker=="function")return Yn.MonacoEnvironment.getWorker("workerMain.js",n);if(typeof Yn.MonacoEnvironment.getWorkerUrl=="function"){const e=Yn.MonacoEnvironment.getWorkerUrl("workerMain.js",n);return new Worker(JU?JU.createScriptURL(e):e,{name:n})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function Yat(n){return typeof n.then=="function"}class Zat{constructor(e,t,i,s,o){this.id=t;const r=Gat(i);Yat(r)?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(l){s(l.data)},a.onmessageerror=o,typeof a.addEventListener=="function"&&a.addEventListener("error",o)})}getId(){return this.id}postMessage(e,t){var i;(i=this.worker)===null||i===void 0||i.then(s=>s.postMessage(e,t))}dispose(){var e;(e=this.worker)===null||e===void 0||e.then(t=>t.terminate()),this.worker=null}}class Yx{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){const s=++Yx.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Zat(e,s,this._label||"anonymous"+s,t,o=>{GN(o),this._webWorkerFailedBeforeError=o,i(o)})}}Yx.LAST_WORKER_ID=0;class Df{constructor(e,t,i,s){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=s}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function cP(n){return Zx(n,0)}function Zx(n,e){switch(typeof n){case"object":return n===null?rh(349,e):Array.isArray(n)?Qat(n,e):Jat(n,e);case"string":return uP(n,e);case"boolean":return Xat(n,e);case"number":return rh(n,e);case"undefined":return rh(937,e);default:return rh(617,e)}}function rh(n,e){return(e<<5)-e+n|0}function Xat(n,e){return rh(n?433:863,e)}function uP(n,e){e=rh(149417,e);for(let t=0,i=n.length;t<i;t++)e=rh(n.charCodeAt(t),e);return e}function Qat(n,e){return e=rh(104579,e),n.reduce((t,i)=>Zx(i,t),e)}function Jat(n,e){return e=rh(181387,e),Object.keys(n).sort().reduce((t,i)=>(t=uP(i,t),Zx(n[i],t)),e)}function YE(n,e,t=32){const i=t-e,s=~((1<<i)-1);return(n<<e|(s&n)>>>i)>>>0}function ej(n,e=0,t=n.byteLength,i=0){for(let s=0;s<t;s++)n[e+s]=i}function elt(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function Y2(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):elt((n>>>0).toString(16),e/4)}class Xx{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const i=this._buff;let s=this._buffLen,o=this._leftoverHighSurrogate,r,a;for(o!==0?(r=o,a=-1,o=0):(r=e.charCodeAt(0),a=0);;){let l=r;if(Is(r))if(a+1<t){const c=e.charCodeAt(a+1);Om(c)?(a++,l=GO(r,c)):l=65533}else{o=r;break}else Om(r)&&(l=65533);if(s=this._push(i,s,l),a++,a<t)r=e.charCodeAt(a);else break}this._buffLen=s,this._leftoverHighSurrogate=o}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64+0],e[1]=e[64+1],e[2]=e[64+2]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Y2(this._h0)+Y2(this._h1)+Y2(this._h2)+Y2(this._h3)+Y2(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,ej(this._buff,this._buffLen),this._buffLen>56&&(this._step(),ej(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=Xx._bigBlock32,t=this._buffDV;for(let d=0;d<64;d+=4)e.setUint32(d,t.getUint32(d,!1),!1);for(let d=64;d<320;d+=4)e.setUint32(d,YE(e.getUint32(d-12,!1)^e.getUint32(d-32,!1)^e.getUint32(d-56,!1)^e.getUint32(d-64,!1),1),!1);let i=this._h0,s=this._h1,o=this._h2,r=this._h3,a=this._h4,l,c,u;for(let d=0;d<80;d++)d<20?(l=s&o|~s&r,c=1518500249):d<40?(l=s^o^r,c=1859775393):d<60?(l=s&o|s&r|o&r,c=2400959708):(l=s^o^r,c=3395469782),u=YE(i,5)+l+a+c+e.getUint32(d*4,!1)&4294967295,a=r,r=o,o=YE(s,30),s=i,i=u;this._h0=this._h0+i&4294967295,this._h1=this._h1+s&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+r&4294967295,this._h4=this._h4+a&4294967295}}Xx._bigBlock32=new DataView(new ArrayBuffer(320));class tj{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,s=e.length;i<s;i++)t[i]=e.charCodeAt(i);return t}}function tlt(n,e,t){return new Eu(new tj(n),new tj(e)).ComputeDiff(t).changes}class u0{static Assert(e,t){if(!e)throw new Error(t)}}class d0{static Copy(e,t,i,s,o){for(let r=0;r<o;r++)i[s+r]=e[t+r]}static Copy2(e,t,i,s,o){for(let r=0;r<o;r++)i[s+r]=e[t+r]}}class ij{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Df(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Eu{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[s,o,r]=Eu._getElements(e),[a,l,c]=Eu._getElements(t);this._hasStrings=r&&c,this._originalStringElements=s,this._originalElementsOrHash=o,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(Eu._isStringArray(t)){const i=new Int32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=uP(t[s],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const i=Eu._getStrictElement(this._originalSequence,e),s=Eu._getStrictElement(this._modifiedSequence,t);return i===s}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,s,o){const r=[!1];let a=this.ComputeDiffRecursive(e,t,i,s,r);return o&&(a=this.PrettifyChanges(a)),{quitEarly:r[0],changes:a}}ComputeDiffRecursive(e,t,i,s,o){for(o[0]=!1;e<=t&&i<=s&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&s>=i&&this.ElementsAreEqual(t,s);)t--,s--;if(e>t||i>s){let d;return i<=s?(u0.Assert(e===t+1,"originalStart should only be one more than originalEnd"),d=[new Df(e,0,i,s-i+1)]):e<=t?(u0.Assert(i===s+1,"modifiedStart should only be one more than modifiedEnd"),d=[new Df(e,t-e+1,i,0)]):(u0.Assert(e===t+1,"originalStart should only be one more than originalEnd"),u0.Assert(i===s+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}const r=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,s,r,a,o),c=r[0],u=a[0];if(l!==null)return l;if(!o[0]){const d=this.ComputeDiffRecursive(e,c,i,u,o);let h=[];return o[0]?h=[new Df(c+1,t-(c+1)+1,u+1,s-(u+1)+1)]:h=this.ComputeDiffRecursive(c+1,t,u+1,s,o),this.ConcatenateChanges(d,h)}return[new Df(e,t-e+1,i,s-i+1)]}WALKTRACE(e,t,i,s,o,r,a,l,c,u,d,h,f,p,m,b,w,y){let L=null,D=null,E=new ij,T=t,x=i,k=f[0]-b[0]-s,N=-1073741824,V=this.m_forwardHistory.length-1;do{const H=k+e;H===T||H<x&&c[H-1]<c[H+1]?(d=c[H+1],p=d-k-s,d<N&&E.MarkNextChange(),N=d,E.AddModifiedElement(d+1,p),k=H+1-e):(d=c[H-1]+1,p=d-k-s,d<N&&E.MarkNextChange(),N=d-1,E.AddOriginalElement(d,p+1),k=H-1-e),V>=0&&(c=this.m_forwardHistory[V],e=c[0],T=1,x=c.length-1)}while(--V>=-1);if(L=E.getReverseChanges(),y[0]){let H=f[0]+1,G=b[0]+1;if(L!==null&&L.length>0){const te=L[L.length-1];H=Math.max(H,te.getOriginalEnd()),G=Math.max(G,te.getModifiedEnd())}D=[new Df(H,h-H+1,G,m-G+1)]}else{E=new ij,T=r,x=a,k=f[0]-b[0]-l,N=1073741824,V=w?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const H=k+o;H===T||H<x&&u[H-1]>=u[H+1]?(d=u[H+1]-1,p=d-k-l,d>N&&E.MarkNextChange(),N=d+1,E.AddOriginalElement(d+1,p+1),k=H+1-o):(d=u[H-1],p=d-k-l,d>N&&E.MarkNextChange(),N=d,E.AddModifiedElement(d+1,p+1),k=H-1-o),V>=0&&(u=this.m_reverseHistory[V],o=u[0],T=1,x=u.length-1)}while(--V>=-1);D=E.getChanges()}return this.ConcatenateChanges(L,D)}ComputeRecursionPoint(e,t,i,s,o,r,a){let l=0,c=0,u=0,d=0,h=0,f=0;e--,i--,o[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const p=t-e+(s-i),m=p+1,b=new Int32Array(m),w=new Int32Array(m),y=s-i,L=t-e,D=e-i,E=t-s,x=(L-y)%2===0;b[y]=e,w[L]=t,a[0]=!1;for(let k=1;k<=p/2+1;k++){let N=0,V=0;u=this.ClipDiagonalBound(y-k,k,y,m),d=this.ClipDiagonalBound(y+k,k,y,m);for(let G=u;G<=d;G+=2){G===u||G<d&&b[G-1]<b[G+1]?l=b[G+1]:l=b[G-1]+1,c=l-(G-y)-D;const te=l;for(;l<t&&c<s&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(b[G]=l,l+c>N+V&&(N=l,V=c),!x&&Math.abs(G-L)<=k-1&&l>=w[G])return o[0]=l,r[0]=c,te<=w[G]&&1447>0&&k<=1447+1?this.WALKTRACE(y,u,d,D,L,h,f,E,b,w,l,t,o,c,s,r,x,a):null}const H=(N-e+(V-i)-k)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(N,H))return a[0]=!0,o[0]=N,r[0]=V,H>0&&1447>0&&k<=1447+1?this.WALKTRACE(y,u,d,D,L,h,f,E,b,w,l,t,o,c,s,r,x,a):(e++,i++,[new Df(e,t-e+1,i,s-i+1)]);h=this.ClipDiagonalBound(L-k,k,L,m),f=this.ClipDiagonalBound(L+k,k,L,m);for(let G=h;G<=f;G+=2){G===h||G<f&&w[G-1]>=w[G+1]?l=w[G+1]-1:l=w[G-1],c=l-(G-L)-E;const te=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(w[G]=l,x&&Math.abs(G-y)<=k&&l<=b[G])return o[0]=l,r[0]=c,te>=b[G]&&1447>0&&k<=1447+1?this.WALKTRACE(y,u,d,D,L,h,f,E,b,w,l,t,o,c,s,r,x,a):null}if(k<=1447){let G=new Int32Array(d-u+2);G[0]=y-u+1,d0.Copy2(b,u,G,1,d-u+1),this.m_forwardHistory.push(G),G=new Int32Array(f-h+2),G[0]=L-h+1,d0.Copy2(w,h,G,1,f-h+1),this.m_reverseHistory.push(G)}}return this.WALKTRACE(y,u,d,D,L,h,f,E,b,w,l,t,o,c,s,r,x,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],s=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,r=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<s&&i.modifiedStart+i.modifiedLength<o&&(!r||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}const l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const i=e[t];let s=0,o=0;if(t>0){const d=e[t-1];s=d.originalStart+d.originalLength,o=d.modifiedStart+d.modifiedLength}const r=i.originalLength>0,a=i.modifiedLength>0;let l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let d=1;;d++){const h=i.originalStart-d,f=i.modifiedStart-d;if(h<s||f<o||r&&!this.OriginalElementsAreEqual(h,h+i.originalLength)||a&&!this.ModifiedElementsAreEqual(f,f+i.modifiedLength))break;const m=(h===s&&f===o?5:0)+this._boundaryScore(h,i.originalLength,f,i.modifiedLength);m>c&&(c=m,l=d)}i.originalStart-=l,i.modifiedStart-=l;const u=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],u)){e[t-1]=u[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const s=e[t-1],o=e[t],r=o.originalStart-s.originalStart-s.originalLength,a=s.originalStart,l=o.originalStart+o.originalLength,c=l-a,u=s.modifiedStart,d=o.modifiedStart+o.modifiedLength,h=d-u;if(r<5&&c<20&&h<20){const f=this._findBetterContiguousSequence(a,c,u,h,r);if(f){const[p,m]=f;(p!==s.originalStart+s.originalLength||m!==s.modifiedStart+s.modifiedLength)&&(s.originalLength=p-s.originalStart,s.modifiedLength=m-s.modifiedStart,o.originalStart=p+r,o.modifiedStart=m+r,o.originalLength=l-o.originalStart,o.modifiedLength=d-o.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,s,o){if(t<o||s<o)return null;const r=e+t-o+1,a=i+s-o+1;let l=0,c=0,u=0;for(let d=e;d<r;d++)for(let h=i;h<a;h++){const f=this._contiguousSequenceScore(d,h,o);f>0&&f>l&&(l=f,c=d,u=h)}return l>0?[c,u]:null}_contiguousSequenceScore(e,t,i){let s=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;s+=this._originalStringElements[e+o].length}return s}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,s){const o=this._OriginalRegionIsBoundary(e,t)?1:0,r=this._ModifiedRegionIsBoundary(i,s)?1:0;return o+r}ConcatenateChanges(e,t){const i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const s=new Array(e.length+t.length-1);return d0.Copy(e,0,s,0,e.length-1),s[e.length-1]=i[0],d0.Copy(t,1,s,e.length,t.length-1),s}else{const s=new Array(e.length+t.length);return d0.Copy(e,0,s,0,e.length),d0.Copy(t,0,s,e.length,t.length),s}}ChangesOverlap(e,t,i){if(u0.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),u0.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const s=e.originalStart;let o=e.originalLength;const r=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Df(s,o,r,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,s){if(e>=0&&e<s)return e;const o=i,r=s-i-1,a=t%2===0;if(e<0){const l=o%2===0;return a===l?0:1}else{const l=r%2===0;return a===l?s-1:s-2}}}const ilt=3;function Aee(n,e,t,i){return new Eu(n,e,t).ComputeDiff(i)}class nj{constructor(e){const t=[],i=[];for(let s=0,o=e.length;s<o;s++)t[s]=YN(e[s],1),i[s]=ZN(e[s],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const s=[],o=[],r=[];let a=0;for(let l=t;l<=i;l++){const c=this.lines[l],u=e?this._startColumns[l]:1,d=e?this._endColumns[l]:c.length+1;for(let h=u;h<d;h++)s[a]=c.charCodeAt(h-1),o[a]=l+1,r[a]=h,a++;!e&&l<i&&(s[a]=10,o[a]=l+1,r[a]=c.length+1,a++)}return new nlt(s,o,r)}}class nlt{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}toString(){return"["+this._charCodes.map((e,t)=>(e===10?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return e===-1?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),this._charCodes[e]===10?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return e===-1?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),this._charCodes[e]===10?1:this._columns[e]+1)}}class rw{constructor(e,t,i,s,o,r,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=s,this.modifiedStartLineNumber=o,this.modifiedStartColumn=r,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){const s=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),r=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1),l=i.getStartLineNumber(e.modifiedStart),c=i.getStartColumn(e.modifiedStart),u=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),d=i.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new rw(s,o,r,a,l,c,u,d)}}function slt(n){if(n.length<=1)return n;const e=[n[0]];let t=e[0];for(let i=1,s=n.length;i<s;i++){const o=n[i],r=o.originalStart-(t.originalStart+t.originalLength),a=o.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(r,a)<ilt?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(e.push(o),t=o)}return e}class oC{constructor(e,t,i,s,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=s,this.charChanges=o}static createFromDiffResult(e,t,i,s,o,r,a){let l,c,u,d,h;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,c=0):(l=i.getStartLineNumber(t.originalStart),c=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(u=s.getStartLineNumber(t.modifiedStart)-1,d=0):(u=s.getStartLineNumber(t.modifiedStart),d=s.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),r&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const f=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),p=s.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(f.getElements().length>0&&p.getElements().length>0){let m=Aee(f,p,o,!0).changes;a&&(m=slt(m)),h=[];for(let b=0,w=m.length;b<w;b++)h.push(rw.createFromDiffChange(m[b],f,p))}}return new oC(l,c,u,d,h)}}class olt{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new nj(e),this.modified=new nj(t),this.continueLineDiff=sj(i.maxComputationTime),this.continueCharDiff=sj(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=Aee(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,c=t.length;l<c;l++)a.push(oC.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}const s=[];let o=0,r=0;for(let a=-1,l=t.length;a<l;a++){const c=a+1<l?t[a+1]:null,u=c?c.originalStart:this.originalLines.length,d=c?c.modifiedStart:this.modifiedLines.length;for(;o<u&&r<d;){const h=this.originalLines[o],f=this.modifiedLines[r];if(h!==f){{let p=YN(h,1),m=YN(f,1);for(;p>1&&m>1;){const b=h.charCodeAt(p-2),w=f.charCodeAt(m-2);if(b!==w)break;p--,m--}(p>1||m>1)&&this._pushTrimWhitespaceCharChange(s,o+1,1,p,r+1,1,m)}{let p=ZN(h,1),m=ZN(f,1);const b=h.length+1,w=f.length+1;for(;p<b&&m<w;){const y=h.charCodeAt(p-1),L=h.charCodeAt(m-1);if(y!==L)break;p++,m++}(p<b||m<w)&&this._pushTrimWhitespaceCharChange(s,o+1,p,b,r+1,m,w)}}o++,r++}c&&(s.push(oC.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=c.originalLength,r+=c.modifiedLength)}return{quitEarly:i,changes:s}}_pushTrimWhitespaceCharChange(e,t,i,s,o,r,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,s,o,r,a))return;let l;this.shouldComputeCharChanges&&(l=[new rw(t,i,t,s,o,r,o,a)]),e.push(new oC(t,t,o,o,l))}_mergeTrimWhitespaceCharChange(e,t,i,s,o,r,a){const l=e.length;if(l===0)return!1;const c=e[l-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===o?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new rw(t,i,t,s,o,r,o,a)),!0):!1}}function YN(n,e){const t=Qo(n);return t===-1?e:t+1}function ZN(n,e){const t=ju(n);return t===-1?e:t+2}function sj(n){if(n===0)return()=>!0;const e=Date.now();return()=>Date.now()-e<n}function p8(n){return n<0?0:n>255?255:n|0}function h0(n){return n<0?0:n>4294967295?4294967295:n|0}class rlt{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=h0(e);const i=this.values,s=this.prefixSum,o=t.length;return o===0?!1:(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=h0(e),t=h0(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=h0(e),t=h0(t);const i=this.values,s=this.prefixSum;if(e>=i.length)return!1;const o=i.length-e;return t>=o&&(t=o),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=h0(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,s=0,o=0,r=0;for(;t<=i;)if(s=t+(i-t)/2|0,o=this.prefixSum[s],r=o-this.values[s],e<r)i=s-1;else if(e>=o)t=s+1;else break;return new Ree(s,e-r)}}class alt{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new Ree(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=Ox(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const i=this._values[e],s=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=s+i;for(let o=0;o<i;o++)this._indexBySum[s+o]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class Ree{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class llt{constructor(e,t,i,s){this._uri=e,this._lines=t,this._eol=i,this._versionId=s,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new oe(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let s=0;s<t;s++)i[s]=this._lines[s].length+e;this._lineStarts=new rlt(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;const i=Ju(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const s=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),s[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,s)}}class Jv{constructor(e){const t=p8(e);this._defaultValue=t,this._asciiMap=Jv._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){const i=p8(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class G0{constructor(){this._actual=new Jv(0)}add(e){this._actual.set(e,1)}has(e){return this._actual.get(e)===1}}class clt{constructor(e,t,i){const s=new Uint8Array(e*t);for(let o=0,r=e*t;o<r;o++)s[o]=i;this._data=s,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class ult{constructor(e){let t=0,i=0;for(let o=0,r=e.length;o<r;o++){const[a,l,c]=e[o];l>t&&(t=l),a>i&&(i=a),c>i&&(i=c)}t++,i++;const s=new clt(i,t,0);for(let o=0,r=e.length;o<r;o++){const[a,l,c]=e[o];s.set(a,l,c)}this._states=s,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let ZE=null;function dlt(){return ZE===null&&(ZE=new ult([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),ZE}let Z2=null;function hlt(){if(Z2===null){Z2=new Jv(0);const n=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<n.length;t++)Z2.set(n.charCodeAt(t),1);const e=".,;:";for(let t=0;t<e.length;t++)Z2.set(e.charCodeAt(t),2)}return Z2}class m8{static _createLink(e,t,i,s,o){let r=o-1;do{const a=t.charCodeAt(r);if(e.get(a)!==2)break;r--}while(r>s);if(s>0){const a=t.charCodeAt(s-1),l=t.charCodeAt(r);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&r--}return{range:{startLineNumber:i,startColumn:s+1,endLineNumber:i,endColumn:r+2},url:t.substring(s,r+1)}}static computeLinks(e,t=dlt()){const i=hlt(),s=[];for(let o=1,r=e.getLineCount();o<=r;o++){const a=e.getLineContent(o),l=a.length;let c=0,u=0,d=0,h=1,f=!1,p=!1,m=!1,b=!1;for(;c<l;){let w=!1;const y=a.charCodeAt(c);if(h===13){let L;switch(y){case 40:f=!0,L=0;break;case 41:L=f?0:1;break;case 91:m=!0,p=!0,L=0;break;case 93:m=!1,L=p?0:1;break;case 123:b=!0,L=0;break;case 125:L=b?0:1;break;case 39:L=d===39?1:0;break;case 34:L=d===34?1:0;break;case 96:L=d===96?1:0;break;case 42:L=d===42?1:0;break;case 124:L=d===124?1:0;break;case 32:L=m?0:1;break;default:L=i.get(y)}L===1&&(s.push(m8._createLink(i,a,o,u,c)),w=!0)}else if(h===12){let L;y===91?(p=!0,L=0):L=i.get(y),L===1?w=!0:h=13}else h=t.nextState(h,y),h===0&&(w=!0);w&&(h=1,f=!1,p=!1,b=!1,u=c+1,d=y),c++}h===13&&s.push(m8._createLink(i,a,o,u,l))}return s}}function flt(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:m8.computeLinks(n)}class XN{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,s,o){if(e&&t){const r=this.doNavigateValueSet(t,o);if(r)return{range:e,value:r}}if(i&&s){const r=this.doNavigateValueSet(s,o);if(r)return{range:i,value:r}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let s=Number(e);const o=parseFloat(e);return!isNaN(s)&&!isNaN(o)&&s===o?s===0&&!t?null:(s=Math.floor(s*i),s+=t?i:-i,String(s/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let s=null;for(let o=0,r=e.length;s===null&&o<r;o++)s=this.valueSetReplace(e[o],t,i);return s}valueSetReplace(e,t,i){let s=e.indexOf(t);return s>=0?(s+=i?1:-1,s<0?s=e.length-1:s%=e.length,e[s]):null}}XN.INSTANCE=new XN;class glt extends Jv{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}function plt(n){const e={};return t=>(e.hasOwnProperty(t)||(e[t]=n(t)),e[t])}const cl=plt(n=>new glt(n)),mlt=999;class Ep{constructor(e,t,i,s){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=s}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=_lt(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=aee(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new qrt(t,this.wordSeparators?cl(this.wordSeparators):null,i?this.searchString:null)}}function _lt(n){if(!n||n.length===0)return!1;for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i===10)return!0;if(i===92){if(e++,e>=t)break;const s=n.charCodeAt(e);if(s===110||s===114||s===87)return!0}}return!1}function Pp(n,e,t){if(!t)return new iw(n,null);const i=[];for(let s=0,o=e.length;s<o;s++)i[s]=e[s];return new iw(n,i)}class oj{constructor(e){const t=[];let i=0;for(let s=0,o=e.length;s<o;s++)e.charCodeAt(s)===10&&(t[i++]=s);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,s=t.length-1;if(s===-1||e<=t[0])return 0;for(;i<s;){const o=i+((s-i)/2>>0);t[o]>=e?s=o-1:t[o+1]>=e?(i=o,s=o):i=o+1}return i+1}}class NS{static findMatches(e,t,i,s,o){const r=t.parseSearchRequest();return r?r.regex.multiline?this._doFindMatchesMultiline(e,i,new Y0(r.wordSeparators,r.regex),s,o):this._doFindMatchesLineByLine(e,i,r,s,o):[]}static _getMultilineMatchRange(e,t,i,s,o,r){let a,l=0;s?(l=s.findLineFeedCountBeforeOffset(o),a=t+o+l):a=t+o;let c;if(s){const f=s.findLineFeedCountBeforeOffset(o+r.length)-l;c=a+r.length+f}else c=a+r.length;const u=e.getPositionAt(a),d=e.getPositionAt(c);return new A(u.lineNumber,u.column,d.lineNumber,d.column)}static _doFindMatchesMultiline(e,t,i,s,o){const r=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new oj(a):null,c=[];let u=0,d;for(i.reset(0);d=i.next(a);)if(c[u++]=Pp(this._getMultilineMatchRange(e,r,a,l,d.index,d[0]),d,s),u>=o)return c;return c}static _doFindMatchesLineByLine(e,t,i,s,o){const r=[];let a=0;if(t.startLineNumber===t.endLineNumber){const c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,c,t.startLineNumber,t.startColumn-1,a,r,s,o),r}const l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,r,s,o);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<o;c++)a=this._findMatchesInLine(i,e.getLineContent(c),c,0,a,r,s,o);if(a<o){const c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,c,t.endLineNumber,0,a,r,s,o)}return r}static _findMatchesInLine(e,t,i,s,o,r,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const h=e.simpleSearch,f=h.length,p=t.length;let m=-f;for(;(m=t.indexOf(h,m+f))!==-1;)if((!c||dP(c,t,p,m,f))&&(r[o++]=new iw(new A(i,m+1+s,i,m+1+f+s),null),o>=l))return o;return o}const u=new Y0(e.wordSeparators,e.regex);let d;u.reset(0);do if(d=u.next(t),d&&(r[o++]=Pp(new A(i,d.index+1+s,i,d.index+1+d[0].length+s),d,a),o>=l))return o;while(d);return o}static findNextMatch(e,t,i,s){const o=t.parseSearchRequest();if(!o)return null;const r=new Y0(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,r,s):this._doFindNextMatchLineByLine(e,i,r,s)}static _doFindNextMatchMultiline(e,t,i,s){const o=new oe(t.lineNumber,1),r=e.getOffsetAt(o),a=e.getLineCount(),l=e.getValueInRange(new A(o.lineNumber,o.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new oj(l):null;i.reset(t.column-1);const u=i.next(l);return u?Pp(this._getMultilineMatchRange(e,r,l,c,u.index,u[0]),u,s):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new oe(1,1),i,s):null}static _doFindNextMatchLineByLine(e,t,i,s){const o=e.getLineCount(),r=t.lineNumber,a=e.getLineContent(r),l=this._findFirstMatchInLine(i,a,r,t.column,s);if(l)return l;for(let c=1;c<=o;c++){const u=(r+c-1)%o,d=e.getLineContent(u+1),h=this._findFirstMatchInLine(i,d,u+1,1,s);if(h)return h}return null}static _findFirstMatchInLine(e,t,i,s,o){e.reset(s-1);const r=e.next(t);return r?Pp(new A(i,r.index+1,i,r.index+1+r[0].length),r,o):null}static findPreviousMatch(e,t,i,s){const o=t.parseSearchRequest();if(!o)return null;const r=new Y0(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,r,s):this._doFindPreviousMatchLineByLine(e,i,r,s)}static _doFindPreviousMatchMultiline(e,t,i,s){const o=this._doFindMatchesMultiline(e,new A(1,1,t.lineNumber,t.column),i,s,10*mlt);if(o.length>0)return o[o.length-1];const r=e.getLineCount();return t.lineNumber!==r||t.column!==e.getLineMaxColumn(r)?this._doFindPreviousMatchMultiline(e,new oe(r,e.getLineMaxColumn(r)),i,s):null}static _doFindPreviousMatchLineByLine(e,t,i,s){const o=e.getLineCount(),r=t.lineNumber,a=e.getLineContent(r).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,r,s);if(l)return l;for(let c=1;c<=o;c++){const u=(o+r-c-1)%o,d=e.getLineContent(u+1),h=this._findLastMatchInLine(i,d,u+1,s);if(h)return h}return null}static _findLastMatchInLine(e,t,i,s){let o=null,r;for(e.reset(0);r=e.next(t);)o=Pp(new A(i,r.index+1,i,r.index+1+r[0].length),r,s);return o}}function vlt(n,e,t,i,s){if(i===0)return!0;const o=e.charCodeAt(i-1);if(n.get(o)!==0||o===13||o===10)return!0;if(s>0){const r=e.charCodeAt(i);if(n.get(r)!==0)return!0}return!1}function blt(n,e,t,i,s){if(i+s===t)return!0;const o=e.charCodeAt(i+s);if(n.get(o)!==0||o===13||o===10)return!0;if(s>0){const r=e.charCodeAt(i+s-1);if(n.get(r)!==0)return!0}return!1}function dP(n,e,t,i,s){return vlt(n,e,t,i,s)&&blt(n,e,t,i,s)}class Y0{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;const s=i.index,o=i[0].length;if(s===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){h8(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=s,this._prevMatchLength=o,!this._wordSeparators||dP(this._wordSeparators,e,t,s,o))return i}while(i);return null}}class hP{static computeUnicodeHighlights(e,t,i){const s=i?i.startLineNumber:1,o=i?i.endLineNumber:e.getLineCount(),r=new rj(t),a=r.getCandidateCodePoints();let l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${Clt(Array.from(a))}`,"g");const c=new Y0(null,l),u=[];let d=!1,h,f=0,p=0,m=0;e:for(let b=s,w=o;b<=w;b++){const y=e.getLineContent(b),L=y.length;c.reset(0);do if(h=c.next(y),h){let D=h.index,E=h.index+h[0].length;if(D>0){const N=y.charCodeAt(D-1);Is(N)&&D--}if(E+1<L){const N=y.charCodeAt(E-1);Is(N)&&E++}const T=y.substring(D,E),x=YC(D+1,RO,y,0),k=r.shouldHighlightNonBasicASCII(T,x?x.word:null);if(k!==0){k===3?f++:k===2?p++:k===1?m++:Px();const N=1e3;if(u.length>=N){d=!0;break e}u.push(new A(b,D+1,b,E+1))}}while(h)}return{ranges:u,hasMore:d,ambiguousCharacterCount:f,invisibleCharacterCount:p,nonBasicAsciiCharacterCount:m}}static computeUnicodeHighlightReason(e,t){const i=new rj(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const o=e.codePointAt(0),r=i.ambiguousCharacters.getPrimaryConfusable(o),a=Xl.getLocales().filter(l=>!Xl.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(o));return{kind:0,confusableWith:String.fromCodePoint(r),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}function Clt(n,e){return`[${Ca(n.map(i=>String.fromCodePoint(i)).join(""))}]`}class rj{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=Xl.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of Ku.codePoints)aj(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let s=!1,o=!1;if(t)for(const r of t){const a=r.codePointAt(0),l=Hx(r);s=s||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!Ku.isInvisibleCharacter(a)&&(o=!0)}return!s&&o?0:this.options.invisibleCharacters&&!aj(e)&&Ku.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}}function aj(n){return n===" "||n===`
`||n==="	"}var vp=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class wlt extends llt{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=YC(e.column,NJ(t),this._lines[e.lineNumber-1],0);return i?new A(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let s=0,o="",r=0,a=[];return{*[Symbol.iterator](){for(;;)if(r<a.length){const l=o.substring(a[r].start,a[r].end);r+=1,yield l}else if(s<t.length)o=t[s],a=i(o,e),r=0,s+=1;else break}}}getLineWords(e,t){const i=this._lines[e-1],s=this._wordenize(i,t),o=[];for(const r of s)o.push({word:i.substring(r.start,r.end),startColumn:r.start+1,endColumn:r.end+1});return o}_wordenize(e,t){const i=[];let s;for(t.lastIndex=0;(s=t.exec(e))&&s[0].length!==0;)i.push({start:s.index,end:s.index+s[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,s=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let r=i+1;r<s;r++)o.push(this._lines[r]);return o.push(this._lines[s].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!oe.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,s=!1;if(t<1)t=1,i=1,s=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,s=!0;else{const o=this._lines[t-1].length+1;i<1?(i=1,s=!0):i>o&&(i=o,s=!0)}return s?{lineNumber:t,column:i}:e}}class rg{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){const e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new wlt(bt.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){!this._models[e]||delete this._models[e]}computeUnicodeHighlights(e,t,i){return vp(this,void 0,void 0,function*(){const s=this._getModel(e);return s?hP.computeUnicodeHighlights(s,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(e,t,i,s){return vp(this,void 0,void 0,function*(){const o=this._getModel(e),r=this._getModel(t);return!o||!r?null:rg.computeDiff(o,r,i,s)})}static computeDiff(e,t,i,s){const o=e.getLinesContent(),r=t.getLinesContent(),l=new olt(o,r,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:s}).computeDiff(),c=l.changes.length>0?!1:this._modelsAreIdentical(e,t);return{quitEarly:l.quitEarly,identical:c,changes:l.changes}}static _modelsAreIdentical(e,t){const i=e.getLineCount(),s=t.getLineCount();if(i!==s)return!1;for(let o=1;o<=i;o++){const r=e.getLineContent(o),a=t.getLineContent(o);if(r!==a)return!1}return!0}computeMoreMinimalEdits(e,t){return vp(this,void 0,void 0,function*(){const i=this._getModel(e);if(!i)return t;const s=[];let o;t=t.slice(0).sort((r,a)=>{if(r.range&&a.range)return A.compareRangesUsingStarts(r.range,a.range);const l=r.range?0:1,c=a.range?0:1;return l-c});for(let{range:r,text:a,eol:l}of t){if(typeof l=="number"&&(o=l),A.isEmpty(r)&&!a)continue;const c=i.getValueInRange(r);if(a=a.replace(/\r\n|\n|\r/g,i.eol),c===a)continue;if(Math.max(a.length,c.length)>rg._diffLimit){s.push({range:r,text:a});continue}const u=tlt(c,a,!1),d=i.offsetAt(A.lift(r).getStartPosition());for(const h of u){const f=i.positionAt(d+h.originalStart),p=i.positionAt(d+h.originalStart+h.originalLength),m={text:a.substr(h.modifiedStart,h.modifiedLength),range:{startLineNumber:f.lineNumber,startColumn:f.column,endLineNumber:p.lineNumber,endColumn:p.column}};i.getValueInRange(m.range)!==m.text&&s.push(m)}}return typeof o=="number"&&s.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),s})}computeLinks(e){return vp(this,void 0,void 0,function*(){const t=this._getModel(e);return t?flt(t):null})}textualSuggest(e,t,i,s){return vp(this,void 0,void 0,function*(){const o=new yr(!0),r=new RegExp(i,s),a=new Set;e:for(const l of e){const c=this._getModel(l);if(!!c){for(const u of c.words(r))if(!(u===t||!isNaN(Number(u)))&&(a.add(u),a.size>rg._suggestionsLimit))break e}}return{words:Array.from(a),duration:o.elapsed()}})}computeWordRanges(e,t,i,s){return vp(this,void 0,void 0,function*(){const o=this._getModel(e);if(!o)return Object.create(null);const r=new RegExp(i,s),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){const c=o.getLineWords(l,r);for(const u of c){if(!isNaN(Number(u.word)))continue;let d=a[u.word];d||(d=[],a[u.word]=d),d.push({startLineNumber:l,startColumn:u.startColumn,endLineNumber:l,endColumn:u.endColumn})}}return a})}navigateValueSet(e,t,i,s,o){return vp(this,void 0,void 0,function*(){const r=this._getModel(e);if(!r)return null;const a=new RegExp(s,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const l=r.getValueInRange(t),c=r.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;const u=r.getValueInRange(c);return XN.INSTANCE.navigateValueSet(t,l,c,u,i)})}loadForeignModule(e,t,i){const r={host:Zst(i,(a,l)=>this._host.fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(r,t),Promise.resolve(FO(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}rg._diffLimit=1e5;rg._suggestionsLimit=1e4;typeof importScripts=="function"&&(Yn.monaco=nee());const fP=ui("textResourceConfigurationService"),Oee=ui("textResourcePropertiesService"),Ql=ui("logService");var Ec;(function(n){n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Info=2]="Info",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.Off=6]="Off"})(Ec||(Ec={}));const Pee=Ec.Info;class ylt extends de{constructor(){super(...arguments),this.level=Pee,this._onDidChangeLogLevel=this._register(new J)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class Slt extends ylt{constructor(e=Pee){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=Ec.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=Ec.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=Ec.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=Ec.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class Llt extends de{constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}const st=ui("ILanguageFeaturesService");var xlt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},X2=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},QN=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const lj=60*1e3,cj=5*60*1e3;function Fp(n,e){const t=n.getModel(e);return!(!t||t.isTooLargeForSyncing())}let JN=class extends de{constructor(e,t,i,s,o){super(),this._modelService=e,this._workerManager=this._register(new klt(this._modelService,s)),this._logService=i,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(r,a)=>Fp(this._modelService,r.uri)?this._workerManager.withWorker().then(l=>l.computeLinks(r.uri)).then(l=>l&&{links:l}):Promise.resolve({links:[]})})),this._register(o.completionProvider.register("*",new Dlt(this._workerManager,t,this._modelService,s)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return Fp(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then(s=>s.computedUnicodeHighlights(e,t,i))}computeDiff(e,t,i,s){return this._workerManager.withWorker().then(o=>o.computeDiff(e,t,i,s))}computeMoreMinimalEdits(e,t){if(vo(t)){if(!Fp(this._modelService,e))return Promise.resolve(t);const i=yr.create(!0),s=this._workerManager.withWorker().then(o=>o.computeMoreMinimalEdits(e,t));return s.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),Promise.race([s,Lg(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return Fp(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(s=>s.navigateValueSet(e,t,i))}canComputeWordRanges(e){return Fp(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};JN=xlt([X2(0,Nn),X2(1,fP),X2(2,Ql),X2(3,Xn),X2(4,st)],JN);class Dlt{constructor(e,t,i,s){this.languageConfigurationService=s,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return QN(this,void 0,void 0,function*(){const i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;const s=[];if(i.wordBasedSuggestionsMode==="currentDocument")Fp(this._modelService,e.uri)&&s.push(e.uri);else for(const d of this._modelService.getModels())!Fp(this._modelService,d.uri)||(d===e?s.unshift(d.uri):(i.wordBasedSuggestionsMode==="allDocuments"||d.getLanguageId()===e.getLanguageId())&&s.push(d.uri));if(s.length===0)return;const o=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),r=e.getWordAtPosition(t),a=r?new A(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):A.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),u=yield(yield this._workerManager.withWorker()).textualSuggest(s,r==null?void 0:r.word,o);if(!!u)return{duration:u.duration,suggestions:u.words.map(d=>({kind:18,label:d,insertText:d,range:{insert:l,replace:a}}))}})}}class klt extends de{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new Ay).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(cj/2)),this._register(this._modelService.onModelRemoved(s=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>cj&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Fee(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Elt extends de{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const s=new Ay;s.cancelAndSet(()=>this._checkStopModelSync(),Math.round(lj/2)),this._register(s)}}dispose(){for(const e in this._syncedModels)vi(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){const s=i.toString();this._syncedModels[s]||this._beginModelSync(i,t),this._syncedModels[s]&&(this._syncedModelsLastUsedTime[s]=new Date().getTime())}}_checkStopModelSync(){const e=new Date().getTime(),t=[];for(const i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>lj&&t.push(i);for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;const s=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const o=new Ie;o.add(i.onDidChangeContent(r=>{this._proxy.acceptModelChanged(s.toString(),r)})),o.add(i.onWillDispose(()=>{this._stopModelSync(s)})),o.add(jt(()=>{this._proxy.acceptRemovedModel(s)})),this._syncedModels[s]=o}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],vi(t)}}class uj{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class XE{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class Fee extends de{constructor(e,t,i,s){super(),this.languageConfigurationService=s,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new Yx(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Kat(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new XE(this)))}catch(e){GN(e),this._worker=new uj(new rg(new XE(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(GN(e),this._worker=new uj(new rg(new XE(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new Elt(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return QN(this,void 0,void 0,function*(){return this._disposed?Promise.reject(KJ()):this._getProxy().then(i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i))})}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then(s=>s.computeUnicodeHighlights(e.toString(),t,i))}computeDiff(e,t,i,s){return this._withSyncedResources([e,t],!0).then(o=>o.computeDiff(e.toString(),t.toString(),i,s))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,i){return QN(this,void 0,void 0,function*(){const s=yield this._withSyncedResources(e),o=i.source,r=VE(i);return s.textualSuggest(e.map(a=>a.toString()),t,o,r)})}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{const s=this._modelService.getModel(e);if(!s)return Promise.resolve(null);const o=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId()).getWordDefinition(),r=o.source,a=VE(o);return i.computeWordRanges(e.toString(),t,r,a)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(s=>{const o=this._modelService.getModel(e);if(!o)return null;const r=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),a=r.source,l=VE(r);return s.navigateValueSet(e.toString(),t,i,a,l)})}dispose(){super.dispose(),this._disposed=!0}}function Ilt(n,e,t){return new Tlt(n,e,t)}class Tlt extends Fee{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?FO(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;const s=(a,l)=>e.fmr(a,l),o=(a,l)=>function(){const c=Array.prototype.slice.call(arguments,0);return l(a,c)},r={};for(const a of i)r[a]=o(a,s);return r})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}}class io{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){const t=this.getForeground(e);let i="mtk"+t;const s=this.getFontStyle(e);return s&1&&(i+=" mtki"),s&2&&(i+=" mtkb"),s&4&&(i+=" mtku"),s&8&&(i+=" mtks"),i}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),s=this.getFontStyle(e);let o=`color: ${t[i]};`;s&1&&(o+="font-style: italic;"),s&2&&(o+="font-weight: bold;");let r="";return s&4&&(r+=" underline"),s&8&&(r+=" line-through"),r&&(o+=`text-decoration:${r};`),o}static getPresentationFromMetadata(e){const t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:Boolean(i&1),bold:Boolean(i&2),underline:Boolean(i&4),strikethrough:Boolean(i&8)}}}class Ts{constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}static createEmpty(e,t){const i=Ts.defaultTokenMetadata,s=new Uint32Array(2);return s[0]=e.length,s[1]=i,new Ts(s,e,t)}equals(e){return e instanceof Ts?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const s=t<<1,o=s+(i<<1);for(let r=s;r<o;r++)if(this._tokens[r]!==e._tokens[r])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],i=io.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return io.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return io.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return io.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return io.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return io.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return Ts.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new gP(this,e,t,i)}static convertToEndOffset(e,t){const s=(e.length>>>1)-1;for(let o=0;o<s;o++)e[o<<1]=e[o+1<<1];e[s<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,s=(e.length>>>1)-1;for(;i<s;){const o=i+Math.floor((s-i)/2),r=e[o<<1];if(r===t)return o+1;r<t?i=o+1:r>t&&(s=o)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,s="";const o=new Array;let r=0;for(;;){const a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){s+=this._text.substring(r,a);const c=this._tokens[(t<<1)+1];o.push(s.length,c),t++,r=a}else if(l){if(l.offset>r){s+=this._text.substring(r,l.offset);const c=this._tokens[(t<<1)+1];o.push(s.length,c),r=l.offset}s+=l.text,o.push(s.length,l.tokenMetadata),i++}else break}return new Ts(new Uint32Array(o),s,this._languageIdCodec)}}Ts.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class gP{constructor(e,t,i,s){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=s,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,r=e.getCount();o<r&&!(e.getStartOffset(o)>=i);o++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof gP?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class Wr{constructor(e,t,i,s){this.startColumn=e,this.endColumn=t,this.className=i,this.type=s,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length,s=t.length;if(i!==s)return!1;for(let o=0;o<i;o++)if(!Wr._equals(e[o],t[o]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;const s=t+1,o=i+1,r=i-t,a=[];let l=0;for(const c of e)c.endColumn<=s||c.startColumn>=o||(a[l++]=new Wr(Math.max(1,c.startColumn-s+1),Math.min(r+1,c.endColumn-s+1),c.className,c.type));return a}static filter(e,t,i,s){if(e.length===0)return[];const o=[];let r=0;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.range;if(u.endLineNumber<t||u.startLineNumber>t||u.isEmpty()&&(c.type===0||c.type===3))continue;const d=u.startLineNumber===t?u.startColumn:i,h=u.endLineNumber===t?u.endColumn:s;o[r++]=new Wr(d,h,c.inlineClassName,c.type)}return o}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=Wr._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}}class dj{constructor(e,t,i,s){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=s}}class _8{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,s=e.length;i<s;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let s=0;for(;s+1<this.count&&this.stopOffsets[s]===this.stopOffsets[s+1];)s++;i.push(new dj(t,this.stopOffsets[s],this.classNames.join(" "),_8._metadata(this.metadata))),t=this.stopOffsets[s]+1,this.stopOffsets.splice(0,s+1),this.classNames.splice(0,s+1),this.metadata.splice(0,s+1),this.count-=s+1}return this.count>0&&t<e&&(i.push(new dj(t,e-1,this.classNames.join(" "),_8._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=e){this.stopOffsets.splice(s,0,e),this.classNames.splice(s,0,t),this.metadata.splice(s,0,i);break}this.count++}}class Nlt{static normalize(e,t){if(t.length===0)return[];const i=[],s=new _8;let o=0;for(let r=0,a=t.length;r<a;r++){const l=t[r];let c=l.startColumn,u=l.endColumn;const d=l.className,h=l.type===1?2:l.type===2?4:0;if(c>1){const m=e.charCodeAt(c-2);Is(m)&&c--}if(u>1){const m=e.charCodeAt(u-2);Is(m)&&u--}const f=c-1,p=u-2;o=s.consumeLowerThan(f,o,i),s.count===0&&(o=f),s.insert(p,d,h)}return s.consumeLowerThan(1073741824,o,i),i}}class Bs{constructor(e,t,i,s){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=s,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class Mlt{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class qg{constructor(e,t,i,s,o,r,a,l,c,u,d,h,f,p,m,b,w,y,L){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=s,this.isBasicASCII=o,this.containsRTL=r,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(Wr.compare),this.tabSize=u,this.startVisibleColumn=d,this.spaceWidth=h,this.stopRenderingLineAfter=m,this.renderWhitespace=b==="all"?4:b==="boundary"?1:b==="selection"?2:b==="trailing"?3:0,this.renderControlCharacters=w,this.fontLigatures=y,this.selectionsOnLine=L&&L.sort((T,x)=>T.startOffset<x.startOffset?-1:1);const D=Math.abs(p-h),E=Math.abs(f-h);D<E?(this.renderSpaceWidth=p,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=f,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&Wr.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class pP{constructor(e,t){this.partIndex=e,this.charIndex=t}}class xu{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}setColumnInfo(e,t,i,s){const o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._horizontalOffset[e-1]=s}getHorizontalOffset(e){return this._horizontalOffset.length===0?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=xu.getPartIndex(t),s=xu.getCharIndex(t);return new pP(i,s)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;const s=(e<<16|i<<0)>>>0;let o=0,r=this.length-1;for(;o+1<r;){const m=o+r>>>1,b=this._data[m];if(b===s)return m;b>s?r=m:o=m}if(o===r)return o;const a=this._data[o],l=this._data[r];if(a===s)return o;if(l===s)return r;const c=xu.getPartIndex(a),u=xu.getCharIndex(a),d=xu.getPartIndex(l);let h;c!==d?h=t:h=xu.getCharIndex(l);const f=i-u,p=h-i;return f<=p?o:r}}class eM{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function Ry(n,e){if(n.lineContent.length===0){if(n.lineDecorations.length>0){e.appendASCIIString("<span>");let t=0,i=0,s=0;for(const r of n.lineDecorations)(r.type===1||r.type===2)&&(e.appendASCIIString('<span class="'),e.appendASCIIString(r.className),e.appendASCIIString('"></span>'),r.type===1&&(s|=1,t++),r.type===2&&(s|=2,i++));e.appendASCIIString("</span>");const o=new xu(1,t+i);return o.setColumnInfo(1,t,0,0),new eM(o,!1,s)}return e.appendASCIIString("<span><span></span></span>"),new eM(new xu(0,0),!1,0)}return Hlt(Olt(n),e)}class Alt{constructor(e,t,i,s){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=s}}function Qx(n){const e=Sg(1e4),t=Ry(n,e);return new Alt(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class Rlt{constructor(e,t,i,s,o,r,a,l,c,u,d,h,f,p,m){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=s,this.isOverflowing=o,this.parts=r,this.containsForeignElements=a,this.fauxIndentLength=l,this.tabSize=c,this.startVisibleColumn=u,this.containsRTL=d,this.spaceWidth=h,this.renderSpaceCharCode=f,this.renderWhitespace=p,this.renderControlCharacters=m}}function Olt(n){const e=n.lineContent;let t,i;n.stopRenderingLineAfter!==-1&&n.stopRenderingLineAfter<e.length?(t=!0,i=n.stopRenderingLineAfter):(t=!1,i=e.length);let s=Plt(e,n.containsRTL,n.lineTokens,n.fauxIndentLength,i);n.renderControlCharacters&&!n.isBasicASCII&&(s=Blt(e,s)),(n.renderWhitespace===4||n.renderWhitespace===1||n.renderWhitespace===2&&!!n.selectionsOnLine||n.renderWhitespace===3)&&(s=Vlt(n,e,i,s));let o=0;if(n.lineDecorations.length>0){for(let r=0,a=n.lineDecorations.length;r<a;r++){const l=n.lineDecorations[r];l.type===3||l.type===1?o|=1:l.type===2&&(o|=2)}s=Wlt(e,i,s,n.lineDecorations)}return n.containsRTL||(s=Flt(e,s,!n.isBasicASCII||n.fontLigatures)),new Rlt(n.useMonospaceOptimizations,n.canUseHalfwidthRightwardsArrow,e,i,t,s,o,n.fauxIndentLength,n.tabSize,n.startVisibleColumn,n.containsRTL,n.spaceWidth,n.renderSpaceCharCode,n.renderWhitespace,n.renderControlCharacters)}function Plt(n,e,t,i,s){const o=[];let r=0;i>0&&(o[r++]=new Bs(i,"",0,!1));let a=i;for(let l=0,c=t.getCount();l<c;l++){const u=t.getEndOffset(l);if(u<=i)continue;const d=t.getClassName(l);if(u>=s){const f=e?av(n.substring(a,s)):!1;o[r++]=new Bs(s,d,0,f);break}const h=e?av(n.substring(a,u)):!1;o[r++]=new Bs(u,d,0,h),a=u}return o}function Flt(n,e,t){let i=0;const s=[];let o=0;if(t)for(let r=0,a=e.length;r<a;r++){const l=e[r],c=l.endIndex;if(i+50<c){const u=l.type,d=l.metadata,h=l.containsRTL;let f=-1,p=i;for(let m=i;m<c;m++)n.charCodeAt(m)===32&&(f=m),f!==-1&&m-p>=50&&(s[o++]=new Bs(f+1,u,d,h),p=f+1,f=-1);p!==c&&(s[o++]=new Bs(c,u,d,h))}else s[o++]=l;i=c}else for(let r=0,a=e.length;r<a;r++){const l=e[r],c=l.endIndex,u=c-i;if(u>50){const d=l.type,h=l.metadata,f=l.containsRTL,p=Math.ceil(u/50);for(let m=1;m<p;m++){const b=i+m*50;s[o++]=new Bs(b,d,h,f)}s[o++]=new Bs(c,d,h,f)}else s[o++]=l;i=c}return s}function Bee(n){return n<32?n!==9:n===127||n>=8234&&n<=8238||n>=8294&&n<=8297||n>=8206&&n<=8207||n===1564}function Blt(n,e){const t=[];let i=new Bs(0,"",0,!1),s=0;for(const o of e){const r=o.endIndex;for(;s<r;s++){const a=n.charCodeAt(s);Bee(a)&&(s>i.endIndex&&(i=new Bs(s,o.type,o.metadata,o.containsRTL),t.push(i)),i=new Bs(s+1,"mtkcontrol",o.metadata,!1),t.push(i))}s>i.endIndex&&(i=new Bs(r,o.type,o.metadata,o.containsRTL),t.push(i))}return t}function Vlt(n,e,t,i){const s=n.continuesWithWrappedLine,o=n.fauxIndentLength,r=n.tabSize,a=n.startVisibleColumn,l=n.useMonospaceOptimizations,c=n.selectionsOnLine,u=n.renderWhitespace===1,d=n.renderWhitespace===3,h=n.renderSpaceWidth!==n.spaceWidth,f=[];let p=0,m=0,b=i[m].type,w=i[m].containsRTL,y=i[m].endIndex;const L=i.length;let D=!1,E=Qo(e),T;E===-1?(D=!0,E=t,T=t):T=ju(e);let x=!1,k=0,N=c&&c[k],V=a%r;for(let G=o;G<t;G++){const te=e.charCodeAt(G);N&&G>=N.endOffset&&(k++,N=c&&c[k]);let ae;if(G<E||G>T)ae=!0;else if(te===9)ae=!0;else if(te===32)if(u)if(x)ae=!0;else{const me=G+1<t?e.charCodeAt(G+1):0;ae=me===32||me===9}else ae=!0;else ae=!1;if(ae&&c&&(ae=!!N&&N.startOffset<=G&&N.endOffset>G),ae&&d&&(ae=D||G>T),ae&&w&&G>=E&&G<=T&&(ae=!1),x){if(!ae||!l&&V>=r){if(h){const me=p>0?f[p-1].endIndex:o;for(let we=me+1;we<=G;we++)f[p++]=new Bs(we,"mtkw",1,!1)}else f[p++]=new Bs(G,"mtkw",1,!1);V=V%r}}else(G===y||ae&&G>o)&&(f[p++]=new Bs(G,b,0,w),V=V%r);for(te===9?V=r:yg(te)?V+=2:V++,x=ae;G===y&&(m++,m<L);)b=i[m].type,w=i[m].containsRTL,y=i[m].endIndex}let H=!1;if(x)if(s&&u){const G=t>0?e.charCodeAt(t-1):0,te=t>1?e.charCodeAt(t-2):0;G===32&&te!==32&&te!==9||(H=!0)}else H=!0;if(H)if(h){const G=p>0?f[p-1].endIndex:o;for(let te=G+1;te<=t;te++)f[p++]=new Bs(te,"mtkw",1,!1)}else f[p++]=new Bs(t,"mtkw",1,!1);else f[p++]=new Bs(t,b,0,w);return f}function Wlt(n,e,t,i){i.sort(Wr.compare);const s=Nlt.normalize(n,i),o=s.length;let r=0;const a=[];let l=0,c=0;for(let d=0,h=t.length;d<h;d++){const f=t[d],p=f.endIndex,m=f.type,b=f.metadata,w=f.containsRTL;for(;r<o&&s[r].startOffset<p;){const y=s[r];if(y.startOffset>c&&(c=y.startOffset,a[l++]=new Bs(c,m,b,w)),y.endOffset+1<=p)c=y.endOffset+1,a[l++]=new Bs(c,m+" "+y.className,b|y.metadata,w),r++;else{c=p,a[l++]=new Bs(c,m+" "+y.className,b|y.metadata,w);break}}p>c&&(c=p,a[l++]=new Bs(c,m,b,w))}const u=t[t.length-1].endIndex;if(r<o&&s[r].startOffset===u)for(;r<o&&s[r].startOffset===u;){const d=s[r];a[l++]=new Bs(c,d.className,d.metadata,!1),r++}return a}function Hlt(n,e){const t=n.fontIsMonospace,i=n.canUseHalfwidthRightwardsArrow,s=n.containsForeignElements,o=n.lineContent,r=n.len,a=n.isOverflowing,l=n.parts,c=n.fauxIndentLength,u=n.tabSize,d=n.startVisibleColumn,h=n.containsRTL,f=n.spaceWidth,p=n.renderSpaceCharCode,m=n.renderWhitespace,b=n.renderControlCharacters,w=new xu(r+1,l.length);let y=!1,L=0,D=d,E=0,T=0,x=0;h?e.appendASCIIString('<span dir="ltr">'):e.appendASCIIString("<span>");for(let k=0,N=l.length;k<N;k++){const V=l[k],H=V.endIndex,G=V.type,te=V.containsRTL,ae=m!==0&&V.isWhitespace(),me=ae&&!t&&(G==="mtkw"||!s),we=L===H&&V.isPseudoAfter();if(E=0,e.appendASCIIString("<span "),te&&e.appendASCIIString('style="unicode-bidi:isolate" '),e.appendASCIIString('class="'),e.appendASCIIString(me?"mtkz":G),e.appendASCII(34),ae){let be=0;{let Me=L,He=D;for(;Me<H;Me++){const ot=(o.charCodeAt(Me)===9?u-He%u:1)|0;be+=ot,Me>=c&&(He+=ot)}}for(me&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(f*be)),e.appendASCIIString('px"')),e.appendASCII(62);L<H;L++){w.setColumnInfo(L+1,k-x,E,T),x=0;const Me=o.charCodeAt(L);let He,mt;if(Me===9){He=u-D%u|0,mt=He,!i||mt>1?e.write1(8594):e.write1(65515);for(let ot=2;ot<=mt;ot++)e.write1(160)}else He=2,mt=1,e.write1(p),e.write1(8204);E+=He,T+=mt,L>=c&&(D+=mt)}}else for(e.appendASCII(62);L<H;L++){w.setColumnInfo(L+1,k-x,E,T),x=0;const be=o.charCodeAt(L);let Me=1,He=1;switch(be){case 9:Me=u-D%u,He=Me;for(let mt=1;mt<=Me;mt++)e.write1(160);break;case 32:e.write1(160);break;case 60:e.appendASCIIString("&lt;");break;case 62:e.appendASCIIString("&gt;");break;case 38:e.appendASCIIString("&amp;");break;case 0:b?e.write1(9216):e.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.write1(65533);break;default:yg(be)&&He++,b&&be<32?e.write1(9216+be):b&&be===127?e.write1(9249):b&&Bee(be)?(e.appendASCIIString("[U+"),e.appendASCIIString($lt(be)),e.appendASCIIString("]"),Me=8,He=Me):e.write1(be)}E+=Me,T+=He,L>=c&&(D+=He)}we?x++:x=0,L>=r&&!y&&V.isPseudoAfter()&&(y=!0,w.setColumnInfo(L+1,k,E,T)),e.appendASCIIString("</span>")}return y||w.setColumnInfo(r+1,l.length-1,E,T),a&&e.appendASCIIString("<span>&hellip;</span>"),e.appendASCIIString("</span>"),new eM(w,h,s)}function $lt(n){return n.toString(16).toUpperCase().padStart(4,"0")}class hj{constructor(e,t,i,s){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=s|0}}class zlt{constructor(e,t){this.tabSize=e,this.data=t}}class mP{constructor(e,t,i,s,o,r,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=s,this.startVisibleColumn=o,this.tokens=r,this.inlineDecorations=a}}class ya{constructor(e,t,i,s,o,r,a,l,c,u){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=s,this.isBasicASCII=ya.isBasicASCII(i,r),this.containsRTL=ya.containsRTL(i,this.isBasicASCII,o),this.tokens=a,this.inlineDecorations=l,this.tabSize=c,this.startVisibleColumn=u}static isBasicASCII(e,t){return t?Hx(e):!0}static containsRTL(e,t,i){return!t&&i?av(e):!1}}class rC{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class Ult{constructor(e,t,i,s){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=s}toInlineDecoration(e){return new rC(new A(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class Vee{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class Wee{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}}function jlt(n){return Array.isArray(n)}function Klt(n){return!jlt(n)}function Hee(n){return typeof n=="string"}function fj(n){return!Hee(n)}function P0(n){return!n}function ag(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function gj(n){return n.replace(/[&<>'"_]/g,"-")}function qlt(n,e){console.log(`${n.languageId}: ${e}`)}function sn(n,e){return new Error(`${n.languageId}: ${e}`)}function Pf(n,e,t,i,s){const o=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let r=null;return e.replace(o,function(a,l,c,u,d,h,f,p,m){return P0(c)?P0(u)?!P0(d)&&d<i.length?ag(n,i[d]):!P0(f)&&n&&typeof n[f]=="string"?n[f]:(r===null&&(r=s.split("."),r.unshift(s)),!P0(h)&&h<r.length?ag(n,r[h]):""):ag(n,t):"$"})}function MS(n,e){let t=e;for(;t&&t.length>0;){const i=n.tokenizer[t];if(i)return i;const s=t.lastIndexOf(".");s<0?t=null:t=t.substr(0,s)}return null}function Glt(n,e){let t=e;for(;t&&t.length>0;){if(n.stateNames[t])return!0;const s=t.lastIndexOf(".");s<0?t=null:t=t.substr(0,s)}return!1}var Ylt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Zlt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const $ee=5;class aw{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new y1(e,t);let i=y1.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let s=this._entries[i];return s||(s=new y1(e,t),this._entries[i]=s,s)}}aw._INSTANCE=new aw($ee);class y1{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return y1._equals(this,e)}push(e){return aw.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return aw.create(this.parent,e)}}class Z0{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new Z0(this.languageId,this.state)}}class Ff{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(t!==null)return new aC(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new aC(e,t);const i=y1.getStackElementId(e);let s=this._entries[i];return s||(s=new aC(e,null),this._entries[i]=s,s)}}Ff._INSTANCE=new Ff($ee);class aC{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Ff.create(this.stack,this.embeddedLanguageData)}equals(e){return!(e instanceof aC)||!this.stack.equals(e.stack)?!1:this.embeddedLanguageData===null&&e.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||e.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(e.embeddedLanguageData)}}class Xlt{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new XC(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,s){const o=i.languageId,r=i.state,a=Dn.get(o);if(!a)return this.enterLanguage(o),this.emit(s,""),r;const l=a.tokenize(e,t,r);if(s!==0)for(const c of l.tokens)this._tokens.push(new XC(c.offset+s,c.type,c.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new UO(this._tokens,e)}}class v8{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const s=e!==null?e.length:0,o=t.length,r=i!==null?i.length:0;if(s===0&&o===0&&r===0)return new Uint32Array(0);if(s===0&&o===0)return i;if(o===0&&r===0)return e;const a=new Uint32Array(s+o+r);e!==null&&a.set(e);for(let l=0;l<o;l++)a[s+l]=t[l];return i!==null&&a.set(i,s+o),a}nestedLanguageTokenize(e,t,i,s){const o=i.languageId,r=i.state,a=Dn.get(o);if(!a)return this.enterLanguage(o),this.emit(s,""),r;const l=a.tokenizeEncoded(e,t,r);if(s!==0)for(let c=0,u=l.tokens.length;c<u;c+=2)l.tokens[c]+=s;return this._prependTokens=v8._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new Vx(v8._merge(this._prependTokens,this._tokens,null),e)}}let lw=class zee{constructor(e,t,i,s,o){this._configurationService=o,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=s,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let r=!1;this._tokenizationRegistryListener=Dn.onDidChange(a=>{if(r)return;let l=!1;for(let c=0,u=a.changedLanguages.length;c<u;c++){const d=a.changedLanguages[c];if(this._embeddedLanguages[d]){l=!0;break}}l&&(r=!0,Dn.fire([this._languageId]),r=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const e=[];for(const t in this._embeddedLanguages){const i=Dn.get(t);if(i){if(i instanceof zee){const s=i.getLoadStatus();s.loaded===!1&&e.push(s.promise)}continue}Dn.isResolved(t)||e.push(Dn.getOrCreate(t))}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){const e=aw.create(null,this._lexer.start);return Ff.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return rP(this._languageId,i);const s=new Xlt,o=this._tokenize(e,t,i,s);return s.finalize(o)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return Gx(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);const s=new v8(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,i,s);return s.finalize(o)}_tokenize(e,t,i,s){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,s):this._myTokenize(e,t,i,0,s)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=MS(this._lexer,t.stack.state),!i))throw sn(this._lexer,"tokenizer state is not defined: "+t.stack.state);let s=-1,o=!1;for(const r of i){if(!fj(r.action)||r.action.nextEmbedded!=="@pop")continue;o=!0;let a=r.regex;const l=r.regex.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){const u=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),u)}const c=e.search(a);c===-1||c!==0&&r.matchOnlyAtLineStart||(s===-1||c<s)&&(s=c)}if(!o)throw sn(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return s}_nestedTokenize(e,t,i,s,o){const r=this._findLeavingNestedLanguageOffset(e,i);if(r===-1){const c=o.nestedLanguageTokenize(e,t,i.embeddedLanguageData,s);return Ff.create(i.stack,new Z0(i.embeddedLanguageData.languageId,c))}const a=e.substring(0,r);a.length>0&&o.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,s);const l=e.substring(r);return this._myTokenize(l,t,i,s+r,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,s,o){o.enterLanguage(this._languageId);const r=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length;let c=i.embeddedLanguageData,u=i.stack,d=0,h=null,f=!0;for(;f||d<l;){const p=d,m=u.depth,b=h?h.groups.length:0,w=u.state;let y=null,L=null,D=null,E=null,T=null;if(h){y=h.matches;const N=h.groups.shift();L=N.matched,D=N.action,E=h.rule,h.groups.length===0&&(h=null)}else{if(!f&&d>=l)break;f=!1;let N=this._lexer.tokenizer[w];if(!N&&(N=MS(this._lexer,w),!N))throw sn(this._lexer,"tokenizer state is not defined: "+w);const V=a.substr(d);for(const H of N)if((d===0||!H.matchOnlyAtLineStart)&&(y=V.match(H.regex),y)){L=y[0],D=H.action;break}}if(y||(y=[""],L=""),D||(d<l&&(y=[a.charAt(d)],L=y[0]),D=this._lexer.defaultToken),L===null)break;for(d+=L.length;Klt(D)&&fj(D)&&D.test;)D=D.test(L,y,w,d===l);let x=null;if(typeof D=="string"||Array.isArray(D))x=D;else if(D.group)x=D.group;else if(D.token!==null&&D.token!==void 0){if(D.tokenSubst?x=Pf(this._lexer,D.token,L,y,w):x=D.token,D.nextEmbedded)if(D.nextEmbedded==="@pop"){if(!c)throw sn(this._lexer,"cannot pop embedded language if not inside one");c=null}else{if(c)throw sn(this._lexer,"cannot enter embedded language from within an embedded language");T=Pf(this._lexer,D.nextEmbedded,L,y,w)}if(D.goBack&&(d=Math.max(0,d-D.goBack)),D.switchTo&&typeof D.switchTo=="string"){let N=Pf(this._lexer,D.switchTo,L,y,w);if(N[0]==="@"&&(N=N.substr(1)),MS(this._lexer,N))u=u.switchTo(N);else throw sn(this._lexer,"trying to switch to a state '"+N+"' that is undefined in rule: "+this._safeRuleName(E))}else{if(D.transform&&typeof D.transform=="function")throw sn(this._lexer,"action.transform not supported");if(D.next)if(D.next==="@push"){if(u.depth>=this._lexer.maxStack)throw sn(this._lexer,"maximum tokenizer stack size reached: ["+u.state+","+u.parent.state+",...]");u=u.push(w)}else if(D.next==="@pop"){if(u.depth<=1)throw sn(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(E));u=u.pop()}else if(D.next==="@popall")u=u.popall();else{let N=Pf(this._lexer,D.next,L,y,w);if(N[0]==="@"&&(N=N.substr(1)),MS(this._lexer,N))u=u.push(N);else throw sn(this._lexer,"trying to set a next state '"+N+"' that is undefined in rule: "+this._safeRuleName(E))}}D.log&&typeof D.log=="string"&&qlt(this._lexer,this._lexer.languageId+": "+Pf(this._lexer,D.log,L,y,w))}if(x===null)throw sn(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(E));const k=N=>{const V=this._languageService.getLanguageIdByLanguageName(N)||this._languageService.getLanguageIdByMimeType(N)||N,H=this._getNestedEmbeddedLanguageData(V);if(d<l){const G=e.substr(d);return this._nestedTokenize(G,t,Ff.create(u,H),s+d,o)}else return Ff.create(u,H)};if(Array.isArray(x)){if(h&&h.groups.length>0)throw sn(this._lexer,"groups cannot be nested: "+this._safeRuleName(E));if(y.length!==x.length+1)throw sn(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(E));let N=0;for(let V=1;V<y.length;V++)N+=y[V].length;if(N!==L.length)throw sn(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(E));h={rule:E,matches:y,groups:[]};for(let V=0;V<x.length;V++)h.groups[V]={action:x[V],matched:y[V+1]};d-=L.length;continue}else{if(x==="@rematch"&&(d-=L.length,L="",y=null,x="",T!==null))return k(T);if(L.length===0){if(l===0||m!==u.depth||w!==u.state||(h?h.groups.length:0)!==b)continue;throw sn(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(E))}let N=null;if(Hee(x)&&x.indexOf("@brackets")===0){const V=x.substr(9),H=Qlt(this._lexer,L);if(!H)throw sn(this._lexer,"@brackets token returned but no bracket defined as: "+L);N=gj(H.token+V)}else{const V=x===""?"":x+this._lexer.tokenPostfix;N=gj(V)}p<r&&o.emit(p+s,N)}if(T!==null)return k(T)}return Ff.create(u,c)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new Z0(e,uv);e!==this._languageId&&(Dn.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=Dn.get(e);return t?new Z0(e,t.getInitialState()):new Z0(e,uv)}};lw=Ylt([Zlt(4,Ci)],lw);function Qlt(n,e){if(!e)return null;e=ag(n,e);const t=n.brackets;for(const i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}var Jlt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},QE;const JE=(QE=window.trustedTypes)===null||QE===void 0?void 0:QE.createPolicy("standaloneColorizer",{createHTML:n=>n});class _P{static colorizeElement(e,t,i,s){s=s||{};const o=s.theme||"vs",r=s.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();const a=t.getLanguageIdByMimeType(r)||r;e.setTheme(o);const l=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;const c=u=>{var d;const h=(d=JE==null?void 0:JE.createHTML(u))!==null&&d!==void 0?d:u;i.innerHTML=h};return this.colorize(t,l||"",a,s).then(c,u=>console.error(u))}static colorize(e,t,i,s){return Jlt(this,void 0,void 0,function*(){const o=e.languageIdCodec;let r=4;s&&typeof s.tabSize=="number"&&(r=s.tabSize),QO(t)&&(t=t.substr(1));const a=Ju(t);if(!e.isRegisteredLanguageId(i))return pj(a,r,o);const l=yield Dn.getOrCreate(i);return l?ect(a,r,l,o):pj(a,r,o)})}static colorizeLine(e,t,i,s,o=4){const r=ya.isBasicASCII(e,t),a=ya.containsRTL(e,r,i);return Qx(new qg(!1,!0,e,!1,r,a,0,s,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const s=e.getLineContent(t);e.tokenization.forceTokenization(t);const r=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(s,e.mightContainNonBasicASCII(),e.mightContainRTL(),r,i)}}function ect(n,e,t,i){return new Promise((s,o)=>{const r=()=>{const a=tct(n,e,t,i);if(t instanceof lw){const l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(r,o);return}}s(a)};r()})}function pj(n,e,t){let i=[];const o=new Uint32Array(2);o[0]=0,o[1]=33587200;for(let r=0,a=n.length;r<a;r++){const l=n[r];o[0]=l.length;const c=new Ts(o,l,t),u=ya.isBasicASCII(l,!0),d=ya.containsRTL(l,u,!0),h=Qx(new qg(!1,!0,l,!1,u,d,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(h.html),i.push("<br/>")}return i.join("")}function tct(n,e,t,i){let s=[],o=t.getInitialState();for(let r=0,a=n.length;r<a;r++){const l=n[r],c=t.tokenizeEncoded(l,!0,o);Ts.convertToEndOffset(c.tokens,l.length);const u=new Ts(c.tokens,l,i),d=ya.isBasicASCII(l,!0),h=ya.containsRTL(l,d,!0),f=Qx(new qg(!1,!0,l,!1,d,h,0,u.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));s=s.concat(f.html),s.push("<br/>"),o=c.endState}return s.join("")}const vP={clipboard:{writeText:Rc||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Rc||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>Rc||iP()?0:navigator.keyboard||Ah?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)};function tM(n,e){if(n===0)return null;const t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new b8([eI(t,e),eI(i,e)]):new b8([eI(t,e)])}function eI(n,e){const t=!!(n&2048),i=!!(n&256),s=e===2?i:t,o=!!(n&1024),r=!!(n&512),a=e===2?t:i,l=n&255;return new Fm(s,o,r,a,l)}class Fm{constructor(e,t,i,s,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=s,this.keyCode=o}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new b8([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class b8{constructor(e){if(e.length===0)throw Oc("parts");this.parts=e}}class ict{constructor(e,t,i,s,o,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=s,this.keyLabel=o,this.keyAriaLabel=r}}class nct{}function sct(n){if(n.charCode){const t=String.fromCharCode(n.charCode).toUpperCase();return Zp.fromString(t)}const e=n.keyCode;if(e===3)return 7;if(wa){if(e===59)return 80;if(e===107)return 81;if(e===109)return 83;if(ai&&e===224)return 57}else if(sg){if(e===91)return 57;if(ai&&e===93)return 57;if(!ai&&e===92)return 57}return YJ[e]||0}const oct=ai?256:2048,rct=512,act=1024,lct=ai?2048:256;class gn{constructor(e){this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=sct(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=oct),this.altKey&&(t|=rct),this.shiftKey&&(t|=act),this.metaKey&&(t|=lct),t|=e,t}_computeRuntimeKeybinding(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new Fm(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let mj=!1,Q2=null;function cct(n){if(!n.parent||n.parent===n)return null;try{const e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return mj=!0,null}catch{return mj=!0,null}return n.parent}class uct{static getSameOriginWindowChain(){if(!Q2){Q2=[];let e=window,t;do t=cct(e),t?Q2.push({window:e,iframeElement:e.frameElement||null}):Q2.push({window:e,iframeElement:null}),e=t;while(e)}return Q2.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,s=0;const o=this.getSameOriginWindowChain();for(const r of o){if(i+=r.window.scrollY,s+=r.window.scrollX,r.window===t||!r.iframeElement)break;const a=r.iframeElement.getBoundingClientRect();i+=a.top,s+=a.left}return{top:i,left:s}}}class Pu{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);const t=uct.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class dv{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){const s=e,o=e;if(typeof s.wheelDeltaY!="undefined")this.deltaY=s.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS!="undefined"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(e.type==="wheel"){const r=e;r.deltaMode===r.DOM_DELTA_LINE?wa&&!ai?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof s.wheelDeltaX!="undefined")Ah&&oo?this.deltaX=-(s.wheelDeltaX/120):this.deltaX=s.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS!="undefined"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const r=e;r.deltaMode===r.DOM_DELTA_LINE?wa&&!ai?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function dct(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var hct=Object.hasOwnProperty,_j=Object.setPrototypeOf,fct=Object.isFrozen,gct=Object.getPrototypeOf,pct=Object.getOwnPropertyDescriptor,Ur=Object.freeze,Oh=Object.seal,mct=Object.create,Uee=typeof Reflect!="undefined"&&Reflect,C8=Uee.apply,iM=Uee.construct;C8||(C8=function(e,t,i){return e.apply(t,i)});Ur||(Ur=function(e){return e});Oh||(Oh=function(e){return e});iM||(iM=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(dct(t))))});var _ct=Hc(Array.prototype.forEach),vj=Hc(Array.prototype.pop),J2=Hc(Array.prototype.push),Ip=Hc(String.prototype.toLowerCase),bj=Hc(String.prototype.match),_f=Hc(String.prototype.replace),vct=Hc(String.prototype.indexOf),bct=Hc(String.prototype.trim),Ed=Hc(RegExp.prototype.test),Cj=Cct(TypeError);function Hc(n){return function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return C8(n,e,i)}}function Cct(n){return function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return iM(n,t)}}function Pi(n,e){_j&&_j(n,null);for(var t=e.length;t--;){var i=e[t];if(typeof i=="string"){var s=Ip(i);s!==i&&(fct(e)||(e[t]=s),i=s)}n[i]=!0}return n}function bp(n){var e=mct(null),t=void 0;for(t in n)C8(hct,n,[t])&&(e[t]=n[t]);return e}function AS(n,e){for(;n!==null;){var t=pct(n,e);if(t){if(t.get)return Hc(t.get);if(typeof t.value=="function")return Hc(t.value)}n=gct(n)}function i(s){return console.warn("fallback value for",s),null}return i}var wj=Ur(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tI=Ur(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),iI=Ur(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wct=Ur(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nI=Ur(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),yct=Ur(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yj=Ur(["#text"]),Sj=Ur(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),sI=Ur(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Lj=Ur(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),RS=Ur(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Sct=Oh(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Lct=Oh(/<%[\s\S]*|[\s\S]*%>/gm),xct=Oh(/^data-[\-\w.\u00B7-\uFFFF]/),Dct=Oh(/^aria-[\-\w]+$/),kct=Oh(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ect=Oh(/^(?:\w+script|data):/i),Ict=Oh(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function hu(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var Tct=function(){return typeof window=="undefined"?null:window},Nct=function(e,t){if((typeof e=="undefined"?"undefined":Db(e))!=="object"||typeof e.createPolicy!="function")return null;var i=null,s="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(s)&&(i=t.currentScript.getAttribute(s));var o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function jee(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tct(),e=function(Se){return jee(Se)};if(e.version="2.3.1",e.removed=[],!n||!n.document||n.document.nodeType!==9)return e.isSupported=!1,e;var t=n.document,i=n.document,s=n.DocumentFragment,o=n.HTMLTemplateElement,r=n.Node,a=n.Element,l=n.NodeFilter,c=n.NamedNodeMap,u=c===void 0?n.NamedNodeMap||n.MozNamedAttrMap:c,d=n.Text,h=n.Comment,f=n.DOMParser,p=n.trustedTypes,m=a.prototype,b=AS(m,"cloneNode"),w=AS(m,"nextSibling"),y=AS(m,"childNodes"),L=AS(m,"parentNode");if(typeof o=="function"){var D=i.createElement("template");D.content&&D.content.ownerDocument&&(i=D.content.ownerDocument)}var E=Nct(p,t),T=E&&tt?E.createHTML(""):"",x=i,k=x.implementation,N=x.createNodeIterator,V=x.createDocumentFragment,H=x.getElementsByTagName,G=t.importNode,te={};try{te=bp(i).documentMode?i.documentMode:{}}catch{}var ae={};e.isSupported=typeof L=="function"&&k&&typeof k.createHTMLDocument!="undefined"&&te!==9;var me=Sct,we=Lct,be=xct,Me=Dct,He=Ect,mt=Ict,ot=kct,De=null,pe=Pi({},[].concat(hu(wj),hu(tI),hu(iI),hu(nI),hu(yj))),_t=null,_e=Pi({},[].concat(hu(Sj),hu(sI),hu(Lj),hu(RS))),Ge=null,ye=null,We=!0,gt=!0,rt=!1,Fe=!1,ht=!1,ee=!1,le=!1,Ce=!1,$e=!1,Be=!0,tt=!1,ft=!0,ie=!0,X=!1,Q={},P=null,R=Pi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),j=null,q=Pi({},["audio","video","img","source","image","track"]),ue=null,ve=Pi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",ne="http://www.w3.org/2000/svg",ke="http://www.w3.org/1999/xhtml",Ke=ke,Ct=!1,kt=null,pt=i.createElement("form"),Qt=function(Se){kt&&kt===Se||((!Se||(typeof Se=="undefined"?"undefined":Db(Se))!=="object")&&(Se={}),Se=bp(Se),De="ALLOWED_TAGS"in Se?Pi({},Se.ALLOWED_TAGS):pe,_t="ALLOWED_ATTR"in Se?Pi({},Se.ALLOWED_ATTR):_e,ue="ADD_URI_SAFE_ATTR"in Se?Pi(bp(ve),Se.ADD_URI_SAFE_ATTR):ve,j="ADD_DATA_URI_TAGS"in Se?Pi(bp(q),Se.ADD_DATA_URI_TAGS):q,P="FORBID_CONTENTS"in Se?Pi({},Se.FORBID_CONTENTS):R,Ge="FORBID_TAGS"in Se?Pi({},Se.FORBID_TAGS):{},ye="FORBID_ATTR"in Se?Pi({},Se.FORBID_ATTR):{},Q="USE_PROFILES"in Se?Se.USE_PROFILES:!1,We=Se.ALLOW_ARIA_ATTR!==!1,gt=Se.ALLOW_DATA_ATTR!==!1,rt=Se.ALLOW_UNKNOWN_PROTOCOLS||!1,Fe=Se.SAFE_FOR_TEMPLATES||!1,ht=Se.WHOLE_DOCUMENT||!1,Ce=Se.RETURN_DOM||!1,$e=Se.RETURN_DOM_FRAGMENT||!1,Be=Se.RETURN_DOM_IMPORT!==!1,tt=Se.RETURN_TRUSTED_TYPE||!1,le=Se.FORCE_BODY||!1,ft=Se.SANITIZE_DOM!==!1,ie=Se.KEEP_CONTENT!==!1,X=Se.IN_PLACE||!1,ot=Se.ALLOWED_URI_REGEXP||ot,Ke=Se.NAMESPACE||ke,Fe&&(gt=!1),$e&&(Ce=!0),Q&&(De=Pi({},[].concat(hu(yj))),_t=[],Q.html===!0&&(Pi(De,wj),Pi(_t,Sj)),Q.svg===!0&&(Pi(De,tI),Pi(_t,sI),Pi(_t,RS)),Q.svgFilters===!0&&(Pi(De,iI),Pi(_t,sI),Pi(_t,RS)),Q.mathMl===!0&&(Pi(De,nI),Pi(_t,Lj),Pi(_t,RS))),Se.ADD_TAGS&&(De===pe&&(De=bp(De)),Pi(De,Se.ADD_TAGS)),Se.ADD_ATTR&&(_t===_e&&(_t=bp(_t)),Pi(_t,Se.ADD_ATTR)),Se.ADD_URI_SAFE_ATTR&&Pi(ue,Se.ADD_URI_SAFE_ATTR),Se.FORBID_CONTENTS&&(P===R&&(P=bp(P)),Pi(P,Se.FORBID_CONTENTS)),ie&&(De["#text"]=!0),ht&&Pi(De,["html","head","body"]),De.table&&(Pi(De,["tbody"]),delete Ge.tbody),Ur&&Ur(Se),kt=Se)},Zt=Pi({},["mi","mo","mn","ms","mtext"]),vn=Pi({},["foreignobject","desc","title","annotation-xml"]),wi=Pi({},tI);Pi(wi,iI),Pi(wi,wct);var bn=Pi({},nI);Pi(bn,yct);var su=function(Se){var vt=L(Se);(!vt||!vt.tagName)&&(vt={namespaceURI:ke,tagName:"template"});var Pt=Ip(Se.tagName),Sn=Ip(vt.tagName);if(Se.namespaceURI===ne)return vt.namespaceURI===ke?Pt==="svg":vt.namespaceURI===Ze?Pt==="svg"&&(Sn==="annotation-xml"||Zt[Sn]):Boolean(wi[Pt]);if(Se.namespaceURI===Ze)return vt.namespaceURI===ke?Pt==="math":vt.namespaceURI===ne?Pt==="math"&&vn[Sn]:Boolean(bn[Pt]);if(Se.namespaceURI===ke){if(vt.namespaceURI===ne&&!vn[Sn]||vt.namespaceURI===Ze&&!Zt[Sn])return!1;var Eo=Pi({},["title","style","font","a","script"]);return!bn[Pt]&&(Eo[Pt]||!wi[Pt])}return!1},Ho=function(Se){J2(e.removed,{element:Se});try{Se.parentNode.removeChild(Se)}catch{try{Se.outerHTML=T}catch{Se.remove()}}},wl=function(Se,vt){try{J2(e.removed,{attribute:vt.getAttributeNode(Se),from:vt})}catch{J2(e.removed,{attribute:null,from:vt})}if(vt.removeAttribute(Se),Se==="is"&&!_t[Se])if(Ce||$e)try{Ho(vt)}catch{}else try{vt.setAttribute(Se,"")}catch{}},sc=function(Se){var vt=void 0,Pt=void 0;if(le)Se="<remove></remove>"+Se;else{var Sn=bj(Se,/^[\r\n\t ]+/);Pt=Sn&&Sn[0]}var Eo=E?E.createHTML(Se):Se;if(Ke===ke)try{vt=new f().parseFromString(Eo,"text/html")}catch{}if(!vt||!vt.documentElement){vt=k.createDocument(Ke,"template",null);try{vt.documentElement.innerHTML=Ct?"":Eo}catch{}}var Io=vt.body||vt.documentElement;return Se&&Pt&&Io.insertBefore(i.createTextNode(Pt),Io.childNodes[0]||null),Ke===ke?H.call(vt,ht?"html":"body")[0]:ht?vt.documentElement:Io},md=function(Se){return N.call(Se.ownerDocument||Se,Se,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},ou=function(Se){return Se instanceof d||Se instanceof h?!1:typeof Se.nodeName!="string"||typeof Se.textContent!="string"||typeof Se.removeChild!="function"||!(Se.attributes instanceof u)||typeof Se.removeAttribute!="function"||typeof Se.setAttribute!="function"||typeof Se.namespaceURI!="string"||typeof Se.insertBefore!="function"},ru=function(Se){return(typeof r=="undefined"?"undefined":Db(r))==="object"?Se instanceof r:Se&&(typeof Se=="undefined"?"undefined":Db(Se))==="object"&&typeof Se.nodeType=="number"&&typeof Se.nodeName=="string"},Yr=function(Se,vt,Pt){!ae[Se]||_ct(ae[Se],function(Sn){Sn.call(e,vt,Pt,kt)})},H_=function(Se){var vt=void 0;if(Yr("beforeSanitizeElements",Se,null),ou(Se)||bj(Se.nodeName,/[\u0080-\uFFFF]/))return Ho(Se),!0;var Pt=Ip(Se.nodeName);if(Yr("uponSanitizeElement",Se,{tagName:Pt,allowedTags:De}),!ru(Se.firstElementChild)&&(!ru(Se.content)||!ru(Se.content.firstElementChild))&&Ed(/<[/\w]/g,Se.innerHTML)&&Ed(/<[/\w]/g,Se.textContent)||Pt==="select"&&Ed(/<template/i,Se.innerHTML))return Ho(Se),!0;if(!De[Pt]||Ge[Pt]){if(ie&&!P[Pt]){var Sn=L(Se)||Se.parentNode,Eo=y(Se)||Se.childNodes;if(Eo&&Sn)for(var Io=Eo.length,To=Io-1;To>=0;--To)Sn.insertBefore(b(Eo[To],!0),w(Se))}return Ho(Se),!0}return Se instanceof a&&!su(Se)||(Pt==="noscript"||Pt==="noembed")&&Ed(/<\/no(script|embed)/i,Se.innerHTML)?(Ho(Se),!0):(Fe&&Se.nodeType===3&&(vt=Se.textContent,vt=_f(vt,me," "),vt=_f(vt,we," "),Se.textContent!==vt&&(J2(e.removed,{element:Se.cloneNode()}),Se.textContent=vt)),Yr("afterSanitizeElements",Se,null),!1)},np=function(Se,vt,Pt){if(ft&&(vt==="id"||vt==="name")&&(Pt in i||Pt in pt))return!1;if(!(gt&&!ye[vt]&&Ed(be,vt))){if(!(We&&Ed(Me,vt))){if(!_t[vt]||ye[vt])return!1;if(!ue[vt]){if(!Ed(ot,_f(Pt,mt,""))){if(!((vt==="src"||vt==="xlink:href"||vt==="href")&&Se!=="script"&&vct(Pt,"data:")===0&&j[Se])){if(!(rt&&!Ed(He,_f(Pt,mt,"")))){if(Pt)return!1}}}}}}return!0},Xh=function(Se){var vt=void 0,Pt=void 0,Sn=void 0,Eo=void 0;Yr("beforeSanitizeAttributes",Se,null);var Io=Se.attributes;if(!!Io){var To={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_t};for(Eo=Io.length;Eo--;){vt=Io[Eo];var oc=vt,Qh=oc.name,C4=oc.namespaceURI;if(Pt=bct(vt.value),Sn=Ip(Qh),To.attrName=Sn,To.attrValue=Pt,To.keepAttr=!0,To.forceKeepAttr=void 0,Yr("uponSanitizeAttribute",Se,To),Pt=To.attrValue,!To.forceKeepAttr&&(wl(Qh,Se),!!To.keepAttr)){if(Ed(/\/>/i,Pt)){wl(Qh,Se);continue}Fe&&(Pt=_f(Pt,me," "),Pt=_f(Pt,we," "));var ZD=Se.nodeName.toLowerCase();if(!!np(ZD,Sn,Pt))try{C4?Se.setAttributeNS(C4,Qh,Pt):Se.setAttribute(Qh,Pt),vj(e.removed)}catch{}}}Yr("afterSanitizeAttributes",Se,null)}},YD=function Ut(Se){var vt=void 0,Pt=md(Se);for(Yr("beforeSanitizeShadowDOM",Se,null);vt=Pt.nextNode();)Yr("uponSanitizeShadowNode",vt,null),!H_(vt)&&(vt.content instanceof s&&Ut(vt.content),Xh(vt));Yr("afterSanitizeShadowDOM",Se,null)};return e.sanitize=function(Ut,Se){var vt=void 0,Pt=void 0,Sn=void 0,Eo=void 0,Io=void 0;if(Ct=!Ut,Ct&&(Ut="<!-->"),typeof Ut!="string"&&!ru(Ut)){if(typeof Ut.toString!="function")throw Cj("toString is not a function");if(Ut=Ut.toString(),typeof Ut!="string")throw Cj("dirty is not a string, aborting")}if(!e.isSupported){if(Db(n.toStaticHTML)==="object"||typeof n.toStaticHTML=="function"){if(typeof Ut=="string")return n.toStaticHTML(Ut);if(ru(Ut))return n.toStaticHTML(Ut.outerHTML)}return Ut}if(ee||Qt(Se),e.removed=[],typeof Ut=="string"&&(X=!1),!X)if(Ut instanceof r)vt=sc("<!---->"),Pt=vt.ownerDocument.importNode(Ut,!0),Pt.nodeType===1&&Pt.nodeName==="BODY"||Pt.nodeName==="HTML"?vt=Pt:vt.appendChild(Pt);else{if(!Ce&&!Fe&&!ht&&Ut.indexOf("<")===-1)return E&&tt?E.createHTML(Ut):Ut;if(vt=sc(Ut),!vt)return Ce?null:T}vt&&le&&Ho(vt.firstChild);for(var To=md(X?Ut:vt);Sn=To.nextNode();)Sn.nodeType===3&&Sn===Eo||H_(Sn)||(Sn.content instanceof s&&YD(Sn.content),Xh(Sn),Eo=Sn);if(Eo=null,X)return Ut;if(Ce){if($e)for(Io=V.call(vt.ownerDocument);vt.firstChild;)Io.appendChild(vt.firstChild);else Io=vt;return Be&&(Io=G.call(t,Io,!0)),Io}var oc=ht?vt.outerHTML:vt.innerHTML;return Fe&&(oc=_f(oc,me," "),oc=_f(oc,we," ")),E&&tt?E.createHTML(oc):oc},e.setConfig=function(Ut){Qt(Ut),ee=!0},e.clearConfig=function(){kt=null,ee=!1},e.isValidAttribute=function(Ut,Se,vt){kt||Qt({});var Pt=Ip(Ut),Sn=Ip(Se);return np(Pt,Sn,vt)},e.addHook=function(Ut,Se){typeof Se=="function"&&(ae[Ut]=ae[Ut]||[],J2(ae[Ut],Se))},e.removeHook=function(Ut){ae[Ut]&&vj(ae[Ut])},e.removeHooks=function(Ut){ae[Ut]&&(ae[Ut]=[])},e.removeAllHooks=function(){ae={}},e}var ud=jee();ud.version;ud.isSupported;const Mct=ud.sanitize;ud.setConfig;ud.clearConfig;ud.isValidAttribute;const Kee=ud.addHook,qee=ud.removeHook;ud.removeHooks;ud.removeAllHooks;var Vt;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebook="vscode-notebook",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractive="vscode-interactive",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm"})(Vt||(Vt={}));const Act="tkn";class Rct{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${Vt.vscodeRemoteResource}`}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let i=this._hosts[t];i&&i.indexOf(":")!==-1&&(i=`[${i}]`);const s=this._ports[t],o=this._connectionTokens[t];let r=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(r+=`&${Act}=${encodeURIComponent(o)}`),bt.from({scheme:jg?this._preferredWebSchema:Vt.vscodeRemoteResource,authority:`${i}:${s}`,path:this._remoteResourcesPath,query:r})}}const Gee=new Rct;class cw{asBrowserUri(e,t){const i=this.toUri(e,t);return i.scheme===Vt.vscodeRemote?Gee.rewrite(i):i.scheme===Vt.file&&(Rc||Tst&&Yn.origin===`${Vt.vscodeFileResource}://${cw.FALLBACK_AUTHORITY}`)?i.with({scheme:Vt.vscodeFileResource,authority:i.authority||cw.FALLBACK_AUTHORITY,query:null,fragment:null}):i}toUri(e,t){return bt.isUri(e)?e:bt.parse(t.toUrl(e))}}cw.FALLBACK_AUTHORITY="vscode-app";const Yee=new cw;function xs(n){for(;n.firstChild;)n.firstChild.remove()}function bP(n){var e;return(e=n==null?void 0:n.isConnected)!==null&&e!==void 0?e:!1}class Zee{constructor(e,t,i,s){this._node=e,this._type=t,this._handler=i,this._options=s||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function xe(n,e,t,i){return new Zee(n,e,t,i)}function Xee(n){return function(e){return n(new Pu(e))}}function Oct(n){return function(e){return n(new gn(e))}}const Ns=function(e,t,i,s){let o=i;return t==="click"||t==="mousedown"?o=Xee(i):(t==="keydown"||t==="keypress"||t==="keyup")&&(o=Oct(i)),xe(e,t,o,s)},Pct=function(e,t,i){const s=Xee(t);return Fct(e,s,i)};function Fct(n,e,t){return xe(n,Xu&&vP.pointerEvents?Qe.POINTER_DOWN:Qe.MOUSE_DOWN,e,t)}function fc(n,e,t){let i=null;const s=l=>a.fire(l),o=()=>{i||(i=new Zee(n,e,s,t))},r=()=>{i&&(i.dispose(),i=null)},a=new J({onFirstListenerAdd:o,onLastListenerRemove:r});return a}let oI=null;function Bct(n){if(!oI){const e=t=>setTimeout(()=>t(new Date().getTime()),0);oI=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}return oI.call(self,n)}let Qee,$c;class rI{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Ot(e)}}static sort(e,t){return t.priority-e.priority}}(function(){let n=[],e=null,t=!1,i=!1;const s=()=>{for(t=!1,e=n,n=[],i=!0;e.length>0;)e.sort(rI.sort),e.shift().execute();i=!1};$c=(o,r=0)=>{const a=new rI(o,r);return n.push(a),t||(t=!0,Bct(s)),a},Qee=(o,r)=>{if(i){const a=new rI(o,r);return e.push(a),a}else return $c(o,r)}})();function Jx(n){return document.defaultView.getComputedStyle(n,null)}function e5(n){if(n!==document.body)return new Zi(n.clientWidth,n.clientHeight);if(Xu&&window.visualViewport)return new Zi(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new Zi(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Zi(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Zi(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class Bn{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){const s=Jx(e);let o="0";return s&&(s.getPropertyValue?o=s.getPropertyValue(t):o=s.getAttribute(i)),Bn.convertToPixels(e,o)}static getBorderLeftWidth(e){return Bn.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return Bn.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return Bn.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return Bn.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return Bn.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return Bn.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return Bn.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return Bn.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return Bn.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return Bn.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return Bn.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return Bn.getDimension(e,"margin-bottom","marginBottom")}}class Zi{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new Zi(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof Zi?e:new Zi(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}}Zi.None=new Zi(0,0);function Jee(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==document.body&&n!==document.documentElement;){t-=n.scrollTop;const s=tte(n)?null:Jx(n);s&&(i-=s.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=Bn.getBorderLeftWidth(n),t+=Bn.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function Vct(n,e,t){typeof e=="number"&&(n.style.width=`${e}px`),typeof t=="number"&&(n.style.height=`${t}px`)}function mo(n){const e=n.getBoundingClientRect();return{left:e.left+yh.scrollX,top:e.top+yh.scrollY,width:e.width,height:e.height}}function Wct(n){let e=n,t=1;do{const i=Jx(e).zoom;i!=null&&i!=="1"&&(t*=i),e=e.parentElement}while(e!==null&&e!==document.documentElement);return t}const yh=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Rl(n){const e=Bn.getMarginLeft(n)+Bn.getMarginRight(n);return n.offsetWidth+e}function aI(n){const e=Bn.getBorderLeftWidth(n)+Bn.getBorderRightWidth(n),t=Bn.getPaddingLeft(n)+Bn.getPaddingRight(n);return n.offsetWidth-e-t}function Hct(n){const e=Bn.getBorderTopWidth(n)+Bn.getBorderBottomWidth(n),t=Bn.getPaddingTop(n)+Bn.getPaddingBottom(n);return n.offsetHeight-e-t}function nM(n){const e=Bn.getMarginTop(n)+Bn.getMarginBottom(n);return n.offsetHeight+e}function Sh(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function ete(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function lI(n,e,t){return!!ete(n,e,t)}function tte(n){return n&&!!n.host&&!!n.mode}function uw(n){return!!Bm(n)}function Bm(n){for(;n.parentNode;){if(n===document.body)return null;n=n.parentNode}return tte(n)?n:null}function S1(){let n=document.activeElement;for(;n!=null&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function ul(n=document.getElementsByTagName("head")[0]){const e=document.createElement("style");return e.type="text/css",e.media="screen",n.appendChild(e),e}let cI=null;function ite(){return cI||(cI=ul()),cI}function $ct(n){var e,t;return!((e=n==null?void 0:n.sheet)===null||e===void 0)&&e.rules?n.sheet.rules:!((t=n==null?void 0:n.sheet)===null||t===void 0)&&t.cssRules?n.sheet.cssRules:[]}function sM(n,e,t=ite()){!t||!e||t.sheet.insertRule(n+"{"+e+"}",0)}function xj(n,e=ite()){if(!e)return;const t=$ct(e),i=[];for(let s=0;s<t.length;s++)t[s].selectorText.indexOf(n)!==-1&&i.push(s);for(let s=i.length-1;s>=0;s--)e.sheet.deleteRule(i[s])}function nte(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"}const Qe={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:sg?"webkitAnimationStart":"animationstart",ANIMATION_END:sg?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:sg?"webkitAnimationIteration":"animationiteration"},Oi={stop:function(n,e){n.preventDefault?n.preventDefault():n.returnValue=!1,e&&(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0)}};function zct(n){const e=[];for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)e[t]=n.scrollTop,n=n.parentNode;return e}function Uct(n,e){for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)n.scrollTop!==e[t]&&(n.scrollTop=e[t]),n=n.parentNode}class w8 extends de{constructor(e){super(),this._onDidFocus=this._register(new J),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new J),this.onDidBlur=this._onDidBlur.event;let t=w8.hasFocusWithin(e),i=!1;const s=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{w8.hasFocusWithin(e)!==t&&(t?o():s())},this._register(xe(e,Qe.FOCUS,s,!0)),this._register(xe(e,Qe.BLUR,o,!0)),this._register(xe(e,Qe.FOCUS_IN,()=>this._refreshStateHandler())),this._register(xe(e,Qe.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(e){const t=Bm(e),i=t?t.activeElement:document.activeElement;return Sh(i,e)}}function Vm(n){return new w8(n)}function Le(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function jct(n,e){return n.insertBefore(e,n.firstChild),e}function xg(n,...e){n.innerText="",Le(n,...e)}const Kct=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var dw;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.SVG="http://www.w3.org/2000/svg"})(dw||(dw={}));function ste(n,e,t,...i){const s=Kct.exec(e);if(!s)throw new Error("Bad use of emmet");t=Object.assign({},t||{});const o=s[1]||"div";let r;return n!==dw.HTML?r=document.createElementNS(n,o):r=document.createElement(o),s[3]&&(r.id=s[3]),s[4]&&(r.className=s[4].replace(/\./g," ").trim()),Object.keys(t).forEach(a=>{const l=t[a];typeof l!="undefined"&&(/^on\w+$/.test(a)?r[a]=l:a==="selected"?l&&r.setAttribute(a,"true"):r.setAttribute(a,l))}),r.append(...i),r}function Ne(n,e,...t){return ste(dw.HTML,n,e,...t)}Ne.SVG=function(n,e,...t){return ste(dw.SVG,n,e,...t)};function da(...n){for(const e of n)e.style.display="",e.removeAttribute("aria-hidden")}function cr(...n){for(const e of n)e.style.display="none",e.setAttribute("aria-hidden","true")}function qct(n){return Array.prototype.slice.call(document.getElementsByTagName(n),0)}function Dj(n){const e=window.devicePixelRatio*n;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function ote(n){window.open(n,"_blank","noopener")}function Gct(n){const e=()=>{n(),t=$c(e)};let t=$c(e);return jt(()=>t.dispose())}Gee.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Wm(n){return n?`url('${Yee.asBrowserUri(n).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function kj(n){return`'${n.replace(/'/g,"%27")}'`}function Yct(n,e=!1){const t=document.createElement("a");return Kee("afterSanitizeAttributes",i=>{for(const s of["href","src"])if(i.hasAttribute(s)){const o=i.getAttribute(s);if(s==="href"&&o.startsWith("#"))continue;if(t.href=o,!n.includes(t.protocol.replace(/:$/,""))){if(e&&s==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(s)}}}),jt(()=>{qee("afterSanitizeAttributes")})}class jf extends J{constructor(){super(),this._subscriptions=new Ie,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(xe(window,"keydown",e=>{if(e.defaultPrevented)return;const t=new gn(e);if(!(t.keyCode===6&&e.repeat)){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(t.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(xe(window,"keyup",e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(xe(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(xe(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(xe(document.body,"mousemove",e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(xe(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return jf.instance||(jf.instance=new jf),jf.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Zct extends de{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(xe(this.element,Qe.DRAG_ENTER,e=>{this.counter++,this.dragStartTime=e.timeStamp,this.callbacks.onDragEnter(e)})),this._register(xe(this.element,Qe.DRAG_OVER,e=>{var t,i;e.preventDefault(),(i=(t=this.callbacks).onDragOver)===null||i===void 0||i.call(t,e,e.timeStamp-this.dragStartTime)})),this._register(xe(this.element,Qe.DRAG_LEAVE,e=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(e))})),this._register(xe(this.element,Qe.DRAG_END,e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(e)})),this._register(xe(this.element,Qe.DROP,e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(e)}))}}const Ej=2e4;let Bp,h6,oM,f6,rM;function Xct(n){Bp=document.createElement("div"),Bp.className="monaco-aria-container";const e=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),Bp.appendChild(i),i};h6=e(),oM=e();const t=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("role","complementary"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),Bp.appendChild(i),i};f6=t(),rM=t(),n.appendChild(Bp)}function no(n){!Bp||(h6.textContent!==n?(xs(oM),S8(h6,n)):(xs(h6),S8(oM,n)))}function y8(n){!Bp||(ai?no(n):f6.textContent!==n?(xs(rM),S8(f6,n)):(xs(f6),S8(rM,n)))}function S8(n,e){xs(n),e.length>Ej&&(e=e.substr(0,Ej)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}const CP=ui("markerDecorationsService"),Lr=ui("textModelService");var hw=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class $r extends de{constructor(e,t="",i="",s=!0,o){super(),this._onDidChange=this._register(new J),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=s,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return hw(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(e))})}}class hv extends de{constructor(){super(...arguments),this._onBeforeRun=this._register(new J),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new J),this.onDidRun=this._onDidRun.event}run(e,t){return hw(this,void 0,void 0,function*(){if(!e.enabled)return;this._onBeforeRun.fire({action:e});let i;try{yield this.runAction(e,t)}catch(s){i=s}this._onDidRun.fire({action:e,error:i})})}runAction(e,t){return hw(this,void 0,void 0,function*(){yield e.run(t)})}}class Co extends $r{constructor(e){super(Co.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}Co.ID="vs.actions.separator";class fw{constructor(e,t,i,s){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=s,this._actions=i}get actions(){return this._actions}dispose(){}run(){return hw(this,void 0,void 0,function*(){})}}class t5 extends $r{constructor(){super(t5.ID,v("submenu.empty","(empty)"),void 0,!1)}}t5.ID="vs.actions.empty";function Ij(n){var e,t;return{id:n.id,label:n.label,class:void 0,enabled:(e=n.enabled)!==null&&e!==void 0?e:!0,checked:(t=n.checked)!==null&&t!==void 0?t:!1,run:()=>hw(this,void 0,void 0,function*(){return n.run()}),tooltip:n.label,dispose:()=>{}}}const ss=ui("commandService"),pi=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new J,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.description){const r=[];for(const l of n.description.args)r.push(l.constraint);const a=n.handler;n.handler=function(l,...c){return qst(c,r),a(l,...c)}}const{id:t}=n;let i=this._commands.get(t);i||(i=new Yo,this._commands.set(t,i));const s=i.unshift(n),o=jt(()=>{s();const r=this._commands.get(t);r!=null&&r.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),o}registerCommandAlias(n,e){return pi.registerCommand(n,(t,...i)=>t.get(ss).executeCommand(e,...i))}getCommand(n){const e=this._commands.get(n);if(!(!e||e.isEmpty()))return ei.first(e)}getCommands(){const n=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&n.set(e,t)}return n}};pi.registerCommand("noop",()=>{});const Lo=new Map;Lo.set("false",!1);Lo.set("true",!0);Lo.set("isMac",ai);Lo.set("isLinux",So);Lo.set("isWindows",oo);Lo.set("isWeb",jg);Lo.set("isMacNative",ai&&!jg);Lo.set("isEdge",Ost);Lo.set("isFirefox",Ast);Lo.set("isChrome",IJ);Lo.set("isSafari",Rst);const Qct=Object.prototype.hasOwnProperty;class Xe{static has(e){return Dg.create(e)}static equals(e,t){return fv.create(e,t)}static regex(e,t){return L8.create(e,t)}static not(e){return Hm.create(e)}static and(...e){return Kf.create(e,null)}static or(...e){return ah.create(e,null,!0)}static deserialize(e,t=!1){if(!!e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){const i=e.split("||");return ah.create(i.map(s=>this._deserializeAndExpression(s,t)),null,!0)}static _deserializeAndExpression(e,t){const i=e.split("&&");return Kf.create(i.map(s=>this._deserializeOne(s,t)),null)}static _deserializeOne(e,t){if(e=e.trim(),e.indexOf("!=")>=0){const i=e.split("!=");return s5.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){const i=e.split("==");return fv.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){const i=e.split("=~");return L8.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" not in ")>=0){const i=e.split(" not in ");return n5.create(i[0].trim(),i[1].trim())}if(e.indexOf(" in ")>=0){const i=e.split(" in ");return i5.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const i=e.split(">=");return a5.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const i=e.split(">");return r5.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const i=e.split("<=");return c5.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const i=e.split("<");return l5.create(i[0].trim(),i[1].trim())}return/^\!\s*/.test(e)?Hm.create(e.substr(1).trim()):Dg.create(e)}static _deserializeValue(e,t){if(e=e.trim(),e==="true")return!0;if(e==="false")return!1;const i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(oee(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const i=e.indexOf("/"),s=e.lastIndexOf("/");if(i===s||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}const o=e.slice(i+1,s),r=e[s+1]==="i"?"i":"";try{return new RegExp(o,r)}catch(a){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${a}`);return console.warn(`bad regexp-value '${e}', parse error: ${a}`),null}}}function Jct(n,e){const t=n?n.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function L1(n,e){return n.cmp(e)}class Sa{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return dl.INSTANCE}}Sa.INSTANCE=new Sa;class dl{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Sa.INSTANCE}}dl.INSTANCE=new dl;class Dg{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){const i=Lo.get(e);return typeof i=="boolean"?i?dl.INSTANCE:Sa.INSTANCE:new Dg(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:ate(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Lo.get(this.key);return typeof e=="boolean"?e?dl.INSTANCE:Sa.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=Hm.create(this.key,this)),this.negated}}class fv{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}static create(e,t,i=null){if(typeof t=="boolean")return t?Dg.create(e,i):Hm.create(e,i);const s=Lo.get(e);return typeof s=="boolean"?t===(s?"true":"false")?dl.INSTANCE:Sa.INSTANCE:new fv(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:D_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Lo.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?dl.INSTANCE:Sa.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=s5.create(this.key,this.value,this)),this.negated}}class i5{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new i5(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:D_(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?Qct.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=n5.create(this.key,this.valueKey)),this.negated}}class n5{constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=i5.create(e,t)}static create(e,t){return new n5(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class s5{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}static create(e,t,i=null){if(typeof t=="boolean")return t?Hm.create(e,i):Dg.create(e,i);const s=Lo.get(e);return typeof s=="boolean"?t===(s?"true":"false")?Sa.INSTANCE:dl.INSTANCE:new s5(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:D_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Lo.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?Sa.INSTANCE:dl.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=fv.create(this.key,this.value,this)),this.negated}}class Hm{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){const i=Lo.get(e);return typeof i=="boolean"?i?Sa.INSTANCE:dl.INSTANCE:new Hm(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:ate(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Lo.get(this.key);return typeof e=="boolean"?e?Sa.INSTANCE:dl.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Dg.create(this.key,this)),this.negated}}function o5(n,e){if(typeof n=="string"){const t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):Sa.INSTANCE}class r5{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}static create(e,t,i=null){return o5(t,s=>new r5(e,s,i))}cmp(e){return e.type!==this.type?this.type-e.type:D_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c5.create(this.key,this.value,this)),this.negated}}class a5{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}static create(e,t,i=null){return o5(t,s=>new a5(e,s,i))}cmp(e){return e.type!==this.type?this.type-e.type:D_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=l5.create(this.key,this.value,this)),this.negated}}class l5{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}static create(e,t,i=null){return o5(t,s=>new l5(e,s,i))}cmp(e){return e.type!==this.type?this.type-e.type:D_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a5.create(this.key,this.value,this)),this.negated}}class c5{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}static create(e,t,i=null){return o5(t,s=>new c5(e,s,i))}cmp(e){return e.type!==this.type?this.type-e.type:D_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=r5.create(this.key,this.value,this)),this.negated}}class L8{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new L8(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=wP.create(this)),this.negated}}class wP{constructor(e){this._actual=e,this.type=8}static create(e){return new wP(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function rte(n){let e=null;for(let t=0,i=n.length;t<i;t++){const s=n[t].substituteConstants();if(n[t]!==s&&e===null){e=[];for(let o=0;o<t;o++)e[o]=n[o]}e!==null&&(e[t]=s)}return e===null?n:e}class Kf{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return Kf._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const s=L1(this.expr[t],e.expr[t]);if(s!==0)return s}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=rte(this.expr);return e===this.expr?this:Kf.create(e,this.negated)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){const i=[];let s=!1;for(const o of e)if(!!o){if(o.type===1){s=!0;continue}if(o.type===0)return Sa.INSTANCE;if(o.type===6){i.push(...o.expr);continue}i.push(o)}if(i.length===0&&s)return dl.INSTANCE;if(i.length!==0){if(i.length===1)return i[0];i.sort(L1);for(let o=1;o<i.length;o++)i[o-1].equals(i[o])&&(i.splice(o,1),o--);if(i.length===1)return i[0];for(;i.length>1;){const o=i[i.length-1];if(o.type!==9)break;i.pop();const r=i.pop(),a=i.length===0,l=ah.create(o.expr.map(c=>Kf.create([c,r],null)),null,a);l&&(i.push(l),i.sort(L1))}return i.length===1?i[0]:new Kf(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=ah.create(e,this,!0)}return this.negated}}class ah{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,i){return ah._normalizeArr(e,t,i)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const s=L1(this.expr[t],e.expr[t]);if(s!==0)return s}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=rte(this.expr);return e===this.expr?this:ah.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let s=[],o=!1;if(e){for(let r=0,a=e.length;r<a;r++){const l=e[r];if(!!l){if(l.type===0){o=!0;continue}if(l.type===1)return dl.INSTANCE;if(l.type===9){s=s.concat(l.expr);continue}s.push(l)}}if(s.length===0&&o)return Sa.INSTANCE;s.sort(L1)}if(s.length!==0){if(s.length===1)return s[0];for(let r=1;r<s.length;r++)s[r-1].equals(s[r])&&(s.splice(r,1),r--);if(s.length===1)return s[0];if(i){for(let r=0;r<s.length;r++)for(let a=r+1;a<s.length;a++)lte(s[r],s[a])&&(s.splice(a,1),a--);if(s.length===1)return s[0]}return new ah(s,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),s=[];for(const r of x8(t))for(const a of x8(i))s.push(Kf.create([r,a],null));const o=e.length===0;e.unshift(ah.create(s,null,o))}this.negated=e[0]}return this.negated}}class et extends Dg{constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?et._info.push(Object.assign(Object.assign({},i),{key:e})):i!==!0&&et._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}static all(){return et._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return fv.create(this.key,e)}}et._info=[];const At=ui("contextKeyService"),eut="setContext";function ate(n,e){return n<e?-1:n>e?1:0}function D_(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}function lte(n,e){if(e.type===6&&n.type!==9&&n.type!==6){for(const s of e.expr)if(n.equals(s))return!0}const t=n.negate(),i=x8(t).concat(x8(e));i.sort(L1);for(let s=0;s<i.length;s++){const r=i[s].negate();for(let a=s+1;a<i.length;a++){const l=i[a];if(r.equals(l))return!0}}return!1}function x8(n){return n.type===9?n.expr:[n]}var Ja;(function(n){n.DARK="dark",n.LIGHT="light",n.HIGH_CONTRAST_DARK="hcDark",n.HIGH_CONTRAST_LIGHT="hcLight"})(Ja||(Ja={}));function wo(n){return n===Ja.HIGH_CONTRAST_DARK||n===Ja.HIGH_CONTRAST_LIGHT}function gw(n){return n===Ja.DARK||n===Ja.HIGH_CONTRAST_DARK}const Qi=ui("themeService");var aM;(function(n){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}n.isThemeColor=e})(aM||(aM={}));function Vn(n){return{id:n}}var Li;(function(n){function e(c){return c&&typeof c=="object"&&typeof c.id=="string"&&(typeof c.color=="undefined"||aM.isThemeColor(c.color))}n.isThemeIcon=e;const t=new RegExp(`^\\$\\((${Go.iconNameExpression}(?:${Go.iconModifierExpression})?)\\)$`);function i(c){const u=t.exec(c);if(!u)return;const[,d]=u;return{id:d}}n.fromString=i;function s(c){return{id:c}}n.fromId=s;function o(c,u){let d=c.id;const h=d.lastIndexOf("~");return h!==-1&&(d=d.substring(0,h)),u&&(d=`${d}~${u}`),{id:d}}n.modify=o;function r(c){const u=c.id.lastIndexOf("~");if(u!==-1)return c.id.substring(u+1)}n.getModifier=r;function a(c,u){var d,h;return c.id===u.id&&((d=c.color)===null||d===void 0?void 0:d.id)===((h=u.color)===null||h===void 0?void 0:h.id)}n.isEqual=a;function l(c,u){return{id:c.id,color:u?Vn(u):void 0}}n.asThemeIcon=l,n.asClassNameArray=Go.asClassNameArray,n.asClassName=Go.asClassName,n.asCSSSelector=Go.asCSSSelector})(Li||(Li={}));function D8(n){switch(n){case Ja.DARK:return"vs-dark";case Ja.HIGH_CONTRAST_DARK:return"hc-black";case Ja.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const cte={ThemingContribution:"base.contributions.theming"};class tut{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new J}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),jt(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}const ute=new tut;Tn.add(cte.ThemingContribution,ute);function ln(n){return ute.onColorThemeChange(n)}class iut extends de{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var nut=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Tj=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function X0(n){return n.command!==void 0}class Y{constructor(e){if(Y._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);Y._instances.set(e,this),this.id=e}}Y._instances=new Map;Y.CommandPalette=new Y("CommandPalette");Y.DebugBreakpointsContext=new Y("DebugBreakpointsContext");Y.DebugCallStackContext=new Y("DebugCallStackContext");Y.DebugConsoleContext=new Y("DebugConsoleContext");Y.DebugVariablesContext=new Y("DebugVariablesContext");Y.DebugWatchContext=new Y("DebugWatchContext");Y.DebugToolBar=new Y("DebugToolBar");Y.DebugToolBarStop=new Y("DebugToolBarStop");Y.EditorContext=new Y("EditorContext");Y.SimpleEditorContext=new Y("SimpleEditorContext");Y.EditorContextCopy=new Y("EditorContextCopy");Y.EditorContextPeek=new Y("EditorContextPeek");Y.EditorContextShare=new Y("EditorContextShare");Y.EditorTitle=new Y("EditorTitle");Y.EditorTitleRun=new Y("EditorTitleRun");Y.EditorTitleContext=new Y("EditorTitleContext");Y.EmptyEditorGroup=new Y("EmptyEditorGroup");Y.EmptyEditorGroupContext=new Y("EmptyEditorGroupContext");Y.ExplorerContext=new Y("ExplorerContext");Y.ExtensionContext=new Y("ExtensionContext");Y.GlobalActivity=new Y("GlobalActivity");Y.CommandCenter=new Y("CommandCenter");Y.LayoutControlMenuSubmenu=new Y("LayoutControlMenuSubmenu");Y.LayoutControlMenu=new Y("LayoutControlMenu");Y.MenubarMainMenu=new Y("MenubarMainMenu");Y.MenubarAppearanceMenu=new Y("MenubarAppearanceMenu");Y.MenubarDebugMenu=new Y("MenubarDebugMenu");Y.MenubarEditMenu=new Y("MenubarEditMenu");Y.MenubarCopy=new Y("MenubarCopy");Y.MenubarFileMenu=new Y("MenubarFileMenu");Y.MenubarGoMenu=new Y("MenubarGoMenu");Y.MenubarHelpMenu=new Y("MenubarHelpMenu");Y.MenubarLayoutMenu=new Y("MenubarLayoutMenu");Y.MenubarNewBreakpointMenu=new Y("MenubarNewBreakpointMenu");Y.MenubarPanelAlignmentMenu=new Y("MenubarPanelAlignmentMenu");Y.MenubarPanelPositionMenu=new Y("MenubarPanelPositionMenu");Y.MenubarPreferencesMenu=new Y("MenubarPreferencesMenu");Y.MenubarRecentMenu=new Y("MenubarRecentMenu");Y.MenubarSelectionMenu=new Y("MenubarSelectionMenu");Y.MenubarShare=new Y("MenubarShare");Y.MenubarSwitchEditorMenu=new Y("MenubarSwitchEditorMenu");Y.MenubarSwitchGroupMenu=new Y("MenubarSwitchGroupMenu");Y.MenubarTerminalMenu=new Y("MenubarTerminalMenu");Y.MenubarViewMenu=new Y("MenubarViewMenu");Y.MenubarHomeMenu=new Y("MenubarHomeMenu");Y.OpenEditorsContext=new Y("OpenEditorsContext");Y.ProblemsPanelContext=new Y("ProblemsPanelContext");Y.SCMChangeContext=new Y("SCMChangeContext");Y.SCMResourceContext=new Y("SCMResourceContext");Y.SCMResourceFolderContext=new Y("SCMResourceFolderContext");Y.SCMResourceGroupContext=new Y("SCMResourceGroupContext");Y.SCMSourceControl=new Y("SCMSourceControl");Y.SCMTitle=new Y("SCMTitle");Y.SearchContext=new Y("SearchContext");Y.StatusBarWindowIndicatorMenu=new Y("StatusBarWindowIndicatorMenu");Y.StatusBarRemoteIndicatorMenu=new Y("StatusBarRemoteIndicatorMenu");Y.TestItem=new Y("TestItem");Y.TestItemGutter=new Y("TestItemGutter");Y.TestPeekElement=new Y("TestPeekElement");Y.TestPeekTitle=new Y("TestPeekTitle");Y.TouchBarContext=new Y("TouchBarContext");Y.TitleBarContext=new Y("TitleBarContext");Y.TitleBarTitleContext=new Y("TitleBarTitleContext");Y.TunnelContext=new Y("TunnelContext");Y.TunnelPrivacy=new Y("TunnelPrivacy");Y.TunnelProtocol=new Y("TunnelProtocol");Y.TunnelPortInline=new Y("TunnelInline");Y.TunnelTitle=new Y("TunnelTitle");Y.TunnelLocalAddressInline=new Y("TunnelLocalAddressInline");Y.TunnelOriginInline=new Y("TunnelOriginInline");Y.ViewItemContext=new Y("ViewItemContext");Y.ViewContainerTitle=new Y("ViewContainerTitle");Y.ViewContainerTitleContext=new Y("ViewContainerTitleContext");Y.ViewTitle=new Y("ViewTitle");Y.ViewTitleContext=new Y("ViewTitleContext");Y.CommentThreadTitle=new Y("CommentThreadTitle");Y.CommentThreadActions=new Y("CommentThreadActions");Y.CommentTitle=new Y("CommentTitle");Y.CommentActions=new Y("CommentActions");Y.InteractiveToolbar=new Y("InteractiveToolbar");Y.InteractiveCellTitle=new Y("InteractiveCellTitle");Y.InteractiveCellDelete=new Y("InteractiveCellDelete");Y.InteractiveCellExecute=new Y("InteractiveCellExecute");Y.InteractiveInputExecute=new Y("InteractiveInputExecute");Y.NotebookToolbar=new Y("NotebookToolbar");Y.NotebookCellTitle=new Y("NotebookCellTitle");Y.NotebookCellDelete=new Y("NotebookCellDelete");Y.NotebookCellInsert=new Y("NotebookCellInsert");Y.NotebookCellBetween=new Y("NotebookCellBetween");Y.NotebookCellListTop=new Y("NotebookCellTop");Y.NotebookCellExecute=new Y("NotebookCellExecute");Y.NotebookCellExecutePrimary=new Y("NotebookCellExecutePrimary");Y.NotebookDiffCellInputTitle=new Y("NotebookDiffCellInputTitle");Y.NotebookDiffCellMetadataTitle=new Y("NotebookDiffCellMetadataTitle");Y.NotebookDiffCellOutputsTitle=new Y("NotebookDiffCellOutputsTitle");Y.NotebookOutputToolbar=new Y("NotebookOutputToolbar");Y.NotebookEditorLayoutConfigure=new Y("NotebookEditorLayoutConfigure");Y.NotebookKernelSource=new Y("NotebookKernelSource");Y.BulkEditTitle=new Y("BulkEditTitle");Y.BulkEditContext=new Y("BulkEditContext");Y.TimelineItemContext=new Y("TimelineItemContext");Y.TimelineTitle=new Y("TimelineTitle");Y.TimelineTitleContext=new Y("TimelineTitleContext");Y.TimelineFilterSubMenu=new Y("TimelineFilterSubMenu");Y.AccountsContext=new Y("AccountsContext");Y.PanelTitle=new Y("PanelTitle");Y.AuxiliaryBarTitle=new Y("AuxiliaryBarTitle");Y.TerminalInstanceContext=new Y("TerminalInstanceContext");Y.TerminalEditorInstanceContext=new Y("TerminalEditorInstanceContext");Y.TerminalNewDropdownContext=new Y("TerminalNewDropdownContext");Y.TerminalTabContext=new Y("TerminalTabContext");Y.TerminalTabEmptyAreaContext=new Y("TerminalTabEmptyAreaContext");Y.TerminalInlineTabContext=new Y("TerminalInlineTabContext");Y.WebviewContext=new Y("WebviewContext");Y.InlineCompletionsActions=new Y("InlineCompletionsActions");Y.NewFile=new Y("NewFile");Y.MergeToolbar=new Y("MergeToolbar");Y.MergeInput1Toolbar=new Y("MergeToolbar1Toolbar");Y.MergeInput2Toolbar=new Y("MergeToolbar2Toolbar");const k_=ui("menuService"),jl=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new J,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:n=>n===Y.CommandPalette}}addCommand(n){return this.addCommands(ei.single(n))}addCommands(n){for(const e of n)this._commands.set(e.id,e);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),jt(()=>{let e=!1;for(const t of n)e=this._commands.delete(t.id)||e;e&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(n){return this._commands.get(n)}getCommands(){const n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){return this.appendMenuItems(ei.single({id:n,item:e}))}appendMenuItems(n){const e=new Set,t=new Yo;for(const{id:i,item:s}of n){let o=this._menuItems.get(i);o||(o=new Yo,this._menuItems.set(i,o)),t.push(o.push(s)),e.add(i)}return this._onDidChangeMenu.fire(e),jt(()=>{if(t.size>0){for(const i of t)i();this._onDidChangeMenu.fire(e),t.clear()}})}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===Y.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){const e=new Set;for(const t of n)X0(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};class yP extends fw{constructor(e,t,i,s){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=i,this._options=s}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(const[,s]of i)s.length>0&&(e.push(...s),e.push(new Co));return e.length&&e.pop(),e}}let kg=class dte{constructor(e,t,i,s,o,r){var a,l;if(this.hideActions=s,this._commandService=r,this.id=e.id,this.label=(i==null?void 0:i.renderShortTitle)&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value,this.tooltip=(l=typeof e.tooltip=="string"?e.tooltip:(a=e.tooltip)===null||a===void 0?void 0:a.value)!==null&&l!==void 0?l:"",this.enabled=!e.precondition||o.contextMatchesRules(e.precondition),this.checked=void 0,e.toggled){const c=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=o.contextMatchesRules(c.condition),this.checked&&c.tooltip&&(this.tooltip=typeof c.tooltip=="string"?c.tooltip:c.tooltip.value),c.title&&(this.label=typeof c.title=="string"?c.title:c.title.value)}this.item=e,this.alt=t?new dte(t,void 0,i,s,o,r):void 0,this._options=i,Li.isThemeIcon(e.icon)&&(this.class=Go.asClassName(e.icon))}dispose(){}run(...e){var t,i;let s=[];return!((t=this._options)===null||t===void 0)&&t.arg&&(s=[...s,this._options.arg]),!((i=this._options)===null||i===void 0)&&i.shouldForwardArgs&&(s=[...s,...e]),this._commandService.executeCommand(this.id,...s)}};kg=nut([Tj(4,At),Tj(5,ss)],kg);class k8{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Ka===1){if(e&&e.win)return e.win}else if(Ka===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=k8.bindToCurrentPlatform(e);if(t&&t.primary){const i=tM(t.primary,Ka);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,s=t.secondary.length;i<s;i++){const o=t.secondary[i],r=tM(o,Ka);r&&this._registerDefaultKeybinding(r,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),pi.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||e>=31&&e<=56?!0:e===80||e===81||e===82||e===83||e===84||e===85||e===86||e===110||e===111||e===87||e===88||e===89||e===90||e===91||e===92}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&k8._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,s,o,r){Ka===1&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:i,when:r,weight1:s,weight2:o,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(out)),this._cachedMergedKeybindings.slice(0)}}const qr=new k8,sut={EditorModes:"platform.keybindingsRegistry"};Tn.add(sut.EditorModes,qr);function out(n,e){return n.weight1!==e.weight1?n.weight1-e.weight1:n.command<e.command?-1:n.command>e.command?1:n.weight2-e.weight2}const Qc=ui("telemetryService");class u5{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let i=t.kbExpr;this.precondition&&(i?i=Xe.and(i,this.precondition):i=this.precondition);const s={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};qr.registerKeybindingRule(s)}}pi.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){jl.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class e2 extends u5{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort((s,o)=>o.priority-s.priority),{dispose:()=>{for(let s=0;s<this._implementations.length;s++)if(this._implementations[s].implementation===i){this._implementations.splice(s,1);return}}}}runCommand(e,t){const i=e.get(Ql);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const s of this._implementations){const o=s.implementation(e,t);if(o)return i.trace(`Command '${this.id}' was handled by '${s.name}'.`),typeof o=="boolean"?void 0:o}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class hte extends u5{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class Ys extends u5{static bindToContribution(e){return class extends Ys{constructor(i){super(i),this._callback=i.handler}runEditorCommand(i,s,o){const r=e(s);r&&this._callback(r,o)}}}runCommand(e,t){const i=e.get(Ei),s=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(!!s)return s.invokeWithinContext(o=>{if(!!o.get(At).contextMatchesRules(hr(this.precondition)))return this.runEditorCommand(o,s,t)})}}class nt extends Ys{constructor(e){super(nt.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;Array.isArray(e.menuOpts)?t=e.menuOpts:e.menuOpts?t=[e.menuOpts]:t=[];function i(s){return s.menuId||(s.menuId=Y.EditorContext),s.title||(s.title=e.label),s.when=Xe.and(e.precondition,s.when),s}return Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(Qc).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class fte extends nt{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((i,s)=>s[0]-i[0]),{dispose:()=>{for(let i=0;i<this._implementations.length;i++)if(this._implementations[i][1]===t){this._implementations.splice(i,1);return}}}}run(e,t,i){for(const s of this._implementations){const o=s[1](e,t,i);if(o)return typeof o=="boolean"?void 0:o}}}function dd(n,e){pi.registerCommand(n,function(t,...i){const s=t.get(Bt),[o,r]=i;Vi(bt.isUri(o)),Vi(oe.isIPosition(r));const a=t.get(Nn).getModel(o);if(a){const l=oe.lift(r);return s.invokeFunction(e,a,l,...i.slice(2))}return t.get(Lr).createModelReference(o).then(l=>new Promise((c,u)=>{try{const d=s.invokeFunction(e,l.object.textEditorModel,oe.lift(r),i.slice(2));c(d)}catch(d){u(d)}}).finally(()=>{l.dispose()}))})}function Ae(n){return Ga.INSTANCE.registerEditorCommand(n),n}function Pe(n){const e=new n;return Ga.INSTANCE.registerEditorAction(e),e}function gte(n){return Ga.INSTANCE.registerEditorAction(n),n}function pte(n){Ga.INSTANCE.registerEditorAction(n)}function mi(n,e){Ga.INSTANCE.registerEditorContribution(n,e)}var gm;(function(n){function e(r){return Ga.INSTANCE.getEditorCommand(r)}n.getEditorCommand=e;function t(){return Ga.INSTANCE.getEditorActions()}n.getEditorActions=t;function i(){return Ga.INSTANCE.getEditorContributions()}n.getEditorContributions=i;function s(r){return Ga.INSTANCE.getEditorContributions().filter(a=>r.indexOf(a.id)>=0)}n.getSomeEditorContributions=s;function o(){return Ga.INSTANCE.getDiffEditorContributions()}n.getDiffEditorContributions=o})(gm||(gm={}));const rut={EditorCommonContributions:"editor.contributions"};class Ga{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}Ga.INSTANCE=new Ga;Tn.add(rut.EditorCommonContributions,Ga.INSTANCE);function Oy(n){return n.register(),n}const mte=Oy(new e2({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:Y.MenubarEditMenu,group:"1_do",title:v({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:Y.CommandPalette,group:"",title:v("undo","Undo"),order:1}]}));Oy(new hte(mte,{id:"default:undo",precondition:void 0}));const _te=Oy(new e2({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:Y.MenubarEditMenu,group:"1_do",title:v({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:Y.CommandPalette,group:"",title:v("redo","Redo"),order:1}]}));Oy(new hte(_te,{id:"default:redo",precondition:void 0}));const aut=Oy(new e2({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:Y.MenubarSelectionMenu,group:"1_basic",title:v({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:Y.CommandPalette,group:"",title:v("selectAll","Select All"),order:1}]}));var lut=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},cut=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let pw=class{constructor(e,t){}dispose(){}};pw.ID="editor.contrib.markerDecorations";pw=lut([cut(1,CP)],pw);mi(pw.ID,pw);class vte extends de{constructor(e,t){super(),this._onDidChange=this._register(new J),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,s=0;t?(i=t.width,s=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,s=this._referenceDomElement.clientHeight),i=Math.max(5,i),s=Math.max(5,s),(this._width!==i||this._height!==s)&&(this._width=i,this._height=s,e&&this._onDidChange.fire())}}class lg{constructor(e,t){this.key=e,this.migrate=t}apply(e){const t=lg._read(e,this.key),i=o=>lg._read(e,o),s=(o,r)=>lg._write(e,o,r);this.migrate(t,i,s)}static _read(e,t){if(typeof e=="undefined")return;const i=t.indexOf(".");if(i>=0){const s=t.substring(0,i);return this._read(e[s],t.substring(i+1))}return e[t]}static _write(e,t,i){const s=t.indexOf(".");if(s>=0){const o=t.substring(0,s);e[o]=e[o]||{},this._write(e[o],t.substring(s+1),i);return}e[t]=i}}lg.items=[];function t2(n,e){lg.items.push(new lg(n,e))}function Jc(n,e){t2(n,(t,i,s)=>{if(typeof t!="undefined"){for(const[o,r]of e)if(t===o){s(n,r);return}}})}function uut(n){lg.items.forEach(e=>e.apply(n))}Jc("wordWrap",[[!0,"on"],[!1,"off"]]);Jc("lineNumbers",[[!0,"on"],[!1,"off"]]);Jc("cursorBlinking",[["visible","solid"]]);Jc("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);Jc("renderLineHighlight",[[!0,"line"],[!1,"none"]]);Jc("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);Jc("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);Jc("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);Jc("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);Jc("autoIndent",[[!1,"advanced"],[!0,"full"]]);Jc("matchBrackets",[[!0,"always"],[!1,"never"]]);t2("autoClosingBrackets",(n,e,t)=>{n===!1&&(t("autoClosingBrackets","never"),typeof e("autoClosingQuotes")=="undefined"&&t("autoClosingQuotes","never"),typeof e("autoSurround")=="undefined"&&t("autoSurround","never"))});t2("renderIndentGuides",(n,e,t)=>{typeof n!="undefined"&&(t("renderIndentGuides",void 0),typeof e("guides.indentation")=="undefined"&&t("guides.indentation",!!n))});t2("highlightActiveIndentGuide",(n,e,t)=>{typeof n!="undefined"&&(t("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")=="undefined"&&t("guides.highlightActiveIndentation",!!n))});const dut={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};t2("suggest.filteredTypes",(n,e,t)=>{if(n&&typeof n=="object"){for(const i of Object.entries(dut))n[i[0]]===!1&&typeof e(`suggest.${i[1]}`)=="undefined"&&t(`suggest.${i[1]}`,!1);t("suggest.filteredTypes",void 0)}});t2("quickSuggestions",(n,e,t)=>{if(typeof n=="boolean"){const i=n?"on":"off";t("quickSuggestions",{comments:i,strings:i,other:i})}});class hut{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new J,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}}const E8=new hut,jh=ui("accessibilityService"),Py=new et("accessibilityModeEnabled",!1);var fut=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},gut=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let lM=class extends de{constructor(e,t,i,s){super(),this._accessibilityService=s,this._onDidChange=this._register(new J),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new J),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new UJ,this.isSimpleWidget=e,this._containerObserver=this._register(new vte(i,t.dimension)),this._rawOptions=Nj(t),this._validatedOptions=Bf.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(Rh.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(E8.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register($N.onDidChange(()=>this._recomputeOptions())),this._register(lv.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),t=Bf.checkEquals(this.options,e);t!==null&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=fm.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),s={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:E8.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return Bf.computeOptions(this._validatedOptions,s)}_readEnvConfiguration(){return{extraEditorClassName:mut(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:sg||wa,pixelRatio:lv.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return $N.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=Nj(e);!Bf.applyUpdate(this._rawOptions,t)||(this._validatedOptions=Bf.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=put(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}};lM=fut([gut(3,jh)],lM);function put(n){let e=0;for(;n;)n=Math.floor(n/10),e++;return e||1}function mut(){let n="";return!Ah&&!tP&&(n+="no-user-select "),Ah&&(n+="no-minimap-shadow ",n+="enable-user-select "),ai&&(n+="mac "),n}class _ut{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class vut{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class Bf{static validateOptions(e){const t=new _ut;for(const i of j0){const s=i.name==="_never_"?void 0:e[i.name];t._write(i.id,i.validate(s))}return t}static computeOptions(e,t){const i=new vut;for(const s of j0)i._write(s.id,s.compute(t,i,e._read(s.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?va(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Bf._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let s=!1;for(const o of j0){const r=!Bf._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=r,r&&(s=!0)}return s?new zJ(i):null}static applyUpdate(e,t){let i=!1;for(const s of j0)if(t.hasOwnProperty(s.name)){const o=s.applyUpdate(e[s.name],t[s.name]);e[s.name]=o.newValue,i=i||o.didChange}return i}}function Nj(n){const e=qd(n);return uut(e),e}function ps(n,e,t){let i=null,s=null;if(typeof t.value=="function"?(i="value",s=t.value,s.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",s=t.get),!s)throw new Error("not supported");const o=`$memoize$${e}`;t[i]=function(...r){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:s.apply(this,r)}),this[o]}}var but=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},rn;(function(n){n.Tap="-monaco-gesturetap",n.Change="-monaco-gesturechange",n.Start="-monaco-gesturestart",n.End="-monaco-gesturesend",n.Contextmenu="-monaco-gesturecontextmenu"})(rn||(rn={}));class Fi extends de{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(xe(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(xe(document,"touchend",e=>this.onTouchEnd(e))),this._register(xe(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){return Fi.isTouchDevice()?(Fi.INSTANCE||(Fi.INSTANCE=new Fi),Fi.INSTANCE.targets.push(e),{dispose:()=>{Fi.INSTANCE.targets=Fi.INSTANCE.targets.filter(t=>t!==e)}}):de.None}static ignoreTarget(e){return Fi.isTouchDevice()?(Fi.INSTANCE||(Fi.INSTANCE=new Fi),Fi.INSTANCE.ignoreTargets.push(e),{dispose:()=>{Fi.INSTANCE.ignoreTargets=Fi.INSTANCE.ignoreTargets.filter(t=>t!==e)}}):de.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,s=e.targetTouches.length;i<s;i++){const o=e.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};const r=this.newGestureEvent(rn.Start,o.target);r.pageX=o.pageX,r.pageY=o.pageY,this.dispatchEvent(r)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){const t=Date.now(),i=Object.keys(this.activeTouches).length;for(let s=0,o=e.changedTouches.length;s<o;s++){const r=e.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}const a=this.activeTouches[r.identifier],l=Date.now()-a.initialTimeStamp;if(l<Fi.HOLD_DELAY&&Math.abs(a.initialPageX-Ra(a.rollingPageX))<30&&Math.abs(a.initialPageY-Ra(a.rollingPageY))<30){const c=this.newGestureEvent(rn.Tap,a.initialTarget);c.pageX=Ra(a.rollingPageX),c.pageY=Ra(a.rollingPageY),this.dispatchEvent(c)}else if(l>=Fi.HOLD_DELAY&&Math.abs(a.initialPageX-Ra(a.rollingPageX))<30&&Math.abs(a.initialPageY-Ra(a.rollingPageY))<30){const c=this.newGestureEvent(rn.Contextmenu,a.initialTarget);c.pageX=Ra(a.rollingPageX),c.pageY=Ra(a.rollingPageY),this.dispatchEvent(c)}else if(i===1){const c=Ra(a.rollingPageX),u=Ra(a.rollingPageY),d=Ra(a.rollingTimestamps)-a.rollingTimestamps[0],h=c-a.rollingPageX[0],f=u-a.rollingPageY[0],p=this.targets.filter(m=>a.initialTarget instanceof Node&&m.contains(a.initialTarget));this.inertia(p,t,Math.abs(h)/d,h>0?1:-1,c,Math.abs(f)/d,f>0?1:-1,u)}this.dispatchEvent(this.newGestureEvent(rn.End,a.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===rn.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>Fi.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===rn.Change||e.type===rn.Contextmenu)&&(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach(t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)})}inertia(e,t,i,s,o,r,a,l){this.handle=$c(()=>{const c=Date.now(),u=c-t;let d=0,h=0,f=!0;i+=Fi.SCROLL_FRICTION*u,r+=Fi.SCROLL_FRICTION*u,i>0&&(f=!1,d=s*i*u),r>0&&(f=!1,h=a*r*u);const p=this.newGestureEvent(rn.Change);p.translationX=d,p.translationY=h,e.forEach(m=>m.dispatchEvent(p)),f||this.inertia(e,c,i,s,o+d,r,a,l+h)})}onTouchMove(e){const t=Date.now();for(let i=0,s=e.changedTouches.length;i<s;i++){const o=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}const r=this.activeTouches[o.identifier],a=this.newGestureEvent(rn.Change,r.initialTarget);a.translationX=o.pageX-Ra(r.rollingPageX),a.translationY=o.pageY-Ra(r.rollingPageY),a.pageX=o.pageX,a.pageY=o.pageY,this.dispatchEvent(a),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(o.pageX),r.rollingPageY.push(o.pageY),r.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}Fi.SCROLL_FRICTION=-.005;Fi.HOLD_DELAY=700;Fi.CLEAR_TAP_COUNT_TIME=400;but([ps],Fi,"isTouchDevice",null);class i2{constructor(){this._hooks=new Ie,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,s,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=s,this._onStopCallback=o;let r=e;try{e.setPointerCapture(t),this._hooks.add(jt(()=>{e.releasePointerCapture(t)}))}catch{r=window}this._hooks.add(xe(r,Qe.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(xe(r,Qe.POINTER_UP,a=>this.stopMonitoring(!0)))}}function cg(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}class ri{constructor(e,t,i,s=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=cg(Math.max(Math.min(1,s),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class yc{constructor(e,t,i,s){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=cg(Math.max(Math.min(1,t),0),3),this.l=cg(Math.max(Math.min(1,i),0),3),this.a=cg(Math.max(Math.min(1,s),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,s=e.b/255,o=e.a,r=Math.max(t,i,s),a=Math.min(t,i,s);let l=0,c=0;const u=(a+r)/2,d=r-a;if(d>0){switch(c=Math.min(u<=.5?d/(2*u):d/(2-2*u),1),r){case t:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-t)/d+2;break;case s:l=(t-i)/d+4;break}l*=60,l=Math.round(l)}return new yc(l,c,u,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:s,a:o}=e;let r,a,l;if(i===0)r=a=l=s;else{const c=s<.5?s*(1+i):s+i-s*i,u=2*s-c;r=yc._hue2rgb(u,c,t+1/3),a=yc._hue2rgb(u,c,t),l=yc._hue2rgb(u,c,t-1/3)}return new ri(Math.round(r*255),Math.round(a*255),Math.round(l*255),o)}}class Fu{constructor(e,t,i,s){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=cg(Math.max(Math.min(1,t),0),3),this.v=cg(Math.max(Math.min(1,i),0),3),this.a=cg(Math.max(Math.min(1,s),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,s=e.b/255,o=Math.max(t,i,s),r=Math.min(t,i,s),a=o-r,l=o===0?0:a/o;let c;return a===0?c=0:o===t?c=((i-s)/a%6+6)%6:o===i?c=(s-t)/a+2:c=(t-i)/a+4,new Fu(Math.round(c*60),l,o,e.a)}static toRGBA(e){const{h:t,s:i,v:s,a:o}=e,r=s*i,a=r*(1-Math.abs(t/60%2-1)),l=s-r;let[c,u,d]=[0,0,0];return t<60?(c=r,u=a):t<120?(c=a,u=r):t<180?(u=r,d=a):t<240?(u=a,d=r):t<300?(c=a,d=r):t<=360&&(c=r,d=a),c=Math.round((c+l)*255),u=Math.round((u+l)*255),d=Math.round((d+l)*255),new ri(c,u,d,o)}}class re{constructor(e){if(e)if(e instanceof ri)this.rgba=e;else if(e instanceof yc)this._hsla=e,this.rgba=yc.toRGBA(e);else if(e instanceof Fu)this._hsva=e,this.rgba=Fu.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(e){return re.Format.CSS.parseHex(e)||re.red}get hsla(){return this._hsla?this._hsla:yc.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Fu.fromRGBA(this.rgba)}equals(e){return!!e&&ri.equals(this.rgba,e.rgba)&&yc.equals(this.hsla,e.hsla)&&Fu.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=re._relativeLuminanceForComponent(this.rgba.r),t=re._relativeLuminanceForComponent(this.rgba.g),i=re._relativeLuminanceForComponent(this.rgba.b),s=.2126*e+.7152*t+.0722*i;return cg(s,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new re(new yc(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new re(new yc(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:s,a:o}=this.rgba;return new re(new ri(t,i,s,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new re(new ri(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=re.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const s=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-s)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const s=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(s-o)/s,e.darken(i)}}re.white=new re(new ri(255,255,255,1));re.black=new re(new ri(0,0,0,1));re.red=new re(new ri(255,0,0,1));re.blue=new re(new ri(0,0,255,1));re.green=new re(new ri(0,255,0,1));re.cyan=new re(new ri(0,255,255,1));re.lightgrey=new re(new ri(211,211,211,1));re.transparent=new re(new ri(0,0,0,0));(function(n){(function(e){(function(t){function i(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:n.Format.CSS.formatRGBA(f)}t.formatRGB=i;function s(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}t.formatRGBA=s;function o(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:n.Format.CSS.formatHSLA(f)}t.formatHSL=o;function r(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}t.formatHSLA=r;function a(f){const p=f.toString(16);return p.length!==2?"0"+p:p}function l(f){return`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}`}t.formatHex=l;function c(f,p=!1){return p&&f.rgba.a===1?n.Format.CSS.formatHex(f):`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}${a(Math.round(f.rgba.a*255))}`}t.formatHexA=c;function u(f){return f.isOpaque()?n.Format.CSS.formatHex(f):n.Format.CSS.formatRGBA(f)}t.format=u;function d(f){const p=f.length;if(p===0||f.charCodeAt(0)!==35)return null;if(p===7){const m=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),b=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),w=16*h(f.charCodeAt(5))+h(f.charCodeAt(6));return new n(new ri(m,b,w,1))}if(p===9){const m=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),b=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),w=16*h(f.charCodeAt(5))+h(f.charCodeAt(6)),y=16*h(f.charCodeAt(7))+h(f.charCodeAt(8));return new n(new ri(m,b,w,y/255))}if(p===4){const m=h(f.charCodeAt(1)),b=h(f.charCodeAt(2)),w=h(f.charCodeAt(3));return new n(new ri(16*m+m,16*b+b,16*w+w))}if(p===5){const m=h(f.charCodeAt(1)),b=h(f.charCodeAt(2)),w=h(f.charCodeAt(3)),y=h(f.charCodeAt(4));return new n(new ri(16*m+m,16*b+b,16*w+w,(16*y+y)/255))}return null}t.parseHex=d;function h(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(n.Format||(n.Format={}))})(re||(re={}));function bte(n){return`--vscode-${n.replace(/\./g,"-")}`}const Cte={ColorContribution:"base.contributions.colors"};class Cut{constructor(){this._onDidChangeSchema=new J,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,s=!1,o){const r={id:e,description:i,defaults:t,needsTransparency:s,deprecationMessage:o};this.colorsById[e]=r;const a={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(a.deprecationMessage=o),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){const s=i.defaults[t.type];return Hd(s,t)}}getColorSchema(){return this.colorSchema}toString(){const e=(t,i)=>{const s=t.indexOf(".")===-1?0:1,o=i.indexOf(".")===-1?0:1;return s!==o?s-o:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const d5=new Cut;Tn.add(Cte.ColorContribution,d5);function wut(n){return n===null||typeof n.hcLight=="undefined"&&(n.hcDark===null||typeof n.hcDark=="string"?n.hcLight=n.hcDark:n.hcLight=n.light),n}function U(n,e,t,i,s){return d5.registerColor(n,wut(e),t,i,s)}const Te=U("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},v("foreground","Overall foreground color. This color is only used if not overridden by a component."));U("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},v("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));const yut=U("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},v("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));U("descriptionForeground",{light:"#717171",dark:ut(Te,.7),hcDark:ut(Te,.7),hcLight:ut(Te,.7)},v("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const OS=U("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},v("iconForeground","The default color for icons in the workbench.")),el=U("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},v("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Kt=U("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},v("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),mn=U("contrastActiveBorder",{light:null,dark:null,hcDark:el,hcLight:el},v("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));U("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},v("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));U("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:re.black,hcLight:"#292929"},v("textSeparatorForeground","Color for text separators."));const h5=U("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},v("textLinkForeground","Foreground color for links in text.")),f5=U("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},v("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));U("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},v("textPreformatForeground","Foreground color for preformatted text segments."));U("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},v("textBlockQuoteBackground","Background color for block quotes in text."));U("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:re.white,hcLight:"#292929"},v("textBlockQuoteBorder","Border color for block quotes in text."));const wte=U("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:re.black,hcLight:"#F2F2F2"},v("textCodeBlockBackground","Background color for code blocks in text.")),Ic=U("widget.shadow",{dark:ut(re.black,.36),light:ut(re.black,.16),hcDark:null,hcLight:null},v("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),g5=U("input.background",{dark:"#3C3C3C",light:re.white,hcDark:re.black,hcLight:re.white},v("inputBoxBackground","Input box background.")),p5=U("input.foreground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("inputBoxForeground","Input box foreground.")),m5=U("input.border",{dark:null,light:null,hcDark:Kt,hcLight:Kt},v("inputBoxBorder","Input box border.")),I8=U("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:Kt,hcLight:Kt},v("inputBoxActiveOptionBorder","Border color of activated options in input fields."));U("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},v("inputOption.hoverBackground","Background color of activated options in input fields."));const T8=U("inputOption.activeBackground",{dark:ut(el,.4),light:ut(el,.2),hcDark:re.transparent,hcLight:re.transparent},v("inputOption.activeBackground","Background hover color of options in input fields.")),N8=U("inputOption.activeForeground",{dark:re.white,light:re.black,hcDark:null,hcLight:Te},v("inputOption.activeForeground","Foreground color of activated options in input fields."));U("input.placeholderForeground",{light:ut(Te,.5),dark:ut(Te,.5),hcDark:ut(Te,.7),hcLight:ut(Te,.7)},v("inputPlaceholderForeground","Input box foreground color for placeholder text."));const SP=U("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:re.black,hcLight:re.white},v("inputValidationInfoBackground","Input validation background color for information severity.")),LP=U("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:Te},v("inputValidationInfoForeground","Input validation foreground color for information severity.")),xP=U("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:Kt,hcLight:Kt},v("inputValidationInfoBorder","Input validation border color for information severity.")),DP=U("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:re.black,hcLight:re.white},v("inputValidationWarningBackground","Input validation background color for warning severity.")),kP=U("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:Te},v("inputValidationWarningForeground","Input validation foreground color for warning severity.")),EP=U("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:Kt,hcLight:Kt},v("inputValidationWarningBorder","Input validation border color for warning severity.")),IP=U("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:re.black,hcLight:re.white},v("inputValidationErrorBackground","Input validation background color for error severity.")),TP=U("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:Te},v("inputValidationErrorForeground","Input validation foreground color for error severity.")),NP=U("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:Kt,hcLight:Kt},v("inputValidationErrorBorder","Input validation border color for error severity.")),lh=U("dropdown.background",{dark:"#3C3C3C",light:re.white,hcDark:re.black,hcLight:re.white},v("dropdownBackground","Dropdown background."));U("dropdown.listBackground",{dark:null,light:null,hcDark:re.black,hcLight:re.white},v("dropdownListBackground","Dropdown list background."));const Xp=U("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:re.white,hcLight:Te},v("dropdownForeground","Dropdown foreground.")),PS=U("dropdown.border",{dark:lh,light:"#CECECE",hcDark:Kt,hcLight:Kt},v("dropdownBorder","Dropdown border."));U("checkbox.background",{dark:lh,light:lh,hcDark:lh,hcLight:lh},v("checkbox.background","Background color of checkbox widget."));U("checkbox.foreground",{dark:Xp,light:Xp,hcDark:Xp,hcLight:Xp},v("checkbox.foreground","Foreground color of checkbox widget."));U("checkbox.border",{dark:PS,light:PS,hcDark:PS,hcLight:PS},v("checkbox.border","Border color of checkbox widget."));const kb=U("button.foreground",{dark:re.white,light:re.white,hcDark:re.white,hcLight:re.white},v("buttonForeground","Button foreground color."));U("button.separator",{dark:ut(kb,.4),light:ut(kb,.4),hcDark:ut(kb,.4),hcLight:ut(kb,.4)},v("buttonSeparator","Button separator color."));const cM=U("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},v("buttonBackground","Button background color.")),Sut=U("button.hoverBackground",{dark:Pc(cM,.2),light:E_(cM,.2),hcDark:null,hcLight:null},v("buttonHoverBackground","Button background color when hovering."));U("button.border",{dark:Kt,light:Kt,hcDark:Kt,hcLight:Kt},v("buttonBorder","Button border color."));U("button.secondaryForeground",{dark:re.white,light:re.white,hcDark:re.white,hcLight:Te},v("buttonSecondaryForeground","Secondary button foreground color."));const Mj=U("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:re.white},v("buttonSecondaryBackground","Secondary button background color."));U("button.secondaryHoverBackground",{dark:Pc(Mj,.2),light:E_(Mj,.2),hcDark:null,hcLight:null},v("buttonSecondaryHoverBackground","Secondary button background color when hovering."));const Q0=U("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:re.black,hcLight:"#0F4A85"},v("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),J0=U("badge.foreground",{dark:re.white,light:"#333",hcDark:re.white,hcLight:re.white},v("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),n2=U("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},v("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Qp=U("scrollbarSlider.background",{dark:re.fromHex("#797979").transparent(.4),light:re.fromHex("#646464").transparent(.4),hcDark:ut(Kt,.6),hcLight:ut(Kt,.4)},v("scrollbarSliderBackground","Scrollbar slider background color.")),Jp=U("scrollbarSlider.hoverBackground",{dark:re.fromHex("#646464").transparent(.7),light:re.fromHex("#646464").transparent(.7),hcDark:ut(Kt,.8),hcLight:ut(Kt,.8)},v("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),em=U("scrollbarSlider.activeBackground",{dark:re.fromHex("#BFBFBF").transparent(.4),light:re.fromHex("#000000").transparent(.6),hcDark:Kt,hcLight:Kt},v("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Lut=U("progressBar.background",{dark:re.fromHex("#0E70C0"),light:re.fromHex("#0E70C0"),hcDark:Kt,hcLight:Kt},v("progressBarBackground","Background color of the progress bar that can show for long running operations.")),xut=U("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},v("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Bu=U("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},v("editorError.foreground","Foreground color of error squigglies in the editor.")),yte=U("editorError.border",{dark:null,light:null,hcDark:re.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},v("errorBorder","Border color of error boxes in the editor.")),Dut=U("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},v("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ha=U("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},v("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),gv=U("editorWarning.border",{dark:null,light:null,hcDark:re.fromHex("#FFCC00").transparent(.8),hcLight:"#"},v("warningBorder","Border color of warning boxes in the editor.")),kut=U("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},v("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),mr=U("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},v("editorInfo.foreground","Foreground color of info squigglies in the editor.")),M8=U("editorInfo.border",{dark:null,light:null,hcDark:re.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},v("infoBorder","Border color of info boxes in the editor.")),Eut=U("editorHint.foreground",{dark:re.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},v("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Iut=U("editorHint.border",{dark:null,light:null,hcDark:re.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},v("hintBorder","Border color of hint boxes in the editor."));U("sash.hoverBorder",{dark:el,light:el,hcDark:el,hcLight:el},v("sashActiveBorder","Border color of active sashes."));const Ss=U("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:re.black,hcLight:re.white},v("editorBackground","Editor background color.")),fa=U("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:re.white,hcLight:Te},v("editorForeground","Editor default foreground color."));U("editorStickyScroll.background",{light:Ss,dark:Ss,hcDark:Ss,hcLight:Ss},v("editorStickyScrollBackground","Sticky scroll background color for the editor"));U("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:re.fromHex("#0F4A85").transparent(.1)},v("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor"));const ns=U("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:re.white},v("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Tc=U("editorWidget.foreground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),ch=U("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:Kt,hcLight:Kt},v("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Tut=U("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},v("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Aj=U("quickInput.background",{dark:ns,light:ns,hcDark:ns,hcLight:ns},v("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Nut=U("quickInput.foreground",{dark:Tc,light:Tc,hcDark:Tc,hcLight:Tc},v("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Mut=U("quickInputTitle.background",{dark:new re(new ri(255,255,255,.105)),light:new re(new ri(0,0,0,.06)),hcDark:"#000000",hcLight:re.white},v("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Aut=U("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:re.white,hcLight:"#0F4A85"},v("pickerGroupForeground","Quick picker color for grouping labels.")),Rut=U("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:re.white,hcLight:"#0F4A85"},v("pickerGroupBorder","Quick picker color for grouping borders.")),Out=U("keybindingLabel.background",{dark:new re(new ri(128,128,128,.17)),light:new re(new ri(221,221,221,.4)),hcDark:re.transparent,hcLight:re.transparent},v("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Put=U("keybindingLabel.foreground",{dark:re.fromHex("#CCCCCC"),light:re.fromHex("#555555"),hcDark:re.white,hcLight:Te},v("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Fut=U("keybindingLabel.border",{dark:new re(new ri(51,51,51,.6)),light:new re(new ri(204,204,204,.4)),hcDark:new re(new ri(111,195,223)),hcLight:Kt},v("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),But=U("keybindingLabel.bottomBorder",{dark:new re(new ri(68,68,68,.6)),light:new re(new ri(187,187,187,.4)),hcDark:new re(new ri(111,195,223)),hcLight:Te},v("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),uh=U("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},v("editorSelectionBackground","Color of the editor selection.")),Vut=U("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:re.white},v("editorSelectionForeground","Color of the selected text for high contrast.")),MP=U("editor.inactiveSelectionBackground",{light:ut(uh,.5),dark:ut(uh,.5),hcDark:ut(uh,.7),hcLight:ut(uh,.5)},v("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),AP=U("editor.selectionHighlightBackground",{light:Vj(uh,Ss,.3,.6),dark:Vj(uh,Ss,.3,.6),hcDark:null,hcLight:null},v("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Wut=U("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:mn,hcLight:mn},v("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Hut=U("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},v("editorFindMatch","Color of the current search match.")),dh=U("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},v("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),$ut=U("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},v("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),zut=U("editor.findMatchBorder",{light:null,dark:null,hcDark:mn,hcLight:mn},v("editorFindMatchBorder","Border color of the current search match.")),tm=U("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:mn,hcLight:mn},v("findMatchHighlightBorder","Border color of the other search matches.")),Uut=U("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:ut(mn,.4),hcLight:ut(mn,.4)},v("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);U("searchEditor.findMatchBackground",{light:ut(dh,.66),dark:ut(dh,.66),hcDark:dh,hcLight:dh},v("searchEditor.queryMatch","Color of the Search Editor query matches."));U("searchEditor.findMatchBorder",{light:ut(tm,.66),dark:ut(tm,.66),hcDark:tm,hcLight:tm},v("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));const jut=U("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},v("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),$m=U("editorHoverWidget.background",{light:ns,dark:ns,hcDark:ns,hcLight:ns},v("hoverBackground","Background color of the editor hover.")),RP=U("editorHoverWidget.foreground",{light:Tc,dark:Tc,hcDark:Tc,hcLight:Tc},v("hoverForeground","Foreground color of the editor hover.")),OP=U("editorHoverWidget.border",{light:ch,dark:ch,hcDark:ch,hcLight:ch},v("hoverBorder","Border color of the editor hover.")),Kut=U("editorHoverWidget.statusBarBackground",{dark:Pc($m,.2),light:E_($m,.05),hcDark:ns,hcLight:ns},v("statusBarBackground","Background color of the editor hover status bar.")),PP=U("editorLink.activeForeground",{dark:"#4E94CE",light:re.blue,hcDark:re.cyan,hcLight:"#292929"},v("activeLinkForeground","Color of active links.")),hh=U("editorInlayHint.foreground",{dark:ut(J0,.8),light:ut(J0,.8),hcDark:J0,hcLight:J0},v("editorInlayHintForeground","Foreground color of inline hints")),fh=U("editorInlayHint.background",{dark:ut(Q0,.6),light:ut(Q0,.3),hcDark:Q0,hcLight:Q0},v("editorInlayHintBackground","Background color of inline hints")),qut=U("editorInlayHint.typeForeground",{dark:hh,light:hh,hcDark:hh,hcLight:hh},v("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Gut=U("editorInlayHint.typeBackground",{dark:fh,light:fh,hcDark:fh,hcLight:fh},v("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Yut=U("editorInlayHint.parameterForeground",{dark:hh,light:hh,hcDark:hh,hcLight:hh},v("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Zut=U("editorInlayHint.parameterBackground",{dark:fh,light:fh,hcDark:fh,hcLight:fh},v("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Xut=U("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},v("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Qut=U("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},v("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),uM=new re(new ri(155,185,85,.2)),dM=new re(new ri(255,0,0,.2)),Ste=U("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},v("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Lte=U("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},v("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Jut=U("diffEditor.insertedLineBackground",{dark:uM,light:uM,hcDark:null,hcLight:null},v("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),edt=U("diffEditor.removedLineBackground",{dark:dM,light:dM,hcDark:null,hcLight:null},v("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),tdt=U("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},v("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),idt=U("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},v("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),ndt=U("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},v("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),sdt=U("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},v("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),odt=U("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},v("diffEditorInsertedOutline","Outline color for the text that got inserted.")),rdt=U("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},v("diffEditorRemovedOutline","Outline color for text that got removed.")),adt=U("diffEditor.border",{dark:null,light:null,hcDark:Kt,hcLight:Kt},v("diffEditorBorder","Border color between the two text editors.")),ldt=U("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},v("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),cdt=U("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},v("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),udt=U("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},v("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ddt=U("list.focusOutline",{dark:el,light:el,hcDark:mn,hcLight:mn},v("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),hdt=U("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},v("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),gh=U("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:re.fromHex("#0F4A85").transparent(.1)},v("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Vu=U("list.activeSelectionForeground",{dark:re.white,light:re.white,hcDark:null,hcLight:null},v("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Eb=U("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},v("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),fdt=U("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:re.fromHex("#0F4A85").transparent(.1)},v("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),gdt=U("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},v("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),pdt=U("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},v("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),mdt=U("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},v("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),_dt=U("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},v("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),vdt=U("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:re.fromHex("#0F4A85").transparent(.1)},v("listHoverBackground","List/Tree background when hovering over items using the mouse.")),bdt=U("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},v("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Cdt=U("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},v("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Vl=U("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:el,hcLight:el},v("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),FS=U("list.focusHighlightForeground",{dark:Vl,light:Kdt(gh,Vl,"#BBE7FF"),hcDark:Vl,hcLight:Vl},v("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));U("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},v("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));U("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},v("listErrorForeground","Foreground color of list items containing errors."));U("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},v("listWarningForeground","Foreground color of list items containing warnings."));const wdt=U("listFilterWidget.background",{light:E_(ns,0),dark:Pc(ns,0),hcDark:ns,hcLight:ns},v("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),ydt=U("listFilterWidget.outline",{dark:re.transparent,light:re.transparent,hcDark:"#f38518",hcLight:"#007ACC"},v("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Sdt=U("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:Kt,hcLight:Kt},v("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Ldt=U("listFilterWidget.shadow",{dark:Ic,light:Ic,hcDark:Ic,hcLight:Ic},v("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees."));U("list.filterMatchBackground",{dark:dh,light:dh,hcDark:null,hcLight:null},v("listFilterMatchHighlight","Background color of the filtered match."));U("list.filterMatchBorder",{dark:tm,light:tm,hcDark:Kt,hcLight:mn},v("listFilterMatchHighlightBorder","Border color of the filtered match."));const xdt=U("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},v("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Ddt=U("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},v("tableColumnsBorder","Table border color between columns.")),kdt=U("tree.tableOddRowsBackground",{dark:ut(Te,.04),light:ut(Te,.04),hcDark:null,hcLight:null},v("tableOddRowsBackgroundColor","Background color for odd table rows."));U("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},v("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. "));const Rj=U("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,v("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Ib=U("quickInputList.focusForeground",{dark:Vu,light:Vu,hcDark:Vu,hcLight:Vu},v("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Tb=U("quickInputList.focusIconForeground",{dark:Eb,light:Eb,hcDark:Eb,hcLight:Eb},v("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Nb=U("quickInputList.focusBackground",{dark:mw(Rj,gh),light:mw(Rj,gh),hcDark:null,hcLight:null},v("quickInput.listFocusBackground","Quick picker background color for the focused item.")),Edt=U("menu.border",{dark:null,light:null,hcDark:Kt,hcLight:Kt},v("menuBorder","Border color of menus.")),Idt=U("menu.foreground",{dark:Xp,light:Te,hcDark:Xp,hcLight:Xp},v("menuForeground","Foreground color of menu items.")),Tdt=U("menu.background",{dark:lh,light:lh,hcDark:lh,hcLight:lh},v("menuBackground","Background color of menu items.")),Ndt=U("menu.selectionForeground",{dark:Vu,light:Vu,hcDark:Vu,hcLight:Vu},v("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Mdt=U("menu.selectionBackground",{dark:gh,light:gh,hcDark:gh,hcLight:gh},v("menuSelectionBackground","Background color of the selected menu item in menus.")),Adt=U("menu.selectionBorder",{dark:null,light:null,hcDark:mn,hcLight:mn},v("menuSelectionBorder","Border color of the selected menu item in menus.")),Rdt=U("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:Kt,hcLight:Kt},v("menuSeparatorBackground","Color of a separator menu item in menus.")),hM=U("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},v("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));U("toolbar.hoverOutline",{dark:null,light:null,hcDark:mn,hcLight:mn},v("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));U("toolbar.activeBackground",{dark:Pc(hM,.1),light:E_(hM,.1),hcDark:null,hcLight:null},v("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));U("editor.snippetTabstopHighlightBackground",{dark:new re(new ri(124,124,124,.3)),light:new re(new ri(10,50,100,.2)),hcDark:new re(new ri(124,124,124,.3)),hcLight:new re(new ri(10,50,100,.2))},v("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));U("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},v("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));U("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},v("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));U("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new re(new ri(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},v("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));U("breadcrumb.foreground",{light:ut(Te,.8),dark:ut(Te,.8),hcDark:ut(Te,.8),hcLight:ut(Te,.8)},v("breadcrumbsFocusForeground","Color of focused breadcrumb items."));U("breadcrumb.background",{light:Ss,dark:Ss,hcDark:Ss,hcLight:Ss},v("breadcrumbsBackground","Background color of breadcrumb items."));U("breadcrumb.focusForeground",{light:E_(Te,.2),dark:Pc(Te,.1),hcDark:Pc(Te,.1),hcLight:Pc(Te,.1)},v("breadcrumbsFocusForeground","Color of focused breadcrumb items."));U("breadcrumb.activeSelectionForeground",{light:E_(Te,.2),dark:Pc(Te,.1),hcDark:Pc(Te,.1),hcLight:Pc(Te,.1)},v("breadcrumbsSelectedForeground","Color of selected breadcrumb items."));U("breadcrumbPicker.background",{light:ns,dark:ns,hcDark:ns,hcLight:ns},v("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const xte=.5,Oj=re.fromHex("#40C8AE").transparent(xte),Pj=re.fromHex("#40A6FF").transparent(xte),Fj=re.fromHex("#606060").transparent(.4),Wl=.4,pv=1,e1=U("merge.currentHeaderBackground",{dark:Oj,light:Oj,hcDark:null,hcLight:null},v("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);U("merge.currentContentBackground",{dark:ut(e1,Wl),light:ut(e1,Wl),hcDark:ut(e1,Wl),hcLight:ut(e1,Wl)},v("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const t1=U("merge.incomingHeaderBackground",{dark:Pj,light:Pj,hcDark:null,hcLight:null},v("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);U("merge.incomingContentBackground",{dark:ut(t1,Wl),light:ut(t1,Wl),hcDark:ut(t1,Wl),hcLight:ut(t1,Wl)},v("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const i1=U("merge.commonHeaderBackground",{dark:Fj,light:Fj,hcDark:null,hcLight:null},v("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);U("merge.commonContentBackground",{dark:ut(i1,Wl),light:ut(i1,Wl),hcDark:ut(i1,Wl),hcLight:ut(i1,Wl)},v("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const mv=U("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},v("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));U("editorOverviewRuler.currentContentForeground",{dark:ut(e1,pv),light:ut(e1,pv),hcDark:mv,hcLight:mv},v("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));U("editorOverviewRuler.incomingContentForeground",{dark:ut(t1,pv),light:ut(t1,pv),hcDark:mv,hcLight:mv},v("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));U("editorOverviewRuler.commonContentForeground",{dark:ut(i1,pv),light:ut(i1,pv),hcDark:mv,hcLight:mv},v("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));const FP=U("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},v("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Dte=U("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},v("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),n1=U("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},v("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),_5=U("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},v("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Bj=U("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},v("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Odt=U("minimap.errorHighlight",{dark:new re(new ri(255,18,18,.7)),light:new re(new ri(255,18,18,.7)),hcDark:new re(new ri(255,50,50,1)),hcLight:"#B5200D"},v("minimapError","Minimap marker color for errors.")),Pdt=U("minimap.warningHighlight",{dark:ha,light:ha,hcDark:gv,hcLight:gv},v("overviewRuleWarning","Minimap marker color for warnings.")),Fdt=U("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},v("minimapBackground","Minimap background color.")),Bdt=U("minimap.foregroundOpacity",{dark:re.fromHex("#000f"),light:re.fromHex("#000f"),hcDark:re.fromHex("#000f"),hcLight:re.fromHex("#000f")},v("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Vdt=U("minimapSlider.background",{light:ut(Qp,.5),dark:ut(Qp,.5),hcDark:ut(Qp,.5),hcLight:ut(Qp,.5)},v("minimapSliderBackground","Minimap slider background color.")),Wdt=U("minimapSlider.hoverBackground",{light:ut(Jp,.5),dark:ut(Jp,.5),hcDark:ut(Jp,.5),hcLight:ut(Jp,.5)},v("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Hdt=U("minimapSlider.activeBackground",{light:ut(em,.5),dark:ut(em,.5),hcDark:ut(em,.5),hcLight:ut(em,.5)},v("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),$dt=U("problemsErrorIcon.foreground",{dark:Bu,light:Bu,hcDark:Bu,hcLight:Bu},v("problemsErrorIconForeground","The color used for the problems error icon.")),zdt=U("problemsWarningIcon.foreground",{dark:ha,light:ha,hcDark:ha,hcLight:ha},v("problemsWarningIconForeground","The color used for the problems warning icon.")),Udt=U("problemsInfoIcon.foreground",{dark:mr,light:mr,hcDark:mr,hcLight:mr},v("problemsInfoIconForeground","The color used for the problems info icon."));U("charts.foreground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("chartsForeground","The foreground color used in charts."));U("charts.lines",{dark:ut(Te,.5),light:ut(Te,.5),hcDark:ut(Te,.5),hcLight:ut(Te,.5)},v("chartsLines","The color used for horizontal lines in charts."));U("charts.red",{dark:Bu,light:Bu,hcDark:Bu,hcLight:Bu},v("chartsRed","The red color used in chart visualizations."));U("charts.blue",{dark:mr,light:mr,hcDark:mr,hcLight:mr},v("chartsBlue","The blue color used in chart visualizations."));U("charts.yellow",{dark:ha,light:ha,hcDark:ha,hcLight:ha},v("chartsYellow","The yellow color used in chart visualizations."));U("charts.orange",{dark:n1,light:n1,hcDark:n1,hcLight:n1},v("chartsOrange","The orange color used in chart visualizations."));U("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},v("chartsGreen","The green color used in chart visualizations."));U("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},v("chartsPurple","The purple color used in chart visualizations."));function jdt(n,e){var t,i,s;switch(n.op){case 0:return(t=Hd(n.value,e))===null||t===void 0?void 0:t.darken(n.factor);case 1:return(i=Hd(n.value,e))===null||i===void 0?void 0:i.lighten(n.factor);case 2:return(s=Hd(n.value,e))===null||s===void 0?void 0:s.transparent(n.factor);case 3:for(const o of n.values){const r=Hd(o,e);if(r)return r}return;case 5:return Hd(e.defines(n.if)?n.then:n.else,e);case 4:{const o=Hd(n.value,e);if(!o)return;const r=Hd(n.background,e);return r?o.isDarkerThan(r)?re.getLighterColor(o,r,n.factor).transparent(n.transparency):re.getDarkerColor(o,r,n.factor).transparent(n.transparency):o.transparent(n.factor*n.transparency)}default:throw Px()}}function E_(n,e){return{op:0,value:n,factor:e}}function Pc(n,e){return{op:1,value:n,factor:e}}function ut(n,e){return{op:2,value:n,factor:e}}function mw(...n){return{op:3,values:n}}function Kdt(n,e,t){return{op:5,if:n,then:e,else:t}}function Vj(n,e,t,i){return{op:4,value:n,background:e,factor:t,transparency:i}}function Hd(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?re.fromHex(n):e.getColor(n);if(n instanceof re)return n;if(typeof n=="object")return jdt(n,e)}}const kte="vscode://schemas/workbench-colors",Ete=Tn.as(qx.JSONContribution);Ete.registerSchema(kte,d5.getColorSchema());const Wj=new Hi(()=>Ete.notifySchemaChanged(kte),200);d5.onDidChangeSchema(()=>{Wj.isScheduled()||Wj.schedule()});class BP{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new Ite(this.x-yh.scrollX,this.y-yh.scrollY)}}class Ite{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new BP(this.clientX+yh.scrollX,this.clientY+yh.scrollY)}}class qdt{constructor(e,t,i,s){this.x=e,this.y=t,this.width=i,this.height=s,this._editorPagePositionBrand=void 0}}class Gdt{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function Tte(n){const e=mo(n);return new qdt(e.left,e.top,e.width,e.height)}function Nte(n,e,t){const i=e.width/n.offsetWidth,s=e.height/n.offsetHeight,o=(t.x-e.x)/i,r=(t.y-e.y)/s;return new Gdt(o,r)}class Eg extends Pu{constructor(e,t,i){super(e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new BP(this.posx,this.posy),this.editorPos=Tte(i),this.relativePos=Nte(i,this.editorPos,this.pos)}}class Ydt{constructor(e){this._editorViewDomNode=e}_create(e){return new Eg(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return xe(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return xe(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return xe(e,Qe.MOUSE_DOWN,i=>{t(this._create(i))})}onPointerDown(e,t){return xe(e,Qe.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onMouseLeave(e,t){return xe(e,Qe.MOUSE_LEAVE,i=>{t(this._create(i))})}onMouseMove(e,t){return xe(e,"mousemove",i=>t(this._create(i)))}}class Zdt{constructor(e){this._editorViewDomNode=e}_create(e){return new Eg(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return xe(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return xe(e,Qe.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onPointerLeave(e,t){return xe(e,Qe.POINTER_LEAVE,i=>{t(this._create(i))})}onPointerMove(e,t){return xe(e,"pointermove",i=>t(this._create(i)))}}class Xdt extends de{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new i2),this._keydownListener=null}startMonitoring(e,t,i,s,o){this._keydownListener=Ns(document,"keydown",r=>{r.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,r.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,r=>{s(new Eg(r,!0,this._editorViewDomNode))},r=>{this._keydownListener.dispose(),o(r)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class Fy{constructor(e){this._editor=e,this._instanceId=++Fy._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new Hi(()=>this.garbageCollect(),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const s=this._counter++;i=new Qdt(t,`dyn-rule-${this._instanceId}-${s}`,uw(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}Fy._idPool=0;class Qdt{constructor(e,t,i,s){this.key=e,this.className=t,this.properties=s,this._referenceCount=0,this._styleElement=ul(i),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(const s in t){const o=t[s];let r;typeof o=="object"?r=`var(${bte(o.id)})`:r=o,i+=`
	${Jdt(s)}: ${r};`}return i+=`
}`,i}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function Jdt(n){return n.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}class By extends de{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,s=e.length;i<s;i++){const o=e[i];switch(o.type){case 0:this.onCompositionStart(o)&&(t=!0);break;case 1:this.onCompositionEnd(o)&&(t=!0);break;case 2:this.onConfigurationChanged(o)&&(t=!0);break;case 3:this.onCursorStateChanged(o)&&(t=!0);break;case 4:this.onDecorationsChanged(o)&&(t=!0);break;case 5:this.onFlushed(o)&&(t=!0);break;case 6:this.onFocusChanged(o)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(o)&&(t=!0);break;case 8:this.onLineMappingChanged(o)&&(t=!0);break;case 9:this.onLinesChanged(o)&&(t=!0);break;case 10:this.onLinesDeleted(o)&&(t=!0);break;case 11:this.onLinesInserted(o)&&(t=!0);break;case 12:this.onRevealRangeRequest(o)&&(t=!0);break;case 13:this.onScrollChanged(o)&&(t=!0);break;case 15:this.onTokensChanged(o)&&(t=!0);break;case 14:this.onThemeChanged(o)&&(t=!0);break;case 16:this.onTokensColorsChanged(o)&&(t=!0);break;case 17:this.onZonesChanged(o)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(o)}}t&&(this._shouldRender=!0)}}class xa extends By{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class td{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){const i=[];let s=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[s++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(s);for(let r=0;r<s;r++)o[r]=i[s-r-1];return o}}class eht{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class tht extends eht{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class iht{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class v5{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){const t=new Array(e.length);for(let i=0,s=e.length;i<s;i++){const o=e[i];t[i]=new v5(o.left,o.width)}return t}toString(){return`[${this.left},${this.width}]`}}class x1{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class nht{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class sht{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class uI{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,s,o){const r=this._createRange();try{return r.setStart(e,t),r.setEnd(i,s),r.getClientRects()}catch{return null}finally{this._detachRange(r,o)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(x1.compare);const t=[];let i=0,s=e[0];for(let o=1,r=e.length;o<r;o++){const a=e[o];s.left+s.width+.9>=a.left?s.width=Math.max(s.width,a.left+a.width-s.left):(t[i++]=s,s=a)}return t[i++]=s,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||e.length===0)return null;const s=[];for(let o=0,r=e.length;o<r;o++){const a=e[o];s[o]=new x1(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(s)}static readHorizontalRanges(e,t,i,s,o,r,a,l){const u=e.children.length-1;if(0>u)return null;if(t=Math.min(u,Math.max(0,t)),s=Math.min(u,Math.max(0,s)),t===s&&i===o&&i===0&&!e.children[t].firstChild){const p=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(p,r,a)}t!==s&&s>0&&o===0&&(s--,o=1073741824);let d=e.children[t].firstChild,h=e.children[s].firstChild;if((!d||!h)&&(!d&&i===0&&t>0&&(d=e.children[t-1].firstChild,i=1073741824),!h&&o===0&&s>0&&(h=e.children[s-1].firstChild,o=1073741824)),!d||!h)return null;i=Math.min(d.textContent.length,Math.max(0,i)),o=Math.min(h.textContent.length,Math.max(0,o));const f=this._readClientRects(d,i,h,o,l);return this._createHorizontalRangesFromClientRects(f,r,a)}}const oht=function(){return Rc?!0:!(So||wa||Ah)}();let D1=!0;class Hj{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=t}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class $j{constructor(e,t){this.themeType=t;const i=e.options,s=i.get(46);this.renderWhitespace=i.get(90),this.renderControlCharacters=i.get(85),this.spaceWidth=s.spaceWidth,this.middotWidth=s.middotWidth,this.wsmiddotWidth=s.wsmiddotWidth,this.useMonospaceOptimizations=s.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=s.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(61),this.stopRenderingLineAfter=i.get(107),this.fontLigatures=i.get(47)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Iu{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=fi(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return wo(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,s){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const o=i.getViewLineRenderingData(e),r=this._options,a=Wr.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let l=null;if(wo(r.themeType)||this._options.renderWhitespace==="selection"){const h=i.selections;for(const f of h){if(f.endLineNumber<e||f.startLineNumber>e)continue;const p=f.startLineNumber===e?f.startColumn:o.minColumn,m=f.endLineNumber===e?f.endColumn:o.maxColumn;p<m&&(wo(r.themeType)||this._options.renderWhitespace!=="selection"?a.push(new Wr(p,m,"inline-selected-text",0)):(l||(l=[]),l.push(new Mlt(p-1,m-1))))}}const c=new qg(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,a,o.tabSize,o.startVisibleColumn,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==ua.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(c))return!1;s.appendASCIIString('<div style="top:'),s.appendASCIIString(String(t)),s.appendASCIIString("px;height:"),s.appendASCIIString(String(this._options.lineHeight)),s.appendASCIIString('px;" class="'),s.appendASCIIString(Iu.CLASS_NAME),s.appendASCIIString('">');const u=Ry(c,s);s.appendASCIIString("</div>");let d=null;return D1&&oht&&o.isBasicASCII&&r.useMonospaceOptimizations&&u.containsForeignElements===0&&o.content.length<300&&c.lineTokens.getCount()<100&&(d=new BS(this._renderedViewLine?this._renderedViewLine.domNode:null,c,u.characterMapping)),d||(d=Ate(this._renderedViewLine?this._renderedViewLine.domNode:null,c,u.characterMapping,u.containsRTL,u.containsForeignElements)),this._renderedViewLine=d,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof BS:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof BS?this._renderedViewLine.monospaceAssumptionsAreValid():D1}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof BS&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,s){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const o=this._renderedViewLine.input.stopRenderingLineAfter;let r=!1;o!==-1&&t>o+1&&i>o+1&&(r=!0),o!==-1&&t>o+1&&(t=o+1),o!==-1&&i>o+1&&(i=o+1);const a=this._renderedViewLine.getVisibleRangesForRange(e,t,i,s);return a&&a.length>0?new sht(r,a):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}Iu.CLASS_NAME="view-line";class BS{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return D1;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),D1=!1),D1}toSlowRenderedLine(){return Ate(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,s){const o=this._getCharPosition(t),r=this._getCharPosition(i);return[new x1(o,r-o)]}_getCharPosition(e){const t=this._characterMapping.getHorizontalOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,i){const s=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new pP(o,i),s)}}class Mte{constructor(e,t,i,s,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!s||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let r=0,a=this._characterMapping.length;r<=a;r++)this._pixelOffsetCache[r]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,s){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const o=this._readPixelOffset(this.domNode,e,t,s);if(o===-1)return null;const r=this._readPixelOffset(this.domNode,e,i,s);return r===-1?null:[new x1(o,r-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,s)}_readVisibleRangesForRange(e,t,i,s,o){if(i===s){const r=this._readPixelOffset(e,t,i,o);return r===-1?null:[new x1(r,0)]}else return this._readRawVisibleRangesForRange(e,i,s,o)}_readPixelOffset(e,t,i,s){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const o=this._getReadingTarget(e);return o.firstChild?o.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const o=this._pixelOffsetCache[i];if(o!==-1)return o;const r=this._actualReadPixelOffset(e,t,i,s);return this._pixelOffsetCache[i]=r,r}return this._actualReadPixelOffset(e,t,i,s)}_actualReadPixelOffset(e,t,i,s){if(this._characterMapping.length===0){const l=uI.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,s.clientRectDeltaLeft,s.clientRectScale,s.endNode);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const o=this._characterMapping.getDomPosition(i),r=uI.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,s.clientRectDeltaLeft,s.clientRectScale,s.endNode);if(!r||r.length===0)return-1;const a=r[0].left;if(this.input.isBasicASCII){const l=this._characterMapping.getHorizontalOffset(i),c=Math.round(this.input.spaceWidth*l);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,i,s){if(t===1&&i===this._characterMapping.length)return[new x1(0,this.getWidth())];const o=this._characterMapping.getDomPosition(t),r=this._characterMapping.getDomPosition(i);return uI.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,r.partIndex,r.charIndex,s.clientRectDeltaLeft,s.clientRectScale,s.endNode)}getColumnOfNodeOffset(e,t,i){const s=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new pP(o,i),s)}}class rht extends Mte{_readVisibleRangesForRange(e,t,i,s,o){const r=super._readVisibleRangesForRange(e,t,i,s,o);if(!r||r.length===0||i===s||i===1&&s===this._characterMapping.length)return r;if(!this.input.containsRTL){const a=this._readPixelOffset(e,t,s,o);if(a!==-1){const l=r[r.length-1];l.left<a&&(l.width=a-l.left)}}return r}}const Ate=function(){return sg?aht:lht}();function aht(n,e,t,i,s){return new rht(n,e,t,i,s)}function lht(n,e,t,i,s){return new Mte(n,e,t,i,s)}class ys{static _nextVisibleColumn(e,t,i){return e===9?ys.nextRenderTabStop(t,i):yg(e)||XO(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const s=Math.min(t-1,e.length),o=e.substring(0,s),r=new f8(o);let a=0;for(;!r.eol();){const l=h8(o,s,r.offset);r.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const s=e.length,o=new f8(e);let r=0,a=1;for(;!o.eol();){const l=h8(e,s,o.offset);o.nextGraphemeLength();const c=this._nextVisibleColumn(l,r,i),u=o.offset+1;if(c>=t){const d=t-r;return c-t<d?u:a}r=c,a=u}return s+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}class _w{static whitespaceVisibleColumn(e,t,i){const s=e.length;let o=0,r=-1,a=-1;for(let l=0;l<s;l++){if(l===t)return[r,a,o];switch(o%i===0&&(r=l,a=o),e.charCodeAt(l)){case 32:o+=1;break;case 9:o=ys.nextRenderTabStop(o,i);break;default:return[-1,-1,-1]}}return t===s?[r,a,o]:[-1,-1,-1]}static atomicPosition(e,t,i,s){const o=e.length,[r,a,l]=_w.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let c;switch(s){case 0:c=!0;break;case 1:c=!1;break;case 2:if(l%i===0)return t;c=l%i<=i/2;break}if(c){if(r===-1)return-1;let h=a;for(let f=r;f<o;++f){if(h===a+i)return r;switch(e.charCodeAt(f)){case 32:h+=1;break;case 9:h=ys.nextRenderTabStop(h,i);break;default:return-1}}return h===a+i?r:-1}const u=ys.nextRenderTabStop(l,i);let d=l;for(let h=t;h<o;h++){if(d===u)return h;switch(e.charCodeAt(h)){case 32:d+=1;break;case 9:d=ys.nextRenderTabStop(d,i);break;default:return-1}}return d===u?o:-1}}class kf{constructor(e=null){this.hitTarget=e,this.type=0}}class fM{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var Vp;(function(n){function e(t,i,s){const o=t.getPositionFromDOMInfo(i,s);return o?new fM(o,i,null):new kf(i)}n.createFromDOMInfo=e})(Vp||(Vp={}));class cht{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class ar{static _deduceRage(e,t=null){return!t&&e?new A(e.lineNumber,e.column,e.lineNumber,e.column):t!=null?t:null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,s,o,r){return{type:e,element:t,mouseColumn:i,position:s,range:o,detail:r}}static createViewZone(e,t,i,s,o){return{type:e,element:t,mouseColumn:i,position:s,range:this._deduceRage(s),detail:o}}static createContentText(e,t,i,s,o){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,s),detail:o}}static createContentEmpty(e,t,i,s){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:s}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t)}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class Nl{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class _v{constructor(e,t,i){this.viewModel=e.viewModel;const s=e.configuration.options;this.layoutInfo=s.get(133),this.viewDomNode=t.viewDomNode,this.lineHeight=s.get(61),this.stickyTabStops=s.get(106),this.typicalHalfwidthCharacterWidth=s.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return _v.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const s=i.verticalOffset+i.height/2,o=e.viewModel.getLineCount();let r=null,a,l=null;return i.afterLineNumber!==o&&(l=new oe(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new oe(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),l===null?a=r:r===null?a=l:t<s?a=r:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const s=this._context.viewModel.getLineCount(),o=this._context.viewModel.getLineMaxColumn(s);return{range:new A(s,o,s,o),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new A(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return _v._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class uht{constructor(e,t,i,s){this.editorPos=t,this.pos=i,this.relativePos=s,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,uo._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class VP extends uht{constructor(e,t,i,s,o){super(e,t,i,s),this._ctx=e,o?(this.target=o,this.targetPath=td.collect(o,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?ys.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return ar.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return ar.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,s){return ar.createMargin(e,this.target,this._getMouseColumn(t),t,i,s)}fulfillViewZone(e,t,i){return ar.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return ar.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return ar.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return ar.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return ar.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return ar.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new VP(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const zj={isAfterLines:!0};function dI(n){return{isAfterLines:!1,horizontalDistanceToText:n}}class uo{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=td.collect(t,this._viewHelper.viewDomNode);return!!(Nl.isChildOfContentWidgets(i)||Nl.isChildOfOverflowingContentWidgets(i)||Nl.isChildOfOverlayWidgets(i))}createMouseTarget(e,t,i,s,o){const r=new _v(this._context,this._viewHelper,e),a=new VP(r,t,i,s,o);try{return uo._createMouseTarget(r,a,!1)}catch{return a.fulfillUnknown()}}static _createMouseTarget(e,t,i){if(t.target===null){if(i)return t.fulfillUnknown();const r=uo._doHitTest(e,t);return r.type===1?uo.createMouseTargetFromHitTestPosition(e,t,r.spanNode,r.position,r.injectedText):this._createMouseTarget(e,t.withTarget(r.hitTarget),!0)}const s=t;let o=null;return o=o||uo._hitTestContentWidget(e,s),o=o||uo._hitTestOverlayWidget(e,s),o=o||uo._hitTestMinimap(e,s),o=o||uo._hitTestScrollbarSlider(e,s),o=o||uo._hitTestViewZone(e,s),o=o||uo._hitTestMargin(e,s),o=o||uo._hitTestViewCursor(e,s),o=o||uo._hitTestTextArea(e,s),o=o||uo._hitTestViewLines(e,s,i),o=o||uo._hitTestScrollbar(e,s),o||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(Nl.isChildOfContentWidgets(t.targetPath)||Nl.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(Nl.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const s of i)if(t.target===s.domNode)return t.fulfillContentText(s.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,s=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const r of i){if(s<r.contentLeft||s>r.contentLeft+r.width)continue;const a=e.getVerticalOffsetForLineNumber(r.position.lineNumber);if(a<=o&&o<=a+r.height)return t.fulfillContentText(r.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const s=t.isInContentArea?8:5;return t.fulfillViewZone(s,i.position,i)}return null}static _hitTestTextArea(e,t){return Nl.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),s=i.range.getStartPosition();let o=Math.abs(t.relativePos.x);const r={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfillMargin(2,s,i.range,r):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,s,i.range,r):(o-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,s,i.range,r)))}return null}static _hitTestViewLines(e,t,i){if(!Nl.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new oe(1,1),zj);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const o=e.viewModel.getLineCount(),r=e.viewModel.getLineMaxColumn(o);return t.fulfillContentEmpty(new oe(o,r),zj)}if(i){if(Nl.isStrictChildOfViewLines(t.targetPath)){const o=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.viewModel.getLineLength(o)===0){const a=e.getLineWidth(o),l=dI(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(new oe(o,1),l)}const r=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>=r){const a=dI(t.mouseContentHorizontalOffset-r),l=new oe(o,e.viewModel.getLineMaxColumn(o));return t.fulfillContentEmpty(l,a)}}return t.fulfillUnknown()}const s=uo._doHitTest(e,t);return s.type===1?uo.createMouseTargetFromHitTestPosition(e,t,s.spanNode,s.position,s.injectedText):this._createMouseTarget(e,t.withTarget(s.hitTarget),!0)}static _hitTestMinimap(e,t){if(Nl.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new oe(i,s))}return null}static _hitTestScrollbarSlider(e,t){if(Nl.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const s=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.viewModel.getLineMaxColumn(s);return t.fulfillScrollbar(new oe(s,o))}}return null}static _hitTestScrollbar(e,t){if(Nl.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new oe(i,s))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(133),s=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return uo._getMouseColumn(s,t.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,s,o){const r=s.lineNumber,a=s.column,l=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>l){const b=dI(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(s,b)}const c=e.visibleRangeForPosition(r,a);if(!c)return t.fulfillUnknown(s);const u=c.left;if(t.mouseContentHorizontalOffset===u)return t.fulfillContentText(s,null,{mightBeForeignElement:!!o,injectedText:o});const d=[];if(d.push({offset:c.left,column:a}),a>1){const b=e.visibleRangeForPosition(r,a-1);b&&d.push({offset:b.left,column:a-1})}const h=e.viewModel.getLineMaxColumn(r);if(a<h){const b=e.visibleRangeForPosition(r,a+1);b&&d.push({offset:b.left,column:a+1})}d.sort((b,w)=>b.offset-w.offset);const f=t.pos.toClientCoordinates(),p=i.getBoundingClientRect(),m=p.left<=f.clientX&&f.clientX<=p.right;for(let b=1;b<d.length;b++){const w=d[b-1],y=d[b];if(w.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=y.offset){const L=new A(r,w.column,r,y.column),D=Math.abs(w.offset-t.mouseContentHorizontalOffset),E=Math.abs(y.offset-t.mouseContentHorizontalOffset),T=D<E?new oe(r,w.column):new oe(r,y.column);return t.fulfillContentText(T,L,{mightBeForeignElement:!m||!!o,injectedText:o})}}return t.fulfillContentText(s,null,{mightBeForeignElement:!m||!!o,injectedText:o})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let r=t.pos.y+(o-t.mouseVerticalOffset);r<=t.editorPos.y&&(r=t.editorPos.y+1),r>=t.editorPos.y+t.editorPos.height&&(r=t.editorPos.y+t.editorPos.height-1);const a=new BP(t.pos.x,r),l=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return l.type===1?l:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=Bm(e.viewDomNode);let s;if(i?typeof i.caretRangeFromPoint=="undefined"?s=dht(i,t.clientX,t.clientY):s=i.caretRangeFromPoint(t.clientX,t.clientY):s=document.caretRangeFromPoint(t.clientX,t.clientY),!s||!s.startContainer)return new kf;const o=s.startContainer;if(o.nodeType===o.TEXT_NODE){const r=o.parentNode,a=r?r.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===Iu.CLASS_NAME?Vp.createFromDOMInfo(e,r,s.startOffset):new kf(o.parentNode)}else if(o.nodeType===o.ELEMENT_NODE){const r=o.parentNode,a=r?r.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===Iu.CLASS_NAME?Vp.createFromDOMInfo(e,o,o.textContent.length):new kf(o)}return new kf}static _doHitTestWithCaretPositionFromPoint(e,t){const i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const s=i.offsetNode.parentNode,o=s?s.parentNode:null,r=o?o.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===Iu.CLASS_NAME?Vp.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new kf(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const s=i.offsetNode.parentNode,o=s&&s.nodeType===s.ELEMENT_NODE?s.className:null,r=s?s.parentNode:null,a=r&&r.nodeType===r.ELEMENT_NODE?r.className:null;if(o===Iu.CLASS_NAME){const l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return Vp.createFromDOMInfo(e,l,0)}else if(a===Iu.CLASS_NAME)return Vp.createFromDOMInfo(e,i.offsetNode,0)}return new kf(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:s}=t.model.getOptions(),o=_w.atomicPosition(i,e.column-1,s,2);return o!==-1?new oe(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new kf;if(typeof document.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),i.type===1){const s=e.viewModel.getInjectedTextAt(i.position),o=e.viewModel.normalizePosition(i.position,2);(s||!o.equals(i.position))&&(i=new fM(o,i.spanNode,s))}return i.type===1&&e.stickyTabStops&&(i=new fM(this._snapToSoftTabBoundary(i.position,e.viewModel),i.spanNode,i.injectedText)),i}}function dht(n,e,t){const i=document.createRange();let s=n.elementFromPoint(e,t);if(s!==null){for(;s&&s.firstChild&&s.firstChild.nodeType!==s.firstChild.TEXT_NODE&&s.lastChild&&s.lastChild.firstChild;)s=s.lastChild;const o=s.getBoundingClientRect(),r=window.getComputedStyle(s,null).getPropertyValue("font"),a=s.innerText;let l=o.left,c=0,u;if(e>o.left+o.width)c=a.length;else{const d=im.getInstance();for(let h=0;h<a.length+1;h++){if(u=d.getCharWidth(a.charAt(h),r)/2,l+=u,e<l){c=h;break}l+=u}}i.setStart(s.firstChild,c),i.setEnd(s.firstChild,c)}return i}class im{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return im._INSTANCE||(im._INSTANCE=new im),im._INSTANCE}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const s=this._canvas.getContext("2d");s.font=t;const r=s.measureText(e).width;return this._cache[i]=r,r}}im._INSTANCE=null;class WP extends By{constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new uo(this._context,i),this._mouseDownOperation=this._register(new hht(this._context,this.viewController,this.viewHelper,(a,l)=>this._createMouseTarget(a,l),a=>this._getMouseColumn(a))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const s=new Ydt(this.viewHelper.viewDomNode);this._register(s.onContextMenu(this.viewHelper.viewDomNode,a=>this._onContextMenu(a,!0))),this._register(s.onMouseMove(this.viewHelper.viewDomNode,a=>{this._onMouseMove(a),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=xe(document,"mousemove",l=>{this.viewHelper.viewDomNode.contains(l.target)||this._onMouseLeave(new Eg(l,!1,this.viewHelper.viewDomNode))}))})),this._register(s.onMouseUp(this.viewHelper.viewDomNode,a=>this._onMouseUp(a))),this._register(s.onMouseLeave(this.viewHelper.viewDomNode,a=>this._onMouseLeave(a)));let o=0;this._register(s.onPointerDown(this.viewHelper.viewDomNode,(a,l)=>{o=l})),this._register(xe(this.viewHelper.viewDomNode,Qe.POINTER_UP,a=>{this._mouseDownOperation.onPointerUp()})),this._register(s.onMouseDown(this.viewHelper.viewDomNode,a=>this._onMouseDown(a,o)));const r=a=>{if(this.viewController.emitMouseWheel(a),!this._context.configuration.options.get(70))return;const l=new dv(a);if(ai?(a.metaKey||a.ctrlKey)&&!a.shiftKey&&!a.altKey:a.ctrlKey&&!a.metaKey&&!a.shiftKey&&!a.altKey){const u=Rh.getZoomLevel(),d=l.deltaY>0?1:-1;Rh.setZoomLevel(u+d),l.preventDefault(),l.stopPropagation()}};this._register(xe(this.viewHelper.viewDomNode,Qe.MOUSE_WHEEL,r,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(133)){const t=this._context.configuration.options.get(133).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const s=new Ite(e,t).toPageCoordinates(),o=Tte(this.viewHelper.viewDomNode);if(s.y<o.y||s.y>o.y+o.height||s.x<o.x||s.x>o.x+o.width)return null;const r=Nte(this.viewHelper.viewDomNode,o,s);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o,s,r,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const s=Bm(this.viewHelper.viewDomNode);s&&(i=s.elementsFromPoint(e.posx,e.posy).find(o=>this.viewHelper.viewDomNode.contains(o)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){const i=this._createMouseTarget(e,!0),s=i.type===6||i.type===7,o=i.type===2||i.type===3||i.type===4,r=i.type===3,a=this._context.configuration.options.get(100),l=i.type===8||i.type===5,c=i.type===9;let u=e.leftButton||e.middleButton;ai&&e.leftButton&&e.ctrlKey&&(u=!1);const d=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(u&&(s||r&&a))d(),this._mouseDownOperation.start(i.type,e,t);else if(o)e.preventDefault();else if(l){const h=i.detail;u&&this.viewHelper.shouldSuppressMouseDownOnViewZone(h.viewZoneId)&&(d(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(d(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}}class hht extends de{constructor(e,t,i,s,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=s,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new Xdt(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new La),this._mouseState=new b5,this._currentSelection=new Ye(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!1);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const s=this._findMousePosition(t,!0);if(!s||!s.position)return;this._mouseState.trySetCount(t.detail,s.position),t.detail=this._mouseState.count;const o=this._context.configuration.options;if(!o.get(83)&&o.get(31)&&!o.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&s.type===6&&s.position&&this._currentSelection.containsPosition(s.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,r=>this._onMouseDownThenMove(r),r=>{const a=this._findMousePosition(this._lastMouseEvent,!1);r&&r instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:a?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(s,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,r=>this._onMouseDownThenMove(r),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);!e||this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0)},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.viewModel,s=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const a=Math.max(s.getCurrentScrollTop()-(t.y-e.posy),0),l=_v.getZoneAtCoord(this._context,a);if(l){const u=this._helpPositionJumpOverViewZone(l);if(u)return ar.createOutsideEditor(o,u)}const c=s.getLineNumberAtVerticalOffset(a);return ar.createOutsideEditor(o,new oe(c,1))}if(e.posy>t.y+t.height){const a=s.getCurrentScrollTop()+e.relativePos.y,l=_v.getZoneAtCoord(this._context,a);if(l){const u=this._helpPositionJumpOverViewZone(l);if(u)return ar.createOutsideEditor(o,u)}const c=s.getLineNumberAtVerticalOffset(a);return ar.createOutsideEditor(o,new oe(c,i.getLineMaxColumn(c)))}const r=s.getLineNumberAtVerticalOffset(s.getCurrentScrollTop()+e.relativePos.y);return e.posx<t.x?ar.createOutsideEditor(o,new oe(r,1)):e.posx>t.x+t.width?ar.createOutsideEditor(o,new oe(r,i.getLineMaxColumn(r))):null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const s=this._createMouseTarget(e,t);if(!s.position)return null;if(s.type===8||s.type===5){const r=this._helpPositionJumpOverViewZone(s.detail);if(r)return ar.createViewZone(s.type,s.element,s.mouseColumn,r,s.detail)}return s}_helpPositionJumpOverViewZone(e){const t=new oe(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,s=e.positionAfter;return i&&s?i.isBefore(t)?i:s:null}_dispatchMouse(e,t){!e.position||this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class b5{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=new Date().getTime();i-this._lastSetMouseDownCountTime>b5.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}b5.CLEAR_MOUSE_DOWN_COUNT_TIME=400;class Xs{constructor(e,t,i,s,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=s,this.selectionEndPosition=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e){return new Xs(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new Xs(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const s=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,s,-1)}if(e>=this.selectionEnd){const s=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,s,1)}const t=this.value.substring(this.selectionStart,e);if(t.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let s=0,o=-1;for(;(o=t.indexOf(`
`,o+1))!==-1;)s++;return[e,i*t.length,s]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const s=Math.min(Rm(e.value,t.value),e.selectionStart,t.selectionStart),o=Math.min(tw(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd);e.value.substring(s,e.value.length-o);const r=t.value.substring(s,t.value.length-o),a=e.selectionStart-s,l=e.selectionEnd-s,c=t.selectionStart-s,u=t.selectionEnd-s;if(c===u){const h=e.selectionStart-s;return{text:r,replacePrevCharCnt:h,replaceNextCharCnt:0,positionDelta:0}}const d=l-a;return{text:r,replacePrevCharCnt:d,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(Rm(e.value,t.value),e.selectionEnd),s=Math.min(tw(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(i,e.value.length-s),r=t.value.substring(i,t.value.length-s);e.selectionStart-i;const a=e.selectionEnd-i;t.selectionStart-i;const l=t.selectionEnd-i;return{text:r,replacePrevCharCnt:a,replaceNextCharCnt:o.length-a,positionDelta:l-r.length}}}Xs.EMPTY=new Xs("",0,0,null,null);class s1{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,s=i+1,o=i+t;return new A(s,1,o+1,1)}static fromEditorSelection(e,t,i,s,o){const r=s1._getPageOfLine(i.startLineNumber,s),a=s1._getRangeForPage(r,s),l=s1._getPageOfLine(i.endLineNumber,s),c=s1._getRangeForPage(l,s),u=a.intersectRanges(new A(1,1,i.startLineNumber,i.startColumn));let d=t.getValueInRange(u,1);const h=t.getLineCount(),f=t.getLineMaxColumn(h),p=c.intersectRanges(new A(i.endLineNumber,i.endColumn,h,f));let m=t.getValueInRange(p,1),b;if(r===l||r+1===l)b=t.getValueInRange(i,1);else{const w=a.intersectRanges(i),y=c.intersectRanges(i);b=t.getValueInRange(w,1)+String.fromCharCode(8230)+t.getValueInRange(y,1)}return o&&(d.length>500&&(d=d.substring(d.length-500,d.length)),m.length>500&&(m=m.substring(0,500)),b.length>2*500&&(b=b.substring(0,500)+String.fromCharCode(8230)+b.substring(b.length-500,b.length))),new Xs(d+b+m,d.length,d.length+b.length,new oe(i.startLineNumber,i.startColumn),new oe(i.endLineNumber,i.endColumn))}}var A8;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(A8||(A8={}));const gM={forceCopyWithSyntaxHighlighting:!1};class vw{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}vw.INSTANCE=new vw;class fht{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";const t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}class ght extends de{constructor(e,t,i,s){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=s,this._onFocus=this._register(new J),this.onFocus=this._onFocus.event,this._onBlur=this._register(new J),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new J),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new J),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new J),this.onCut=this._onCut.event,this._onPaste=this._register(new J),this.onPaste=this._onPaste.event,this._onType=this._register(new J),this.onType=this._onType.event,this._onCompositionStart=this._register(new J),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new J),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new J),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new J),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new Hi(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new Hi(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=Xs.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let o=null;this._register(this._textArea.onKeyDown(r=>{const a=new gn(r);(a.keyCode===109||this._currentComposition&&a.keyCode===1)&&a.stopPropagation(),a.equals(9)&&a.preventDefault(),o=a,this._onKeyDown.fire(a)})),this._register(this._textArea.onKeyUp(r=>{const a=new gn(r);this._onKeyUp.fire(a)})),this._register(this._textArea.onCompositionStart(r=>{const a=new fht;if(this._currentComposition){this._currentComposition=a;return}if(this._currentComposition=a,this._OS===2&&o&&o.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===r.data&&(o.code==="ArrowRight"||o.code==="ArrowLeft")){a.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:r.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:r.data});return}this._onCompositionStart.fire({data:r.data})})),this._register(this._textArea.onCompositionUpdate(r=>{const a=this._currentComposition;if(!a)return;if(this._browser.isAndroid){const c=Xs.readFromTextArea(this._textArea),u=Xs.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(u),this._onCompositionUpdate.fire(r);return}const l=a.handleCompositionUpdate(r.data);this._textAreaState=Xs.readFromTextArea(this._textArea),this._onType.fire(l),this._onCompositionUpdate.fire(r)})),this._register(this._textArea.onCompositionEnd(r=>{const a=this._currentComposition;if(!a)return;if(this._currentComposition=null,this._browser.isAndroid){const c=Xs.readFromTextArea(this._textArea),u=Xs.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(u),this._onCompositionEnd.fire();return}const l=a.handleCompositionUpdate(r.data);this._textAreaState=Xs.readFromTextArea(this._textArea),this._onType.fire(l),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(r=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const a=Xs.readFromTextArea(this._textArea),l=Xs.deduceInput(this._textAreaState,a,this._OS===2);l.replacePrevCharCnt===0&&l.text.length===1&&Is(l.text.charCodeAt(0))||(this._textAreaState=a,(l.text!==""||l.replacePrevCharCnt!==0||l.replaceNextCharCnt!==0||l.positionDelta!==0)&&this._onType.fire(l))})),this._register(this._textArea.onCut(r=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(r),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(r=>{this._ensureClipboardGetsEditorSelection(r)})),this._register(this._textArea.onPaste(r=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),r.preventDefault(),!r.clipboardData)return;let[a,l]=Uj.getTextData(r.clipboardData);!a||(l=l||vw.INSTANCE.get(a),this._onPaste.fire({text:a,metadata:l}))})),this._register(this._textArea.onFocus(()=>{const r=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!r&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return xe(document,"selectionchange",t=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const i=Date.now(),s=i-e;if(e=i,s<5)return;const o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const r=this._textArea.getValue();if(this._textAreaState.value!==r)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const c=this._textAreaState.deduceEditorPosition(a),u=this._host.deduceModelPosition(c[0],c[1],c[2]),d=this._textAreaState.deduceEditorPosition(l),h=this._host.deduceModelPosition(d[0],d[1],d[2]),f=new Ye(u.lineNumber,u.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(f)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._currentComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};vw.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),e.preventDefault(),e.clipboardData&&Uj.setTextData(e.clipboardData,t.text,t.html,i)}}class Uj{static getTextData(e){const t=e.getData(fr.text);let i=null;const s=e.getData("vscode-editor-data");if(typeof s=="string")try{i=JSON.parse(s),i.version!==1&&(i=null)}catch{}return t.length===0&&i===null&&e.files.length>0?[Array.prototype.slice.call(e.files,0).map(r=>r.name).join(`
`),null]:[t,i]}static setTextData(e,t,i,s){e.setData(fr.text,t),typeof i=="string"&&e.setData("text/html",i),e.setData("vscode-editor-data",JSON.stringify(s))}}class pht extends de{constructor(e){super(),this._actual=e,this.onKeyDown=this._register(fc(this._actual,"keydown")).event,this.onKeyUp=this._register(fc(this._actual,"keyup")).event,this.onCompositionStart=this._register(fc(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(fc(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(fc(this._actual,"compositionend")).event,this.onInput=this._register(fc(this._actual,"input")).event,this.onCut=this._register(fc(this._actual,"cut")).event,this.onCopy=this._register(fc(this._actual,"copy")).event,this.onPaste=this._register(fc(this._actual,"paste")).event,this.onFocus=this._register(fc(this._actual,"focus")).event,this.onBlur=this._register(fc(this._actual,"blur")).event,this._onSyntheticTap=this._register(new J),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(xe(this._actual,A8.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const e=Bm(this._actual);return e?e.activeElement===this._actual:bP(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const s=this._actual;let o=null;const r=Bm(s);r?o=r.activeElement:o=document.activeElement;const a=o===s,l=s.selectionStart,c=s.selectionEnd;if(a&&l===t&&c===i){wa&&window.parent!==window&&s.focus();return}if(a){this.setIgnoreSelectionChangeTime("setSelectionRange"),s.setSelectionRange(t,i),wa&&window.parent!==window&&s.focus();return}try{const u=zct(s);this.setIgnoreSelectionChangeTime("setSelectionRange"),s.focus(),s.setSelectionRange(t,i),Uct(s,u)}catch{}}}class mht extends WP{constructor(e,t,i){super(e,t,i),this._register(Fi.addTarget(this.viewHelper.linesContentDomNode)),this._register(xe(this.viewHelper.linesContentDomNode,rn.Tap,o=>this.onTap(o))),this._register(xe(this.viewHelper.linesContentDomNode,rn.Change,o=>this.onChange(o))),this._register(xe(this.viewHelper.linesContentDomNode,rn.Contextmenu,o=>this._onContextMenu(new Eg(o,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(xe(this.viewHelper.linesContentDomNode,"pointerdown",o=>{const r=o.pointerType;if(r==="mouse"){this._lastPointerType="mouse";return}else r==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const s=new Zdt(this.viewHelper.viewDomNode);this._register(s.onPointerMove(this.viewHelper.viewDomNode,o=>this._onMouseMove(o))),this._register(s.onPointerUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(s.onPointerLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(s.onPointerDown(this.viewHelper.viewDomNode,(o,r)=>this._onMouseDown(o,r)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Eg(e,!1,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:t.type===6&&t.detail.injectedText!==null})}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,t){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,t)}}class _ht extends WP{constructor(e,t,i){super(e,t,i),this._register(Fi.addTarget(this.viewHelper.linesContentDomNode)),this._register(xe(this.viewHelper.linesContentDomNode,rn.Tap,s=>this.onTap(s))),this._register(xe(this.viewHelper.linesContentDomNode,rn.Change,s=>this.onChange(s))),this._register(xe(this.viewHelper.linesContentDomNode,rn.Contextmenu,s=>this._onContextMenu(new Eg(s,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Eg(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){const i=document.createEvent("CustomEvent");i.initEvent(A8.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class vht extends de{constructor(e,t,i){super(),Xu&&vP.pointerEvents?this.handler=this._register(new mht(e,t,i)):window.TouchEvent?this.handler=this._register(new _ht(e,t,i)):this.handler=this._register(new WP(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class s2 extends By{}const Rte=U("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},v("lineHighlight","Background color for the highlight of line at the cursor position.")),jj=U("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:Kt},v("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),bht=U("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},v("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),Cht=U("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:mn,hcLight:mn},v("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),wht=U("editor.symbolHighlightBackground",{dark:dh,light:dh,hcDark:null,hcLight:null},v("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),yht=U("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:mn,hcLight:mn},v("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),Ote=U("editorCursor.foreground",{dark:"#AEAFAD",light:re.black,hcDark:re.white,hcLight:"#0F4A85"},v("caret","Color of the editor cursor.")),Sht=U("editorCursor.background",null,v("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),ph=U("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},v("editorWhitespaces","Color of whitespace characters in the editor.")),Vy=U("editorIndentGuide.background",{dark:ph,light:ph,hcDark:ph,hcLight:ph},v("editorIndentGuides","Color of the editor indentation guides.")),Wy=U("editorIndentGuide.activeBackground",{dark:ph,light:ph,hcDark:ph,hcLight:ph},v("editorActiveIndentGuide","Color of the active editor indentation guides.")),Pte=U("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:re.white,hcLight:"#292929"},v("editorLineNumbers","Color of editor line numbers.")),VS=U("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:mn,hcLight:mn},v("editorActiveLineNumber","Color of editor active line number"),!1,v("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),Lht=U("editorLineNumber.activeForeground",{dark:VS,light:VS,hcDark:VS,hcLight:VS},v("editorActiveLineNumber","Color of editor active line number")),xht=U("editorRuler.foreground",{dark:"#5A5A5A",light:re.lightgrey,hcDark:re.white,hcLight:"#292929"},v("editorRuler","Color of the editor rulers."));U("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},v("editorCodeLensForeground","Foreground color of editor CodeLens"));const Dht=U("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},v("editorBracketMatchBackground","Background color behind matching brackets")),Fte=U("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:Kt,hcLight:Kt},v("editorBracketMatchBorder","Color for matching brackets boxes")),kht=U("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},v("editorOverviewRulerBorder","Color of the overview ruler border.")),Eht=U("editorOverviewRuler.background",null,v("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),Iht=U("editorGutter.background",{dark:Ss,light:Ss,hcDark:Ss,hcLight:Ss},v("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),Tht=U("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:re.fromHex("#fff").transparent(.8),hcLight:Kt},v("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),Nht=U("editorUnnecessaryCode.opacity",{dark:re.fromHex("#000a"),light:re.fromHex("#0007"),hcDark:null,hcLight:null},v("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),Mht=U("editorGhostText.border",{dark:null,light:null,hcDark:re.fromHex("#fff").transparent(.8),hcLight:re.fromHex("#292929").transparent(.8)},v("editorGhostTextBorder","Border color of ghost text in the editor.")),Aht=U("editorGhostText.foreground",{dark:re.fromHex("#ffffff56"),light:re.fromHex("#0007"),hcDark:null,hcLight:null},v("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),Rht=U("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},v("editorGhostTextBackground","Background color of the ghost text in the editor.")),WS=new re(new ri(0,122,204,.6)),Oht=U("editorOverviewRuler.rangeHighlightForeground",{dark:WS,light:WS,hcDark:WS,hcLight:WS},v("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Pht=U("editorOverviewRuler.errorForeground",{dark:new re(new ri(255,18,18,.7)),light:new re(new ri(255,18,18,.7)),hcDark:new re(new ri(255,50,50,1)),hcLight:"#B5200D"},v("overviewRuleError","Overview ruler marker color for errors.")),Fht=U("editorOverviewRuler.warningForeground",{dark:ha,light:ha,hcDark:gv,hcLight:gv},v("overviewRuleWarning","Overview ruler marker color for warnings.")),Bht=U("editorOverviewRuler.infoForeground",{dark:mr,light:mr,hcDark:M8,hcLight:M8},v("overviewRuleInfo","Overview ruler marker color for infos.")),Bte=U("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},v("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Vte=U("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},v("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Wte=U("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},v("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Hte=U("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),$te=U("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),zte=U("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Vht=U("editorBracketHighlight.unexpectedBracket.foreground",{dark:new re(new ri(255,18,18,.8)),light:new re(new ri(255,18,18,.8)),hcDark:new re(new ri(255,50,50,1)),hcLight:""},v("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Wht=U("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Hht=U("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),$ht=U("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),zht=U("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Uht=U("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),jht=U("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Kht=U("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),qht=U("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Ght=U("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Yht=U("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Zht=U("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Xht=U("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},v("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));U("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},v("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));U("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},v("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));ln((n,e)=>{const t=n.getColor(Ss);t&&e.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${t}; }`);const i=n.getColor(Rte),s=i&&!i.isTransparent()?i:t;s&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${s}; }`);const o=n.getColor(fa);o&&e.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${o}; }`);const r=n.getColor(Iht);r&&e.addRule(`.monaco-editor .margin { background-color: ${r}; }`);const a=n.getColor(bht);a&&e.addRule(`.monaco-editor .rangeHighlight { background-color: ${a}; }`);const l=n.getColor(Cht);l&&e.addRule(`.monaco-editor .rangeHighlight { border: 1px ${wo(n.type)?"dotted":"solid"} ${l}; }`);const c=n.getColor(wht);c&&e.addRule(`.monaco-editor .symbolHighlight { background-color: ${c}; }`);const u=n.getColor(yht);u&&e.addRule(`.monaco-editor .symbolHighlight { border: 1px ${wo(n.type)?"dotted":"solid"} ${u}; }`);const d=n.getColor(ph);d&&(e.addRule(`.monaco-editor .mtkw { color: ${d} !important; }`),e.addRule(`.monaco-editor .mtkz { color: ${d} !important; }`))});class vv extends s2{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new oe(1,1),this._lastCursorViewPosition=new oe(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(61);const t=e.get(62);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(86);const i=e.get(133);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorViewPosition=t,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new oe(e,1));if(t.column!==1)return"";const i=t.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(i):this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const t=So?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,o='<div class="'+vv.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let r=null;if(this._renderLineNumbers===2){r=new Array(s-i+1),this._lastCursorViewPosition.lineNumber>=i&&this._lastCursorViewPosition.lineNumber<=s&&(r[this._lastCursorViewPosition.lineNumber-i]=this._lastCursorModelPosition.lineNumber);{let c=0;for(let u=this._lastCursorViewPosition.lineNumber+1;u<=s;u++){const h=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new oe(u,1)).column!==1;h||c++,u>=i&&(r[u-i]=h?0:c)}}{let c=0;for(let u=this._lastCursorViewPosition.lineNumber-1;u>=i;u--){const h=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new oe(u,1)).column!==1;h||c++,u<=s&&(r[u-i]=h?0:c)}}}const a=this._context.viewModel.getLineCount(),l=[];for(let c=i;c<=s;c++){const u=c-i;if(!this._renderFinalNewline&&c===a&&this._context.viewModel.getLineLength(c)===0){l[u]="";continue}let d;if(r){const h=r[u];this._lastCursorViewPosition.lineNumber===c?d=`<span class="relative-current-line-number">${h}</span>`:h?d=String(h):d=""}else d=this._getLineRenderLineNumber(c);d?c===this._activeLineNumber?l[u]='<div class="active-line-number '+vv.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+d+"</div>":l[u]=o+d+"</div>":l[u]=""}this._renderResult=l}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}vv.CLASS_NAME="line-numbers";ln((n,e)=>{const t=n.getColor(Pte);t&&e.addRule(`.monaco-editor .line-numbers { color: ${t}; }`);const i=n.getColor(Lht);i&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)});class zm extends xa{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(133);this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=fi(document.createElement("div")),this._domNode.setClassName(zm.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=fi(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(zm.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(133);return this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}zm.CLASS_NAME="glyph-margin";zm.OUTER_CLASS_NAME="margin";const pm="monaco-mouse-cursor-text";class Qht{constructor(e,t,i,s,o){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=s,this.distanceToModelLineEnd=o,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new oe(this.modelLineNumber,this.distanceToModelLineStart+1),i=new oe(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const eb=wa;class Jht extends xa{constructor(e,t,i){super(e),this._primaryCursorPosition=new oe(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const s=this._context.configuration.options,o=s.get(133);this._setAccessibilityOptions(s),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._contentHeight=o.height,this._fontInfo=s.get(46),this._lineHeight=s.get(61),this._emptySelectionClipboard=s.get(33),this._copyWithSyntaxHighlighting=s.get(21),this._visibleTextArea=null,this._selections=[new Ye(1,1,1,1)],this._modelSelections=[new Ye(1,1,1,1)],this._lastRenderPosition=null,this.textArea=fi(document.createElement("textarea")),td.write(this.textArea,6),this.textArea.setClassName(`inputarea ${pm}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(s)),this.textArea.setAttribute("tabindex",String(s.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",v("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),s.get(30)&&s.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=fi(document.createElement("div")),this.textAreaCover.setPosition("absolute");const r={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:c=>this._context.viewModel.getLineMaxColumn(c),getValueInRange:(c,u)=>this._context.viewModel.getValueInRange(c,u)},a={getDataToCopy:()=>{const c=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,oo),u=this._context.viewModel.model.getEOL(),d=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),h=Array.isArray(c)?c:null,f=Array.isArray(c)?c.join(u):c;let p,m=null;if(gM.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&f.length<65536){const b=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);b&&(p=b.html,m=b.mode)}return{isFromEmptySelection:d,multicursorText:h,text:f,html:p,mode:m}},getScreenReaderContent:c=>{if(this._accessibilitySupport===1){const u=this._selections[0];if(ai&&u.isEmpty()){const d=u.getStartPosition();let h=this._getWordBeforePosition(d);if(h.length===0&&(h=this._getCharacterBeforePosition(d)),h.length>0)return new Xs(h,h.length,h.length,d,d)}if(Ah&&!u.isEmpty()){const d="vscode-placeholder";return new Xs(d,0,d.length,null,null)}return Xs.EMPTY}if(fee){const u=this._selections[0];if(u.isEmpty()){const d=u.getStartPosition(),[h,f]=this._getAndroidWordAtPosition(d);if(h.length>0)return new Xs(h,f,f,d,d)}return Xs.EMPTY}return s1.fromEditorSelection(c,r,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(c,u,d)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(c,u,d)},l=this._register(new pht(this.textArea.domNode));this._textAreaInput=this._register(new ght(a,l,Ka,Frt)),this._register(this._textAreaInput.onKeyDown(c=>{this._viewController.emitKeyDown(c)})),this._register(this._textAreaInput.onKeyUp(c=>{this._viewController.emitKeyUp(c)})),this._register(this._textAreaInput.onPaste(c=>{let u=!1,d=null,h=null;c.metadata&&(u=this._emptySelectionClipboard&&!!c.metadata.isFromEmptySelection,d=typeof c.metadata.multicursorText!="undefined"?c.metadata.multicursorText:null,h=c.metadata.mode),this._viewController.paste(c.text,u,d,h)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(c=>{c.replacePrevCharCnt||c.replaceNextCharCnt||c.positionDelta?this._viewController.compositionType(c.text,c.replacePrevCharCnt,c.replaceNextCharCnt,c.positionDelta):this._viewController.type(c.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(c=>{this._viewController.setSelection(c)})),this._register(this._textAreaInput.onCompositionStart(c=>{const u=this.textArea.domNode,d=this._modelSelections[0],{distanceToModelLineStart:h,widthOfHiddenTextBefore:f}=(()=>{const m=u.value.substring(0,Math.min(u.selectionStart,u.selectionEnd)),b=m.lastIndexOf(`
`),w=m.substring(b+1),y=w.lastIndexOf("	"),L=w.length-y-1,D=d.getStartPosition(),E=Math.min(D.column-1,L),T=D.column-1-E,x=w.substring(0,w.length-E),k=eft(x,this._fontInfo);return{distanceToModelLineStart:T,widthOfHiddenTextBefore:k}})(),{distanceToModelLineEnd:p}=(()=>{const m=u.value.substring(Math.max(u.selectionStart,u.selectionEnd)),b=m.indexOf(`
`),w=b===-1?m:m.substring(0,b),y=w.indexOf("	"),L=y===-1?w.length:w.length-y-1,D=d.getEndPosition(),E=Math.min(this._context.viewModel.model.getLineMaxColumn(D.lineNumber)-D.column,L);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(D.lineNumber)-D.column-E}})();this._context.viewModel.revealRange("keyboard",!0,A.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Qht(this._context,d.startLineNumber,h,f,p),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${pm} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(c=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${pm}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.viewModel.getLineContent(e.lineNumber),s=cl(t);let o=!0,r=e.column,a=!0,l=e.column,c=0;for(;c<50&&(o||a);){if(o&&r<=1&&(o=!1),o){const u=i.charCodeAt(r-2);s.get(u)!==0?o=!1:r--}if(a&&l>i.length&&(a=!1),a){const u=i.charCodeAt(l-1);s.get(u)!==0?a=!1:l++}c++}return[i.substring(r-1,l-1),e.column-r]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=cl(this._context.configuration.options.get(119));let s=e.column,o=0;for(;s>1;){const r=t.charCodeAt(s-2);if(i.get(r)!==0||o>50)return t.substring(s-1,e.column-1);o++,s--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const i=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!Is(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){return e.get(2)===1?v("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",So?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilitySupport===2&&t===Xc.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(133);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(46),this._lineHeight=t.get(61),this._emptySelectionClipboard=t.get(33),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(114))),(e.hasChanged(30)||e.hasChanged(83))&&(t.get(30)&&t.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){var t;this._primaryCursorPosition=new oe(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(t=this._visibleTextArea)===null||t===void 0||t.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const i=this._visibleTextArea.visibleTextareaStart,s=this._visibleTextArea.visibleTextareaEnd,o=this._visibleTextArea.startPosition,r=this._visibleTextArea.endPosition;if(o&&r&&i&&s&&s.left>=this._scrollLeft&&i.left<=this._scrollLeft+this._contentWidth){const a=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,l=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let c=this._visibleTextArea.widthOfHiddenLineTextBefore,u=this._contentLeft+i.left-this._scrollLeft,d=s.left-i.left+1;if(u<this._contentLeft){const w=this._contentLeft-u;u+=w,c+=w,d-=w}d>this._contentWidth&&(d=this._contentWidth);const h=this._context.viewModel.getViewLineData(o.lineNumber),f=h.tokens.findTokenIndexAtOffset(o.column-1),p=h.tokens.findTokenIndexAtOffset(r.column-1),m=f===p,b=this._visibleTextArea.definePresentation(m?h.tokens.getPresentation(f):null);this.textArea.domNode.scrollTop=l*this._lineHeight,this.textArea.domNode.scrollLeft=c,this._doRender({lastRenderPosition:null,top:a,left:u,width:d,height:this._lineHeight,useCover:!1,color:(Dn.getColorMap()||[])[b.foreground],italic:b.italic,bold:b.bold,underline:b.underline,strikethrough:b.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}if(ai){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:e,width:eb?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const i=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:e,width:eb?0:1,height:eb?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:eb?0:1,height:eb?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,i=this.textAreaCover;bo(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?re.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);const s=this._context.configuration.options;s.get(52)?i.setClassName("monaco-editor-background textAreaCover "+zm.OUTER_CLASS_NAME):s.get(62).renderType!==0?i.setClassName("monaco-editor-background textAreaCover "+vv.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}}function eft(n,e){if(n.length===0)return 0;const t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const i=document.createElement("span");bo(i,e),i.style.whiteSpace="pre",i.append(n),t.appendChild(i),document.body.appendChild(t);const s=i.offsetWidth;return document.body.removeChild(t),s}function tft(n,e,t){let i=0;for(let o=0;o<n.length;o++)n.charAt(o)==="	"?i=ys.nextIndentTabStop(i,e):i++;let s="";if(!t){const o=Math.floor(i/e);i=i%e;for(let r=0;r<o;r++)s+="	"}for(let o=0;o<i;o++)s+=" ";return s}function R8(n,e,t){let i=Qo(n);return i===-1&&(i=n.length),tft(n.substring(0,i),e,t)+n.substring(i)}const ift=()=>!0,nft=()=>!1,sft=n=>n===" "||n==="	";class f0{constructor(e,t,i,s){this.languageConfigurationService=s,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const o=i.options,r=o.get(133);this.readOnly=o.get(83),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=o.get(106),this.lineHeight=o.get(61),this.pageSize=Math.max(1,Math.floor(r.height/this.lineHeight)-2),this.useTabStops=o.get(118),this.wordSeparators=o.get(119),this.emptySelectionClipboard=o.get(33),this.copyWithSyntaxHighlighting=o.get(21),this.multiCursorMergeOverlapping=o.get(71),this.multiCursorPaste=o.get(73),this.autoClosingBrackets=o.get(5),this.autoClosingQuotes=o.get(8),this.autoClosingDelete=o.get(6),this.autoClosingOvertype=o.get(7),this.autoSurround=o.get(11),this.autoIndent=o.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const a=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(a)for(const l of a)this.surroundingPairs[l.open]=l.close}static shouldRecreate(e){return e.hasChanged(133)||e.hasChanged(119)||e.hasChanged(33)||e.hasChanged(71)||e.hasChanged(73)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(118)||e.hasChanged(61)||e.hasChanged(83)}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||e===void 0?void 0:e.getElectricCharacters();if(t)for(const i of t)this._electricChars[i]=!0}return this._electricChars}onElectricCharacter(e,t,i){const s=$x(t,i-1),o=this.languageConfigurationService.getLanguageConfiguration(s.languageId).electricCharacter;return o?o.onElectricCharacter(e,s,i-s.firstCharOffset):null}normalizeIndentation(e){return R8(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return sft;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e);case"always":return ift;case"never":return nft}}_getLanguageDefinedShouldAutoClose(e){const t=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet();return i=>t.indexOf(i)!==-1}visibleColumnFromColumn(e,t){return ys.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const s=ys.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),o=e.getLineMinColumn(t);if(s<o)return o;const r=e.getLineMaxColumn(t);return s>r?r:s}}class Xt{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new oft(e)}static fromViewState(e){return new rft(e)}static fromModelSelection(e){const t=Ye.liftSelection(e),i=new qs(A.fromPositions(t.getSelectionStart()),0,t.getPosition(),0);return Xt.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,s=e.length;i<s;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class oft{constructor(e){this.modelState=e,this.viewState=null}}class rft{constructor(e){this.modelState=null,this.viewState=e}}class qs{constructor(e,t,i,s){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=s,this.selection=qs._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,s){return e?new qs(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new oe(t,i),s):new qs(new A(t,i,t,i),s,new oe(t,i),s)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?Ye.fromPositions(e.getStartPosition(),t):Ye.fromPositions(e.getEndPosition(),t)}}class or{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function Ef(n){return n==="'"||n==='"'||n==="`"}class Wp{static columnSelect(e,t,i,s,o,r){const a=Math.abs(o-i)+1,l=i>o,c=s>r,u=s<r,d=[];for(let h=0;h<a;h++){const f=i+(l?-h:h),p=e.columnFromVisibleColumn(t,f,s),m=e.columnFromVisibleColumn(t,f,r),b=e.visibleColumnFromColumn(t,new oe(f,p)),w=e.visibleColumnFromColumn(t,new oe(f,m));u&&(b>r||w<s)||c&&(w>s||b<r)||d.push(new qs(new A(f,p,f,p),0,new oe(f,m),0))}if(d.length===0)for(let h=0;h<a;h++){const f=i+(l?-h:h),p=t.getLineMaxColumn(f);d.push(new qs(new A(f,p,f,p),0,new oe(f,p),0))}return{viewStates:d,reversed:l,fromLineNumber:i,fromVisualColumn:s,toLineNumber:o,toVisualColumn:r}}static columnSelectLeft(e,t,i){let s=i.toViewVisualColumn;return s>0&&s--,Wp.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,s)}static columnSelectRight(e,t,i){let s=0;const o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),r=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=o;l<=r;l++){const c=t.getLineMaxColumn(l),u=e.visibleColumnFromColumn(t,new oe(l,c));s=Math.max(s,u)}let a=i.toViewVisualColumn;return a<s&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,s){const o=s?e.pageSize:1,r=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,r,i.toViewVisualColumn)}static columnSelectDown(e,t,i,s){const o=s?e.pageSize:1,r=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,r,i.toViewVisualColumn)}}class Zs{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return Ye.fromPositions(s.getEndPosition())}}class aft{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return Ye.fromRange(s,0)}}class HS{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return Ye.fromPositions(s.getStartPosition())}}class g6{constructor(e,t,i,s,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=s,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return Ye.fromPositions(s.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class HP{constructor(e,t,i,s=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=s,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class hI{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class ki{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-lee(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new oe(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const s=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),r=_w.atomicPosition(o,t.column-1,i,0);if(r!==-1&&r+1>=s)return new oe(t.lineNumber,r+1)}return this.leftPosition(e,t)}static left(e,t,i){const s=e.stickyTabStops?ki.leftPositionAtomicSoftTabs(t,i,e.tabSize):ki.leftPosition(t,i);return new hI(s.lineNumber,s.column,0)}static moveLeft(e,t,i,s,o){let r,a;if(i.hasSelection()&&!s)r=i.selection.startLineNumber,a=i.selection.startColumn;else{const l=i.position.delta(void 0,-(o-1)),c=t.normalizePosition(ki.clipPositionColumn(l,t),0),u=ki.left(e,t,c);r=u.lineNumber,a=u.column}return i.move(s,r,a,0)}static clipPositionColumn(e,t){return new oe(e.lineNumber,ki.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+ZO(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new oe(t,i)}static rightPositionAtomicSoftTabs(e,t,i,s,o){if(i<e.getLineIndentColumn(t)){const r=e.getLineContent(t),a=_w.atomicPosition(r,i-1,s,1);if(a!==-1)return new oe(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const s=e.stickyTabStops?ki.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):ki.rightPosition(t,i.lineNumber,i.column);return new hI(s.lineNumber,s.column,0)}static moveRight(e,t,i,s,o){let r,a;if(i.hasSelection()&&!s)r=i.selection.endLineNumber,a=i.selection.endColumn;else{const l=i.position.delta(void 0,o-1),c=t.normalizePosition(ki.clipPositionColumn(l,t),1),u=ki.right(e,t,c);r=u.lineNumber,a=u.column}return i.move(s,r,a,0)}static vertical(e,t,i,s,o,r,a,l){const c=ys.visibleColumnFromColumn(t.getLineContent(i),s,e.tabSize)+o,u=t.getLineCount(),d=i===1&&s===1,h=i===u&&s===t.getLineMaxColumn(i),f=r<i?d:h;if(i=r,i<1?(i=1,a?s=t.getLineMinColumn(i):s=Math.min(t.getLineMaxColumn(i),s)):i>u?(i=u,a?s=t.getLineMaxColumn(i):s=Math.min(t.getLineMaxColumn(i),s)):s=e.columnFromVisibleColumn(t,i,c),f?o=0:o=c-ys.visibleColumnFromColumn(t.getLineContent(i),s,e.tabSize),l!==void 0){const p=new oe(i,s),m=t.normalizePosition(p,l);o=o+(s-m.column),i=m.lineNumber,s=m.column}return new hI(i,s,o)}static down(e,t,i,s,o,r,a){return this.vertical(e,t,i,s,o,i+r,a,4)}static moveDown(e,t,i,s,o){let r,a;i.hasSelection()&&!s?(r=i.selection.endLineNumber,a=i.selection.endColumn):(r=i.position.lineNumber,a=i.position.column);const l=ki.down(e,t,r,a,i.leftoverVisibleColumns,o,!0);return i.move(s,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(e,t,i){const s=i.selection,o=ki.down(e,t,s.selectionStartLineNumber,s.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),r=ki.down(e,t,s.positionLineNumber,s.positionColumn,i.leftoverVisibleColumns,1,!1);return new qs(new A(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new oe(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(e,t,i,s,o,r,a){return this.vertical(e,t,i,s,o,i-r,a,3)}static moveUp(e,t,i,s,o){let r,a;i.hasSelection()&&!s?(r=i.selection.startLineNumber,a=i.selection.startColumn):(r=i.position.lineNumber,a=i.position.column);const l=ki.up(e,t,r,a,i.leftoverVisibleColumns,o,!0);return i.move(s,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){const s=i.selection,o=ki.up(e,t,s.selectionStartLineNumber,s.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),r=ki.up(e,t,s.positionLineNumber,s.positionColumn,i.leftoverVisibleColumns,1,!1);return new qs(new A(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new oe(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,s){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(s,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,s){const o=t.getLineCount();let r=i.position.lineNumber;for(;r<o&&this._isBlankLine(t,r);)r++;for(;r<o&&!this._isBlankLine(t,r);)r++;return i.move(s,r,t.getLineMinColumn(r),0)}static moveToBeginningOfLine(e,t,i,s){const o=i.position.lineNumber,r=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||r;let l;return i.position.column===a?l=r:l=a,i.move(s,o,l,0)}static moveToEndOfLine(e,t,i,s,o){const r=i.position.lineNumber,a=t.getLineMaxColumn(r);return i.move(s,r,a,o?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,s){return i.move(s,1,1,0)}static moveToEndOfBuffer(e,t,i,s){const o=t.getLineCount(),r=t.getLineMaxColumn(o);return i.move(s,o,r,0)}}class Um{static deleteRight(e,t,i,s){const o=[];let r=e!==3;for(let a=0,l=s.length;a<l;a++){const c=s[a];let u=c;if(u.isEmpty()){const d=c.getPosition(),h=ki.right(t,i,d);u=new A(h.lineNumber,h.column,d.lineNumber,d.column)}if(u.isEmpty()){o[a]=null;continue}u.startLineNumber!==u.endLineNumber&&(r=!0),o[a]=new Zs(u,"")}return[r,o]}static isAutoClosingPairDelete(e,t,i,s,o,r,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,c=r.length;l<c;l++){const u=r[l],d=u.getPosition();if(!u.isEmpty())return!1;const h=o.getLineContent(d.lineNumber);if(d.column<2||d.column>=h.length+1)return!1;const f=h.charAt(d.column-2),p=s.get(f);if(!p)return!1;if(Ef(f)){if(i==="never")return!1}else if(t==="never")return!1;const m=h.charAt(d.column-1);let b=!1;for(const w of p)w.open===f&&w.close===m&&(b=!0);if(!b)return!1;if(e==="auto"){let w=!1;for(let y=0,L=a.length;y<L;y++){const D=a[y];if(d.lineNumber===D.startLineNumber&&d.column===D.startColumn){w=!0;break}}if(!w)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const s=[];for(let o=0,r=i.length;o<r;o++){const a=i[o].getPosition(),l=new A(a.lineNumber,a.column-1,a.lineNumber,a.column+1);s[o]=new Zs(l,"")}return[!0,s]}static deleteLeft(e,t,i,s,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,s,o))return this._runAutoClosingPairDelete(t,i,s);const r=[];let a=e!==2;for(let l=0,c=s.length;l<c;l++){const u=Um.getDeleteRange(s[l],i,t);if(u.isEmpty()){r[l]=null;continue}u.startLineNumber!==u.endLineNumber&&(a=!0),r[l]=new Zs(u,"")}return[a,r]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const s=e.getPosition();if(i.useTabStops&&s.column>1){const o=t.getLineContent(s.lineNumber),r=Qo(o),a=r===-1?o.length+1:r+1;if(s.column<=a){const l=i.visibleColumnFromColumn(t,s),c=ys.prevIndentTabStop(l,i.indentSize),u=i.columnFromVisibleColumn(t,s.lineNumber,c);return new A(s.lineNumber,u,s.lineNumber,s.column)}}return A.fromPositions(Um.getPositionAfterDeleteLeft(s,t),s)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=Irt(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){const i=e.lineNumber-1;return new oe(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){const s=[];let o=null;i.sort((r,a)=>oe.compare(r.getStartPosition(),a.getEndPosition()));for(let r=0,a=i.length;r<a;r++){const l=i[r];if(l.isEmpty())if(e.emptySelectionClipboard){const c=l.getPosition();let u,d,h,f;c.lineNumber<t.getLineCount()?(u=c.lineNumber,d=1,h=c.lineNumber+1,f=1):c.lineNumber>1&&(o==null?void 0:o.endLineNumber)!==c.lineNumber?(u=c.lineNumber-1,d=t.getLineMaxColumn(c.lineNumber-1),h=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber)):(u=c.lineNumber,d=1,h=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber));const p=new A(u,d,h,f);o=p,p.isEmpty()?s[r]=null:s[r]=new Zs(p,"")}else s[r]=null;else s[r]=new Zs(l,"")}return new or(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class _i{static _createWord(e,t,i,s,o){return{start:s,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){const s=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(s,e,i)}static _doFindPreviousWordOnLine(e,t,i){let s=0;for(let o=i.column-2;o>=0;o--){const r=e.charCodeAt(o),a=t.get(r);if(a===0){if(s===2)return this._createWord(e,s,a,o+1,this._findEndOfWord(e,t,s,o+1));s=1}else if(a===2){if(s===1)return this._createWord(e,s,a,o+1,this._findEndOfWord(e,t,s,o+1));s=2}else if(a===1&&s!==0)return this._createWord(e,s,a,o+1,this._findEndOfWord(e,t,s,o+1))}return s!==0?this._createWord(e,s,1,0,this._findEndOfWord(e,t,s,0)):null}static _findEndOfWord(e,t,i,s){const o=e.length;for(let r=s;r<o;r++){const a=e.charCodeAt(r),l=t.get(a);if(l===1||i===1&&l===2||i===2&&l===0)return r}return o}static _findNextWordOnLine(e,t,i){const s=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(s,e,i)}static _doFindNextWordOnLine(e,t,i){let s=0;const o=e.length;for(let r=i.column-1;r<o;r++){const a=e.charCodeAt(r),l=t.get(a);if(l===0){if(s===2)return this._createWord(e,s,l,this._findStartOfWord(e,t,s,r-1),r);s=1}else if(l===2){if(s===1)return this._createWord(e,s,l,this._findStartOfWord(e,t,s,r-1),r);s=2}else if(l===1&&s!==0)return this._createWord(e,s,l,this._findStartOfWord(e,t,s,r-1),r)}return s!==0?this._createWord(e,s,1,this._findStartOfWord(e,t,s,o-1),o):null}static _findStartOfWord(e,t,i,s){for(let o=s;o>=0;o--){const r=e.charCodeAt(o),a=t.get(r);if(a===1||i===1&&a===2||i===2&&a===0)return o+1}return 0}static moveWordLeft(e,t,i,s){let o=i.lineNumber,r=i.column;r===1&&o>1&&(o=o-1,r=t.getLineMaxColumn(o));let a=_i._findPreviousWordOnLine(e,t,new oe(o,r));if(s===0)return new oe(o,a?a.start+1:1);if(s===1)return a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=_i._findPreviousWordOnLine(e,t,new oe(o,a.start+1))),new oe(o,a?a.start+1:1);if(s===3){for(;a&&a.wordType===2;)a=_i._findPreviousWordOnLine(e,t,new oe(o,a.start+1));return new oe(o,a?a.start+1:1)}return a&&r<=a.end+1&&(a=_i._findPreviousWordOnLine(e,t,new oe(o,a.start+1))),new oe(o,a?a.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,s=e.getLineMaxColumn(i);if(t.column===1)return i>1?new oe(i-1,e.getLineMaxColumn(i-1)):t;const o=e.getLineContent(i);for(let r=t.column-1;r>1;r--){const a=o.charCodeAt(r-2),l=o.charCodeAt(r-1);if(a===95&&l!==95)return new oe(i,r);if((zf(a)||IS(a))&&Su(l))return new oe(i,r);if(Su(a)&&Su(l)&&r+1<s){const c=o.charCodeAt(r);if(zf(c)||IS(c))return new oe(i,r)}}return new oe(i,1)}static moveWordRight(e,t,i,s){let o=i.lineNumber,r=i.column,a=!1;r===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(a=!0,o=o+1,r=1);let l=_i._findNextWordOnLine(e,t,new oe(o,r));if(s===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=_i._findNextWordOnLine(e,t,new oe(o,l.end+1))),l?r=l.end+1:r=t.getLineMaxColumn(o);else if(s===3){for(a&&(r=0);l&&(l.wordType===2||l.start+1<=r);)l=_i._findNextWordOnLine(e,t,new oe(o,l.end+1));l?r=l.start+1:r=t.getLineMaxColumn(o)}else l&&!a&&r>=l.start+1&&(l=_i._findNextWordOnLine(e,t,new oe(o,l.end+1))),l?r=l.start+1:r=t.getLineMaxColumn(o);return new oe(o,r)}static _moveWordPartRight(e,t){const i=t.lineNumber,s=e.getLineMaxColumn(i);if(t.column===s)return i<e.getLineCount()?new oe(i+1,1):t;const o=e.getLineContent(i);for(let r=t.column+1;r<s;r++){const a=o.charCodeAt(r-2),l=o.charCodeAt(r-1);if(a!==95&&l===95)return new oe(i,r);if((zf(a)||IS(a))&&Su(l))return new oe(i,r);if(Su(a)&&Su(l)&&r+1<s){const c=o.charCodeAt(r);if(zf(c)||IS(c))return new oe(i,r)}}return new oe(i,s)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),s=t.column-2,o=ju(i,s);return o+1<s?new A(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,s=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(Um.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const d=e.selection.getPosition();return new A(d.lineNumber,d.column-1,d.lineNumber,d.column+1)}const a=new oe(o.positionLineNumber,o.positionColumn);let l=a.lineNumber,c=a.column;if(l===1&&c===1)return null;if(r){const d=this._deleteWordLeftWhitespace(s,a);if(d)return d}let u=_i._findPreviousWordOnLine(i,s,a);return t===0?u?c=u.start+1:c>1?c=1:(l--,c=s.getLineMaxColumn(l)):(u&&c<=u.end+1&&(u=_i._findPreviousWordOnLine(i,s,new oe(l,u.start+1))),u?c=u.end+1:c>1?c=1:(l--,c=s.getLineMaxColumn(l))),new A(l,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const s=new oe(i.positionLineNumber,i.positionColumn),o=this._deleteInsideWordWhitespace(t,s);return o||this._deleteInsideWordDetermineDeleteRange(e,t,s)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),s=i.length;if(s===0)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let r=Math.min(t.column-1,s-1);if(!this._charAtIsWhitespace(i,r))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;r+1<s&&this._charAtIsWhitespace(i,r+1);)r++;return new A(t.lineNumber,o+1,t.lineNumber,r+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const s=t.getLineContent(i.lineNumber),o=s.length;if(o===0)return i.lineNumber>1?new A(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new A(i.lineNumber,1,i.lineNumber+1,1):new A(i.lineNumber,1,i.lineNumber,1);const r=d=>d.start+1<=i.column&&i.column<=d.end+1,a=(d,h)=>(d=Math.min(d,i.column),h=Math.max(h,i.column),new A(i.lineNumber,d,i.lineNumber,h)),l=d=>{let h=d.start+1,f=d.end+1,p=!1;for(;f-1<o&&this._charAtIsWhitespace(s,f-1);)p=!0,f++;if(!p)for(;h>1&&this._charAtIsWhitespace(s,h-2);)h--;return a(h,f)},c=_i._findPreviousWordOnLine(e,t,i);if(c&&r(c))return l(c);const u=_i._findNextWordOnLine(e,t,i);return u&&r(u)?l(u):c&&u?a(c.end+1,u.start+1):c?a(c.start+1,c.end+1):u?a(u.start+1,u.end+1):a(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),s=_i._moveWordPartLeft(e,i);return new A(i.lineNumber,i.column,s.lineNumber,s.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let s=t;s<i;s++){const o=e.charAt(s);if(o!==" "&&o!=="	")return s}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),s=t.column-1,o=this._findFirstNonWhitespaceChar(i,s);return s+1<o?new A(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,s=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;const a=new oe(o.positionLineNumber,o.positionColumn);let l=a.lineNumber,c=a.column;const u=s.getLineCount(),d=s.getLineMaxColumn(l);if(l===u&&c===d)return null;if(r){const f=this._deleteWordRightWhitespace(s,a);if(f)return f}let h=_i._findNextWordOnLine(i,s,a);return t===2?h?c=h.end+1:c<d||l===u?c=d:(l++,h=_i._findNextWordOnLine(i,s,new oe(l,1)),h?c=h.start+1:c=s.getLineMaxColumn(l)):(h&&c>=h.start+1&&(h=_i._findNextWordOnLine(i,s,new oe(l,h.end+1))),h?c=h.start+1:c<d||l===u?c=d:(l++,h=_i._findNextWordOnLine(i,s,new oe(l,1)),h?c=h.start+1:c=s.getLineMaxColumn(l))),new A(l,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),s=_i._moveWordPartRight(e,i);return new A(i.lineNumber,i.column,s.lineNumber,s.column)}static _createWordAtPosition(e,t,i){const s=new A(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(s),startColumn:s.startColumn,endColumn:s.endColumn}}static getWordAtPosition(e,t,i){const s=cl(t),o=_i._findPreviousWordOnLine(s,e,i);if(o&&o.wordType===1&&o.start<=i.column-1&&i.column-1<=o.end)return _i._createWordAtPosition(e,i.lineNumber,o);const r=_i._findNextWordOnLine(s,e,i);return r&&r.wordType===1&&r.start<=i.column-1&&i.column-1<=r.end?_i._createWordAtPosition(e,i.lineNumber,r):null}static word(e,t,i,s,o){const r=cl(e.wordSeparators),a=_i._findPreviousWordOnLine(r,t,o),l=_i._findNextWordOnLine(r,t,o);if(!s){let f,p;return a&&a.wordType===1&&a.start<=o.column-1&&o.column-1<=a.end?(f=a.start+1,p=a.end+1):l&&l.wordType===1&&l.start<=o.column-1&&o.column-1<=l.end?(f=l.start+1,p=l.end+1):(a?f=a.end+1:f=1,l?p=l.start+1:p=t.getLineMaxColumn(o.lineNumber)),new qs(new A(o.lineNumber,f,o.lineNumber,p),0,new oe(o.lineNumber,p),0)}let c,u;a&&a.wordType===1&&a.start<o.column-1&&o.column-1<a.end?(c=a.start+1,u=a.end+1):l&&l.wordType===1&&l.start<o.column-1&&o.column-1<l.end?(c=l.start+1,u=l.end+1):(c=o.column,u=o.column);const d=o.lineNumber;let h;if(i.selectionStart.containsPosition(o))h=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){h=c;const f=new oe(d,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.endColumn)}else{h=u;const f=new oe(d,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.startColumn)}return i.move(!0,d,h,0)}}class C5 extends _i{static deleteWordPartLeft(e){const t=$S([_i.deleteWordLeft(e,0),_i.deleteWordLeft(e,2),_i._deleteWordPartLeft(e.model,e.selection)]);return t.sort(A.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=$S([_i.deleteWordRight(e,0),_i.deleteWordRight(e,2),_i._deleteWordPartRight(e.model,e.selection)]);return t.sort(A.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){const s=$S([_i.moveWordLeft(e,t,i,0),_i.moveWordLeft(e,t,i,2),_i._moveWordPartLeft(t,i)]);return s.sort(oe.compare),s[2]}static moveWordPartRight(e,t,i){const s=$S([_i.moveWordRight(e,t,i,0),_i.moveWordRight(e,t,i,2),_i._moveWordPartRight(t,i)]);return s.sort(oe.compare),s[0]}}function $S(n){return n.filter(e=>Boolean(e))}class js{static addCursorDown(e,t,i){const s=[];let o=0;for(let r=0,a=t.length;r<a;r++){const l=t[r];s[o++]=new Xt(l.modelState,l.viewState),i?s[o++]=Xt.fromModelState(ki.translateDown(e.cursorConfig,e.model,l.modelState)):s[o++]=Xt.fromViewState(ki.translateDown(e.cursorConfig,e,l.viewState))}return s}static addCursorUp(e,t,i){const s=[];let o=0;for(let r=0,a=t.length;r<a;r++){const l=t[r];s[o++]=new Xt(l.modelState,l.viewState),i?s[o++]=Xt.fromModelState(ki.translateUp(e.cursorConfig,e.model,l.modelState)):s[o++]=Xt.fromViewState(ki.translateUp(e.cursorConfig,e,l.viewState))}return s}static moveToBeginningOfLine(e,t,i){const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o];s[o]=this._moveToLineStart(e,a,i)}return s}static _moveToLineStart(e,t,i){const s=t.viewState.position.column,o=t.modelState.position.column,r=s===o,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!r&&!(s===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return Xt.fromViewState(ki.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return Xt.fromModelState(ki.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,s){const o=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];o[r]=this._moveToLineEnd(e,l,i,s)}return o}static _moveToLineEnd(e,t,i,s){const o=t.viewState.position,r=e.getLineMaxColumn(o.lineNumber),a=o.column===r,l=t.modelState.position,c=e.model.getLineMaxColumn(l.lineNumber),u=r-o.column===c-l.column;return a||u?this._moveToLineEndByModel(e,t,i,s):this._moveToLineEndByView(e,t,i,s)}static _moveToLineEndByView(e,t,i,s){return Xt.fromViewState(ki.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,s))}static _moveToLineEndByModel(e,t,i,s){return Xt.fromModelState(ki.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,s))}static expandLineSelection(e,t){const i=[];for(let s=0,o=t.length;s<o;s++){const r=t[s],a=r.modelState.selection.startLineNumber,l=e.model.getLineCount();let c=r.modelState.selection.endLineNumber,u;c===l?u=e.model.getLineMaxColumn(l):(c++,u=1),i[s]=Xt.fromModelState(new qs(new A(a,1,a,1),0,new oe(c,u),0))}return i}static moveToBeginningOfBuffer(e,t,i){const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o];s[o]=Xt.fromModelState(ki.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return s}static moveToEndOfBuffer(e,t,i){const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o];s[o]=Xt.fromModelState(ki.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return s}static selectAll(e,t){const i=e.model.getLineCount(),s=e.model.getLineMaxColumn(i);return Xt.fromModelState(new qs(new A(1,1,1,1),0,new oe(i,s),0))}static line(e,t,i,s,o){const r=e.model.validatePosition(s),a=o?e.coordinatesConverter.validateViewPosition(new oe(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);if(!i||!t.modelState.hasSelection()){const c=e.model.getLineCount();let u=r.lineNumber+1,d=1;return u>c&&(u=c,d=e.model.getLineMaxColumn(u)),Xt.fromModelState(new qs(new A(r.lineNumber,1,u,d),0,new oe(u,d),0))}const l=t.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<l)return Xt.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(r.lineNumber>l){const c=e.getLineCount();let u=a.lineNumber+1,d=1;return u>c&&(u=c,d=e.getLineMaxColumn(u)),Xt.fromViewState(t.viewState.move(t.modelState.hasSelection(),u,d,0))}else{const c=t.modelState.selectionStart.getEndPosition();return Xt.fromModelState(t.modelState.move(t.modelState.hasSelection(),c.lineNumber,c.column,0))}}static word(e,t,i,s){const o=e.model.validatePosition(s);return Xt.fromModelState(_i.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new Xt(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,s=t.viewState.position.column;return Xt.fromViewState(new qs(new A(i,s,i,s),0,new oe(i,s),0))}static moveTo(e,t,i,s,o){const r=e.model.validatePosition(s),a=o?e.coordinatesConverter.validateViewPosition(new oe(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);return Xt.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,s,o,r){switch(i){case 0:return r===4?this._moveHalfLineLeft(e,t,s):this._moveLeft(e,t,s,o);case 1:return r===4?this._moveHalfLineRight(e,t,s):this._moveRight(e,t,s,o);case 2:return r===2?this._moveUpByViewLines(e,t,s,o):this._moveUpByModelLines(e,t,s,o);case 3:return r===2?this._moveDownByViewLines(e,t,s,o):this._moveDownByModelLines(e,t,s,o);case 4:return r===2?t.map(a=>Xt.fromViewState(ki.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,s))):t.map(a=>Xt.fromModelState(ki.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,s)));case 5:return r===2?t.map(a=>Xt.fromViewState(ki.moveToNextBlankLine(e.cursorConfig,e,a.viewState,s))):t.map(a=>Xt.fromModelState(ki.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,s)));case 6:return this._moveToViewMinColumn(e,t,s);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,s);case 8:return this._moveToViewCenterColumn(e,t,s);case 9:return this._moveToViewMaxColumn(e,t,s);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,s);default:return null}}static viewportMove(e,t,i,s,o){const r=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(r);switch(i){case 11:{const l=this._firstLineNumberInRange(e.model,a,o),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],s,l,c)]}case 13:{const l=this._lastLineNumberInRange(e.model,a,o),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],s,l,c)]}case 12:{const l=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],s,l,c)]}case 14:{const l=[];for(let c=0,u=t.length;c<u;c++){const d=t[c];l[c]=this.findPositionInViewportIfOutside(e,d,r,s)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,s){const o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new Xt(t.modelState,t.viewState);{let r;o>i.endLineNumber-1?r=i.endLineNumber-1:o<i.startLineNumber?r=i.startLineNumber:r=o;const a=ki.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,r,!1);return Xt.fromViewState(t.viewState.move(s,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let s=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(s)&&s++,Math.min(t.endLineNumber,s+i-1)}static _lastLineNumberInRange(e,t,i){let s=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(s)&&s++,Math.max(s,t.endLineNumber-i+1)}static _moveLeft(e,t,i,s){return t.map(o=>Xt.fromViewState(ki.moveLeft(e.cursorConfig,e,o.viewState,i,s)))}static _moveHalfLineLeft(e,t,i){const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);s[o]=Xt.fromViewState(ki.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return s}static _moveRight(e,t,i,s){return t.map(o=>Xt.fromViewState(ki.moveRight(e.cursorConfig,e,o.viewState,i,s)))}static _moveHalfLineRight(e,t,i){const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);s[o]=Xt.fromViewState(ki.moveRight(e.cursorConfig,e,a.viewState,i,c))}return s}static _moveDownByViewLines(e,t,i,s){const o=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];o[r]=Xt.fromViewState(ki.moveDown(e.cursorConfig,e,l.viewState,i,s))}return o}static _moveDownByModelLines(e,t,i,s){const o=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];o[r]=Xt.fromModelState(ki.moveDown(e.cursorConfig,e.model,l.modelState,i,s))}return o}static _moveUpByViewLines(e,t,i,s){const o=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];o[r]=Xt.fromViewState(ki.moveUp(e.cursorConfig,e,l.viewState,i,s))}return o}static _moveUpByModelLines(e,t,i,s){const o=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];o[r]=Xt.fromModelState(ki.moveUp(e.cursorConfig,e.model,l.modelState,i,s))}return o}static _moveToViewPosition(e,t,i,s,o){return Xt.fromViewState(t.viewState.move(i,s,o,0))}static _moveToModelPosition(e,t,i,s,o){return Xt.fromModelState(t.modelState.move(i,s,o,0))}static _moveToViewMinColumn(e,t,i){const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineMinColumn(l);s[o]=this._moveToViewPosition(e,a,i,l,c)}return s}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(l);s[o]=this._moveToViewPosition(e,a,i,l,c)}return s}static _moveToViewCenterColumn(e,t,i){const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);s[o]=this._moveToViewPosition(e,a,i,l,c)}return s}static _moveToViewMaxColumn(e,t,i){const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineMaxColumn(l);s[o]=this._moveToViewPosition(e,a,i,l,c)}return s}static _moveToViewLastNonWhitespaceColumn(e,t,i){const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(l);s[o]=this._moveToViewPosition(e,a,i,l,c)}return s}}var O8;(function(n){const e=function(i){if(!pr(i))return!1;const s=i;return!(!br(s.to)||!Br(s.select)&&!WJ(s.select)||!Br(s.by)&&!br(s.by)||!Br(s.value)&&!wg(s.value))};n.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let s;switch(i.to){case n.RawDirection.Left:s=0;break;case n.RawDirection.Right:s=1;break;case n.RawDirection.Up:s=2;break;case n.RawDirection.Down:s=3;break;case n.RawDirection.PrevBlankLine:s=4;break;case n.RawDirection.NextBlankLine:s=5;break;case n.RawDirection.WrappedLineStart:s=6;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:s=7;break;case n.RawDirection.WrappedLineColumnCenter:s=8;break;case n.RawDirection.WrappedLineEnd:s=9;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:s=10;break;case n.RawDirection.ViewPortTop:s=11;break;case n.RawDirection.ViewPortBottom:s=13;break;case n.RawDirection.ViewPortCenter:s=12;break;case n.RawDirection.ViewPortIfOutside:s=14;break;default:return null}let o=0;switch(i.by){case n.RawUnit.Line:o=1;break;case n.RawUnit.WrappedLine:o=2;break;case n.RawUnit.Character:o=3;break;case n.RawUnit.HalfLine:o=4;break}return{direction:s,unit:o,select:!!i.select,value:i.value||1}}n.parse=t})(O8||(O8={}));function k1(n,e,t,i){const s=w1(e,t.startLineNumber,t.startColumn),o=i.getLanguageConfiguration(s.languageId);if(!o)return null;const r=s.getLineContent(),a=r.substr(0,t.startColumn-1-s.firstCharOffset);let l;t.isEmpty()?l=r.substr(t.startColumn-1-s.firstCharOffset):l=w1(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-s.firstCharOffset);let c="";if(t.startLineNumber>1&&s.firstCharOffset===0){const m=w1(e,t.startLineNumber-1);m.languageId===s.languageId&&(c=m.getLineContent())}const u=o.onEnter(n,c,a,l);if(!u)return null;const d=u.indentAction;let h=u.appendText;const f=u.removeText||0;h?d===is.Indent&&(h="	"+h):d===is.Indent||d===is.IndentOutdent?h="	":h="";let p=kee(e,t.startLineNumber,t.startColumn);return f&&(p=p.substring(0,p.length-f)),{indentAction:d,appendText:h,removeText:f,indentation:p}}var lft=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},cft=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const fI=Object.create(null);function Cp(n,e){if(e<=0)return"";fI[n]||(fI[n]=["",n]);const t=fI[n];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+n;return t[e]}let Ya=class pM{constructor(e,t,i){this._languageConfigurationService=i,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,s,o){const r=ys.visibleColumnFromColumn(e,t,i);if(o){const a=Cp(" ",s),c=ys.prevIndentTabStop(r,s)/s;return Cp(a,c)}else{const a="	",c=ys.prevRenderTabStop(r,i)/i;return Cp(a,c)}}static shiftIndent(e,t,i,s,o){const r=ys.visibleColumnFromColumn(e,t,i);if(o){const a=Cp(" ",s),c=ys.nextIndentTabStop(r,s)/s;return Cp(a,c)}else{const a="	",c=ys.nextRenderTabStop(r,i)/i;return Cp(a,c)}}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let s=this._selection.endLineNumber;this._selection.endColumn===1&&i!==s&&(s=s-1);const{tabSize:o,indentSize:r,insertSpaces:a}=this._opts,l=i===s;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,u=0;for(let d=i;d<=s;d++,c=u){u=0;const h=e.getLineContent(d);let f=Qo(h);if(this._opts.isUnshift&&(h.length===0||f===0)||!l&&!this._opts.isUnshift&&h.length===0)continue;if(f===-1&&(f=h.length),d>1&&ys.visibleColumnFromColumn(h,f+1,o)%r!==0&&e.tokenization.isCheapToTokenize(d-1)){const b=k1(this._opts.autoIndent,e,new A(d-1,e.getLineMaxColumn(d-1),d-1,e.getLineMaxColumn(d-1)),this._languageConfigurationService);if(b){if(u=c,b.appendText)for(let w=0,y=b.appendText.length;w<y&&u<r&&b.appendText.charCodeAt(w)===32;w++)u++;b.removeText&&(u=Math.max(0,u-b.removeText));for(let w=0;w<u&&!(f===0||h.charCodeAt(f-1)!==32);w++)f--}}if(this._opts.isUnshift&&f===0)continue;let p;this._opts.isUnshift?p=pM.unshiftIndent(h,f+1,o,r,a):p=pM.shiftIndent(h,f+1,o,r,a),this._addEditOperation(t,new A(d,1,d,f+1),p),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=a?Cp(" ",r):"	";for(let u=i;u<=s;u++){const d=e.getLineContent(u);let h=Qo(d);if(!(this._opts.isUnshift&&(d.length===0||h===0))&&!(!l&&!this._opts.isUnshift&&d.length===0)&&(h===-1&&(h=d.length),!(this._opts.isUnshift&&h===0)))if(this._opts.isUnshift){h=Math.min(h,r);for(let f=0;f<h;f++)if(d.charCodeAt(f)===9){h=f+1;break}this._addEditOperation(t,new A(u,1,u,h+1),"")}else this._addEditOperation(t,new A(u,1,u,1),c),u===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const s=t.getInverseEditOperations()[0];return new Ye(s.range.endLineNumber,s.range.endColumn,s.range.endLineNumber,s.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const s=this._selection.startColumn;return i.startColumn<=s?i:i.getDirection()===0?new Ye(i.startLineNumber,s,i.endLineNumber,i.endColumn):new Ye(i.endLineNumber,i.endColumn,i.startLineNumber,s)}return i}};Ya=lft([cft(2,Xn)],Ya);class uft{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new A(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new A(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),s=i[0].range,o=i[1].range;return new Ye(s.endLineNumber,s.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}class dft{constructor(e,t,i){this._position=e,this._text=t,this._charAfter=i}getEditOperations(e,t){t.addTrackedEditOperation(new A(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return new Ye(s.endLineNumber,s.startColumn,s.endLineNumber,s.endColumn-this._charAfter.length)}}function hft(n,e,t){const i=n.tokenization.getLanguageIdAtPosition(e,0);if(e>1){let s,o=-1;for(s=e-1;s>=1;s--){if(n.tokenization.getLanguageIdAtPosition(s,0)!==i)return o;const r=n.getLineContent(s);if(t.shouldIgnore(r)||/^\s+$/.test(r)||r===""){o=s;continue}return s}}return-1}function w5(n,e,t,i=!0,s){if(n<4)return null;const o=s.getLanguageConfiguration(e.tokenization.getLanguageId()).indentRulesSupport;if(!o)return null;if(t<=1)return{indentation:"",action:null};const r=hft(e,t,o);if(r<0)return null;if(r<1)return{indentation:"",action:null};const a=e.getLineContent(r);if(o.shouldIncrease(a)||o.shouldIndentNextLine(a))return{indentation:zi(a),action:is.Indent,line:r};if(o.shouldDecrease(a))return{indentation:zi(a),action:null,line:r};{if(r===1)return{indentation:zi(e.getLineContent(r)),action:null,line:r};const l=r-1,c=o.getIndentMetadata(e.getLineContent(l));if(!(c&3)&&c&4){let u=0;for(let d=l-1;d>0;d--)if(!o.shouldIndentNextLine(e.getLineContent(d))){u=d;break}return{indentation:zi(e.getLineContent(u+1)),action:null,line:u+1}}if(i)return{indentation:zi(e.getLineContent(r)),action:null,line:r};for(let u=r;u>0;u--){const d=e.getLineContent(u);if(o.shouldIncrease(d))return{indentation:zi(d),action:is.Indent,line:u};if(o.shouldIndentNextLine(d)){let h=0;for(let f=u-1;f>0;f--)if(!o.shouldIndentNextLine(e.getLineContent(u))){h=f;break}return{indentation:zi(e.getLineContent(h+1)),action:null,line:h+1}}else if(o.shouldDecrease(d))return{indentation:zi(d),action:null,line:u}}return{indentation:zi(e.getLineContent(1)),action:null,line:1}}}function lC(n,e,t,i,s,o){if(n<4)return null;const r=o.getLanguageConfiguration(t);if(!r)return null;const a=o.getLanguageConfiguration(t).indentRulesSupport;if(!a)return null;const l=w5(n,e,i,void 0,o),c=e.getLineContent(i);if(l){const u=l.line;if(u!==void 0){const d=r.onEnter(n,"",e.getLineContent(u),"");if(d){let h=zi(e.getLineContent(u));return d.removeText&&(h=h.substring(0,h.length-d.removeText)),d.indentAction===is.Indent||d.indentAction===is.IndentOutdent?h=s.shiftIndent(h):d.indentAction===is.Outdent&&(h=s.unshiftIndent(h)),a.shouldDecrease(c)&&(h=s.unshiftIndent(h)),d.appendText&&(h+=d.appendText),zi(h)}}return a.shouldDecrease(c)?l.action===is.Indent?l.indentation:s.unshiftIndent(l.indentation):l.action===is.Indent?s.shiftIndent(l.indentation):l.indentation}return null}function fft(n,e,t,i,s){if(n<4)return null;e.tokenization.forceTokenization(t.startLineNumber);const o=e.tokenization.getLineTokens(t.startLineNumber),r=$x(o,t.startColumn-1),a=r.getLineContent();let l=!1,c;r.firstCharOffset>0&&o.getLanguageId(0)!==r.languageId?(l=!0,c=a.substr(0,t.startColumn-1-r.firstCharOffset)):c=o.getLineContent().substring(0,t.startColumn-1);let u;t.isEmpty()?u=a.substr(t.startColumn-1-r.firstCharOffset):u=w1(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-r.firstCharOffset);const d=s.getLanguageConfiguration(r.languageId).indentRulesSupport;if(!d)return null;const h=c,f=zi(c),p={tokenization:{getLineTokens:y=>e.tokenization.getLineTokens(y),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(y,L)=>e.getLanguageIdAtPosition(y,L)},getLineContent:y=>y===t.startLineNumber?h:e.getLineContent(y)},m=zi(o.getLineContent()),b=w5(n,p,t.startLineNumber+1,void 0,s);if(!b){const y=l?m:f;return{beforeEnter:y,afterEnter:y}}let w=l?m:b.indentation;return b.action===is.Indent&&(w=i.shiftIndent(w)),d.shouldDecrease(u)&&(w=i.unshiftIndent(w)),{beforeEnter:l?m:f,afterEnter:w}}function gft(n,e,t,i,s,o){if(n<4)return null;const r=w1(e,t.startLineNumber,t.startColumn);if(r.firstCharOffset)return null;const a=o.getLanguageConfiguration(r.languageId).indentRulesSupport;if(!a)return null;const l=r.getLineContent(),c=l.substr(0,t.startColumn-1-r.firstCharOffset);let u;if(t.isEmpty()?u=l.substr(t.startColumn-1-r.firstCharOffset):u=w1(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-r.firstCharOffset),!a.shouldDecrease(c+u)&&a.shouldDecrease(c+i+u)){const d=w5(n,e,t.startLineNumber,!1,o);if(!d)return null;let h=d.indentation;return d.action!==is.Indent&&(h=s.unshiftIndent(h)),h}return null}function Ute(n,e,t){const i=t.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;return!i||e<1||e>n.getLineCount()?null:i.getIndentMetadata(n.getLineContent(e))}class wn{static indent(e,t,i){if(t===null||i===null)return[];const s=[];for(let o=0,r=i.length;o<r;o++)s[o]=new Ya(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return s}static outdent(e,t,i){const s=[];for(let o=0,r=i.length;o<r;o++)s[o]=new Ya(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return s}static shiftIndent(e,t,i){return i=i||1,Ya.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,Ya.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,s){const o=[];for(let r=0,a=i.length;r<a;r++)o[r]=new Zs(i[r],s[r]);return new or(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,s,o){const r=[];for(let a=0,l=i.length;a<l;a++){const c=i[a],u=c.getPosition();if(o&&!c.isEmpty()&&(o=!1),o&&s.indexOf(`
`)!==s.length-1&&(o=!1),o){const d=new A(u.lineNumber,1,u.lineNumber,1);r[a]=new HP(d,s,c,!0)}else r[a]=new Zs(c,s)}return new or(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,s,o){if(s||t.length===1)return null;if(o&&o.length===t.length)return o;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substr(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substr(0,i.length-1));const r=Ju(i);if(r.length===t.length)return r}return null}static paste(e,t,i,s,o,r){const a=this._distributePasteToCursors(e,i,s,o,r);return a?(i=i.sort(A.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,s,o)}static _goodIndentForLine(e,t,i){let s=null,o="";const r=w5(e.autoIndent,t,i,!1,e.languageConfigurationService);if(r)s=r.action,o=r.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){const u=t.getLineContent(a);if(ju(u)>=0)break}if(a<1)return null;const l=t.getLineMaxColumn(a),c=k1(e.autoIndent,t,new A(a,l,a,l),e.languageConfigurationService);c&&(o=c.indentation+c.appendText)}return s&&(s===is.Indent&&(o=wn.shiftIndent(e,o)),s===is.Outdent&&(o=wn.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,i,s){let o="";const r=i.getStartPosition();if(e.insertSpaces){const a=e.visibleColumnFromColumn(t,r),l=e.indentSize,c=l-a%l;for(let u=0;u<c;u++)o+=" "}else o="	";return new Zs(i,o,s)}static tab(e,t,i){const s=[];for(let o=0,r=i.length;o<r;o++){const a=i[o];if(a.isEmpty()){const l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.tokenization.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";const u=e.normalizeIndentation(c);if(!l.startsWith(u)){s[o]=new Zs(new A(a.startLineNumber,1,a.startLineNumber,l.length+1),u,!0);continue}}s[o]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){const l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){s[o]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}s[o]=new Ya(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return s}static compositionType(e,t,i,s,o,r,a,l){const c=s.map(u=>this._compositionType(i,u,o,r,a,l));return new or(4,c,{shouldPushStackElementBefore:zS(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,s,o,r){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-s),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+o),u=new A(a.lineNumber,l,a.lineNumber,c);return e.getValueInRange(u)===i&&r===0?null:new g6(u,i,0,r)}static _typeCommand(e,t,i){return i?new HS(e,t,!0):new Zs(e,t,!0)}static _enter(e,t,i,s){if(e.autoIndent===0)return wn._typeCommand(s,`
`,i);if(!t.tokenization.isCheapToTokenize(s.getStartPosition().lineNumber)||e.autoIndent===1){const l=t.getLineContent(s.startLineNumber),c=zi(l).substring(0,s.startColumn-1);return wn._typeCommand(s,`
`+e.normalizeIndentation(c),i)}const o=k1(e.autoIndent,t,s,e.languageConfigurationService);if(o){if(o.indentAction===is.None)return wn._typeCommand(s,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===is.Indent)return wn._typeCommand(s,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===is.IndentOutdent){const l=e.normalizeIndentation(o.indentation),c=e.normalizeIndentation(o.indentation+o.appendText),u=`
`+c+`
`+l;return i?new HS(s,u,!0):new g6(s,u,-1,c.length-l.length,!0)}else if(o.indentAction===is.Outdent){const l=wn.unshiftIndent(e,o.indentation);return wn._typeCommand(s,`
`+e.normalizeIndentation(l+o.appendText),i)}}const r=t.getLineContent(s.startLineNumber),a=zi(r).substring(0,s.startColumn-1);if(e.autoIndent>=4){const l=fft(e.autoIndent,t,s,{unshiftIndent:c=>wn.unshiftIndent(e,c),shiftIndent:c=>wn.shiftIndent(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)},e.languageConfigurationService);if(l){let c=e.visibleColumnFromColumn(t,s.getEndPosition());const u=s.endColumn,d=t.getLineContent(s.endLineNumber),h=Qo(d);if(h>=0?s=s.setEndPosition(s.endLineNumber,Math.max(s.endColumn,h+1)):s=s.setEndPosition(s.endLineNumber,t.getLineMaxColumn(s.endLineNumber)),i)return new HS(s,`
`+e.normalizeIndentation(l.afterEnter),!0);{let f=0;return u<=h+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),f=Math.min(c+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new g6(s,`
`+e.normalizeIndentation(l.afterEnter),0,f,!0)}}}return wn._typeCommand(s,`
`+e.normalizeIndentation(a),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let s=0,o=i.length;s<o;s++)if(!t.tokenization.isCheapToTokenize(i[s].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,s){const o=kee(t,i.startLineNumber,i.startColumn),r=gft(e.autoIndent,t,i,s,{shiftIndent:a=>wn.shiftIndent(e,a),unshiftIndent:a=>wn.unshiftIndent(e,a)},e.languageConfigurationService);if(r===null)return null;if(r!==e.normalizeIndentation(o)){const a=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return a===0?wn._typeCommand(new A(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(r)+s,!1):wn._typeCommand(new A(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(r)+t.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+s,!1)}return null}static _isAutoClosingOvertype(e,t,i,s,o){if(e.autoClosingOvertype==="never"||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let r=0,a=i.length;r<a;r++){const l=i[r];if(!l.isEmpty())return!1;const c=l.getPosition(),u=t.getLineContent(c.lineNumber);if(u.charAt(c.column-1)!==o)return!1;const h=Ef(o);if((c.column>2?u.charCodeAt(c.column-2):0)===92&&h)return!1;if(e.autoClosingOvertype==="auto"){let p=!1;for(let m=0,b=s.length;m<b;m++){const w=s[m];if(c.lineNumber===w.startLineNumber&&c.column===w.startColumn){p=!0;break}}if(!p)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,s,o){const r=[];for(let a=0,l=s.length;a<l;a++){const u=s[a].getPosition(),d=new A(u.lineNumber,u.column,u.lineNumber,u.column+1);r[a]=new Zs(d,o)}return new or(4,r,{shouldPushStackElementBefore:zS(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),s=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],r=s.some(l=>t.startsWith(l.open)),a=o.some(l=>t.startsWith(l.close));return!r&&a}static _findAutoClosingPairOpen(e,t,i,s){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(s);if(!o)return null;let r=null;for(const a of o)if(r===null||a.open.length>r.open.length){let l=!0;for(const c of i)if(t.getValueInRange(new A(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+s!==a.open){l=!1;break}l&&(r=a)}return r}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),s=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let o=null;for(const r of s)r.open!==t.open&&t.open.includes(r.open)&&t.close.endsWith(r.close)&&(!o||r.open.length>o.open.length)&&(o=r);return o}static _getAutoClosingPairClose(e,t,i,s,o){const r=Ef(s),a=r?e.autoClosingQuotes:e.autoClosingBrackets,l=r?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;if(a==="never")return null;for(const p of i)if(!p.isEmpty())return null;const c=i.map(p=>{const m=p.getPosition();return o?{lineNumber:m.lineNumber,beforeColumn:m.column-s.length,afterColumn:m.column}:{lineNumber:m.lineNumber,beforeColumn:m.column,afterColumn:m.column}}),u=this._findAutoClosingPairOpen(e,t,c.map(p=>new oe(p.lineNumber,p.beforeColumn)),s);if(!u)return null;const d=this._findContainedAutoClosingPair(e,u),h=d?d.close:"";let f=!0;for(const p of c){const{lineNumber:m,beforeColumn:b,afterColumn:w}=p,y=t.getLineContent(m),L=y.substring(0,b-1),D=y.substring(w-1);if(D.startsWith(h)||(f=!1),D.length>0){const k=D.charAt(0);if(!wn._isBeforeClosingBrace(e,D)&&!l(k))return null}if(u.open.length===1&&(s==="'"||s==='"')&&a!=="always"){const k=cl(e.wordSeparators);if(L.length>0){const N=L.charCodeAt(L.length-1);if(k.get(N)===0)return null}}if(!t.tokenization.isCheapToTokenize(m))return null;t.tokenization.forceTokenization(m);const E=t.tokenization.getLineTokens(m),T=$x(E,b-1);if(!u.shouldAutoClose(T,b-T.firstCharOffset))return null;const x=u.findNeutralCharacter();if(x){const k=t.tokenization.getTokenTypeIfInsertingCharacter(m,b,x);if(!u.isOK(k))return null}}return f?u.close.substring(0,u.close.length-h.length):u.close}static _runAutoClosingOpenCharType(e,t,i,s,o,r,a){const l=[];for(let c=0,u=s.length;c<u;c++){const d=s[c];l[c]=new jte(d,o,!r,a)}return new or(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return Ef(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"}static _isSurroundSelectionType(e,t,i,s){if(!wn._shouldSurroundChar(e,s)||!e.surroundingPairs.hasOwnProperty(s))return!1;const o=Ef(s);for(const r of i){if(r.isEmpty())return!1;let a=!0;for(let l=r.startLineNumber;l<=r.endLineNumber;l++){const c=t.getLineContent(l),u=l===r.startLineNumber?r.startColumn-1:0,d=l===r.endLineNumber?r.endColumn-1:c.length,h=c.substring(u,d);if(/[^ \t]/.test(h)){a=!1;break}}if(a)return!1;if(o&&r.startLineNumber===r.endLineNumber&&r.startColumn+1===r.endColumn){const l=t.getValueInRange(r);if(Ef(l))return!1}}return!0}static _runSurroundSelectionType(e,t,i,s,o){const r=[];for(let a=0,l=s.length;a<l;a++){const c=s[a],u=t.surroundingPairs[o];r[a]=new uft(c,o,u)}return new or(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.tokenization.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,s,o){if(!t.electricChars.hasOwnProperty(o)||!s.isEmpty())return null;const r=s.getPosition();i.tokenization.forceTokenization(r.lineNumber);const a=i.tokenization.getLineTokens(r.lineNumber);let l;try{l=t.onElectricCharacter(o,a,r.column)}catch(c){return Ot(c),null}if(!l)return null;if(l.matchOpenBracket){const c=(a.getLineContent()+o).lastIndexOf(l.matchOpenBracket)+1,u=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:r.lineNumber,column:c},500);if(u){if(u.startLineNumber===r.lineNumber)return null;const d=i.getLineContent(u.startLineNumber),h=zi(d),f=t.normalizeIndentation(h),p=i.getLineContent(r.lineNumber),m=i.getLineFirstNonWhitespaceColumn(r.lineNumber)||r.column,b=p.substring(m-1,r.column-1),w=f+b+o,y=new A(r.lineNumber,1,r.lineNumber,r.column),L=new Zs(y,w);return new or(gI(w,e),[L],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,s,o,r){if(!s)return null;let a=null;for(const d of s)if(a===null)a=d.insertedText;else if(a!==d.insertedText)return null;if(!a||a.length!==1)return null;const l=a;let c=!1;for(const d of s)if(d.deletedText.length!==0){c=!0;break}if(c){if(!wn._shouldSurroundChar(t,l)||!t.surroundingPairs.hasOwnProperty(l))return null;const d=Ef(l);for(const p of s)if(p.deletedSelectionStart!==0||p.deletedSelectionEnd!==p.deletedText.length||/^[ \t]+$/.test(p.deletedText)||d&&Ef(p.deletedText))return null;const h=[];for(const p of o){if(!p.isEmpty())return null;h.push(p.getPosition())}if(h.length!==s.length)return null;const f=[];for(let p=0,m=h.length;p<m;p++)f.push(new dft(h[p],s[p].deletedText,l));return new or(4,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,i,o,r,l)){const d=o.map(h=>new Zs(new A(h.positionLineNumber,h.positionColumn,h.positionLineNumber,h.positionColumn+1),"",!1));return new or(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const u=this._getAutoClosingPairClose(t,i,o,l,!0);return u!==null?this._runAutoClosingOpenCharType(e,t,i,o,l,!0,u):null}static typeWithInterceptors(e,t,i,s,o,r,a){if(!e&&a===`
`){const u=[];for(let d=0,h=o.length;d<h;d++)u[d]=wn._enter(i,s,!1,o[d]);return new or(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,s,o)){const u=[];let d=!1;for(let h=0,f=o.length;h<f;h++)if(u[h]=this._runAutoIndentType(i,s,o[h],a),!u[h]){d=!0;break}if(!d)return new or(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(i,s,o,r,a))return this._runAutoClosingOvertype(t,i,s,o,a);if(!e){const u=this._getAutoClosingPairClose(i,s,o,a,!1);if(u)return this._runAutoClosingOpenCharType(t,i,s,o,a,!1,u)}if(!e&&this._isSurroundSelectionType(i,s,o,a))return this._runSurroundSelectionType(t,i,s,o,a);if(!e&&this._isTypeInterceptorElectricChar(i,s,o)){const u=this._typeInterceptorElectricChar(t,i,s,o[0],a);if(u)return u}const l=[];for(let u=0,d=o.length;u<d;u++)l[u]=new Zs(o[u],a);const c=gI(a,t);return new or(c,l,{shouldPushStackElementBefore:zS(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,s,o){const r=[];for(let l=0,c=s.length;l<c;l++)r[l]=new Zs(s[l],o);const a=gI(o,e);return new or(a,r,{shouldPushStackElementBefore:zS(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];const s=[];for(let o=0,r=i.length;o<r;o++){let a=i[o].positionLineNumber;if(a===1)s[o]=new HS(new A(1,1,1,1),`
`);else{a--;const l=t.getLineMaxColumn(a);s[o]=this._enter(e,t,!1,new A(a,l,a,l))}}return s}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];const s=[];for(let o=0,r=i.length;o<r;o++){const a=i[o].positionLineNumber,l=t.getLineMaxColumn(a);s[o]=this._enter(e,t,!1,new A(a,l,a,l))}return s}static lineBreakInsert(e,t,i){const s=[];for(let o=0,r=i.length;o<r;o++)s[o]=this._enter(e,t,!0,i[o]);return s}}class jte extends g6{constructor(e,t,i,s){super(e,(i?t:"")+s,0,-s.length),this._openCharacter=t,this._closeCharacter=s,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new A(s.startLineNumber,s.endColumn-this._closeCharacter.length,s.endLineNumber,s.endColumn),this.enclosingRange=new A(s.startLineNumber,s.endColumn-this._openCharacter.length-this._closeCharacter.length,s.endLineNumber,s.endColumn),super.computeCursorState(e,t)}}class pft{constructor(e,t,i,s,o,r){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=i,this.insertedText=s,this.insertedSelectionStart=o,this.insertedSelectionEnd=r}}function gI(n,e){return n===" "?e===5||e===6?6:5:4}function zS(n,e){return qj(n)&&!qj(e)?!0:n===5?!1:Kj(n)!==Kj(e)}function Kj(n){return n===6||n===5?"space":n}function qj(n){return n===4||n===5||n===6}var z;(function(n){n.editorSimpleInput=new et("editorSimpleInput",!1,!0),n.editorTextFocus=new et("editorTextFocus",!1,v("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),n.focus=new et("editorFocus",!1,v("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),n.textInputFocus=new et("textInputFocus",!1,v("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),n.readOnly=new et("editorReadonly",!1,v("editorReadonly","Whether the editor is read only")),n.inDiffEditor=new et("inDiffEditor",!1,v("inDiffEditor","Whether the context is a diff editor")),n.columnSelection=new et("editorColumnSelection",!1,v("editorColumnSelection","Whether `editor.columnSelection` is enabled")),n.writable=n.readOnly.toNegated(),n.hasNonEmptySelection=new et("editorHasSelection",!1,v("editorHasSelection","Whether the editor has text selected")),n.hasOnlyEmptySelection=n.hasNonEmptySelection.toNegated(),n.hasMultipleSelections=new et("editorHasMultipleSelections",!1,v("editorHasMultipleSelections","Whether the editor has multiple selections")),n.hasSingleSelection=n.hasMultipleSelections.toNegated(),n.tabMovesFocus=new et("editorTabMovesFocus",!1,v("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),n.tabDoesNotMoveFocus=n.tabMovesFocus.toNegated(),n.isInWalkThroughSnippet=new et("isInEmbeddedEditor",!1,!0),n.canUndo=new et("canUndo",!1,!0),n.canRedo=new et("canRedo",!1,!0),n.hoverVisible=new et("editorHoverVisible",!1,v("editorHoverVisible","Whether the editor hover is visible")),n.inCompositeEditor=new et("inCompositeEditor",void 0,v("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),n.notInCompositeEditor=n.inCompositeEditor.toNegated(),n.languageId=new et("editorLangId","",v("editorLangId","The language identifier of the editor")),n.hasCompletionItemProvider=new et("editorHasCompletionItemProvider",!1,v("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),n.hasCodeActionsProvider=new et("editorHasCodeActionsProvider",!1,v("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),n.hasCodeLensProvider=new et("editorHasCodeLensProvider",!1,v("editorHasCodeLensProvider","Whether the editor has a code lens provider")),n.hasDefinitionProvider=new et("editorHasDefinitionProvider",!1,v("editorHasDefinitionProvider","Whether the editor has a definition provider")),n.hasDeclarationProvider=new et("editorHasDeclarationProvider",!1,v("editorHasDeclarationProvider","Whether the editor has a declaration provider")),n.hasImplementationProvider=new et("editorHasImplementationProvider",!1,v("editorHasImplementationProvider","Whether the editor has an implementation provider")),n.hasTypeDefinitionProvider=new et("editorHasTypeDefinitionProvider",!1,v("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),n.hasHoverProvider=new et("editorHasHoverProvider",!1,v("editorHasHoverProvider","Whether the editor has a hover provider")),n.hasDocumentHighlightProvider=new et("editorHasDocumentHighlightProvider",!1,v("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),n.hasDocumentSymbolProvider=new et("editorHasDocumentSymbolProvider",!1,v("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),n.hasReferenceProvider=new et("editorHasReferenceProvider",!1,v("editorHasReferenceProvider","Whether the editor has a reference provider")),n.hasRenameProvider=new et("editorHasRenameProvider",!1,v("editorHasRenameProvider","Whether the editor has a rename provider")),n.hasSignatureHelpProvider=new et("editorHasSignatureHelpProvider",!1,v("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),n.hasInlayHintsProvider=new et("editorHasInlayHintsProvider",!1,v("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),n.hasDocumentFormattingProvider=new et("editorHasDocumentFormattingProvider",!1,v("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),n.hasDocumentSelectionFormattingProvider=new et("editorHasDocumentSelectionFormattingProvider",!1,v("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),n.hasMultipleDocumentFormattingProvider=new et("editorHasMultipleDocumentFormattingProvider",!1,v("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),n.hasMultipleDocumentSelectionFormattingProvider=new et("editorHasMultipleDocumentSelectionFormattingProvider",!1,v("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(z||(z={}));const Si=0;class jn extends Ys{runEditorCommand(e,t,i){const s=t._getViewModel();!s||this.runCoreEditorCommand(s,i||{})}}var P8;(function(n){const e=function(i){if(!pr(i))return!1;const s=i;return!(!br(s.to)||!Br(s.by)&&!br(s.by)||!Br(s.value)&&!wg(s.value)||!Br(s.revealCursor)&&!WJ(s.revealCursor))};n.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},n.RawDirection={Up:"up",Down:"down"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"};function t(i){let s;switch(i.to){case n.RawDirection.Up:s=1;break;case n.RawDirection.Down:s=2;break;default:return null}let o;switch(i.by){case n.RawUnit.Line:o=1;break;case n.RawUnit.WrappedLine:o=2;break;case n.RawUnit.Page:o=3;break;case n.RawUnit.HalfPage:o=4;break;case n.RawUnit.Editor:o=5;break;default:o=2}const r=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:s,unit:o,value:r,revealCursor:a,select:!!i.select}}n.parse=t})(P8||(P8={}));var o1;(function(n){const e=function(t){if(!pr(t))return!1;const i=t;return!(!wg(i.lineNumber)&&!br(i.lineNumber)||!Br(i.at)&&!br(i.at))};n.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(o1||(o1={}));class mM{constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{const s=t.get(Ei).getFocusedCodeEditor();return s&&s.hasTextFocus()?this._runEditorCommand(t,s,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{const s=document.activeElement;return s&&["input","textarea"].indexOf(s.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{const s=t.get(Ei).getActiveCodeEditor();return s?(s.focus(),this._runEditorCommand(t,s,i)):!1})}_runEditorCommand(e,t,i){const s=this.runEditorCommand(e,t,i);return s||!0}}var Os;(function(n){class e extends jn{constructor(y){super(y),this._minimalReveal=y.minimalReveal,this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,L){y.model.pushStackElement(),y.setCursorStates(L.source,3,[js.moveTo(y,y.getPrimaryCursorState(),this._inSelectionMode,L.position,L.viewPosition)])&&y.revealPrimaryCursor(L.source,!0,this._minimalReveal)}}n.MoveTo=Ae(new e({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),n.MoveToSelect=Ae(new e({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class t extends jn{runCoreEditorCommand(y,L){y.model.pushStackElement();const D=this._getColumnSelectResult(y,y.getPrimaryCursorState(),y.getCursorColumnSelectData(),L);y.setCursorStates(L.source,3,D.viewStates.map(E=>Xt.fromViewState(E))),y.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:D.fromLineNumber,fromViewVisualColumn:D.fromVisualColumn,toViewLineNumber:D.toLineNumber,toViewVisualColumn:D.toVisualColumn}),D.reversed?y.revealTopMostCursor(L.source):y.revealBottomMostCursor(L.source)}}n.ColumnSelect=Ae(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(w,y,L,D){const E=w.model.validatePosition(D.position),T=w.coordinatesConverter.validateViewPosition(new oe(D.viewPosition.lineNumber,D.viewPosition.column),E),x=D.doColumnSelect?L.fromViewLineNumber:T.lineNumber,k=D.doColumnSelect?L.fromViewVisualColumn:D.mouseColumn-1;return Wp.columnSelect(w.cursorConfig,w,x,k,T.lineNumber,D.mouseColumn-1)}}),n.CursorColumnSelectLeft=Ae(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(w,y,L,D){return Wp.columnSelectLeft(w.cursorConfig,w,L)}}),n.CursorColumnSelectRight=Ae(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(w,y,L,D){return Wp.columnSelectRight(w.cursorConfig,w,L)}});class i extends t{constructor(y){super(y),this._isPaged=y.isPaged}_getColumnSelectResult(y,L,D,E){return Wp.columnSelectUp(y.cursorConfig,y,D,this._isPaged)}}n.CursorColumnSelectUp=Ae(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=Ae(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:3595,linux:{primary:0}}}));class s extends t{constructor(y){super(y),this._isPaged=y.isPaged}_getColumnSelectResult(y,L,D,E){return Wp.columnSelectDown(y.cursorConfig,y,D,this._isPaged)}}n.CursorColumnSelectDown=Ae(new s({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=Ae(new s({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:3596,linux:{primary:0}}}));class o extends jn{constructor(){super({id:"cursorMove",precondition:void 0,description:O8.description})}runCoreEditorCommand(y,L){const D=O8.parse(L);!D||this._runCursorMove(y,L.source,D)}_runCursorMove(y,L,D){y.model.pushStackElement(),y.setCursorStates(L,3,o._move(y,y.getCursorStates(),D)),y.revealPrimaryCursor(L,!0)}static _move(y,L,D){const E=D.select,T=D.value;switch(D.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return js.simpleMove(y,L,D.direction,E,T,D.unit);case 11:case 13:case 12:case 14:return js.viewportMove(y,L,D.direction,E,T);default:return null}}}n.CursorMoveImpl=o,n.CursorMove=Ae(new o);class r extends jn{constructor(y){super(y),this._staticArgs=y.args}runCoreEditorCommand(y,L){let D=this._staticArgs;this._staticArgs.value===-1&&(D={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:L.pageSize||y.cursorConfig.pageSize}),y.model.pushStackElement(),y.setCursorStates(L.source,3,js.simpleMove(y,y.getCursorStates(),D.direction,D.select,D.value,D.unit)),y.revealPrimaryCursor(L.source,!0)}}n.CursorLeft=Ae(new r({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=Ae(new r({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:1039}})),n.CursorRight=Ae(new r({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=Ae(new r({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:1041}})),n.CursorUp=Ae(new r({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=Ae(new r({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=Ae(new r({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:11}})),n.CursorPageUpSelect=Ae(new r({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:1035}})),n.CursorDown=Ae(new r({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=Ae(new r({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=Ae(new r({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:12}})),n.CursorPageDownSelect=Ae(new r({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:1036}})),n.CreateCursor=Ae(new class extends jn{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(w,y){let L;y.wholeLine?L=js.line(w,w.getPrimaryCursorState(),!1,y.position,y.viewPosition):L=js.moveTo(w,w.getPrimaryCursorState(),!1,y.position,y.viewPosition);const D=w.getCursorStates();if(D.length>1){const E=L.modelState?L.modelState.position:null,T=L.viewState?L.viewState.position:null;for(let x=0,k=D.length;x<k;x++){const N=D[x];if(!(E&&!N.modelState.selection.containsPosition(E))&&!(T&&!N.viewState.selection.containsPosition(T))){D.splice(x,1),w.model.pushStackElement(),w.setCursorStates(y.source,3,D);return}}}D.push(L),w.model.pushStackElement(),w.setCursorStates(y.source,3,D)}}),n.LastCursorMoveToSelect=Ae(new class extends jn{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(w,y){const L=w.getLastAddedCursorIndex(),D=w.getCursorStates(),E=D.slice(0);E[L]=js.moveTo(w,D[L],!0,y.position,y.viewPosition),w.model.pushStackElement(),w.setCursorStates(y.source,3,E)}});class a extends jn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,L){y.model.pushStackElement(),y.setCursorStates(L.source,3,js.moveToBeginningOfLine(y,y.getCursorStates(),this._inSelectionMode)),y.revealPrimaryCursor(L.source,!0)}}n.CursorHome=Ae(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=Ae(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends jn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,L){y.model.pushStackElement(),y.setCursorStates(L.source,3,this._exec(y.getCursorStates())),y.revealPrimaryCursor(L.source,!0)}_exec(y){const L=[];for(let D=0,E=y.length;D<E;D++){const T=y[D],x=T.modelState.position.lineNumber;L[D]=Xt.fromModelState(T.modelState.move(this._inSelectionMode,x,1,0))}return L}}n.CursorLineStart=Ae(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:0,mac:{primary:287}}})),n.CursorLineStartSelect=Ae(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends jn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,L){y.model.pushStackElement(),y.setCursorStates(L.source,3,js.moveToEndOfLine(y,y.getCursorStates(),this._inSelectionMode,L.sticky||!1)),y.revealPrimaryCursor(L.source,!0)}}n.CursorEnd=Ae(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Si,kbExpr:z.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:v("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),n.CursorEndSelect=Ae(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Si,kbExpr:z.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:v("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class u extends jn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,L){y.model.pushStackElement(),y.setCursorStates(L.source,3,this._exec(y,y.getCursorStates())),y.revealPrimaryCursor(L.source,!0)}_exec(y,L){const D=[];for(let E=0,T=L.length;E<T;E++){const x=L[E],k=x.modelState.position.lineNumber,N=y.model.getLineMaxColumn(k);D[E]=Xt.fromModelState(x.modelState.move(this._inSelectionMode,k,N,0))}return D}}n.CursorLineEnd=Ae(new u({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:0,mac:{primary:291}}})),n.CursorLineEndSelect=Ae(new u({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:0,mac:{primary:1315}}}));class d extends jn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,L){y.model.pushStackElement(),y.setCursorStates(L.source,3,js.moveToBeginningOfBuffer(y,y.getCursorStates(),this._inSelectionMode)),y.revealPrimaryCursor(L.source,!0)}}n.CursorTop=Ae(new d({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=Ae(new d({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:3086,mac:{primary:3088}}}));class h extends jn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,L){y.model.pushStackElement(),y.setCursorStates(L.source,3,js.moveToEndOfBuffer(y,y.getCursorStates(),this._inSelectionMode)),y.revealPrimaryCursor(L.source,!0)}}n.CursorBottom=Ae(new h({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=Ae(new h({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:3085,mac:{primary:3090}}}));class f extends jn{constructor(){super({id:"editorScroll",precondition:void 0,description:P8.description})}runCoreEditorCommand(y,L){const D=P8.parse(L);!D||this._runEditorScroll(y,L.source,D)}_runEditorScroll(y,L,D){const E=this._computeDesiredScrollTop(y,D);if(D.revealCursor){const T=y.getCompletelyVisibleViewRangeAtScrollTop(E);y.setCursorStates(L,3,[js.findPositionInViewportIfOutside(y,y.getPrimaryCursorState(),T,D.select)])}y.viewLayout.setScrollPosition({scrollTop:E},0)}_computeDesiredScrollTop(y,L){if(L.unit===1){const T=y.getCompletelyVisibleViewRange(),x=y.coordinatesConverter.convertViewRangeToModelRange(T);let k;L.direction===1?k=Math.max(1,x.startLineNumber-L.value):k=Math.min(y.model.getLineCount(),x.startLineNumber+L.value);const N=y.coordinatesConverter.convertModelPositionToViewPosition(new oe(k,1));return y.viewLayout.getVerticalOffsetForLineNumber(N.lineNumber)}if(L.unit===5){let T=0;return L.direction===2&&(T=y.model.getLineCount()-y.cursorConfig.pageSize),y.viewLayout.getVerticalOffsetForLineNumber(T)}let D;L.unit===3?D=y.cursorConfig.pageSize*L.value:L.unit===4?D=Math.round(y.cursorConfig.pageSize/2)*L.value:D=L.value;const E=(L.direction===1?-1:1)*D;return y.viewLayout.getCurrentScrollTop()+E*y.cursorConfig.lineHeight}}n.EditorScrollImpl=f,n.EditorScroll=Ae(new f),n.ScrollLineUp=Ae(new class extends jn{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(w,y){n.EditorScroll._runEditorScroll(w,y.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),n.ScrollPageUp=Ae(new class extends jn{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(w,y){n.EditorScroll._runEditorScroll(w,y.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),n.ScrollEditorTop=Ae(new class extends jn{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus}})}runCoreEditorCommand(w,y){n.EditorScroll._runEditorScroll(w,y.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),n.ScrollLineDown=Ae(new class extends jn{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(w,y){n.EditorScroll._runEditorScroll(w,y.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),n.ScrollPageDown=Ae(new class extends jn{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(w,y){n.EditorScroll._runEditorScroll(w,y.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),n.ScrollEditorBottom=Ae(new class extends jn{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus}})}runCoreEditorCommand(w,y){n.EditorScroll._runEditorScroll(w,y.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class p extends jn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,L){y.model.pushStackElement(),y.setCursorStates(L.source,3,[js.word(y,y.getPrimaryCursorState(),this._inSelectionMode,L.position)]),y.revealPrimaryCursor(L.source,!0)}}n.WordSelect=Ae(new p({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),n.WordSelectDrag=Ae(new p({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),n.LastCursorWordSelect=Ae(new class extends jn{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(w,y){const L=w.getLastAddedCursorIndex(),D=w.getCursorStates(),E=D.slice(0),T=D[L];E[L]=js.word(w,T,T.modelState.hasSelection(),y.position),w.model.pushStackElement(),w.setCursorStates(y.source,3,E)}});class m extends jn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,L){y.model.pushStackElement(),y.setCursorStates(L.source,3,[js.line(y,y.getPrimaryCursorState(),this._inSelectionMode,L.position,L.viewPosition)]),y.revealPrimaryCursor(L.source,!1)}}n.LineSelect=Ae(new m({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),n.LineSelectDrag=Ae(new m({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class b extends jn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,L){const D=y.getLastAddedCursorIndex(),E=y.getCursorStates(),T=E.slice(0);T[D]=js.line(y,E[D],this._inSelectionMode,L.position,L.viewPosition),y.model.pushStackElement(),y.setCursorStates(L.source,3,T)}}n.LastCursorLineSelect=Ae(new b({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),n.LastCursorLineSelectDrag=Ae(new b({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),n.CancelSelection=Ae(new class extends jn{constructor(){super({id:"cancelSelection",precondition:z.hasNonEmptySelection,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(w,y){w.model.pushStackElement(),w.setCursorStates(y.source,3,[js.cancelSelection(w,w.getPrimaryCursorState())]),w.revealPrimaryCursor(y.source,!0)}}),n.RemoveSecondaryCursors=Ae(new class extends jn{constructor(){super({id:"removeSecondaryCursors",precondition:z.hasMultipleSelections,kbOpts:{weight:Si+1,kbExpr:z.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(w,y){w.model.pushStackElement(),w.setCursorStates(y.source,3,[w.getPrimaryCursorState()]),w.revealPrimaryCursor(y.source,!0),y8(v("removedCursor","Removed secondary cursors"))}}),n.RevealLine=Ae(new class extends jn{constructor(){super({id:"revealLine",precondition:void 0,description:o1.description})}runCoreEditorCommand(w,y){const L=y,D=L.lineNumber||0;let E=typeof D=="number"?D+1:parseInt(D)+1;E<1&&(E=1);const T=w.model.getLineCount();E>T&&(E=T);const x=new A(E,1,E,w.model.getLineMaxColumn(E));let k=0;if(L.at)switch(L.at){case o1.RawAtArgument.Top:k=3;break;case o1.RawAtArgument.Center:k=1;break;case o1.RawAtArgument.Bottom:k=4;break}const N=w.coordinatesConverter.convertModelRangeToViewRange(x);w.revealRange(y.source,!1,N,k,0)}}),n.SelectAll=new class extends mM{constructor(){super(aut)}runDOMCommand(){wa&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(w,y,L){const D=y._getViewModel();!D||this.runCoreEditorCommand(D,L)}runCoreEditorCommand(w,y){w.model.pushStackElement(),w.setCursorStates("keyboard",3,[js.selectAll(w,w.getPrimaryCursorState())])}},n.SetSelection=Ae(new class extends jn{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(w,y){w.model.pushStackElement(),w.setCursorStates(y.source,3,[Xt.fromModelSelection(y.selection)])}})})(Os||(Os={}));const mft=Xe.and(z.textInputFocus,z.columnSelection);function o2(n,e){qr.registerKeybindingRule({id:n,primary:e,when:mft,weight:Si+1})}o2(Os.CursorColumnSelectLeft.id,1039);o2(Os.CursorColumnSelectRight.id,1041);o2(Os.CursorColumnSelectUp.id,1040);o2(Os.CursorColumnSelectPageUp.id,1035);o2(Os.CursorColumnSelectDown.id,1042);o2(Os.CursorColumnSelectPageDown.id,1036);function Gj(n){return n.register(),n}var E1;(function(n){class e extends Ys{runEditorCommand(i,s,o){const r=s._getViewModel();!r||this.runCoreEditingCommand(s,r,o||{})}}n.CoreEditingCommand=e,n.LineBreakInsert=Ae(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:z.writable,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,s){t.pushUndoStop(),t.executeCommands(this.id,wn.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection)))}}),n.Outdent=Ae(new class extends e{constructor(){super({id:"outdent",precondition:z.writable,kbOpts:{weight:Si,kbExpr:Xe.and(z.editorTextFocus,z.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,s){t.pushUndoStop(),t.executeCommands(this.id,wn.outdent(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),n.Tab=Ae(new class extends e{constructor(){super({id:"tab",precondition:z.writable,kbOpts:{weight:Si,kbExpr:Xe.and(z.editorTextFocus,z.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,s){t.pushUndoStop(),t.executeCommands(this.id,wn.tab(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),n.DeleteLeft=Ae(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,s){const[o,r]=Um.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());o&&t.pushUndoStop(),t.executeCommands(this.id,r),i.setPrevEditOperationType(2)}}),n.DeleteRight=Ae(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:Si,kbExpr:z.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,s){const[o,r]=Um.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));o&&t.pushUndoStop(),t.executeCommands(this.id,r),i.setPrevEditOperationType(3)}}),n.Undo=new class extends mM{constructor(){super(mte)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(t,i,s){if(!(!i.hasModel()||i.getOption(83)===!0))return i.getModel().undo()}},n.Redo=new class extends mM{constructor(){super(_te)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(t,i,s){if(!(!i.hasModel()||i.getOption(83)===!0))return i.getModel().redo()}}})(E1||(E1={}));class Yj extends u5{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(Ei).getFocusedCodeEditor();!i||i.trigger("keyboard",this._handlerId,t)}}function I_(n,e){Gj(new Yj("default:"+n,n)),Gj(new Yj(n,n,e))}I_("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});I_("replacePreviousChar");I_("compositionType");I_("compositionStart");I_("compositionEnd");I_("paste");I_("cut");class _ft{constructor(e,t,i,s){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=s}paste(e,t,i,s){this.commandDelegate.paste(e,t,i,s)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,s){this.commandDelegate.compositionType(e,t,i,s)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Os.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new oe(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(72)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(72)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=So&&t.get(98),s=t.get(18);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):s?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){Os.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){Os.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),Os.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),Os.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){Os.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){Os.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){Os.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){Os.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){Os.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){Os.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){Os.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){Os.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){Os.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class y5{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;(t=this.onKeyDown)===null||t===void 0||t.call(this,e)}emitKeyUp(e){var t;(t=this.onKeyUp)===null||t===void 0||t.call(this,e)}emitContextMenu(e){var t;(t=this.onContextMenu)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;(t=this.onMouseMove)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;(t=this.onMouseLeave)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;(t=this.onMouseDown)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;(t=this.onMouseUp)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;(t=this.onMouseDrag)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;(t=this.onMouseDrop)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)===null||e===void 0||e.call(this)}emitMouseWheel(e){var t;(t=this.onMouseWheel)===null||t===void 0||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return y5.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i=Object.assign({},e);return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),i}}var pI;class Kte{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),s=this.getEndLineNumber();if(t<i){const l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>s)return null;let o=0,r=0;for(let l=i;l<=s;l++){const c=l-this._rendLineNumberStart;e<=l&&l<=t&&(r===0?(o=c,r=1):r++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(o,r)}onLinesChanged(e,t){const i=e+t-1;if(this.getCount()===0)return!1;const s=this.getStartLineNumber(),o=this.getEndLineNumber();let r=!1;for(let a=e;a<=i;a++)a>=s&&a<=o&&(this._lines[a-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(e,t){if(this.getCount()===0)return null;const i=t-e+1,s=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=s)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o)return this._lines.splice(e-this._rendLineNumberStart,o-e+1);const r=[];for(let d=0;d<i;d++)r[d]=this._createLine();const a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-i),u=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(r).concat(c),u}onTokensChanged(e){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let s=!1;for(let o=0,r=e.length;o<r;o++){const a=e[o];if(a.toLineNumber<t||a.fromLineNumber>i)continue;const l=Math.max(t,a.fromLineNumber),c=Math.min(i,a.toLineNumber);for(let u=l;u<=c;u++){const d=u-this._rendLineNumberStart;this._lines[d].onTokensChanged(),s=!0}}return s}}class qte{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new Kte(()=>this._host.createVisibleLine())}_createDomNode(){const e=fi(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(133)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,s=t.length;i<s;i++){const o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,s=t.length;i<s;i++){const o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new th(this.domNode.domNode,this._host,e),s={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(s,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class th{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,s){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let r=t;r<=i;r++)o.lines[r-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,s),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),s,t),o.rendLineNumberStart>t){const r=t,a=Math.min(i,o.rendLineNumberStart-1);r<=a&&(this._insertLinesBefore(o,r,a,s,t),o.linesLength+=a-r+1)}else if(o.rendLineNumberStart<t){const r=Math.min(o.linesLength,t-o.rendLineNumberStart);r>0&&(this._removeLinesBefore(o,r),o.linesLength-=r)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){const r=o.rendLineNumberStart+o.linesLength,a=i;r<=a&&(this._insertLinesAfter(o,r,a,s,t),o.linesLength+=a-r+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){const r=Math.max(0,i-o.rendLineNumberStart+1),l=o.linesLength-1-r+1;l>0&&(this._removeLinesAfter(o,l),o.linesLength-=l)}return this._finishRendering(o,!1,s),o}_renderUntouchedLines(e,t,i,s,o){const r=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){const c=r+l;a[l].layoutLine(c,s[c-o])}}_insertLinesBefore(e,t,i,s,o){const r=[];let a=0;for(let l=t;l<=i;l++)r[a++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const s=e.lines[i].getDomNode();s&&this.domNode.removeChild(s)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,s,o){const r=[];let a=0;for(let l=t;l<=i;l++)r[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let s=0;s<t;s++){const o=e.lines[i+s].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,s){th._ttPolicy&&(i=th._ttPolicy.createHTML(i));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let r=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const l=e.lines[a];s[a]&&(l.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const s=document.createElement("div");th._ttPolicy&&(t=th._ttPolicy.createHTML(t)),s.innerHTML=t;for(let o=0;o<e.linesLength;o++){const r=e.lines[o];if(i[o]){const a=s.firstChild,l=r.getDomNode();l.parentNode.replaceChild(a,l),r.setDomNode(a)}}}_finishRendering(e,t,i){const s=th._sb,o=e.linesLength,r=e.lines,a=e.rendLineNumberStart,l=[];{s.reset();let c=!1;for(let u=0;u<o;u++){const d=r[u];l[u]=!1,!(d.getDomNode()||!d.renderLine(u+a,i[u],this.viewportData,s))&&(l[u]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,s.build(),l)}{s.reset();let c=!1;const u=[];for(let d=0;d<o;d++){const h=r[d];u[d]=!1,!(l[d]||!h.renderLine(d+a,i[d],this.viewportData,s))&&(u[d]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,s.build(),u)}}}th._ttPolicy=(pI=window.trustedTypes)===null||pI===void 0?void 0:pI.createPolicy("editorViewLayer",{createHTML:n=>n});th._sb=Sg(1e5);class Gte extends xa{constructor(e){super(e),this._visibleLines=new qte(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new vft(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let s=t;s<=i;s++)this._visibleLines.getVisibleLine(s).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,s=t.length;i<s;i++){const o=t[i];o.prepareRender(e),o.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class vft{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=fi(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(61)}renderLine(e,t,i,s){let o="";for(let r=0,a=this._dynamicOverlays.length;r<a;r++)o+=this._dynamicOverlays[r].render(i.startLineNumber,e);return this._renderedContent===o?!1:(this._renderedContent=o,s.appendASCIIString('<div style="position:absolute;top:'),s.appendASCIIString(String(t)),s.appendASCIIString("px;width:100%;height:"),s.appendASCIIString(String(this._lineHeight)),s.appendASCIIString('px;">'),s.appendASCIIString(o),s.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class bft extends Gte{constructor(e){super(e);const i=this._context.configuration.options.get(133);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const i=this._context.configuration.options.get(133);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class Cft extends Gte{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(133);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),bo(this.domNode,t.get(46))}onConfigurationChanged(e){const t=this._context.configuration.options;bo(this.domNode,t.get(46));const i=t.get(133);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class tb{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class wft extends xa{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=fi(document.createElement("div")),td.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=fi(document.createElement("div")),td.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new yft(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,s){this._widgets[e.getId()].setPosition(t,i,s),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const s=i.domNode.domNode;s.parentNode.removeChild(s),s.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class yft{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=fi(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const s=this._context.configuration.options,o=s.get(133);this._fixedOverflowWidgets=s.get(38),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=s.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(61),e.hasChanged(133)){const i=t.get(133);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range,this._affinity)}_setPosition(e,t){var i;if(this._range=e,this._viewRange=null,this._affinity=t,this._range){const s=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(s.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(s.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(s,(i=this._affinity)!==null&&i!==void 0?i:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,t,i){this._setPosition(e,i),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,s,o){const r=e.top,a=r,l=t.top+this._lineHeight,c=o.viewportHeight-l,u=r-s,d=a>=s,h=l,f=c>=s;let p=e.left,m=t.left;return p+i>o.scrollLeft+o.viewportWidth&&(p=o.scrollLeft+o.viewportWidth-i),m+i>o.scrollLeft+o.viewportWidth&&(m=o.scrollLeft+o.viewportWidth-i),p<o.scrollLeft&&(p=o.scrollLeft),m<o.scrollLeft&&(m=o.scrollLeft),{fitsAbove:d,aboveTop:u,aboveLeft:p,fitsBelow:f,belowTop:h,belowLeft:m}}_layoutHorizontalSegmentInPage(e,t,i,s){const o=Math.max(0,t.left-s),r=Math.min(t.left+t.width+s,e.width);let a=t.left+i-yh.scrollX;if(a+s>r){const l=a-(r-s);a-=l,i-=l}if(a<o){const l=a-o;a-=l,i-=l}return[i,a]}_layoutBoxInPage(e,t,i,s,o){const r=e.top-s,a=t.top+this._lineHeight,l=mo(this._viewDomNode.domNode),c=l.top+r-yh.scrollY,u=l.top+a-yh.scrollY,d=e5(document.body),[h,f]=this._layoutHorizontalSegmentInPage(d,l,e.left-o.scrollLeft+this._contentLeft,i),[p,m]=this._layoutHorizontalSegmentInPage(d,l,t.left-o.scrollLeft+this._contentLeft,i),b=22,w=22,y=c>=b,L=u+s<=d.height-w;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(c,b),aboveLeft:f,fitsBelow:L,belowTop:u,belowLeft:m}:{fitsAbove:y,aboveTop:r,aboveLeft:h,fitsBelow:L,belowTop:a,belowLeft:p}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new tb(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||t.length===0)return[null,null];let i=t[0],s=t[0];for(const d of t)d.lineNumber<i.lineNumber&&(i=d),d.lineNumber>s.lineNumber&&(s=d);let o=1073741824;for(const d of i.ranges)d.left<o&&(o=d.left);let r=1073741824;for(const d of s.ranges)d.left<r&&(r=d.left);const a=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,l=new tb(a,o),c=e.getVerticalOffsetForLineNumber(s.lineNumber)-e.scrollTop,u=new tb(c,r);return[l,u]}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=mI(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeOffsetWidth=o.width,this._cachedDomNodeOffsetHeight=o.height;else{const a=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(a.width),this._cachedDomNodeOffsetHeight=Math.round(a.height)}}let s;this.allowEditorOverflow?s=this._layoutBoxInPage(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):s=this._layoutBoxInViewport(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let o=1;o<=2;o++)for(const r of this._preference)if(r===1){if(!s)return null;if(o===2||s.fitsAbove)return{coordinate:new tb(s.aboveTop,s.aboveLeft),position:1}}else if(r===2){if(!s)return null;if(o===2||s.fitsBelow)return{coordinate:new tb(s.belowTop,s.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&mI(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&mI(this._actual.afterRender,this._actual,this._renderData.position)}}function mI(n,e,...t){try{return n.call(e,...t)}catch{return null}}class Yte extends s2{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(133);this._lineHeight=t.get(61),this._renderLineHighlight=t.get(87),this._renderLineHighlightOnlyWhenFocus=t.get(88),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Ye(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=this._selections.map(s=>s.positionLineNumber);t.sort((s,o)=>s-o),va(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,e=!0);const i=this._selections.every(s=>s.isEmpty());return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(133);return this._lineHeight=t.get(61),this._renderLineHighlight=t.get(87),this._renderLineHighlightOnlyWhenFocus=t.get(88),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(e),i=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let r=0;const a=[];for(let l=i;l<=s;l++){const c=l-i;for(;r<o&&this._cursorLineNumbers[r]<l;)r++;r<o&&this._cursorLineNumbers[r]===l?a[c]=t:a[c]=""}this._renderData=a}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Sft extends Yte{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Lft extends Yte{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}ln((n,e)=>{const t=n.getColor(Rte);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(jj)){const i=n.getColor(jj);i&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),wo(n.type)&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class xft extends s2{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],s=0;for(let l=0,c=t.length;l<c;l++){const u=t[l];u.options.className&&(i[s++]=u)}i=i.sort((l,c)=>{if(l.options.zIndex<c.options.zIndex)return-1;if(l.options.zIndex>c.options.zIndex)return 1;const u=l.options.className,d=c.options.className;return u<d?-1:u>d?1:A.compareRangesUsingStarts(l.range,c.range)});const o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,a=[];for(let l=o;l<=r;l++){const c=l-o;a[c]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){const s=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let a=0,l=t.length;a<l;a++){const c=t[a];if(!c.options.isWholeLine)continue;const u='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+s+'px;"></div>',d=Math.max(c.range.startLineNumber,o),h=Math.min(c.range.endLineNumber,r);for(let f=d;f<=h;f++){const p=f-o;i[p]+=u}}}_renderNormalDecorations(e,t,i){const s=String(this._lineHeight),o=e.visibleRange.startLineNumber;let r=null,a=!1,l=null;for(let c=0,u=t.length;c<u;c++){const d=t[c];if(d.options.isWholeLine)continue;const h=d.options.className,f=Boolean(d.options.showIfCollapsed);let p=d.range;if(f&&p.endColumn===1&&p.endLineNumber!==p.startLineNumber&&(p=new A(p.startLineNumber,p.startColumn,p.endLineNumber-1,this._context.viewModel.getLineMaxColumn(p.endLineNumber-1))),r===h&&a===f&&A.areIntersectingOrTouching(l,p)){l=A.plusRange(l,p);continue}r!==null&&this._renderNormalDecoration(e,l,r,a,s,o,i),r=h,a=f,l=p}r!==null&&this._renderNormalDecoration(e,l,r,a,s,o,i)}_renderNormalDecoration(e,t,i,s,o,r,a){const l=e.linesVisibleRangesForRange(t,i==="findMatch");if(!!l)for(let c=0,u=l.length;c<u;c++){const d=l[c];if(d.outsideRenderedLine)continue;const h=d.lineNumber-r;if(s&&d.ranges.length===1){const f=d.ranges[0];if(f.width<this._typicalHalfwidthCharacterWidth){const p=Math.round(f.left+f.width/2),m=Math.max(0,Math.round(p-this._typicalHalfwidthCharacterWidth/2));d.ranges[0]=new v5(m,this._typicalHalfwidthCharacterWidth)}}for(let f=0,p=d.ranges.length;f<p;f++){const m=d.ranges[f],b='<div class="cdr '+i+'" style="left:'+String(m.left)+"px;width:"+String(m.width)+"px;height:"+o+'px;"></div>';a[h]+=b}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class Jl extends de{onclick(e,t){this._register(xe(e,Qe.CLICK,i=>t(new Pu(i))))}onmousedown(e,t){this._register(xe(e,Qe.MOUSE_DOWN,i=>t(new Pu(i))))}onmouseover(e,t){this._register(xe(e,Qe.MOUSE_OVER,i=>t(new Pu(i))))}onmouseleave(e,t){this._register(xe(e,Qe.MOUSE_LEAVE,i=>t(new Pu(i))))}onkeydown(e,t){this._register(xe(e,Qe.KEY_DOWN,i=>t(new gn(i))))}onkeyup(e,t){this._register(xe(e,Qe.KEY_UP,i=>t(new gn(i))))}oninput(e,t){this._register(xe(e,Qe.INPUT,t))}onblur(e,t){this._register(xe(e,Qe.BLUR,t))}onfocus(e,t){this._register(xe(e,Qe.FOCUS,t))}ignoreGesture(e){Fi.ignoreTarget(e)}}const bv=11;class Dft extends Jl{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof e.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof e.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof e.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=bv+"px",this.domNode.style.height=bv+"px",typeof e.top!="undefined"&&(this.domNode.style.top=e.top+"px"),typeof e.left!="undefined"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom!="undefined"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right!="undefined"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new i2),this._register(Ns(this.bgDomNode,Qe.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(Ns(this.domNode,Qe.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new Ay),this._pointerdownScheduleRepeatTimer=this._register(new La)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class kft extends de{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new La)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)===null||e===void 0||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)===null||t===void 0||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}const Eft=140;class Zte extends Jl{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new kft(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new i2),this._shouldRender=!0,this.domNode=fi(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(xe(this.domNode.domNode,Qe.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){const t=this._register(new Dft(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,s){this.slider=fi(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof s=="number"&&this.slider.setHeight(s),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(xe(this.slider.domNode,Qe.POINTER_DOWN,o=>{o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))})),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),s=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);i<=o&&o<=s?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{const o=mo(this.domNode.domNode);t=e.pageX-o.left,i=e.pageY-o.top}const s=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(s):this._scrollbarState.getDesiredScrollPositionFromOffset(s)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>{const r=this._sliderOrthogonalPointerPosition(o),a=Math.abs(r-i);if(oo&&a>Eft){this._setDesiredScrollPositionNow(s.getScrollPosition());return}const c=this._sliderPointerPosition(o)-t;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const Ift=20;class bw{constructor(e,t,i,s,o,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=s,this._scrollSize=o,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new bw(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,s,o){const r=Math.max(0,i-e),a=Math.max(0,r-2*t),l=s>0&&s>i;if(!l)return{computedAvailableSize:Math.round(r),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const c=Math.round(Math.max(Ift,Math.floor(i*a/s))),u=(a-c)/(s-i),d=o*u;return{computedAvailableSize:Math.round(r),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:u,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const e=bw._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class Tft extends Zte{constructor(e,t,i){const s=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new bw(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,s.width,s.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const r=(t.arrowSize-bv)/2,a=(t.horizontalScrollbarSize-bv)/2;this._createArrow({className:"scra",icon:C.scrollbarButtonLeft,top:a,left:r,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new dv(null,1,0))}),this._createArrow({className:"scra",icon:C.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:r,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new dv(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class Nft extends Zte{constructor(e,t,i){const s=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new bw(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,s.height,s.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const r=(t.arrowSize-bv)/2,a=(t.verticalScrollbarSize-bv)/2;this._createArrow({className:"scra",icon:C.scrollbarButtonUp,top:r,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new dv(null,0,1))}),this._createArrow({className:"scra",icon:C.scrollbarButtonDown,top:void 0,left:a,bottom:r,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new dv(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class F8{constructor(e,t,i,s,o,r,a){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,s=s|0,o=o|0,r=r|0,a=a|0),this.rawScrollLeft=s,this.rawScrollTop=a,t<0&&(t=0),s+t>i&&(s=i-t),s<0&&(s=0),o<0&&(o=0),a+o>r&&(a=r-o),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=s,this.height=o,this.scrollHeight=r,this.scrollTop=a}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new F8(this._forceIntegerValues,typeof e.width!="undefined"?e.width:this.width,typeof e.scrollWidth!="undefined"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height!="undefined"?e.height:this.height,typeof e.scrollHeight!="undefined"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new F8(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft!="undefined"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop!="undefined"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,s=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:s,scrollLeftChanged:o,heightChanged:r,scrollHeightChanged:a,scrollTopChanged:l}}}class Hy extends de{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new J),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new F8(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var i;const s=this._state.withScrollDimensions(e,t);this._setState(s,Boolean(this._smoothScrolling)),(i=this._smoothScrolling)===null||i===void 0||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let s;t?s=new Cw(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):s=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=s}else{const i=this._state.withScrollPosition(e);this._smoothScrolling=Cw.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class Zj{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function _I(n,e){const t=e-n;return function(i){return n+t*Rft(i)}}function Mft(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}class Cw{constructor(e,t,i,s){this.from=e,this.to=t,this.duration=s,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let o,r;return e<t?(o=e+.75*i,r=t-.75*i):(o=e-.75*i,r=t+.75*i),Mft(_I(e,o),_I(r,t),.33)}return _I(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const i=this.scrollLeft(t),s=this.scrollTop(t);return new Zj(i,s,!1)}return new Zj(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return Cw.start(e,t,i)}static start(e,t,i){i=i+10;const s=Date.now()-10;return new Cw(e,t,s,i)}}function Aft(n){return Math.pow(n,3)}function Rft(n){return 1-Aft(1-n)}const Oft=500,Xj=50;class Pft{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class _M{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,s=this._rear;do{const o=s===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[s].score*o,s===this._front)break;s=(this._capacity+s-1)%this._capacity,i++}while(!0);return t<=.5}accept(e,t,i){const s=new Pft(e,t,i);s.score=this._computeScore(s),this._front===-1&&this._rear===-1?(this._memory[0]=s,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=s)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return this._front===-1&&this._rear===-1||this._memory[this._rear],(!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}_M.INSTANCE=new _M;class $P extends Jl{constructor(e,t,i){super(),this._onScroll=this._register(new J),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new J),e.style.overflow="hidden",this._options=Fft(t),this._scrollable=i,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));const s={onMouseWheel:o=>this._onMouseWheel(o),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Nft(this._scrollable,this._options,s)),this._horizontalScrollbar=this._register(new Tft(this._scrollable,this._options,s)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=fi(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=fi(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=fi(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onmouseleave(this._listenOnDomNode,o=>this._onMouseLeave(o)),this._hideTimeout=this._register(new La),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=vi(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,ai&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal!="undefined"&&(this._options.horizontal=e.horizontal),typeof e.vertical!="undefined"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage!="undefined"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=vi(this._mouseWheelToDispose),e)){const i=s=>{this._onMouseWheel(new dv(s))};this._mouseWheelToDispose.push(xe(this._listenOnDomNode,Qe.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){const t=_M.INSTANCE;{const o=window.devicePixelRatio/hee();oo||So?t.accept(Date.now(),e.deltaX/o,e.deltaY/o):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let o=e.deltaY*this._options.mouseWheelScrollSensitivity,r=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(o)>=Math.abs(r)?r=0:o=0),this._options.flipAxes&&([o,r]=[r,o]);const a=!ai&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!r&&(r=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(r=r*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);const l=this._scrollable.getFutureScrollPosition();let c={};if(o){const u=Xj*o,d=l.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(c,d)}if(r){const u=Xj*r,d=l.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(c,d)}c=this._scrollable.validateScrollPosition(c),(l.scrollLeft!==c.scrollLeft||l.scrollTop!==c.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),i=!0)}let s=i;!s&&this._options.alwaysConsumeMouseWheel&&(s=!0),!s&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(s=!0),s&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,s=i?" left":"",o=t?" top":"",r=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${s}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${r}${o}${s}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Oft)}}class Xte extends $P{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new Hy({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:s=>$c(s)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class zP extends $P{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class $y extends $P{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new Hy({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:s=>$c(s)});super(e,t,i),this._register(i),this._element=e,this.onScroll(s=>{s.scrollTopChanged&&(this._element.scrollTop=s.scrollTop),s.scrollLeftChanged&&(this._element.scrollLeft=s.scrollLeft)}),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function Fft(n){const e={lazyRender:typeof n.lazyRender!="undefined"?n.lazyRender:!1,className:typeof n.className!="undefined"?n.className:"",useShadows:typeof n.useShadows!="undefined"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel!="undefined"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes!="undefined"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel!="undefined"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX!="undefined"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity!="undefined"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity!="undefined"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis!="undefined"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll!="undefined"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize!="undefined"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode!="undefined"?n.listenOnDomNode:null,horizontal:typeof n.horizontal!="undefined"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize!="undefined"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize!="undefined"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows!="undefined"?n.horizontalHasArrows:!1,vertical:typeof n.vertical!="undefined"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize!="undefined"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows!="undefined"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize!="undefined"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage!="undefined"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize!="undefined"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize!="undefined"?n.verticalSliderSize:e.verticalScrollbarSize,ai&&(e.className+=" mac"),e}class Bft extends xa{constructor(e,t,i,s){super(e);const o=this._context.configuration.options,r=o.get(94),a=o.get(69),l=o.get(36),c=o.get(97),u={listenOnDomNode:i.domNode,className:"editor-scrollable "+D8(e.theme.type),useShadows:!1,lazyRender:!0,vertical:r.vertical,horizontal:r.horizontal,verticalHasArrows:r.verticalHasArrows,horizontalHasArrows:r.horizontalHasArrows,verticalScrollbarSize:r.verticalScrollbarSize,verticalSliderSize:r.verticalSliderSize,horizontalScrollbarSize:r.horizontalScrollbarSize,horizontalSliderSize:r.horizontalSliderSize,handleMouseWheel:r.handleMouseWheel,alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel,arrowSize:r.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c,scrollByPage:r.scrollByPage};this.scrollbar=this._register(new zP(t.domNode,u,this._context.viewLayout.getScrollable())),td.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=fi(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(h,f,p)=>{const m={};if(f){const b=h.scrollTop;b&&(m.scrollTop=this._context.viewLayout.getCurrentScrollTop()+b,h.scrollTop=0)}if(p){const b=h.scrollLeft;b&&(m.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+b,h.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(m,1)};this._register(xe(i.domNode,"scroll",h=>d(i.domNode,!0,!0))),this._register(xe(t.domNode,"scroll",h=>d(t.domNode,!0,!1))),this._register(xe(s.domNode,"scroll",h=>d(s.domNode,!0,!1))),this._register(xe(this.scrollbarDomNode.domNode,"scroll",h=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(133);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(67).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}onConfigurationChanged(e){if(e.hasChanged(94)||e.hasChanged(69)||e.hasChanged(36)){const t=this._context.configuration.options,i=t.get(94),s=t.get(69),o=t.get(36),r=t.get(97),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:s,fastScrollSensitivity:o,scrollPredominantAxis:r};this.scrollbar.updateOptions(a)}return e.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+D8(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}ln((n,e)=>{const t=n.getColor(n2);t&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);const i=n.getColor(Qp);i&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);const s=n.getColor(Jp);s&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${s};
			}
		`);const o=n.getColor(em);o&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${o};
			}
		`)});class B8{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class UP extends s2{_render(e,t,i){const s=[];for(let a=e;a<=t;a++){const l=a-e;s[l]=[]}if(i.length===0)return s;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let o=null,r=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],u=c.className;let d=Math.max(c.startLineNumber,e)-e;const h=Math.min(c.endLineNumber,t)-e;o===u?(d=Math.max(r+1,d),r=Math.max(r,h)):(o=u,r=h);for(let f=d;f<=r;f++)s[f].push(o)}return s}}class Vft extends UP{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(133);this._lineHeight=t.get(61),this._glyphMargin=t.get(52),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(133);return this._lineHeight=t.get(61),this._glyphMargin=t.get(52),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let s=0;for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.options.glyphMarginClassName;l&&(i[s++]=new B8(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,s=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),r=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),l='" style="left:'+r+"px;width:"+a+"px;height:"+o+'px;"></div>',c=[];for(let u=t;u<=i;u++){const d=u-t,h=s[d];h.length===0?c[d]="":c[d]='<div class="cgmr codicon '+h.join(" ")+l}this._renderResult=c}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class Qte extends de{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}function S5(n,e){let t=0,i=0;const s=n.length;for(;i<s;){const o=n.charCodeAt(i);if(o===32)t++;else if(o===9)t=t-t%e+e;else break;i++}return i===s?-1:t}var mm;(function(n){n[n.Disabled=0]="Disabled",n[n.EnabledForActive=1]="EnabledForActive",n[n.Enabled=2]="Enabled"})(mm||(mm={}));class nm{constructor(e,t,i,s,o,r){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=s,this.forWrappedLinesAfterColumn=o,this.forWrappedLinesBeforeOrAtColumn=r,e!==-1==(t!==-1))throw new Error}}class cC{constructor(e,t){this.top=e,this.endColumn=t}}class Wft extends Qte{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return S5(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const s=this.textModel.getLineCount();if(e<1||e>s)throw new Error("Illegal value for lineNumber");const o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=Boolean(o&&o.offSide);let a=-2,l=-1,c=-2,u=-1;const d=x=>{if(a!==-1&&(a===-2||a>x-1)){a=-1,l=-1;for(let k=x-2;k>=0;k--){const N=this._computeIndentLevel(k);if(N>=0){a=k,l=N;break}}}if(c===-2){c=-1,u=-1;for(let k=x;k<s;k++){const N=this._computeIndentLevel(k);if(N>=0){c=k,u=N;break}}}};let h=-2,f=-1,p=-2,m=-1;const b=x=>{if(h===-2){h=-1,f=-1;for(let k=x-2;k>=0;k--){const N=this._computeIndentLevel(k);if(N>=0){h=k,f=N;break}}}if(p!==-1&&(p===-2||p<x-1)){p=-1,m=-1;for(let k=x;k<s;k++){const N=this._computeIndentLevel(k);if(N>=0){p=k,m=N;break}}}};let w=0,y=!0,L=0,D=!0,E=0,T=0;for(let x=0;y||D;x++){const k=e-x,N=e+x;x>1&&(k<1||k<t)&&(y=!1),x>1&&(N>s||N>i)&&(D=!1),x>5e4&&(y=!1,D=!1);let V=-1;if(y&&k>=1){const G=this._computeIndentLevel(k-1);G>=0?(c=k-1,u=G,V=Math.ceil(G/this.textModel.getOptions().indentSize)):(d(k),V=this._getIndentLevelForWhitespaceLine(r,l,u))}let H=-1;if(D&&N<=s){const G=this._computeIndentLevel(N-1);G>=0?(h=N-1,f=G,H=Math.ceil(G/this.textModel.getOptions().indentSize)):(b(N),H=this._getIndentLevelForWhitespaceLine(r,f,m))}if(x===0){T=V;continue}if(x===1){if(N<=s&&H>=0&&T+1===H){y=!1,w=N,L=N,E=H;continue}if(k>=1&&V>=0&&V-1===T){D=!1,w=k,L=k,E=V;continue}if(w=e,L=e,E=T,E===0)return{startLineNumber:w,endLineNumber:L,indent:E}}y&&(V>=E?w=k:y=!1),D&&(H>=E?L=N:D=!1)}return{startLineNumber:w,endLineNumber:L,indent:E}}getLinesBracketGuides(e,t,i,s){var o;const r=[];for(let h=e;h<=t;h++)r.push([]);const a=!0,l=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new A(e,1,t,this.textModel.getLineMaxColumn(t)));let c;if(i&&l.length>0){const h=(e<=i.lineNumber&&i.lineNumber<=t?l:this.textModel.bracketPairs.getBracketPairsInRange(A.fromPositions(i))).filter(f=>A.strictContainsPosition(f.range,i));c=(o=n8(h,f=>a))===null||o===void 0?void 0:o.range}const u=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,d=new Jte;for(const h of l){if(!h.closingBracketRange)continue;const f=c&&h.range.equalsRange(c);if(!f&&!s.includeInactive)continue;const p=d.getInlineClassName(h.nestingLevel,h.nestingLevelOfEqualBracketType,u)+(s.highlightActive&&f?" "+d.activeClassName:""),m=h.openingBracketRange.getStartPosition(),b=h.closingBracketRange.getStartPosition(),w=s.horizontalGuides===mm.Enabled||s.horizontalGuides===mm.EnabledForActive&&f;if(h.range.startLineNumber===h.range.endLineNumber){w&&r[h.range.startLineNumber-e].push(new nm(-1,h.openingBracketRange.getEndPosition().column,p,new cC(!1,b.column),-1,-1));continue}const y=this.getVisibleColumnFromPosition(b),L=this.getVisibleColumnFromPosition(h.openingBracketRange.getStartPosition()),D=Math.min(L,y,h.minVisibleColumnIndentation+1);let E=!1;Qo(this.textModel.getLineContent(h.closingBracketRange.startLineNumber))<h.closingBracketRange.startColumn-1&&(E=!0);const k=Math.max(m.lineNumber,e),N=Math.min(b.lineNumber,t),V=E?1:0;for(let H=k;H<N+V;H++)r[H-e].push(new nm(D,-1,p,null,H===m.lineNumber?m.column:-1,H===b.lineNumber?b.column:-1));w&&(m.lineNumber>=e&&L>D&&r[m.lineNumber-e].push(new nm(D,-1,p,new cC(!1,m.column),-1,-1)),b.lineNumber<=t&&y>D&&r[b.lineNumber-e].push(new nm(D,-1,p,new cC(!E,b.column),-1,-1)))}for(const h of r)h.sort((f,p)=>f.visibleColumn-p.visibleColumn);return r}getVisibleColumnFromPosition(e){return ys.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const s=this.textModel.getOptions(),o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=Boolean(o&&o.offSide),a=new Array(t-e+1);let l=-2,c=-1,u=-2,d=-1;for(let h=e;h<=t;h++){const f=h-e,p=this._computeIndentLevel(h-1);if(p>=0){l=h-1,c=p,a[f]=Math.ceil(p/s.indentSize);continue}if(l===-2){l=-1,c=-1;for(let m=h-2;m>=0;m--){const b=this._computeIndentLevel(m);if(b>=0){l=m,c=b;break}}}if(u!==-1&&(u===-2||u<h-1)){u=-1,d=-1;for(let m=h;m<i;m++){const b=this._computeIndentLevel(m);if(b>=0){u=m,d=b;break}}}a[f]=this._getIndentLevelForWhitespaceLine(r,c,d)}return a}_getIndentLevelForWhitespaceLine(e,t,i){const s=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/s.indentSize):t===i||e?Math.ceil(i/s.indentSize):1+Math.floor(i/s.indentSize)}}class Jte{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}class Hft extends s2{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(134),s=t.get(46);this._lineHeight=t.get(61),this._spaceWidth=s.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*s.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(134),s=t.get(46);return this._lineHeight=t.get(61),this._spaceWidth=s.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*s.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;const s=e.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(s)?!1:(this._primaryPosition=s,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,s,o;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const r=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.scrollWidth,c=this._lineHeight,u=this._primaryPosition,d=this.getGuidesByLine(r,a,u),h=[];for(let f=r;f<=a;f++){const p=f-r,m=d[p];let b="";const w=(i=(t=e.visibleRangeForPosition(new oe(f,1)))===null||t===void 0?void 0:t.left)!==null&&i!==void 0?i:0;for(const y of m){const L=y.column===-1?w+(y.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new oe(f,y.column)).left;if(L>l||this._maxIndentLeft>0&&L>this._maxIndentLeft)break;const D=y.horizontalLine?y.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",E=y.horizontalLine?((o=(s=e.visibleRangeForPosition(new oe(f,y.horizontalLine.endColumn)))===null||s===void 0?void 0:s.left)!==null&&o!==void 0?o:L+this._spaceWidth)-L:this._spaceWidth;b+=`<div class="core-guide ${y.className} ${D}" style="left:${L}px;height:${c}px;width:${E}px"></div>`}h[p]=b}this._renderResult=h}getGuidesByLine(e,t,i){const s=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?mm.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?mm.EnabledForActive:mm.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,o=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null;let r=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&i){const d=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);r=d.startLineNumber,a=d.endLineNumber,l=d.indent}const{indentSize:c}=this._context.viewModel.model.getOptions(),u=[];for(let d=e;d<=t;d++){const h=new Array;u.push(h);const f=s?s[d-e]:[],p=new ZC(f),m=o?o[d-e]:[];for(let b=1;b<=m;b++){const w=(b-1)*c+1,y=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||f.length===0)&&r<=d&&d<=a&&b===l;h.push(...p.takeWhile(D=>D.visibleColumn<w)||[]);const L=p.peek();(!L||L.visibleColumn!==w||L.horizontalLine)&&h.push(new nm(w,-1,y?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}h.push(...p.takeWhile(b=>!0)||[])}return u}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function US(n){if(!(n&&n.isTransparent()))return n}ln((n,e)=>{const t=n.getColor(Vy);t&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${t} inset; }`);const i=n.getColor(Wy)||t;i&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${i} inset; }`);const s=[{bracketColor:Bte,guideColor:Wht,guideColorActive:Kht},{bracketColor:Vte,guideColor:Hht,guideColorActive:qht},{bracketColor:Wte,guideColor:$ht,guideColorActive:Ght},{bracketColor:Hte,guideColor:zht,guideColorActive:Yht},{bracketColor:$te,guideColor:Uht,guideColorActive:Zht},{bracketColor:zte,guideColor:jht,guideColorActive:Xht}],o=new Jte,r=s.map(a=>{var l,c;const u=n.getColor(a.bracketColor),d=n.getColor(a.guideColor),h=n.getColor(a.guideColorActive),f=US((l=US(d))!==null&&l!==void 0?l:u==null?void 0:u.transparent(.3)),p=US((c=US(h))!==null&&c!==void 0?c:u);if(!(!f||!p))return{guideColor:f,guideColorActive:p}}).filter(Kst);if(r.length>0){for(let a=0;a<30;a++){const l=r[a%r.length];e.addRule(`.monaco-editor .${o.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${o.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${o.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${o.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class $ft{constructor(){this._currentVisibleRange=new A(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class zft{constructor(e,t,i,s,o,r,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=s,this.startScrollTop=o,this.stopScrollTop=r,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class Uft{constructor(e,t,i,s,o){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=s,this.scrollType=o,this.type="selections";let r=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,c=t.length;l<c;l++){const u=t[l];r=Math.min(r,u.startLineNumber),a=Math.max(a,u.endLineNumber)}this.minLineNumber=r,this.maxLineNumber=a}}class L5 extends xa{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new qte(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,s=this._context.configuration.options,o=s.get(46),r=s.get(134),a=s.get(133);this._lineHeight=s.get(61),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=s.get(91),this._horizontalScrollbarHeight=a.horizontalScrollbarHeight,this._cursorSurroundingLines=s.get(25),this._cursorSurroundingLinesStyle=s.get(26),this._canUseLayerHinting=!s.get(28),this._viewLineOptions=new $j(i,this._context.theme.type),td.write(this.domNode,7),this.domNode.setClassName(`view-lines ${pm}`),bo(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Hi(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Hi(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new $ft,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Iu(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(134)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(46),s=t.get(134),o=t.get(133);return this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=t.get(91),this._horizontalScrollbarHeight=o.horizontalScrollbarHeight,this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),bo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new $j(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const i=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let o=i;o<=s;o++)this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let s=!1;for(let o=t;o<=i;o++)s=this._visibleLines.getVisibleLine(o).onSelectionChanged()||s;return s}onDecorationsChanged(e){{const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let s=t;s<=i;s++)this._visibleLines.getVisibleLine(s).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new zft(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new Uft(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,o),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(i===null)return null;const s=this._getLineNumberFor(i);if(s===-1||s<1||s>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(s)===1)return new oe(s,1);const o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(s<o||s>r)return null;let a=this._visibleLines.getVisibleLine(s).getColumnOfNodeOffset(s,e,t);const l=this._context.viewModel.getLineMinColumn(s);return a<l&&(a=l),new oe(s,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Iu.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let s=t;s<=i;s++){const o=this._visibleLines.getVisibleLine(s);if(e===o.getDomNode())return s}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,s=A.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!s)return null;const o=[];let r=0;const a=new Hj(this.domNode.domNode,this._textRangeRestingSpot);let l=0;t&&(l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new oe(s.startLineNumber,1)).lineNumber);const c=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let d=s.startLineNumber;d<=s.endLineNumber;d++){if(d<c||d>u)continue;const h=d===s.startLineNumber?s.startColumn:1,f=d===s.endLineNumber?s.endColumn:this._context.viewModel.getLineMaxColumn(d),p=this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(d,h,f,a);if(!!p){if(t&&d<i){const m=l;l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new oe(d+1,1)).lineNumber,m!==l&&(p.ranges[p.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[r++]=new iht(p.outsideRenderedLine,d,v5.from(p.ranges))}}return r===0?null:o}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,new Hj(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new nht(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let s=1,o=!0;for(let r=t;r<=i;r++){const a=this._visibleLines.getVisibleLine(r);if(e&&!a.getWidthIsFast()){o=!1;continue}s=Math.max(s,a.getWidth())}return o&&t===1&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(s),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let o=i;o<=s;o++){const r=this._visibleLines.getVisibleLine(o);if(r.needsMonospaceFontCheck()){const a=r.getWidth();a>t&&(t=a,e=o)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=s;o++)this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const s=this._computeScrollLeftToReveal(i);s&&(this._isViewportWrapping||this._ensureMaxLineWidth(s.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:s.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),So&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const i=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let o=i;o<=s;o++)if(this._visibleLines.getVisibleLine(o).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,s,o,r){const a=e.top,l=e.height,c=a+l;let u,d,h;if(o&&o.length>0){let m=o[0].startLineNumber,b=o[0].endLineNumber;for(let w=1,y=o.length;w<y;w++){const L=o[w];m=Math.min(m,L.startLineNumber),b=Math.max(b,L.endLineNumber)}u=!1,d=this._context.viewLayout.getVerticalOffsetForLineNumber(m),h=this._context.viewLayout.getVerticalOffsetForLineNumber(b)+this._lineHeight}else if(s)u=!0,d=this._context.viewLayout.getVerticalOffsetForLineNumber(s.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(s.endLineNumber)+this._lineHeight;else return-1;if((t==="mouse"||i)&&this._cursorSurroundingLinesStyle==="default")i||(d-=this._lineHeight);else{const m=Math.min(l/this._lineHeight/2,this._cursorSurroundingLines);d-=m*this._lineHeight,h+=Math.max(0,m-1)*this._lineHeight}(r===0||r===4)&&(h+=i?this._horizontalScrollbarHeight:this._lineHeight);let p;if(h-d>l){if(!u)return-1;p=d}else if(r===5||r===6)if(r===6&&a<=d&&h<=c)p=a;else{const m=Math.max(5*this._lineHeight,l*.2),b=d-m,w=h-l;p=Math.max(w,b)}else if(r===1||r===2)if(r===2&&a<=d&&h<=c)p=a;else{const m=(d+h)/2;p=Math.max(0,m-l/2)}else p=this._computeMinimumScrolling(a,c,d,h,r===3,r===4);return p}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=t.left,s=i+t.width;let o=1073741824,r=0;if(e.type==="range"){const l=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!l)return null;for(const c of l.ranges)o=Math.min(o,Math.round(c.left)),r=Math.max(r,Math.round(c.left+c.width))}else for(const l of e.selections){if(l.startLineNumber!==l.endLineNumber)return null;const c=this._visibleRangesForLineRange(l.startLineNumber,l.startColumn,l.endColumn);if(!c)return null;for(const u of c.ranges)o=Math.min(o,Math.round(u.left)),r=Math.max(r,Math.round(u.left+u.width))}return e.minimalReveal||(o=Math.max(0,o-L5.HORIZONTAL_EXTRA_PX),r+=this._revealHorizontalRightPadding),e.type==="selections"&&r-o>t.width?null:{scrollLeft:this._computeMinimumScrolling(i,s,o,r),maxHorizontalOffset:r}}_computeMinimumScrolling(e,t,i,s,o,r){e=e|0,t=t|0,i=i|0,s=s|0,o=!!o,r=!!r;const a=t-e;if(s-i<a){if(o)return i;if(r)return Math.max(0,s-a);if(i<e)return i;if(s>t)return Math.max(0,s-a)}else return i;return e}}L5.HORIZONTAL_EXTRA_PX=30;class jft extends UP{constructor(e){super(),this._context=e;const i=this._context.configuration.options.get(133);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const i=this._context.configuration.options.get(133);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let s=0;for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.options.linesDecorationsClassName;l&&(i[s++]=new B8(a.range.startLineNumber,a.range.endLineNumber,l));const c=a.options.firstLineDecorationClassName;c&&(i[s++]=new B8(a.range.startLineNumber,a.range.startLineNumber,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,s=this._render(t,i,this._getDecorations(e)),o=this._decorationsLeft.toString(),r=this._decorationsWidth.toString(),a='" style="left:'+o+"px;width:"+r+'px;"></div>',l=[];for(let c=t;c<=i;c++){const u=c-t,d=s[u];let h="";for(let f=0,p=d.length;f<p;f++)h+='<div class="cldr '+d[f]+a;l[u]=h}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Kft extends UP{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let s=0;for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.options.marginClassName;l&&(i[s++]=new B8(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,s=this._render(t,i,this._getDecorations(e)),o=[];for(let r=t;r<=i;r++){const a=r-t,l=s[a];let c="";for(let u=0,d=l.length;u<d;u++)c+='<div class="cmdr '+l[u]+'" style=""></div>';o[a]=c}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class tl{constructor(e,t,i,s){this._rgba8Brand=void 0,this.r=tl._clamp(e),this.g=tl._clamp(t),this.b=tl._clamp(i),this.a=tl._clamp(s)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}tl.Empty=new tl(0,0,0,0);class zy extends de{constructor(){super(),this._onDidChange=new J,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Dn.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=new zy),this._INSTANCE}_updateColorMap(){const e=Dn.getColorMap();if(!e){this._colors=[tl.Empty],this._backgroundIsLight=!0;return}this._colors=[tl.Empty];for(let i=1;i<e.length;i++){const s=e[i].rgba;this._colors[i]=new tl(s.r,s.g,s.b,Math.round(s.a*255))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}zy._INSTANCE=null;const qft=(()=>{const n=[];for(let e=32;e<=126;e++)n.push(e);return n.push(65533),n})(),Gft=(n,e)=>(n-=32,n<0||n>96?e<=2?(n+96)%96:96-1:n);class ww{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=ww.soften(e,12/15),this.charDataLight=ww.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let s=0,o=e.length;s<o;s++)i[s]=p8(e[s]*t);return i}renderChar(e,t,i,s,o,r,a,l,c,u,d){const h=1*this.scale,f=2*this.scale,p=d?1:f;if(t+h>e.width||i+p>e.height){console.warn("bad render request outside image data");return}const m=u?this.charDataLight:this.charDataNormal,b=Gft(s,c),w=e.width*4,y=a.r,L=a.g,D=a.b,E=o.r-y,T=o.g-L,x=o.b-D,k=Math.max(r,l),N=e.data;let V=b*h*f,H=i*w+t*4;for(let G=0;G<p;G++){let te=H;for(let ae=0;ae<h;ae++){const me=m[V++]/255*(r/255);N[te++]=y+E*me,N[te++]=L+T*me,N[te++]=D+x*me,N[te++]=k}H+=w}}blockRenderChar(e,t,i,s,o,r,a,l){const c=1*this.scale,u=2*this.scale,d=l?1:u;if(t+c>e.width||i+d>e.height){console.warn("bad render request outside image data");return}const h=e.width*4,f=.5*(o/255),p=r.r,m=r.g,b=r.b,w=s.r-p,y=s.g-m,L=s.b-b,D=p+w*f,E=m+y*f,T=b+L*f,x=Math.max(o,a),k=e.data;let N=i*h+t*4;for(let V=0;V<d;V++){let H=N;for(let G=0;G<c;G++)k[H++]=D,k[H++]=E,k[H++]=T,k[H++]=x;N+=h}}}const Qj={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Jj=n=>{const e=new Uint8ClampedArray(n.length/2);for(let t=0;t<n.length;t+=2)e[t>>1]=Qj[n[t]]<<4|Qj[n[t+1]]&15;return e},eK={1:Mh(()=>Jj("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Mh(()=>Jj("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class uC{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return eK[e]?i=new ww(eK[e](),e):i=uC.createFromSampleData(uC.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height=`${16}px`,t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold ${16}px ${e}`,i.textBaseline="middle";let s=0;for(const o of qft)i.fillText(String.fromCharCode(o),s,16/2),s+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const s=uC._downsample(e,t);return new ww(s,t)}static _downsampleChar(e,t,i,s,o){const r=1*o,a=2*o;let l=s,c=0;for(let u=0;u<a;u++){const d=u/a*16,h=(u+1)/a*16;for(let f=0;f<r;f++){const p=f/r*10,m=(f+1)/r*10;let b=0,w=0;for(let L=d;L<h;L++){const D=t+Math.floor(L)*3840,E=1-(L-Math.floor(L));for(let T=p;T<m;T++){const x=1-(T-Math.floor(T)),k=D+Math.floor(T)*4,N=x*E;w+=N,b+=e[k]*e[k+3]/255*N}}const y=b/w;c=Math.max(c,y),i[l++]=p8(y)}}return c}static _downsample(e,t){const i=2*t*1*t,s=i*96,o=new Uint8ClampedArray(s);let r=0,a=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(e,a,o,r,t)),r+=i,a+=10*4;if(l>0){const c=255/l;for(let u=0;u<s;u++)o[u]*=c}return o}}const Yft=140,Zft=2;class yw{constructor(e,t,i){const s=e.options,o=s.get(131),r=s.get(133),a=r.minimap,l=s.get(46),c=s.get(67);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=s.get(96),this.showSlider=c.showSlider,this.autohide=c.autohide,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=s.get(61),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=r.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=r.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Mh(()=>uC.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=yw._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=yw._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(Fdt);return i?new tl(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(Bdt);return t?tl._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class dC{constructor(e,t,i,s,o,r,a,l){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=s,this.sliderTop=o,this.sliderHeight=r,this.startLineNumber=a,this.endLineNumber=l}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,s,o,r,a,l,c,u,d){const h=e.pixelRatio,f=e.minimapLineHeight,p=Math.floor(e.canvasInnerHeight/f),m=e.lineHeight;if(e.minimapHeightIsEditorHeight){const E=l*e.lineHeight+(e.scrollBeyondLastLine?o-e.lineHeight:0),T=Math.max(1,Math.floor(o*o/E)),x=Math.max(0,e.minimapHeight-T),k=x/(u-o),N=c*k,V=x>0,H=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new dC(c,u,V,k,N,T,1,Math.min(a,H))}let b;if(r&&i!==a){const E=i-t+1;b=Math.floor(E*f/h)}else{const E=o/m;b=Math.floor(E*f/h)}let w;e.scrollBeyondLastLine?w=(a-1)*f/h:w=Math.max(0,a*f/h-b),w=Math.min(e.minimapHeight-b,w);const y=w/(u-o),L=c*y;let D=0;if(e.scrollBeyondLastLine&&(D=o/m-1),p>=a+D){const T=a,x=w>0;return new dC(c,u,x,y,L,b,1,T)}else{let E=Math.max(1,Math.floor(t-L*h/f));d&&d.scrollHeight===u&&(d.scrollTop>c&&(E=Math.min(E,d.startLineNumber)),d.scrollTop<c&&(E=Math.max(E,d.startLineNumber)));const T=Math.min(a,E+p-1),x=(c-s)/m,k=(t-E+x)*f/h;return new dC(c,u,!0,y,k,b,E,T)}}}class V8{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}V8.INVALID=new V8(-1);class tK{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new Kte(()=>V8.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const i=this._renderedLines._get().lines;for(let s=0,o=i.length;s<o;s++)if(i[s].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class jP{constructor(e,t,i,s){this._backgroundFillData=jP._createBackgroundFillData(t,i,s),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const s=i.r,o=i.g,r=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4);let c=0;for(let u=0;u<t;u++)for(let d=0;d<e;d++)l[c]=s,l[c+1]=o,l[c+2]=r,l[c+3]=a,c+=4;return l}}class Sw{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const s=e.pixelRatio,o=e.lineHeight,r=e.scrollBeyondLastLine,{minimapLineCount:a}=v1.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:r,height:e.editorHeight,lineHeight:o,pixelRatio:s}),l=t/a,c=l/2;if(!i||i.minimapLines.length===0){const L=[];if(L[0]=1,a>1){for(let D=0,E=a-1;D<E;D++)L[D]=Math.round(D*l+c);L[a-1]=t}return[new Sw(l,L),[]]}const u=i.minimapLines,d=u.length,h=[];let f=0,p=0,m=1;const b=10;let w=[],y=null;for(let L=0;L<a;L++){const D=Math.max(m,Math.round(L*l)),E=Math.max(D,Math.round((L+1)*l));for(;f<d&&u[f]<D;){if(w.length<b){const x=f+1+p;y&&y.type==="deleted"&&y._oldIndex===f-1?y.deleteToLineNumber++:(y={type:"deleted",_oldIndex:f,deleteFromLineNumber:x,deleteToLineNumber:x},w.push(y)),p--}f++}let T;if(f<d&&u[f]<=E)T=u[f],f++;else if(L===0?T=1:L+1===a?T=t:T=Math.round(L*l+c),w.length<b){const x=f+1+p;y&&y.type==="inserted"&&y._i===L-1?y.insertToLineNumber++:(y={type:"inserted",_i:L,insertFromLineNumber:x,insertToLineNumber:x},w.push(y)),p++}h[L]=T,m=T}if(w.length<b)for(;f<d;){const L=f+1+p;y&&y.type==="deleted"&&y._oldIndex===f-1?y.deleteToLineNumber++:(y={type:"deleted",_oldIndex:f,deleteFromLineNumber:L,deleteToLineNumber:L},w.push(y)),p--,f++}else w=[{type:"flush"}];return[new Sw(l,h),w]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let s=this.modelLineToMinimapLine(t)-1;for(;s+1<this.minimapLines.length&&this.minimapLines[s+1]<=t;)s++;if(i===s){const o=this.minimapLines[i];if(o<e||o>t)return null}return[i+1,s+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),s=this.modelLineToMinimapLine(t);return e!==t&&s===i&&(s===this.minimapLines.length?i>1&&i--:s++),[i,s]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,s=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),s=Math.max(s,o)):this.minimapLines[o]-=t;return[i,s]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class Xft extends xa{constructor(e){super(e),this.tokensColorTracker=zy.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new yw(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Sw.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new W8(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new yw(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return t?this._actual.onLinesChanged(t[0],t[1]-t[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const s=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);s&&t.push({fromLineNumber:s[0],toLineNumber:s[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const s={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(s)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=Sw.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const s of i)switch(s.type){case"deleted":this._actual.onLinesDeleted(s.deleteFromLineNumber,s.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(s.insertFromLineNumber,s.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const s=[];for(let o=0,r=t-e+1;o<r;o++)i[o]?s[o]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+o-1]):s[o]=null;return s}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new Ye(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const o=this._samplingState.minimapLines[e-1],r=this._samplingState.minimapLines[t-1];i=new A(o,1,r,this._context.viewModel.getLineMaxColumn(r))}else i=new A(e,1,t,this._context.viewModel.getLineMaxColumn(t));const s=this._context.viewModel.getDecorationsInViewport(i);if(this._samplingState){const o=[];for(const r of s){if(!r.options.minimap)continue;const a=r.range,l=this._samplingState.modelLineToMinimapLine(a.startLineNumber),c=this._samplingState.modelLineToMinimapLine(a.endLineNumber);o.push(new Vee(new A(l,a.startColumn,c,a.endColumn),r.options))}return o}return s}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new A(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class W8 extends de{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Bj),this._domNode=fi(document.createElement("div")),td.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=fi(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=fi(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=fi(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=fi(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=fi(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=Ns(this._domNode.domNode,Qe.POINTER_DOWN,i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.button===0&&this._lastRenderData){const c=mo(this._slider.domNode),u=c.top+c.height/2;this._startSliderDragging(i,u,this._lastRenderData.renderedLayout)}return}const o=this._model.options.minimapLineHeight,r=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.offsetY;let l=Math.floor(r/o)+this._lastRenderData.renderedLayout.startLineNumber;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderPointerMoveMonitor=new i2,this._sliderPointerDownListener=Ns(this._slider.domNode,Qe.POINTER_DOWN,i=>{i.preventDefault(),i.stopPropagation(),i.button===0&&this._lastRenderData&&this._startSliderDragging(i,i.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Fi.addTarget(this._domNode.domNode),this._sliderTouchStartListener=xe(this._domNode.domNode,rn.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=xe(this._domNode.domNode,rn.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=Ns(this._domNode.domNode,rn.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i){if(!e.target||!(e.target instanceof Element))return;const s=e.pageX;this._slider.toggleClassName("active",!0);const o=(r,a)=>{const l=Math.abs(a-s);if(oo&&l>Yft){this._model.setScrollTop(i.scrollTop);return}const c=r-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(c))};e.pageY!==t&&o(e.pageY,s),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>o(r.pageY,r.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new jP(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){var i;return(i=this._lastRenderData)===null||i===void 0||i.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var i;return(i=this._lastRenderData)===null||i===void 0||i.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Bj),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const i=dC.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(A.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((h,f)=>(h.options.zIndex||0)-(f.options.zIndex||0));const{canvasInnerWidth:s,canvasInnerHeight:o}=this._model.options,r=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,s,o);const u=new iK(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,u,e,r),this._renderDecorationsLineHighlights(c,i,u,e,r);const d=new iK(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,d,e,r,l,a,s),this._renderDecorationsHighlights(c,i,d,e,r,l,a,s)}}_renderSelectionLineHighlights(e,t,i,s,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let r=0,a=0;for(const l of t){const c=Math.max(s.startLineNumber,l.startLineNumber),u=Math.min(s.endLineNumber,l.endLineNumber);if(c>u)continue;for(let f=c;f<=u;f++)i.set(f,!0);const d=(c-s.startLineNumber)*o,h=(u-s.startLineNumber)*o+o;a>=d||(a>r&&e.fillRect(xf,r,e.canvas.width,a-r),r=d),a=h}a>r&&e.fillRect(xf,r,e.canvas.width,a-r)}_renderDecorationsLineHighlights(e,t,i,s,o){const r=new Map;for(let a=t.length-1;a>=0;a--){const l=t[a],c=l.options.minimap;if(!c||c.position!==sl.Inline)continue;const u=Math.max(s.startLineNumber,l.range.startLineNumber),d=Math.min(s.endLineNumber,l.range.endLineNumber);if(u>d)continue;const h=c.getColor(this._theme.value);if(!h||h.isTransparent())continue;let f=r.get(h.toString());f||(f=h.transparent(.5).toString(),r.set(h.toString(),f)),e.fillStyle=f;for(let p=u;p<=d;p++){if(i.has(p))continue;i.set(p,!0);const m=(u-s.startLineNumber)*o;e.fillRect(xf,m,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,i,s,o,r,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const c of t){const u=Math.max(s.startLineNumber,c.startLineNumber),d=Math.min(s.endLineNumber,c.endLineNumber);if(!(u>d))for(let h=u;h<=d;h++)this.renderDecorationOnLine(e,i,c,this._selectionColor,s,h,o,o,r,a,l)}}_renderDecorationsHighlights(e,t,i,s,o,r,a,l){for(const c of t){const u=c.options.minimap;if(!u)continue;const d=Math.max(s.startLineNumber,c.range.startLineNumber),h=Math.min(s.endLineNumber,c.range.endLineNumber);if(d>h)continue;const f=u.getColor(this._theme.value);if(!(!f||f.isTransparent()))for(let p=d;p<=h;p++)switch(u.position){case sl.Inline:this.renderDecorationOnLine(e,i,c.range,f,s,p,o,o,r,a,l);continue;case sl.Gutter:{const m=(p-s.startLineNumber)*o,b=2;this.renderDecoration(e,f,b,m,Zft,o);continue}}}}renderDecorationOnLine(e,t,i,s,o,r,a,l,c,u,d){const h=(r-o.startLineNumber)*l;if(h+a<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:f,endLineNumber:p}=i,m=f===r?i.startColumn:1,b=p===r?i.endColumn:this._model.getLineMaxColumn(r),w=this.getXOffsetForPosition(t,r,m,c,u,d),y=this.getXOffsetForPosition(t,r,b,c,u,d);this.renderDecoration(e,s,w,h,y-w,a)}getXOffsetForPosition(e,t,i,s,o,r){if(i===1)return xf;if((i-1)*o>=r)return r;let l=e.get(t);if(!l){const c=this._model.getLineContent(t);l=[xf];let u=xf;for(let d=1;d<c.length+1;d++){const h=c.charCodeAt(d-1),f=h===9?s*o:yg(h)?2*o:o,p=u+f;if(p>=r){l[d]=r;break}l[d]=p,u=p}e.set(t,l)}return i-1<l.length?l[i-1]:r}renderDecoration(e,t,i,s,o,r){e.fillStyle=t&&t.toString()||"",e.fillRect(i,s,o,r)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,s=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const me=this._lastRenderData._get();return new tK(e,me.imageData,me.lines)}const o=this._getBuffer();if(!o)return null;const[r,a,l]=W8._renderUntouchedLines(o,t,i,s,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),u=this._model.getOptions().tabSize,d=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,f=this._model.options.foregroundAlpha,p=this._model.tokensColorTracker,m=p.backgroundIsLight(),b=this._model.options.renderMinimap,w=this._model.options.charRenderer(),y=this._model.options.fontScale,L=this._model.options.minimapCharWidth,E=(b===1?2:2+1)*y,T=s>E?Math.floor((s-E)/2):0,x=h.a/255,k=new tl(Math.round((h.r-d.r)*x+d.r),Math.round((h.g-d.g)*x+d.g),Math.round((h.b-d.b)*x+d.b),255);let N=0;const V=[];for(let me=0,we=i-t+1;me<we;me++)l[me]&&W8._renderLine(o,k,h.a,m,b,L,p,f,w,N,T,u,c[me],y,s),V[me]=new V8(N),N+=s;const H=r===-1?0:r,te=(a===-1?o.height:a)-H;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,H,o.width,te),new tK(e,o,V)}static _renderUntouchedLines(e,t,i,s,o){const r=[];if(!o){for(let k=0,N=i-t+1;k<N;k++)r[k]=!0;return[-1,-1,r]}const a=o._get(),l=a.imageData.data,c=a.rendLineNumberStart,u=a.lines,d=u.length,h=e.width,f=e.data,p=(i-t+1)*s*h*4;let m=-1,b=-1,w=-1,y=-1,L=-1,D=-1,E=0;for(let k=t;k<=i;k++){const N=k-t,V=k-c,H=V>=0&&V<d?u[V].dy:-1;if(H===-1){r[N]=!0,E+=s;continue}const G=H*h*4,te=(H+s)*h*4,ae=E*h*4,me=(E+s)*h*4;y===G&&D===ae?(y=te,D=me):(w!==-1&&(f.set(l.subarray(w,y),L),m===-1&&w===0&&w===L&&(m=y),b===-1&&y===p&&w===L&&(b=w)),w=G,y=te,L=ae,D=me),r[N]=!1,E+=s}w!==-1&&(f.set(l.subarray(w,y),L),m===-1&&w===0&&w===L&&(m=y),b===-1&&y===p&&w===L&&(b=w));const T=m===-1?-1:m/(h*4),x=b===-1?-1:b/(h*4);return[T,x,r]}static _renderLine(e,t,i,s,o,r,a,l,c,u,d,h,f,p,m){const b=f.content,w=f.tokens,y=e.width-r,L=m===1;let D=xf,E=0,T=0;for(let x=0,k=w.getCount();x<k;x++){const N=w.getEndOffset(x),V=w.getForeground(x),H=a.getColor(V);for(;E<N;E++){if(D>y)return;const G=b.charCodeAt(E);if(G===9){const te=h-(E+T)%h;T+=te-1,D+=te*r}else if(G===32)D+=r;else{const te=yg(G)?2:1;for(let ae=0;ae<te;ae++)if(o===2?c.blockRenderChar(e,D,u+d,H,l,t,i,L):c.renderChar(e,D,u+d,G,H,l,t,i,p,s,L),D+=r,D>y)return}}}}}class iK{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let s=0,o=this._endLineNumber-this._startLineNumber+1;s<o;s++)this._values[s]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}ln((n,e)=>{const t=n.getColor(Vdt);t&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${t}; }`);const i=n.getColor(Wdt);i&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${i}; }`);const s=n.getColor(Hdt);s&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${s}; }`);const o=n.getColor(n2);o&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${o} -6px 0 6px -6px inset; }`)});class Qft extends xa{constructor(e){super(e);const i=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,this._domNode=fi(document.createElement("div")),td.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const i=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){const t=fi(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference===t?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const s=this._widgets[t].domNode.domNode;delete this._widgets[t],s.parentNode.removeChild(s),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(e.preference===null){t.setTop("");return}if(e.preference===0)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(t.setTop(0),t.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,s=t.length;i<s;i++){const o=t[i];this._renderWidget(this._widgets[o])}}}class Jft{constructor(e,t){const i=e.options;this.lineHeight=i.get(61),this.pixelRatio=i.get(131),this.overviewRulerLanes=i.get(76),this.renderBorder=i.get(75);const s=t.getColor(kht);this.borderColor=s?s.toString():null,this.hideCursor=i.get(54);const o=t.getColor(Ote);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const r=i.get(67),a=r.enabled,l=r.side,c=t.getColor(Eht),u=Dn.getDefaultBackground();let d=null;c!==void 0?d=c:a&&(d=u),d===null||l==="left"?this.backgroundColor=null:this.backgroundColor=re.Format.CSS.formatHex(d);const f=i.get(133).overviewRuler;this.top=f.top,this.right=f.right,this.domWidth=f.width,this.domHeight=f.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[p,m]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=p,this.w=m}_initLanes(e,t,i){const s=t-e;if(i>=3){const o=Math.floor(s/3),r=Math.floor(s/3),a=s-o-r,l=e,c=l+o,u=l+o+a;return[[0,l,c,l,u,l,c,l],[0,o,a,o+a,r,o+a+r,a+r,o+a+r]]}else if(i===2){const o=Math.floor(s/2),r=s-o,a=e,l=a+o;return[[0,a,a,a,l,a,a,a],[0,o,o,o,r,o+r,o+r,o+r]]}else{const o=e,r=s;return[[0,o,o,o,o,o,o,o],[0,r,r,r,r,r,r,r]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class egt extends xa{constructor(e){super(e),this._domNode=fi(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Dn.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new Jft(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(oe.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,s=this._context.viewLayout,o=this._context.viewLayout.getScrollHeight(),r=t/o,a=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,c=l/2|0,u=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?u.clearRect(0,0,e,t):(u.fillStyle=this._settings.backgroundColor,u.fillRect(0,0,e,t));const d=this._settings.x,h=this._settings.w;a.sort(Wee.cmp);for(const f of a){const p=f.color,m=f.data;u.fillStyle=p;let b=0,w=0,y=0;for(let L=0,D=m.length/3;L<D;L++){const E=m[3*L],T=m[3*L+1],x=m[3*L+2];let k=s.getVerticalOffsetForLineNumber(T)*r|0,N=(s.getVerticalOffsetForLineNumber(x)+i)*r|0;if(N-k<l){let H=(k+N)/2|0;H<c?H=c:H+c>t&&(H=t-c),k=H-c,N=H+c}k>y+1||E!==b?(L!==0&&u.fillRect(d[b],w,h[b],y-w),b=E,w=k,y=N):N>y&&(y=N)}u.fillRect(d[b],w,h[b],y-w)}if(!this._settings.hideCursor&&this._settings.cursorColor){const f=2*this._settings.pixelRatio|0,p=f/2|0,m=this._settings.x[7],b=this._settings.w[7];u.fillStyle=this._settings.cursorColor;let w=-100,y=-100;for(let L=0,D=this._cursorPositions.length;L<D;L++){const E=this._cursorPositions[L];let T=s.getVerticalOffsetForLineNumber(E.lineNumber)*r|0;T<p?T=p:T+p>t&&(T=t-p);const x=T-p,k=x+f;x>y+1?(L!==0&&u.fillRect(m,w,b,y-w),w=x,y=k):k>y&&(y=k)}u.fillRect(m,w,b,y-w)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,t),u.stroke(),u.moveTo(0,0),u.lineTo(e,0),u.stroke())}}class nK{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class Lw{constructor(e,t,i,s){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=s,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class tgt{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(Lw.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),s=Math.floor(this._outerHeight),o=i/s,r=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,c=this._zones.length;l<c;l++){const u=this._zones[l];if(!e){const D=u.getColorZones();if(D){a.push(D);continue}}const d=this._getVerticalOffsetForLine(u.startLineNumber),h=u.heightInLines===0?this._getVerticalOffsetForLine(u.endLineNumber)+t:d+u.heightInLines*t,f=Math.floor(o*d),p=Math.floor(o*h);let m=Math.floor((f+p)/2),b=p-m;b<r&&(b=r),m-b<0&&(m=b),m+b>i&&(m=i-b);const w=u.color;let y=this._color2Id[w];y||(y=++this._lastAssignedId,this._color2Id[w]=y,this._id2Color[y]=w);const L=new nK(m-b,m+b,y);u.setColorZone(L),a.push(L)}return this._colorZonesInvalid=!1,a.sort(nK.compare),a}}class igt extends By{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=fi(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new tgt(s=>this._context.viewLayout.getVerticalOffsetForLineNumber(s)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(61)),this._zoneManager.setPixelRatio(i.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(61)&&(this._zoneManager.setLineHeight(t.get(61)),this._render()),e.hasChanged(131)&&(this._zoneManager.setPixelRatio(t.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),s=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,s,e),!0}_renderOneLane(e,t,i,s){let o=0,r=0,a=0;for(const l of t){const c=l.colorId,u=l.from,d=l.to;c!==o?(e.fillRect(0,r,s,a-r),o=c,e.fillStyle=i[o],r=u,a=d):a>=u?a=Math.max(a,d):(e.fillRect(0,r,s,a-r),r=u,a=d)}e.fillRect(0,r,s,a-r)}}class ngt extends xa{constructor(e){super(e),this.domNode=fi(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(93),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(93),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:s}=this._context.viewModel.model.getOptions(),o=s;let r=t-e;for(;r>0;){const a=fi(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(o),this.domNode.appendChild(a),this._renderedRulers.push(a),r--}return}let i=e-t;for(;i>0;){const s=this._renderedRulers.pop();this.domNode.removeChild(s),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const s=this._renderedRulers[t],o=this._rulers[t];s.setBoxShadow(o.color?`1px 0 0 0 ${o.color} inset`:""),s.setHeight(Math.min(e.scrollHeight,1e6)),s.setLeft(o.column*this._typicalHalfwidthCharacterWidth)}}}ln((n,e)=>{const t=n.getColor(xht);t&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${t} inset; }`)});class sgt extends xa{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const i=this._context.configuration.options.get(94);this._useShadows=i.useShadows,this._domNode=fi(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(133);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.verticalScrollbarWidth}onConfigurationChanged(e){const i=this._context.configuration.options.get(94);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}ln((n,e)=>{const t=n.getColor(n2);t&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${t} 0 6px 6px -6px inset; }`)});class ogt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class rgt{constructor(e,t){this.lineNumber=e,this.ranges=t}}function agt(n){return new ogt(n)}function lgt(n){return new rgt(n.lineNumber,n.ranges.map(agt))}class Fn extends s2{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(61),this._roundedSelection=t.get(92),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(61),this._roundedSelection=t.get(92),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){const s=this._typicalHalfwidthCharacterWidth/4;let o=null,r=null;if(i&&i.length>0&&t.length>0){const a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!o&&c<i.length;c++)i[c].lineNumber===a&&(o=i[c].ranges[0]);const l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let c=i.length-1;!r&&c>=0;c--)i[c].lineNumber===l&&(r=i[c].ranges[0]);o&&!o.startStyle&&(o=null),r&&!r.startStyle&&(r=null)}for(let a=0,l=t.length;a<l;a++){const c=t[a].ranges[0],u=c.left,d=c.left+c.width,h={top:0,bottom:0},f={top:0,bottom:0};if(a>0){const p=t[a-1].ranges[0].left,m=t[a-1].ranges[0].left+t[a-1].ranges[0].width;jS(u-p)<s?h.top=2:u>p&&(h.top=1),jS(d-m)<s?f.top=2:p<d&&d<m&&(f.top=1)}else o&&(h.top=o.startStyle.top,f.top=o.endStyle.top);if(a+1<l){const p=t[a+1].ranges[0].left,m=t[a+1].ranges[0].left+t[a+1].ranges[0].width;jS(u-p)<s?h.bottom=2:p<u&&u<m&&(h.bottom=1),jS(d-m)<s?f.bottom=2:d<m&&(f.bottom=1)}else r&&(h.bottom=r.startStyle.bottom,f.bottom=r.endStyle.bottom);c.startStyle=h,c.endStyle=f}}_getVisibleRangesWithStyle(e,t,i){const o=(t.linesVisibleRangesForRange(e,!0)||[]).map(lgt);return!this._visibleRangesHaveGaps(o)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,o,i),o}_createSelectionPiece(e,t,i,s,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+s.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,s){if(s.length===0)return;const o=!!s[0].ranges[0].startStyle,r=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),l=s[0].lineNumber,c=s[s.length-1].lineNumber;for(let u=0,d=s.length;u<d;u++){const h=s[u],f=h.lineNumber,p=f-t,m=i&&(f===c||f===l)?a:r,b=i&&f===l?1:0;let w="",y="";for(let L=0,D=h.ranges.length;L<D;L++){const E=h.ranges[L];if(o){const x=E.startStyle,k=E.endStyle;if(x.top===1||x.bottom===1){w+=this._createSelectionPiece(b,m,Fn.SELECTION_CLASS_NAME,E.left-Fn.ROUNDED_PIECE_WIDTH,Fn.ROUNDED_PIECE_WIDTH);let N=Fn.EDITOR_BACKGROUND_CLASS_NAME;x.top===1&&(N+=" "+Fn.SELECTION_TOP_RIGHT),x.bottom===1&&(N+=" "+Fn.SELECTION_BOTTOM_RIGHT),w+=this._createSelectionPiece(b,m,N,E.left-Fn.ROUNDED_PIECE_WIDTH,Fn.ROUNDED_PIECE_WIDTH)}if(k.top===1||k.bottom===1){w+=this._createSelectionPiece(b,m,Fn.SELECTION_CLASS_NAME,E.left+E.width,Fn.ROUNDED_PIECE_WIDTH);let N=Fn.EDITOR_BACKGROUND_CLASS_NAME;k.top===1&&(N+=" "+Fn.SELECTION_TOP_LEFT),k.bottom===1&&(N+=" "+Fn.SELECTION_BOTTOM_LEFT),w+=this._createSelectionPiece(b,m,N,E.left+E.width,Fn.ROUNDED_PIECE_WIDTH)}}let T=Fn.SELECTION_CLASS_NAME;if(o){const x=E.startStyle,k=E.endStyle;x.top===0&&(T+=" "+Fn.SELECTION_TOP_LEFT),x.bottom===0&&(T+=" "+Fn.SELECTION_BOTTOM_LEFT),k.top===0&&(T+=" "+Fn.SELECTION_TOP_RIGHT),k.bottom===0&&(T+=" "+Fn.SELECTION_BOTTOM_RIGHT)}y+=this._createSelectionPiece(b,m,T,E.left,E.width)}e[p][0]+=w,e[p][1]+=y}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let r=i;r<=s;r++){const a=r-i;t[a]=["",""]}const o=[];for(let r=0,a=this._selections.length;r<a;r++){const l=this._selections[r];if(l.isEmpty()){o[r]=null;continue}const c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[r]);o[r]=c,this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map(([r,a])=>r+a)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Fn.SELECTION_CLASS_NAME="selected-text";Fn.SELECTION_TOP_LEFT="top-left-radius";Fn.SELECTION_BOTTOM_LEFT="bottom-left-radius";Fn.SELECTION_TOP_RIGHT="top-right-radius";Fn.SELECTION_BOTTOM_RIGHT="bottom-right-radius";Fn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";Fn.ROUNDED_PIECE_WIDTH=10;ln((n,e)=>{const t=n.getColor(uh);t&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);const i=n.getColor(MP);i&&e.addRule(`.monaco-editor .selected-text { background-color: ${i}; }`);const s=n.getColor(Vut);s&&!s.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${s}; }`)});function jS(n){return n<0?-n:n}class sK{constructor(e,t,i,s,o,r){this.top=e,this.left=t,this.width=i,this.height=s,this.textContent=o,this.textContentClassName=r}}class oK{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(46);this._cursorStyle=t.get(24),this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=fi(document.createElement("div")),this._domNode.setClassName(`cursor ${pm}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),bo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new oe(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(46);return this._cursorStyle=t.get(24),this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),bo(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[s,o]=Srt(i,t-1);return[new oe(e,s+1),i.substring(s,o)]}_prepareRender(e){let t="";const[i,s]=this._getGraphemeAwarePosition();if(this._cursorStyle===Gs.Line||this._cursorStyle===Gs.LineThin){const h=e.visibleRangeForPosition(i);if(!h||h.outsideRenderedLine)return null;let f;this._cursorStyle===Gs.Line?(f=Dj(this._lineCursorWidth>0?this._lineCursorWidth:2),f>2&&(t=s)):f=Dj(1);let p=h.left;f>=2&&p>=1&&(p-=1);const m=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta;return new sK(m,p,f,this._lineHeight,t,"")}const o=e.linesVisibleRangesForRange(new A(i.lineNumber,i.column,i.lineNumber,i.column+s.length),!1);if(!o||o.length===0)return null;const r=o[0];if(r.outsideRenderedLine||r.ranges.length===0)return null;const a=r.ranges[0],l=s==="	"?this._typicalHalfwidthCharacterWidth:a.width<1?this._typicalHalfwidthCharacterWidth:a.width;let c="";if(this._cursorStyle===Gs.Block){const h=this._context.viewModel.getViewLineData(i.lineNumber);t=s;const f=h.tokens.findTokenIndexAtOffset(i.column-1);c=h.tokens.getClassName(f)}let u=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta,d=this._lineHeight;return(this._cursorStyle===Gs.Underline||this._cursorStyle===Gs.UnderlineThin)&&(u+=this._lineHeight-2,d=2),new sK(u,a.left,l,d,t,c)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${pm} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class xw extends xa{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(83),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new oK(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=fi(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new La,this._cursorFlatBlinkInterval=new Ay,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(83),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,s=this._secondaryCursors.length;i<s;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const i=t.length-this._secondaryCursors.length;for(let s=0;s<i;s++){const o=new oK(this._context);this._domNode.domNode.insertBefore(o.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(o)}}else if(this._secondaryCursors.length>t.length){const i=this._secondaryCursors.length-t.length;for(let s=0;s<i;s++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])}onCursorStateChanged(e){const t=[];for(let s=0,o=e.selections.length;s<o;s++)t[s]=e.selections[s].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=i=>{for(let s=0,o=e.ranges.length;s<o;s++)if(e.ranges[s].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[s].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},xw.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},xw.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Gs.Line:e+=" cursor-line-style";break;case Gs.Block:e+=" cursor-block-style";break;case Gs.Underline:e+=" cursor-underline-style";break;case Gs.LineThin:e+=" cursor-line-thin-style";break;case Gs.BlockOutline:e+=" cursor-block-outline-style";break;case Gs.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const s=this._primaryCursor.render(e);s&&(t[i++]=s);for(let o=0,r=this._secondaryCursors.length;o<r;o++){const a=this._secondaryCursors[o].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}}xw.BLINK_INTERVAL=500;ln((n,e)=>{const t=n.getColor(Ote);if(t){let i=n.getColor(Sht);i||(i=t.opposite()),e.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${t}; }`),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${i}; }`),wo(n.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}});const vI=()=>{throw new Error("Invalid change accessor")};class cgt extends xa{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(133);this._lineHeight=t.get(61),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=fi(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=fi(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const s of e)t.set(s.id,s);let i=!1;return this._context.viewModel.changeWhitespace(s=>{const o=Object.keys(this._zones);for(let r=0,a=o.length;r<a;r++){const l=o[r],c=this._zones[l],u=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=u.isInHiddenArea;const d=t.get(l);d&&(d.afterLineNumber!==u.afterViewLineNumber||d.height!==u.heightInPx)&&(s.changeOneWhitespace(l,u.afterViewLineNumber,u.heightInPx),this._safeCallOnComputedHeight(c.delegate,u.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(133);return this._lineHeight=t.get(61),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn!="undefined"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn!="undefined")t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const r=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new oe(r,this._context.viewModel.model.getLineMaxColumn(r))}let i;t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const s=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity),o=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:s.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace(i=>{const s={addZone:o=>(t=!0,this._addZone(i,o)),removeZone:o=>{!o||(t=this._removeZone(i,o)||t)},layoutZone:o=>{!o||(t=this._layoutZone(i,o)||t)}};ugt(e,s),s.addZone=vI,s.removeZone=vI,s.layoutZone=vI}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),o={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:fi(t.domNode),marginDomNode:t.marginDomNode?fi(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],s=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=s.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,s.afterViewLineNumber,s.heightInPx),this._safeCallOnComputedHeight(i.delegate,s.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){Ot(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){Ot(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let s=!1;for(const r of t)this._zones[r.id].isInHiddenArea||(i[r.id]=r,s=!0);const o=Object.keys(this._zones);for(let r=0,a=o.length;r<a;r++){const l=o[r],c=this._zones[l];let u=0,d=0,h="none";i.hasOwnProperty(l)?(u=i[l].verticalOffset-e.bigNumbersDelta,d=i[l].height,h="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(u),c.domNode.setHeight(d),c.domNode.setDisplay(h),c.marginDomNode&&(c.marginDomNode.setTop(u),c.marginDomNode.setHeight(d),c.marginDomNode.setDisplay(h))}s&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function ugt(n,e){try{return n(e)}catch(t){Ot(t)}}class dgt{constructor(e){this._theme=e}get type(){return this._theme.type}get value(){return this._theme}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class hgt{constructor(e,t,i){this.configuration=e,this.theme=new dgt(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}class fgt{constructor(e,t,i,s){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=i,this._model=s,this.visibleRange=new A(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class ggt extends xa{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.domNode=fi(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const i=this._context.configuration.options.get(133),s=i.contentWidth-i.verticalScrollbarWidth;return this.contentWidth!==s&&(this.contentWidth=s,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){let t=0;const i=e.getDecorationsInViewport();for(const s of i){if(!s.options.blockClassName)continue;let o=this.blocks[t];o||(o=this.blocks[t]=fi(document.createElement("div")),this.domNode.appendChild(o));const r=e.getVerticalOffsetForLineNumber(s.range.startLineNumber),a=e.getVerticalOffsetForLineNumber(s.range.endLineNumber+1);o.setClassName("blockDecorations-block "+s.options.blockClassName),o.setLeft(e.scrollLeft),o.setWidth(this.contentWidth),o.setTop(r),o.setHeight(a-r),t++}for(let s=t;s<this.blocks.length;s++)this.blocks[s].domNode.remove();this.blocks.length=t}}class pgt extends By{constructor(e,t,i,s,o,r){super(),this._selections=[new Ye(1,1,1,1)],this._renderAnimationFrame=null;const a=new _ft(t,s,o,e);this._context=new hgt(t,i,s),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new Jht(this._context,a,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=fi(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=fi(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=fi(document.createElement("div")),td.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Bft(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new L5(this._context,this._linesContent),this._viewZones=new cgt(this._context),this._viewParts.push(this._viewZones);const l=new egt(this._context);this._viewParts.push(l);const c=new sgt(this._context);this._viewParts.push(c);const u=new bft(this._context);this._viewParts.push(u),u.addDynamicOverlay(new Sft(this._context)),u.addDynamicOverlay(new Fn(this._context)),u.addDynamicOverlay(new Hft(this._context)),u.addDynamicOverlay(new xft(this._context));const d=new Cft(this._context);this._viewParts.push(d),d.addDynamicOverlay(new Lft(this._context)),d.addDynamicOverlay(new Vft(this._context)),d.addDynamicOverlay(new Kft(this._context)),d.addDynamicOverlay(new jft(this._context)),d.addDynamicOverlay(new vv(this._context));const h=new zm(this._context);h.getDomNode().appendChild(this._viewZones.marginDomNode),h.getDomNode().appendChild(d.getDomNode()),this._viewParts.push(h),this._contentWidgets=new wft(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new xw(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Qft(this._context),this._viewParts.push(this._overlayWidgets);const f=new ngt(this._context);this._viewParts.push(f);const p=new ggt(this._context);this._viewParts.push(p);const m=new Xft(this._context);if(this._viewParts.push(m),l){const b=this._scrollbar.getOverviewRulerLayoutInfo();b.parent.insertBefore(l.getDomNode(),b.insertBefore)}this._linesContent.appendChild(u.getDomNode()),this._linesContent.appendChild(f.domNode),this._linesContent.appendChild(p.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(h.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(c.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(m.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),r?r.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new vht(this._context,a,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new cht(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new oe(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const t=this._context.configuration.options.get(133);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+D8(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=Qee(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){mgt(()=>this._actualRender())}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!bP(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new fgt(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const s=new tht(this._context.viewLayout,i,this._viewLines);for(const o of e)o.prepareRender(s);for(const o of e)o.render(s),o.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),s=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new oe(s.lineNumber,s.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?y5.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new igt(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,i;let s=e.position&&e.position.range||null;if(s===null){const r=e.position?e.position.position:null;r!==null&&(s=new A(r.lineNumber,r.column,r.lineNumber,r.column))}const o=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,s,o,(i=(t=e.position)===null||t===void 0?void 0:t.positionAffinity)!==null&&i!==void 0?i:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function mgt(n){try{return n()}catch(e){Ot(e)}}class H8{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new qs(new A(1,1,1,1),0,new oe(1,1),0),new qs(new A(1,1,1,1),0,new oe(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){!this._trackSelection||(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Xt(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return Ye.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,s){return t.equals(i)?s:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,s=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),r=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,s,i,r),l=this._validatePositionWithCache(e,o,s,a);return i.equals(r)&&s.equals(a)&&o.equals(l)?t:new qs(A.fromPositions(a,l),t.selectionStartLeftoverVisibleColumns+s.column-a.column,r,t.leftoverVisibleColumns+i.column-r.column)}_setState(e,t,i){if(i&&(i=H8._validateViewState(e.viewModel,i)),t){const s=e.model.validateRange(t.selectionStart),o=t.selectionStart.equalsRange(s)?t.selectionStartLeftoverVisibleColumns:0,r=e.model.validatePosition(t.position),a=t.position.equals(r)?t.leftoverVisibleColumns:0;t=new qs(s,o,r,a)}else{if(!i)return;const s=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new qs(s,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){const s=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new qs(s,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const s=e.coordinatesConverter.convertModelPositionToViewPosition(new oe(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new oe(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),r=new A(s.lineNumber,s.column,o.lineNumber,o.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new qs(r,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class rK{constructor(e){this.context=e,this.cursors=[new H8(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return Ust(this.cursors,iC(e=>e.viewState.position,oe.compare)).viewState.position}getBottomMostViewPosition(){return BJ(this.cursors,iC(e=>e.viewState.position,oe.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(Xt.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const s=i-t;for(let o=0;o<s;o++)this._addSecondaryCursor()}else if(t>i){const s=t-i;for(let o=0;o<s;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let s=0;s<i;s++)this.cursors[s+1].setState(this.context,e[s].modelState,e[s].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new H8(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),t=[];for(let i=0,s=e.length;i<s;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(iC(i=>i.selection,A.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const s=t[i],o=t[i+1],r=s.selection,a=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||r.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(r.getEndPosition()):l=a.getStartPosition().isBefore(r.getEndPosition()),l){const c=s.index<o.index?i:i+1,u=s.index<o.index?i+1:i,d=t[u].index,h=t[c].index,f=t[u].selection,p=t[c].selection;if(!f.equalsSelection(p)){const m=f.plusRange(p),b=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,w=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn;let y;d===this.lastAddedCursorIndex?(y=b,this.lastAddedCursorIndex=h):y=w;let L;y?L=new Ye(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):L=new Ye(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn),t[c].selection=L;const D=Xt.fromModelSelection(L);e[h].setState(this.context,D.modelState,D.viewState)}for(const m of t)m.index>d&&m.index--;e.splice(d,1),t.splice(u,1),this._removeSecondaryCursor(d-1),i--}}}}class aK{constructor(e,t,i,s){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=s}}class _gt{constructor(){this.changeType=1}}class zc{constructor(e,t,i,s,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=s,this.order=o}static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",s=0;for(const o of t)i+=e.substring(s,o.column-1),s=o.column-1,i+=o.options.content;return i+=e.substring(s),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new zc(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new zc(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,s)=>i.lineNumber===s.lineNumber?i.column===s.column?i.order-s.order:i.column-s.column:i.lineNumber-s.lineNumber),t}}class lK{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class vgt{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class bgt{constructor(e,t,i,s){this.changeType=4,this.injectedTexts=s,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class Cgt{constructor(){this.changeType=5}}class I1{constructor(e,t,i,s){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=s,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),s=t.versionId,o=e.isUndoing||t.isUndoing,r=e.isRedoing||t.isRedoing;return new I1(i,s,o,r)}}class eie{constructor(e){this.changes=e}}class _m{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=I1.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=_m._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new _m(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),s=t.eol,o=t.versionId,r=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush;return{changes:i,eol:s,versionId:o,isUndoing:r,isRedoing:a,isFlush:l}}}class wgt{constructor(){this.type=0}}class ygt{constructor(){this.type=1}}class Sgt{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class Lgt{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class g0{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class KS{constructor(){this.type=5}}class xgt{constructor(e){this.type=6,this.isFocused=e}}class Dgt{constructor(){this.type=7}}class qS{constructor(){this.type=8}}class tie{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}}class vM{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class bM{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class p6{constructor(e,t,i,s,o,r,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=s,this.verticalType=o,this.revealHorizontal=r,this.scrollType=a,this.type=12}}class kgt{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Egt{constructor(e){this.theme=e,this.type=14}}class Igt{constructor(e){this.type=15,this.ranges=e}}class Tgt{constructor(){this.type=16}}class Ngt{constructor(){this.type=17}}class Mgt extends de{constructor(){super(),this._onEvent=this._register(new J),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++){const s=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(s){this._outgoingEvents[t]=s;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Agt),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class Agt{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class KP{constructor(e,t,i,s){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=s,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new KP(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class qP{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new qP(this.oldHasFocus,e.hasFocus)}}class GP{constructor(e,t,i,s,o,r,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=s,this.scrollWidth=o,this.scrollLeft=r,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new GP(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Rgt{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Ogt{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class $8{constructor(e,t,i,s,o,r,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=s,this.source=o,this.reason=r,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length,s=t.length;if(i!==s)return!1;for(let o=0;o<i;o++)if(!e[o].equalsSelection(t[o]))return!1;return!0}isNoOp(){return $8._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new $8(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class Pgt{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Fgt{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class Bgt{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class Vgt{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class Wgt{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class Hgt{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class $gt{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class Cv extends de{constructor(e,t,i,s){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new aK(this._model,this._viewModel,this._coordinatesConverter,s),this._cursors=new rK(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=vi(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new aK(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,s){let o=!1;s!==null&&s.length>Cv.MAX_CURSOR_COUNT&&(s=s.slice(0,Cv.MAX_CURSOR_COUNT),o=!0);const r=hC.from(this._model,this);return this._cursors.setStates(s),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,r,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,s,o,r){const a=this._cursors.getViewPositions();let l=null,c=null;a.length>1?c=this._cursors.getViewSelections():l=A.fromPositions(a[0],a[0]),e.emitViewEvent(new p6(t,i,l,c,s,o,r))}saveState(){const e=[],t=this._cursors.getSelections();for(let i=0,s=t.length;i<s;i++){const o=t[i];e.push({inSelectionMode:!o.isEmpty(),selectionStart:{lineNumber:o.selectionStartLineNumber,column:o.selectionStartColumn},position:{lineNumber:o.positionLineNumber,column:o.positionColumn}})}return e}restoreState(e,t){const i=[];for(let s=0,o=t.length;s<o;s++){const r=t[s];let a=1,l=1;r.position&&r.position.lineNumber&&(a=r.position.lineNumber),r.position&&r.position.column&&(l=r.position.column);let c=a,u=l;r.selectionStart&&r.selectionStart.lineNumber&&(c=r.selectionStart.lineNumber),r.selectionStart&&r.selectionStart.column&&(u=r.selectionStart.column),i.push({selectionStartLineNumber:c,selectionStartColumn:u,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,Xt.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof eie){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;const s=i.containsEvent(1);if(this._prevEditOperationType=0,s)this._cursors.dispose(),this._cursors=new rK(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const o=Xt.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,o)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const o=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Xt.fromModelSelections(o))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,s){this.setStates(e,t,s,Xt.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const i=[],s=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),s.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});const o=this._model.deltaDecorations([],i),r=this._model.deltaDecorations([],s);this._autoClosedActions.push(new cK(this._model,o,r))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=zgt.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const i=[],s=[];for(let o=0;o<e.commands.length;o++){const r=e.commands[o];r instanceof jte&&r.enclosingRange&&r.closeCharacterRange&&(i.push(r.closeCharacterRange),s.push(r.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,s),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,s,o){const r=hC.from(this._model,this);if(r.equals(s))return!1;const a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new Lgt(l,a)),!s||s.cursorState.length!==r.cursorState.length||r.cursorState.some((c,u)=>!c.modelState.equals(s.cursorState[u].modelState))){const c=s?s.cursorState.map(d=>d.modelState.selection):null,u=s?s.modelVersionId:0;e.emitOutgoingEvent(new $8(c,a,u,r.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];if(!o.text||o.text.indexOf(`
`)>=0)return null;const r=o.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!r)return null;const a=r[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;const c=l[0].open,u=o.text.length-r[2].length-1,d=o.text.lastIndexOf(c,u-1);if(d===-1)return null;t.push([d,u])}return t}executeEdits(e,t,i,s){let o=null;t==="snippet"&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);const r=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,c=>{if(o)for(let d=0,h=o.length;d<h;d++){const[f,p]=o[d],m=c[d],b=m.range.startLineNumber,w=m.range.startColumn-1+f,y=m.range.startColumn-1+p;r.push(new A(b,y+1,b,y+2)),a.push(new A(b,w+1,b,y+2))}const u=s(c);return u&&(this._isHandling=!0),u});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),r.length>0&&this._pushAutoClosedAction(r,a)}_executeEdit(e,t,i,s=0){if(this.context.cursorConfig.readOnly)return;const o=hC.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(r){Ot(r)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,s,o,!1)&&this.revealPrimary(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return cK.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new fC(this._model,this.getSelections())}endComposition(e,t){const i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{t==="keyboard"&&this._executeEditOperation(wn.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){const s=t.length;let o=0;for(;o<s;){const r=ZO(t,o),a=t.substr(o,r);this._executeEditOperation(wn.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),o+=r}}else this._executeEditOperation(wn.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,s,o,r){if(t.length===0&&i===0&&s===0){if(o!==0){const a=this.getSelections().map(l=>{const c=l.getPosition();return new Ye(c.lineNumber,c.column+o,c.lineNumber,c.column+o)});this.setSelections(e,r,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(wn.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,s,o))},e,r)}paste(e,t,i,s,o){this._executeEdit(()=>{this._executeEditOperation(wn.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,s||[]))},e,o,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(Um.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new or(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new or(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}Cv.MAX_CURSOR_COUNT=1e4;class hC{constructor(e,t){this.modelVersionId=e,this.cursorState=t}static from(e,t){return new hC(e.getVersionId(),t.getCursorStates())}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class cK{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const s=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(s&&(t.push(s),s.startLineNumber!==s.endLineNumber))return!1}t.sort(A.compareRangesUsingStarts),e.sort(A.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class zgt{static executeCommands(e,t,i){const s={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(s,i);for(let r=0,a=s.trackedRanges.length;r<a;r++)s.model._setTrackedRange(s.trackedRanges[r],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(i.operations.length===0)return null;const s=i.operations,o=this._getLoserCursorMap(s);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const r=[];for(let c=0,u=s.length;c<u;c++)o.hasOwnProperty(s[c].identifier.major.toString())||r.push(s[c]);i.hadTrackedEditOperation&&r.length>0&&(r[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,r,c=>{const u=[];for(let f=0;f<e.selectionsBefore.length;f++)u[f]=[];for(const f of c)!f.identifier||u[f.identifier.major].push(f);const d=(f,p)=>f.identifier.minor-p.identifier.minor,h=[];for(let f=0;f<e.selectionsBefore.length;f++)u[f].length>0?(u[f].sort(d),h[f]=t[f].computeCursorState(e.model,{getInverseEditOperations:()=>u[f],getTrackedSelection:p=>{const m=parseInt(p,10),b=e.model._getTrackedRange(e.trackedRanges[m]);return e.trackedRangesDirection[m]===0?new Ye(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn):new Ye(b.endLineNumber,b.endColumn,b.startLineNumber,b.startColumn)}})):h[f]=e.selectionsBefore[f];return h});a||(a=e.selectionsBefore);const l=[];for(const c in o)o.hasOwnProperty(c)&&l.push(parseInt(c,10));l.sort((c,u)=>u-c);for(const c of l)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],s=!1;for(let o=0,r=t.length;o<r;o++){const a=t[o];if(a){const l=this._getEditOperationsFromCommand(e,o,a);i=i.concat(l.operations),s=s||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:s}}static _getEditOperationsFromCommand(e,t,i){const s=[];let o=0;const r=(d,h,f=!1)=>{A.isEmpty(d)&&h===""||s.push({identifier:{major:t,minor:o++},range:d,text:h,forceMoveMarkers:f,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const u={addEditOperation:r,addTrackedEditOperation:(d,h,f)=>{a=!0,r(d,h,f)},trackSelection:(d,h)=>{const f=Ye.liftSelection(d);let p;if(f.isEmpty())if(typeof h=="boolean")h?p=2:p=3;else{const w=e.model.getLineMaxColumn(f.startLineNumber);f.startColumn===w?p=2:p=3}else p=1;const m=e.trackedRanges.length,b=e.model._setTrackedRange(null,f,p);return e.trackedRanges[m]=b,e.trackedRangesDirection[m]=f.getDirection(),m.toString()}};try{i.getEditOperations(e.model,u)}catch(d){return Ot(d),{operations:[],hadTrackedEditOperation:!1}}return{operations:s,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,s)=>-A.compareRangesUsingEnds(i.range,s.range));const t={};for(let i=1;i<e.length;i++){const s=e[i-1],o=e[i];if(A.getStartPosition(s.range).isBefore(A.getEndPosition(o.range))){let r;s.identifier.major>o.identifier.major?r=s.identifier.major:r=o.identifier.major,t[r.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===r&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}}class Ugt{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}}class fC{constructor(e,t){this._original=fC._capture(e,t)}static _capture(e,t){const i=[];for(const s of t){if(s.startLineNumber!==s.endLineNumber)return null;i.push(new Ugt(e.getLineContent(s.startLineNumber),s.startColumn-1,s.endColumn-1))}return i}deduceOutcome(e,t){if(!this._original)return null;const i=fC._capture(e,t);if(!i||this._original.length!==i.length)return null;const s=[];for(let o=0,r=this._original.length;o<r;o++)s.push(fC._deduceOutcome(this._original[o],i[o]));return s}static _deduceOutcome(e,t){const i=Math.min(e.startSelection,t.startSelection,Rm(e.text,t.text)),s=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,tw(e.text,t.text)),o=e.text.substring(i,e.text.length-s),r=t.text.substring(i,t.text.length-s);return new pft(o,e.startSelection-i,e.endSelection-i,r,t.startSelection-i,t.endSelection-i)}}class iie{constructor(e,t,i,s,o,r){this.id=e,this.label=t,this.alias=i,this._precondition=s,this._run=o,this._contextKeyService=r}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}function jm(n){let e=0,t=0,i=0,s=0;for(let o=0,r=n.length;o<r;o++){const a=n.charCodeAt(o);a===13?(e===0&&(t=o),e++,o+1<r&&n.charCodeAt(o+1)===10?(s|=2,o++):s|=3,i=o+1):a===10&&(s|=1,e===0&&(t=o),e++,i=o+1)}return e===0&&(t=n.length),[e,t,n.length-i,s]}class GS{constructor(e,t,i,s){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=s}}class jgt{constructor(e,t,i,s,o,r){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=s,this.nestingLevelOfEqualBracketType=o,this.bracketPairNode=r}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class Kgt extends jgt{constructor(e,t,i,s,o,r,a){super(e,t,i,s,o,r),this.minVisibleColumnIndentation=a}}class CM{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}CM.zero=new CM(0,0);function qgt(n,e,t,i){return n!==t?qn(t-n,i):qn(0,i-e)}const Hl=0;function Ggt(n){return n===0}const ga=Math.pow(2,26);function qn(n,e){return n*ga+e}function ug(n){const e=n,t=Math.floor(e/ga),i=e-t*ga;return new CM(t,i)}function Ygt(n){return Math.floor(n/ga)}function Wn(n,e){return e<ga?n+e:n-n%ga+e}function Zgt(n,e){const t=n,i=e;if(i-t<=0)return Hl;const o=Math.floor(t/ga),r=Math.floor(i/ga),a=i-r*ga;if(o===r){const l=t-o*ga;return qn(0,a-l)}else return qn(r-o,a)}function T1(n,e){return n<e}function qf(n,e){return n<=e}function Mb(n,e){return n>=e}function p0(n){return qn(n.lineNumber-1,n.column-1)}function mh(n,e){const t=n,i=Math.floor(t/ga),s=t-i*ga,o=e,r=Math.floor(o/ga),a=o-r*ga;return new A(i+1,s+1,r+1,a+1)}function Xgt(n){const e=Ju(n);return qn(e.length-1,e[e.length-1].length)}class uK{constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}}class Qgt{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(i=>YP.from(i))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):this.documentLength;return Zgt(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?qn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):qn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=ug(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?qn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):qn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(qf(i,e)){this.nextEditIdx++;const s=ug(i),o=ug(this.translateOldToCur(t.endOffsetBeforeObj)),r=s.lineCount-o.lineCount;this.deltaOldToNewLineCount+=r;const a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=s.columnCount-o.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}}class YP{constructor(e,t,i){this.endOffsetBeforeObj=ug(t),this.endOffsetAfterObj=ug(Wn(e,i)),this.offsetObj=ug(e)}static from(e){return new YP(e.startOffset,e.endOffset,e.newLength)}}const m6=new Array;class us{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&t.length===0){let i=us.cache[e];return i||(i=new us(e,t),us.cache[e]=i),i}return new us(e,t)}static getEmpty(){return this.empty}add(e,t){const i=t.getKey(e);let s=i>>5;if(s===0){const r=1<<i|this.items;return r===this.items?this:us.create(r,this.additionalItems)}s--;const o=this.additionalItems.slice(0);for(;o.length<s;)o.push(0);return o[s]|=1<<(i&31),us.create(this.items,o)}merge(e){const t=this.items|e.items;if(this.additionalItems===m6&&e.additionalItems===m6)return t===this.items?this:t===e.items?e:us.create(t,m6);const i=new Array;for(let s=0;s<Math.max(this.additionalItems.length,e.additionalItems.length);s++){const o=this.additionalItems[s]||0,r=e.additionalItems[s]||0;i.push(o|r)}return us.create(t,i)}intersects(e){if((this.items&e.items)!==0)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if((this.additionalItems[t]&e.additionalItems[t])!==0)return!0;return!1}}us.cache=new Array(129);us.empty=us.create(0,m6);const dK={getKey(n){return n}};class nie{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}class ZP{constructor(e){this._length=e}get length(){return this._length}}class Dw extends ZP{constructor(e,t,i,s,o){super(e),this.openingBracket=t,this.child=i,this.closingBracket=s,this.missingOpeningBracketIds=o}static create(e,t,i){let s=e.length;return t&&(s=Wn(s,t.length)),i&&(s=Wn(s,i.length)),new Dw(s,e,t,i,t?t.missingOpeningBracketIds:us.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new Dw(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(Wn(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class id extends ZP{constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}static create23(e,t,i,s=!1){let o=e.length,r=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=Wn(o,t.length),r=r.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=Wn(o,i.length),r=r.merge(i.missingOpeningBracketIds)}return s?new Jgt(o,e.listHeight+1,e,t,i,r):new kw(o,e.listHeight+1,e,t,i,r)}static getEmpty(){return new ept(Hl,0,[],us.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t=this,i;for(;t.kind===4&&(i=t.childrenLength)>0;)t=t.getChild(i-1);return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let s=1;s<e;s++){const o=this.getChild(s);t=Wn(t,o.length),i=i.merge(o.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,s=e;for(let o=0;o<this.childrenLength;o++){const r=this.getChild(o);r&&(i=Math.min(i,r.computeMinIndentation(s,t)),s=Wn(s,r.length))}return this.cachedMinIndentation=i,i}}class kw extends id{constructor(e,t,i,s,o,r){super(e,t,r),this._item1=i,this._item2=s,this._item3=o}get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new kw(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class Jgt extends kw{toMutable(){return new kw(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class z8 extends id{constructor(e,t,i,s){super(e,t,s),this._children=i}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new z8(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class ept extends z8{toMutable(){return new z8(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const tpt=[];class XP extends ZP{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return tpt}deepClone(){return this}}class F0 extends XP{get kind(){return 0}get missingOpeningBracketIds(){return us.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=ug(e),s=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,o=Ygt(Wn(e,this.length))+1;let r=Number.MAX_SAFE_INTEGER;for(let a=s;a<=o;a++){const l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;const u=ys.visibleColumnFromColumn(c,l,t.getOptions().tabSize);r=Math.min(r,u)}return r}}class U8 extends XP{constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}static create(e,t,i){return new U8(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return us.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class ipt extends XP{constructor(e,t){super(t),this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class Vf{constructor(e,t,i,s,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=s,this.astNode=o}}class sie{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new npt(this.textModel,this.bracketTokens),this._offset=Hl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return qn(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=Wn(this._offset,e);const t=ug(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=Wn(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class npt{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const o=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=o.length,o}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const o=this.lineTokens,r=o.getCount();let a=null;if(this.lineTokenOffset<r){const l=o.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<r&&l===o.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=io.getTokenType(l)===0,u=io.containsBalancedBrackets(l),d=o.getEndOffset(this.lineTokenOffset);if(u&&c&&this.lineCharOffset<d){const h=o.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,d),p=this.bracketTokens.getSingleLanguageBracketTokens(h),m=p.regExpGlobal;if(m){m.lastIndex=0;const b=m.exec(f);b&&(a=p.getToken(b[0]),a&&(this.lineCharOffset+=b.index))}}if(i+=d-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=d}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const s=qgt(e,t,this.lineIdx,this.lineCharOffset);return new Vf(s,0,-1,us.getEmpty(),new F0(s))}}class spt{constructor(e,t){this.text=e,this._offset=Hl,this.idx=0;const i=t.getRegExpStr(),s=i?new RegExp(i+`|
`,"gi"):null,o=[];let r,a=0,l=0,c=0,u=0;const d=new Array;for(let p=0;p<60;p++)d.push(new Vf(qn(0,p),0,-1,us.getEmpty(),new F0(qn(0,p))));const h=new Array;for(let p=0;p<60;p++)h.push(new Vf(qn(1,p),0,-1,us.getEmpty(),new F0(qn(1,p))));if(s)for(s.lastIndex=0;(r=s.exec(e))!==null;){const p=r.index,m=r[0];if(m===`
`)a++,l=p+1;else{if(c!==p){let b;if(u===a){const w=p-c;if(w<d.length)b=d[w];else{const y=qn(0,w);b=new Vf(y,0,-1,us.getEmpty(),new F0(y))}}else{const w=a-u,y=p-l;if(w===1&&y<h.length)b=h[y];else{const L=qn(w,y);b=new Vf(L,0,-1,us.getEmpty(),new F0(L))}}o.push(b)}o.push(t.getToken(m)),c=p+m.length,u=a}}const f=e.length;if(c!==f){const p=u===a?qn(0,f-c):qn(a-u,f-l);o.push(new Vf(p,0,-1,us.getEmpty(),new F0(p)))}this.length=qn(a,f-l),this.tokens=o}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new Bot}}class QP{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function i(o){return t.getKey(`${o.languageId}:::${o.bracketText}`)}const s=new Map;for(const o of e.bracketsNew.openingBrackets){const r=qn(0,o.bracketText.length),a=i(o),l=us.getEmpty().add(a,dK);s.set(o.bracketText,new Vf(r,1,a,l,U8.create(r,o,l)))}for(const o of e.bracketsNew.closingBrackets){const r=qn(0,o.bracketText.length);let a=us.getEmpty();const l=o.getClosedBrackets();for(const c of l)a=a.add(i(c),dK);s.set(o.bracketText,new Vf(r,2,i(l[0]),a,U8.create(r,o,a)))}return new QP(s)}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>opt(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}}function opt(n){let e=Ca(n);return/^[\w ]+/.test(n)&&(e=`\\b${e}`),/[\w ]+$/.test(n)&&(e=`${e}\\b`),e}class oie{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=QP.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function rpt(n){if(n.length===0)return null;if(n.length===1)return n[0];let e=0;function t(){if(e>=n.length)return null;const r=e,a=n[r].listHeight;for(e++;e<n.length&&n[e].listHeight===a;)e++;return e-r>=2?rie(r===0&&e===n.length?n:n.slice(r,e),!1):n[r]}let i=t(),s=t();if(!s)return i;for(let r=t();r;r=t())hK(i,s)<=hK(s,r)?(i=bI(i,s),s=r):s=bI(s,r);return bI(i,s)}function rie(n,e=!1){if(n.length===0)return null;if(n.length===1)return n[0];let t=n.length;for(;t>3;){const i=t>>1;for(let s=0;s<i;s++){const o=s<<1;n[s]=id.create23(n[o],n[o+1],o+3===t?n[o+2]:null,e)}t=i}return id.create23(n[0],n[1],t>=3?n[2]:null,e)}function hK(n,e){return Math.abs(n.listHeight-e.listHeight)}function bI(n,e){return n.listHeight===e.listHeight?id.create23(n,e,null,!1):n.listHeight>e.listHeight?apt(n,e):lpt(e,n)}function apt(n,e){n=n.toMutable();let t=n;const i=new Array;let s;for(;;){if(e.listHeight===t.listHeight){s=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let o=i.length-1;o>=0;o--){const r=i[o];s?r.childrenLength>=3?s=id.create23(r.unappendChild(),s,null,!1):(r.appendChildOfSameHeight(s),s=void 0):r.handleChildrenChanged()}return s?id.create23(n,s,null,!1):n}function lpt(n,e){n=n.toMutable();let t=n;const i=new Array;for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let s=e;for(let o=i.length-1;o>=0;o--){const r=i[o];s?r.childrenLength>=3?s=id.create23(s,r.unprependChild(),null,!1):(r.prependChildOfSameHeight(s),s=void 0):r.handleChildrenChanged()}return s?id.create23(s,n,null,!1):n}class cpt{constructor(e){this.lastOffset=Hl,this.nextNodes=[e],this.offsets=[Hl],this.idxs=[]}readLongestNodeAt(e,t){if(T1(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=ib(this.nextNodes);if(!i)return;const s=ib(this.offsets);if(T1(e,s))return;if(T1(s,e))if(Wn(s,i.length)<=e)this.nextNodeAfterCurrent();else{const o=CI(i);o!==-1?(this.nextNodes.push(i.getChild(o)),this.offsets.push(s),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const o=CI(i);if(o===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(o)),this.offsets.push(s),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){const e=ib(this.offsets),t=ib(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=ib(this.nextNodes),s=CI(i,this.idxs[this.idxs.length-1]);if(s!==-1){this.nextNodes.push(i.getChild(s)),this.offsets.push(Wn(e,t.length)),this.idxs[this.idxs.length-1]=s;break}else this.idxs.pop()}}}function CI(n,e=-1){for(;;){if(e++,e>=n.childrenLength)return-1;if(n.getChild(e))return e}}function ib(n){return n.length>0?n[n.length-1]:void 0}function wM(n,e,t,i){return new upt(n,e,t,i).parseDocument()}class upt{constructor(e,t,i,s){if(this.tokenizer=e,this.createImmutableLists=s,this._itemsConstructed=0,this._itemsFromCache=0,i&&s)throw new Error("Not supported");this.oldNodeReader=i?new cpt(i):void 0,this.positionMapper=new Qgt(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(us.getEmpty());return e||(e=id.getEmpty()),e}parseList(e){const t=new Array;for(;;){const s=this.tokenizer.peek();if(!s||s.kind===2&&s.bracketIds.intersects(e))break;const o=this.parseChild(e);o.kind===4&&o.childrenLength===0||t.push(o)}return this.oldNodeReader?rpt(t):rie(t,this.createImmutableLists)}parseChild(e){if(this.oldNodeReader){const i=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!Ggt(i)){const s=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),o=>T1(o.length,i)?o.canBeReused(e):!1);if(s)return this._itemsFromCache++,this.tokenizer.skip(s.length),s}}this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new ipt(t.bracketIds,t.length);case 0:return t.astNode;case 1:{const i=e.merge(t.bracketIds),s=this.parseList(i),o=this.tokenizer.peek();return o&&o.kind===2&&(o.bracketId===t.bracketId||o.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),Dw.create(t.astNode,s,o.astNode)):Dw.create(t.astNode,s,null)}default:throw new Error("unexpected")}}}class dpt extends de{constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new J,this.denseKeyProvider=new nie,this.brackets=new oie(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,e.tokenization.backgroundTokenizationState===0){const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),s=new spt(this.textModel.getValue(),i);this.initialAstWithoutTokens=wM(s,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):e.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new uK(qn(i.fromLineNumber-1,0),qn(i.toLineNumber,0),qn(i.toLineNumber-i.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=e.changes.map(i=>{const s=A.lift(i.range);return new uK(p0(s.getStartPosition()),p0(s.getEndPosition()),Xgt(i.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,i){const s=t,o=new sie(this.textModel,this.brackets);return wM(o,e,s,i)}getBracketsInRange(e){const t=qn(e.startLineNumber-1,e.startColumn-1),i=qn(e.endLineNumber-1,e.endColumn-1),s=new Array,o=this.initialAstWithoutTokens||this.astWithTokens;return yM(o,Hl,o.length,t,i,s,0,new Map),s}getBracketPairsInRange(e,t){const i=new Array,s=p0(e.getStartPosition()),o=p0(e.getEndPosition()),r=this.initialAstWithoutTokens||this.astWithTokens,a=new hpt(i,t,this.textModel);return SM(r,Hl,r.length,s,o,a,0,new Map),i}getFirstBracketAfter(e){const t=this.initialAstWithoutTokens||this.astWithTokens;return lie(t,Hl,t.length,p0(e))}getFirstBracketBefore(e){const t=this.initialAstWithoutTokens||this.astWithTokens;return aie(t,Hl,t.length,p0(e))}}function aie(n,e,t,i){if(n.kind===4||n.kind===2){const s=[];for(const o of n.children)t=Wn(e,o.length),s.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let o=s.length-1;o>=0;o--){const{nodeOffsetStart:r,nodeOffsetEnd:a}=s[o];if(T1(r,i)){const l=aie(n.children[o],r,a,i);if(l)return l}}return null}else{if(n.kind===3)return null;if(n.kind===1){const s=mh(e,t);return{bracketInfo:n.bracketInfo,range:s}}}return null}function lie(n,e,t,i){if(n.kind===4||n.kind===2){for(const s of n.children){if(t=Wn(e,s.length),T1(i,t)){const o=lie(s,e,t,i);if(o)return o}e=t}return null}else{if(n.kind===3)return null;if(n.kind===1){const s=mh(e,t);return{bracketInfo:n.bracketInfo,range:s}}}return null}function yM(n,e,t,i,s,o,r,a){if(!(r>200)){if(n.kind===4)for(const l of n.children)t=Wn(e,l.length),qf(e,s)&&Mb(t,i)&&yM(l,e,t,i,s,o,r,a),e=t;else if(n.kind===2){let l=0;if(a){let c=a.get(n.openingBracket.text);c===void 0&&(c=0),l=c,c++,a.set(n.openingBracket.text,c)}{const c=n.openingBracket;if(t=Wn(e,c.length),qf(e,s)&&Mb(t,i)){const u=mh(e,t);o.push(new GS(u,r,l,!n.closingBracket))}e=t}if(n.child){const c=n.child;t=Wn(e,c.length),qf(e,s)&&Mb(t,i)&&yM(c,e,t,i,s,o,r+1,a),e=t}if(n.closingBracket){const c=n.closingBracket;if(t=Wn(e,c.length),qf(e,s)&&Mb(t,i)){const u=mh(e,t);o.push(new GS(u,r,l,!1))}e=t}a==null||a.set(n.openingBracket.text,l)}else if(n.kind===3){const l=mh(e,t);o.push(new GS(l,r-1,0,!0))}else if(n.kind===1){const l=mh(e,t);o.push(new GS(l,r-1,0,!1))}}}class hpt{constructor(e,t,i){this.result=e,this.includeMinIndentation=t,this.textModel=i}}function SM(n,e,t,i,s,o,r,a){var l;if(!(r>200))if(n.kind===2){let c=0;if(a){let h=a.get(n.openingBracket.text);h===void 0&&(h=0),c=h,h++,a.set(n.openingBracket.text,h)}const u=Wn(e,n.openingBracket.length);let d=-1;if(o.includeMinIndentation&&(d=n.computeMinIndentation(e,o.textModel)),o.result.push(new Kgt(mh(e,t),mh(e,u),n.closingBracket?mh(Wn(u,((l=n.child)===null||l===void 0?void 0:l.length)||Hl),t):void 0,r,c,n,d)),e=u,n.child){const h=n.child;t=Wn(e,h.length),qf(e,s)&&Mb(t,i)&&SM(h,e,t,i,s,o,r+1,a)}a==null||a.set(n.openingBracket.text,c)}else{let c=e;for(const u of n.children){const d=c;c=Wn(c,u.length),qf(d,s)&&qf(i,c)&&SM(u,d,c,i,s,o,r,a)}}}class fpt extends de{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new Bo),this.onDidChangeEmitter=new J,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(i=>{var s;(!i.languageId||((s=this.bracketPairsTree.value)===null||s===void 0?void 0:s.object.didLanguageChange(i.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)===null||e===void 0||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new Ie;this.bracketPairsTree.value=gpt(e.add(new dpt(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketsInRange(e))||[]}findMatchingBracketUp(e,t,i){const s=this.textModel.validatePosition(t),o=this.textModel.getLanguageIdAtPosition(s.lineNumber,s.column);if(this.canBuildAST){const r=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew.getClosingBracketInfo(e);if(!r)return null;const a=n8(this.getBracketPairsInRange(A.fromPositions(t,t))||[],l=>r.closes(l.openingBracketInfo));return a?a.openingBracketRange:null}else{const r=e.toLowerCase(),a=this.languageConfigurationService.getLanguageConfiguration(o).brackets;if(!a)return null;const l=a.textIsBracket[r];return l?YS(this._findMatchingBracketUp(l,s,wI(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=BJ(this.getBracketPairsInRange(A.fromPositions(e,e)).filter(s=>s.closingBracketRange!==void 0&&(s.openingBracketRange.containsPosition(e)||s.closingBracketRange.containsPosition(e))),iC(s=>s.openingBracketRange.containsPosition(e)?s.openingBracketRange:s.closingBracketRange,A.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{const i=wI(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,s){const o=t.getCount(),r=t.getLanguageId(s);let a=Math.max(0,e.column-1-i.maxBracketLength);for(let c=s-1;c>=0;c--){const u=t.getEndOffset(c);if(u<=a)break;if(mu(t.getStandardTokenType(c))||t.getLanguageId(c)!==r){a=u;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let c=s+1;c<o;c++){const u=t.getStartOffset(c);if(u>=l)break;if(mu(t.getStandardTokenType(c))||t.getLanguageId(c)!==r){l=u;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e,t){const i=e.lineNumber,s=this.textModel.tokenization.getLineTokens(i),o=this.textModel.getLineContent(i),r=s.findTokenIndexAtOffset(e.column-1);if(r<0)return null;const a=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(r)).brackets;if(a&&!mu(s.getStandardTokenType(r))){let{searchStartOffset:l,searchEndOffset:c}=this._establishBracketSearchOffsets(e,s,a,r),u=null;for(;;){const d=Al.findNextBracketInRange(a.forwardRegex,i,o,l,c);if(!d)break;if(d.startColumn<=e.column&&e.column<=d.endColumn){const h=o.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),f=this._matchFoundBracket(d,a.textIsBracket[h],a.textIsOpenBracket[h],t);if(f){if(f instanceof Gd)return null;u=f}}l=d.endColumn-1}if(u)return u}if(r>0&&s.getStartOffset(r)===e.column-1){const l=r-1,c=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(l)).brackets;if(c&&!mu(s.getStandardTokenType(l))){const{searchStartOffset:u,searchEndOffset:d}=this._establishBracketSearchOffsets(e,s,c,l),h=Al.findPrevBracketInRange(c.reversedRegex,i,o,u,d);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn){const f=o.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),p=this._matchFoundBracket(h,c.textIsBracket[f],c.textIsOpenBracket[f],t);if(p)return p instanceof Gd?null:p}}}return null}_matchFoundBracket(e,t,i,s){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),s):this._findMatchingBracketUp(t,e.getStartPosition(),s);return o?o instanceof Gd?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const s=e.languageId,o=e.reversedRegex;let r=-1,a=0;const l=(c,u,d,h)=>{for(;;){if(i&&++a%100===0&&!i())return Gd.INSTANCE;const f=Al.findPrevBracketInRange(o,c,u,d,h);if(!f)break;const p=u.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(e.isOpen(p)?r++:e.isClose(p)&&r--,r===0)return f;h=f.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){const u=this.textModel.tokenization.getLineTokens(c),d=u.getCount(),h=this.textModel.getLineContent(c);let f=d-1,p=h.length,m=h.length;c===t.lineNumber&&(f=u.findTokenIndexAtOffset(t.column-1),p=t.column-1,m=t.column-1);let b=!0;for(;f>=0;f--){const w=u.getLanguageId(f)===s&&!mu(u.getStandardTokenType(f));if(w)b?p=u.getStartOffset(f):(p=u.getStartOffset(f),m=u.getEndOffset(f));else if(b&&p!==m){const y=l(c,h,p,m);if(y)return y}b=w}if(b&&p!==m){const w=l(c,h,p,m);if(w)return w}}return null}_findMatchingBracketDown(e,t,i){const s=e.languageId,o=e.forwardRegex;let r=1,a=0;const l=(u,d,h,f)=>{for(;;){if(i&&++a%100===0&&!i())return Gd.INSTANCE;const p=Al.findNextBracketInRange(o,u,d,h,f);if(!p)break;const m=d.substring(p.startColumn-1,p.endColumn-1).toLowerCase();if(e.isOpen(m)?r++:e.isClose(m)&&r--,r===0)return p;h=p.endColumn-1}return null},c=this.textModel.getLineCount();for(let u=t.lineNumber;u<=c;u++){const d=this.textModel.tokenization.getLineTokens(u),h=d.getCount(),f=this.textModel.getLineContent(u);let p=0,m=0,b=0;u===t.lineNumber&&(p=d.findTokenIndexAtOffset(t.column-1),m=t.column-1,b=t.column-1);let w=!0;for(;p<h;p++){const y=d.getLanguageId(p)===s&&!mu(d.getStandardTokenType(p));if(y)w||(m=d.getStartOffset(p)),b=d.getEndOffset(p);else if(w&&m!==b){const L=l(u,f,m,b);if(L)return L}w=y}if(w&&m!==b){const y=l(u,f,m,b);if(y)return y}}return null}findPrevBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getFirstBracketBefore(i))||null;let s=null,o=null,r=null;for(let a=i.lineNumber;a>=1;a--){const l=this.textModel.tokenization.getLineTokens(a),c=l.getCount(),u=this.textModel.getLineContent(a);let d=c-1,h=u.length,f=u.length;if(a===i.lineNumber){d=l.findTokenIndexAtOffset(i.column-1),h=i.column-1,f=i.column-1;const m=l.getLanguageId(d);s!==m&&(s=m,o=this.languageConfigurationService.getLanguageConfiguration(s).brackets,r=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let p=!0;for(;d>=0;d--){const m=l.getLanguageId(d);if(s!==m){if(o&&r&&p&&h!==f){const w=Al.findPrevBracketInRange(o.reversedRegex,a,u,h,f);if(w)return this._toFoundBracket(r,w);p=!1}s=m,o=this.languageConfigurationService.getLanguageConfiguration(s).brackets,r=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const b=!!o&&!mu(l.getStandardTokenType(d));if(b)p?h=l.getStartOffset(d):(h=l.getStartOffset(d),f=l.getEndOffset(d));else if(r&&o&&p&&h!==f){const w=Al.findPrevBracketInRange(o.reversedRegex,a,u,h,f);if(w)return this._toFoundBracket(r,w)}p=b}if(r&&o&&p&&h!==f){const m=Al.findPrevBracketInRange(o.reversedRegex,a,u,h,f);if(m)return this._toFoundBracket(r,m)}}return null}findNextBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getFirstBracketAfter(i))||null;const s=this.textModel.getLineCount();let o=null,r=null,a=null;for(let l=i.lineNumber;l<=s;l++){const c=this.textModel.tokenization.getLineTokens(l),u=c.getCount(),d=this.textModel.getLineContent(l);let h=0,f=0,p=0;if(l===i.lineNumber){h=c.findTokenIndexAtOffset(i.column-1),f=i.column-1,p=i.column-1;const b=c.getLanguageId(h);o!==b&&(o=b,r=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let m=!0;for(;h<u;h++){const b=c.getLanguageId(h);if(o!==b){if(a&&r&&m&&f!==p){const y=Al.findNextBracketInRange(r.forwardRegex,l,d,f,p);if(y)return this._toFoundBracket(a,y);m=!1}o=b,r=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}const w=!!r&&!mu(c.getStandardTokenType(h));if(w)m||(f=c.getStartOffset(h)),p=c.getEndOffset(h);else if(a&&r&&m&&f!==p){const y=Al.findNextBracketInRange(r.forwardRegex,l,d,f,p);if(y)return this._toFoundBracket(a,y)}m=w}if(a&&r&&m&&f!==p){const b=Al.findNextBracketInRange(r.forwardRegex,l,d,f,p);if(b)return this._toFoundBracket(a,b)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const f=A.fromPositions(i),p=n8(this.getBracketPairsInRange(A.fromPositions(i,i)),m=>m.closingBracketRange!==void 0&&m.range.strictContainsRange(f));return p?[p.openingBracketRange,p.closingBracketRange]:null}const s=wI(t),o=this.textModel.getLineCount(),r=new Map;let a=[];const l=(f,p)=>{if(!r.has(f)){const m=[];for(let b=0,w=p?p.brackets.length:0;b<w;b++)m[b]=0;r.set(f,m)}a=r.get(f)};let c=0;const u=(f,p,m,b,w)=>{for(;;){if(s&&++c%100===0&&!s())return Gd.INSTANCE;const y=Al.findNextBracketInRange(f.forwardRegex,p,m,b,w);if(!y)break;const L=m.substring(y.startColumn-1,y.endColumn-1).toLowerCase(),D=f.textIsBracket[L];if(D&&(D.isOpen(L)?a[D.index]++:D.isClose(L)&&a[D.index]--,a[D.index]===-1))return this._matchFoundBracket(y,D,!1,s);b=y.endColumn-1}return null};let d=null,h=null;for(let f=i.lineNumber;f<=o;f++){const p=this.textModel.tokenization.getLineTokens(f),m=p.getCount(),b=this.textModel.getLineContent(f);let w=0,y=0,L=0;if(f===i.lineNumber){w=p.findTokenIndexAtOffset(i.column-1),y=i.column-1,L=i.column-1;const E=p.getLanguageId(w);d!==E&&(d=E,h=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l(d,h))}let D=!0;for(;w<m;w++){const E=p.getLanguageId(w);if(d!==E){if(h&&D&&y!==L){const x=u(h,f,b,y,L);if(x)return YS(x);D=!1}d=E,h=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l(d,h)}const T=!!h&&!mu(p.getStandardTokenType(w));if(T)D||(y=p.getStartOffset(w)),L=p.getEndOffset(w);else if(h&&D&&y!==L){const x=u(h,f,b,y,L);if(x)return YS(x)}D=T}if(h&&D&&y!==L){const E=u(h,f,b,y,L);if(E)return YS(E)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const s=e.getBracketInfo(i);return s?{range:t,bracketInfo:s}:null}}function gpt(n,e){return{object:n,dispose:()=>e==null?void 0:e.dispose()}}function wI(n){if(typeof n=="undefined")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=n}}class Gd{constructor(){this._searchCanceledBrand=void 0}}Gd.INSTANCE=new Gd;function YS(n){return n instanceof Gd?null:n}class ppt extends de{constructor(e){super(),this.textModel=e,this.colorProvider=new cie,this.onDidChangeEmitter=new J,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i){if(t===void 0)return[];if(!this.colorizationOptions.enabled)return[];const s=new Array,o=this.textModel.bracketPairs.getBracketsInRange(e);for(const r of o)s.push({id:`bracket${r.range.toString()}-${r.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(r,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:r.range});return s}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new A(1,1,this.textModel.getLineCount(),1),e,t):[]}}class cie{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}ln((n,e)=>{const t=[Bte,Vte,Wte,Hte,$te,zte],i=new cie;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${n.getColor(Vht)}; }`);const s=t.map(o=>n.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){const r=s[o%s.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(o)} { color: ${r}; }`)}});function ZS(n){return n.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Qs{constructor(e,t,i,s){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=s}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${ZS(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${ZS(this.oldText)}")`:`(replace@${this.oldPosition} "${ZS(this.oldText)}" with "${ZS(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const s=t.length;mc(e,s,i),i+=4;for(let o=0;o<s;o++)Jrt(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){const i=pc(e,t);return t+=4,zN(e,t,i)}writeSize(){return 4+4+Qs._writeStringSize(this.oldText)+Qs._writeStringSize(this.newText)}write(e,t){return mc(e,this.oldPosition,t),t+=4,mc(e,this.newPosition,t),t+=4,t=Qs._writeString(e,this.oldText,t),t=Qs._writeString(e,this.newText,t),t}static read(e,t,i){const s=pc(e,t);t+=4;const o=pc(e,t);t+=4;const r=Qs._readString(e,t);t+=Qs._writeStringSize(r);const a=Qs._readString(e,t);return t+=Qs._writeStringSize(a),i.push(new Qs(s,r,o,a)),t}}function mpt(n,e){return n===null||n.length===0?e:new bu(n,e).compress()}class bu{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),s=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(s),s=this._getCurr(++t);continue}if(s===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(s.oldEnd<=i.newPosition){this._acceptCurr(s),s=this._getCurr(++t);continue}if(i.newEnd<=s.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(s.oldPosition<i.newPosition){const[c,u]=bu._splitCurr(s,i.newPosition-s.oldPosition);this._acceptCurr(c),s=u;continue}if(i.newPosition<s.oldPosition){const[c,u]=bu._splitPrev(i,s.oldPosition-i.newPosition);this._acceptPrev(c),i=u;continue}let a,l;if(s.oldEnd===i.newEnd)a=i,l=s,i=this._getPrev(++e),s=this._getCurr(++t);else if(s.oldEnd<i.newEnd){const[c,u]=bu._splitPrev(i,s.oldLength);a=c,l=s,i=u,s=this._getCurr(++t)}else{const[c,u]=bu._splitCurr(s,i.newLength);a=i,l=c,i=this._getPrev(++e),s=u}this._result[this._resultLen++]=new Qs(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const o=bu._merge(this._result);return bu._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=bu._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=bu._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Qs(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Qs(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),s=e.newText.substr(t);return[new Qs(e.oldPosition,e.oldText,e.newPosition,i),new Qs(e.oldEnd,"",e.newPosition+t,s)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),s=e.oldText.substr(t);return[new Qs(e.oldPosition,i,e.newPosition,e.newText),new Qs(e.oldPosition+t,s,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let i=0,s=e[0];for(let o=1;o<e.length;o++){const r=e[o];s.oldEnd===r.oldPosition?s=new Qs(s.oldPosition,s.oldText+r.oldText,s.newPosition,s.newText+r.newText):(t[i++]=s,s=r)}return t[i++]=s,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let i=0;for(let s=0;s<e.length;s++){const o=e[s];o.oldText!==o.newText&&(t[i++]=o)}return t}}function vf(n){return n===47||n===92}function uie(n){return n.replace(/[\\/]/g,ds.sep)}function _pt(n){return n.indexOf("/")===-1&&(n=uie(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function fK(n,e=ds.sep){if(!n)return"";const t=n.length,i=n.charCodeAt(0);if(vf(i)){if(vf(n.charCodeAt(1))&&!vf(n.charCodeAt(2))){let o=3;const r=o;for(;o<t&&!vf(n.charCodeAt(o));o++);if(r!==o&&!vf(n.charCodeAt(o+1))){for(o+=1;o<t;o++)if(vf(n.charCodeAt(o)))return n.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(die(i)&&n.charCodeAt(1)===58)return vf(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let s=n.indexOf("://");if(s!==-1){for(s+=3;s<t;s++)if(vf(n.charCodeAt(s)))return n.slice(0,s+1)}return""}function LM(n,e,t,i=zu){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!qO(n,e))return!1;if(e.length===n.length)return!0;let o=e.length;return e.charAt(e.length-1)===i&&o--,n.charAt(o)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function die(n){return n>=65&&n<=90||n>=97&&n<=122}function vpt(n,e=oo){return e?die(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}function _u(n){return c8(n,!0)}class JP{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:ew(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===Vt.file)return LM(_u(e),_u(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(pK(e.authority,t.authority))return LM(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return bt.joinPath(e,...t)}basenameOrAuthority(e){return hl(e)||e.authority}basename(e){return ds.basename(e.path)}extname(e){return ds.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===Vt.file?t=bt.file(JJ(_u(e))).path:(t=ds.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===Vt.file?t=bt.file(QJ(_u(e))).path:t=ds.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!pK(e.authority,t.authority))return;if(e.scheme===Vt.file){const o=nrt(_u(e),_u(t));return oo?uie(o):o}let i=e.path||"/";const s=t.path||"/";if(this._ignorePathCasing(e)){let o=0;for(const r=Math.min(i.length,s.length);o<r&&!(i.charCodeAt(o)!==s.charCodeAt(o)&&i.charAt(o).toLowerCase()!==s.charAt(o).toLowerCase());o++);i=s.substr(0,o)+i.substr(o)}return ds.relative(i,s)}resolvePath(e,t){if(e.scheme===Vt.file){const i=bt.file(irt(_u(e),t));return e.with({authority:i.authority,path:i.path})}return t=_pt(t),e.with({path:ds.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&K0(e,t)}hasTrailingPathSeparator(e,t=zu){if(e.scheme===Vt.file){const i=_u(e);return i.length>fK(i).length&&i[i.length-1]===t}else{const i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=zu){return mK(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=zu){let i=!1;if(e.scheme===Vt.file){const s=_u(e);i=s!==void 0&&s.length===fK(s).length&&s[s.length-1]===t}else{t="/";const s=e.path;i=s.length===1&&s.charCodeAt(s.length-1)===47}return!i&&!mK(e,t)?e.with({path:e.path+"/"}):e}}const an=new JP(()=>!1);new JP(n=>n.scheme===Vt.file?!So:!0);new JP(n=>!0);const hie=an.isEqual.bind(an);an.isEqualOrParent.bind(an);an.getComparisonKey.bind(an);const bpt=an.basenameOrAuthority.bind(an),hl=an.basename.bind(an),Cpt=an.extname.bind(an),x5=an.dirname.bind(an),wpt=an.joinPath.bind(an),ypt=an.normalizePath.bind(an),Spt=an.relativePath.bind(an),gK=an.resolvePath.bind(an);an.isAbsolutePath.bind(an);const pK=an.isEqualAuthority.bind(an),mK=an.hasTrailingPathSeparator.bind(an);an.removeTrailingPathSeparator.bind(an);an.addTrailingPathSeparator.bind(an);var Ig;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function e(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(r=>{const[a,l]=r.split(":");a&&l&&i.set(a,l)});const o=t.path.substring(0,t.path.indexOf(";"));return o&&i.set(n.META_DATA_MIME,o),i}n.parseMetaData=e})(Ig||(Ig={}));function m0(n){return n.toString()}class Ps{constructor(e,t,i,s,o,r,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=s,this.beforeCursorState=o,this.afterCursorState=r,this.changes=a}static create(e,t){const i=e.getAlternativeVersionId(),s=xM(e);return new Ps(i,i,s,s,t,t,[])}append(e,t,i,s,o){t.length>0&&(this.changes=mpt(this.changes,t)),this.afterEOL=i,this.afterVersionId=s,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(mc(e,t?t.length:0,i),i+=4,t)for(const s of t)mc(e,s.selectionStartLineNumber,i),i+=4,mc(e,s.selectionStartColumn,i),i+=4,mc(e,s.positionLineNumber,i),i+=4,mc(e,s.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const s=pc(e,t);t+=4;for(let o=0;o<s;o++){const r=pc(e,t);t+=4;const a=pc(e,t);t+=4;const l=pc(e,t);t+=4;const c=pc(e,t);t+=4,i.push(new Ye(r,a,l,c))}return t}serialize(){let e=10+Ps._writeSelectionsSize(this.beforeCursorState)+Ps._writeSelectionsSize(this.afterCursorState)+4;for(const s of this.changes)e+=s.writeSize();const t=new Uint8Array(e);let i=0;mc(t,this.beforeVersionId,i),i+=4,mc(t,this.afterVersionId,i),i+=4,HU(t,this.beforeEOL,i),i+=1,HU(t,this.afterEOL,i),i+=1,i=Ps._writeSelections(t,this.beforeCursorState,i),i=Ps._writeSelections(t,this.afterCursorState,i),mc(t,this.changes.length,i),i+=4;for(const s of this.changes)i=s.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const s=pc(t,i);i+=4;const o=pc(t,i);i+=4;const r=WU(t,i);i+=1;const a=WU(t,i);i+=1;const l=[];i=Ps._readSelections(t,i,l);const c=[];i=Ps._readSelections(t,i,c);const u=pc(t,i);i+=4;const d=[];for(let h=0;h<u;h++)i=Qs.read(t,i,d);return new Ps(s,o,r,a,l,c,d)}}class fie{constructor(e,t,i,s){this.label=e,this.code=t,this.model=i,this._data=Ps.create(i,s)}get type(){return 0}get resource(){return bt.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof Ps?this._data:Ps.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(bt.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof Ps}append(e,t,i,s,o){this._data instanceof Ps&&this._data.append(e,t,i,s,o)}close(){this._data instanceof Ps&&(this._data=this._data.serialize())}open(){this._data instanceof Ps||(this._data=Ps.deserialize(this._data))}undo(){if(bt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Ps&&(this._data=this._data.serialize());const e=Ps.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(bt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Ps&&(this._data=this._data.serialize());const e=Ps.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof Ps&&(this._data=this._data.serialize()),this._data.byteLength+168}}class Lpt{constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const s of this._editStackElementsArr){const o=m0(s.resource);this._editStackElementsMap.set(o,s)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=m0(e);return this._editStackElementsMap.has(t)}setModel(e){const t=m0(bt.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=m0(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,s,o){const r=m0(e.uri);this._editStackElementsMap.get(r).append(e,t,i,s,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=m0(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${hl(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function xM(n){return n.getEOL()===`
`?0:1}function Yd(n){return n?n instanceof fie||n instanceof Lpt:!1}class eF{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Yd(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Yd(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(Yd(t)&&t.canAppend(this._model))return t;const i=new fie(v("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],xM(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){const s=this._getOrCreateEditStackElement(e),o=this._model.applyEdits(t,!0),r=eF._computeCursorState(i,o),a=o.map((l,c)=>({index:c,textChange:l.textChange}));return a.sort((l,c)=>l.textChange.oldPosition===c.textChange.oldPosition?l.index-c.index:l.textChange.oldPosition-c.textChange.oldPosition),s.append(this._model,a.map(l=>l.textChange),xM(this._model),this._model.getAlternativeVersionId(),r),r}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return Ot(i),null}}}class xpt{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Dpt(n,e,t,i,s){s.spacesDiff=0,s.looksLikeAlignment=!1;let o;for(o=0;o<e&&o<i;o++){const h=n.charCodeAt(o),f=t.charCodeAt(o);if(h!==f)break}let r=0,a=0;for(let h=o;h<e;h++)n.charCodeAt(h)===32?r++:a++;let l=0,c=0;for(let h=o;h<i;h++)t.charCodeAt(h)===32?l++:c++;if(r>0&&a>0||l>0&&c>0)return;const u=Math.abs(a-c),d=Math.abs(r-l);if(u===0){s.spacesDiff=d,d>0&&0<=l-1&&l-1<n.length&&l<t.length&&t.charCodeAt(l)!==32&&n.charCodeAt(l-1)===32&&n.charCodeAt(n.length-1)===44&&(s.looksLikeAlignment=!0);return}if(d%u===0){s.spacesDiff=d/u;return}}function _K(n,e,t){const i=Math.min(n.getLineCount(),1e4);let s=0,o=0,r="",a=0;const l=[2,4,6,8,3,5,7],c=8,u=[0,0,0,0,0,0,0,0,0],d=new xpt;for(let p=1;p<=i;p++){const m=n.getLineLength(p),b=n.getLineContent(p),w=m<=65536;let y=!1,L=0,D=0,E=0;for(let x=0,k=m;x<k;x++){const N=w?b.charCodeAt(x):n.getLineCharCode(p,x);if(N===9)E++;else if(N===32)D++;else{y=!0,L=x;break}}if(!y||(E>0?s++:D>1&&o++,Dpt(r,a,b,L,d),d.looksLikeAlignment&&!(t&&e===d.spacesDiff)))continue;const T=d.spacesDiff;T<=c&&u[T]++,r=b,a=L}let h=t;s!==o&&(h=s<o);let f=e;if(h){let p=h?0:.1*i;l.forEach(m=>{const b=u[m];b>p&&(p=b,f=m)}),f===4&&u[4]>0&&u[2]>0&&u[2]>=u[4]/2&&(f=2)}return{insertSpaces:h,tabSize:f}}function rr(n){return(n.metadata&1)>>>0}function nn(n,e){n.metadata=n.metadata&254|e<<0}function so(n){return(n.metadata&2)>>>1===1}function en(n,e){n.metadata=n.metadata&253|(e?1:0)<<1}function gie(n){return(n.metadata&4)>>>2===1}function vK(n,e){n.metadata=n.metadata&251|(e?1:0)<<2}function kpt(n){return(n.metadata&24)>>>3}function bK(n,e){n.metadata=n.metadata&231|e<<3}function Ept(n){return(n.metadata&32)>>>5===1}function CK(n,e){n.metadata=n.metadata&223|(e?1:0)<<5}class pie{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,nn(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,vK(this,!1),bK(this,1),CK(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,en(this,!1)}reset(e,t,i,s){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=s}setOptions(e){this.options=e;const t=this.options.className;vK(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),bK(this,this.options.stickiness),CK(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const zt=new pie(null,0,0);zt.parent=zt;zt.left=zt;zt.right=zt;nn(zt,0);class yI{constructor(){this.root=zt,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,s,o){return this.root===zt?[]:Ppt(this,e,t,i,s,o)}search(e,t,i){return this.root===zt?[]:Opt(this,e,t,i)}collectNodesFromOwner(e){return Apt(this,e)}collectNodesPostOrder(){return Rpt(this)}insert(e){wK(this,e),this._normalizeDeltaIfNecessary()}delete(e){yK(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let s=0;for(;e!==this.root;)e===e.parent.right&&(s+=e.parent.delta),e=e.parent;const o=i.start+s,r=i.end+s;i.setCachedOffsets(o,r,t)}acceptReplace(e,t,i,s){const o=Npt(this,e,e+t);for(let r=0,a=o.length;r<a;r++){const l=o[r];yK(this,l)}this._normalizeDeltaIfNecessary(),Mpt(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let r=0,a=o.length;r<a;r++){const l=o[r];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,Tpt(l,e,e+t,i,s),l.maxEnd=l.end,wK(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,Ipt(this))}}function Ipt(n){let e=n.root,t=0;for(;e!==zt;){if(e.left!==zt&&!so(e.left)){e=e.left;continue}if(e.right!==zt&&!so(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,Tg(e),en(e,!0),en(e.left,!1),en(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}en(n.root,!1)}function _0(n,e,t,i){return n<t?!0:n>t||i===1?!1:i===2?!0:e}function Tpt(n,e,t,i,s){const o=kpt(n),r=o===0||o===2,a=o===1||o===2,l=t-e,c=i,u=Math.min(l,c),d=n.start;let h=!1;const f=n.end;let p=!1;e<=d&&f<=t&&Ept(n)&&(n.start=e,h=!0,n.end=e,p=!0);{const b=s?1:l>0?2:0;!h&&_0(d,r,e,b)&&(h=!0),!p&&_0(f,a,e,b)&&(p=!0)}if(u>0&&!s){const b=l>c?2:0;!h&&_0(d,r,e+u,b)&&(h=!0),!p&&_0(f,a,e+u,b)&&(p=!0)}{const b=s?1:0;!h&&_0(d,r,t,b)&&(n.start=e+c,h=!0),!p&&_0(f,a,t,b)&&(n.end=e+c,p=!0)}const m=c-l;h||(n.start=Math.max(0,d+m)),p||(n.end=Math.max(0,f+m)),n.start>n.end&&(n.end=n.start)}function Npt(n,e,t){let i=n.root,s=0,o=0,r=0,a=0;const l=[];let c=0;for(;i!==zt;){if(so(i)){en(i.left,!1),en(i.right,!1),i===i.parent.right&&(s-=i.parent.delta),i=i.parent;continue}if(!so(i.left)){if(o=s+i.maxEnd,o<e){en(i,!0);continue}if(i.left!==zt){i=i.left;continue}}if(r=s+i.start,r>t){en(i,!0);continue}if(a=s+i.end,a>=e&&(i.setCachedOffsets(r,a,0),l[c++]=i),en(i,!0),i.right!==zt&&!so(i.right)){s+=i.delta,i=i.right;continue}}return en(n.root,!1),l}function Mpt(n,e,t,i){let s=n.root,o=0,r=0,a=0;const l=i-(t-e);for(;s!==zt;){if(so(s)){en(s.left,!1),en(s.right,!1),s===s.parent.right&&(o-=s.parent.delta),Tg(s),s=s.parent;continue}if(!so(s.left)){if(r=o+s.maxEnd,r<e){en(s,!0);continue}if(s.left!==zt){s=s.left;continue}}if(a=o+s.start,a>t){s.start+=l,s.end+=l,s.delta+=l,(s.delta<-1073741824||s.delta>1073741824)&&(n.requestNormalizeDelta=!0),en(s,!0);continue}if(en(s,!0),s.right!==zt&&!so(s.right)){o+=s.delta,s=s.right;continue}}en(n.root,!1)}function Apt(n,e){let t=n.root;const i=[];let s=0;for(;t!==zt;){if(so(t)){en(t.left,!1),en(t.right,!1),t=t.parent;continue}if(t.left!==zt&&!so(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[s++]=t),en(t,!0),t.right!==zt&&!so(t.right)){t=t.right;continue}}return en(n.root,!1),i}function Rpt(n){let e=n.root;const t=[];let i=0;for(;e!==zt;){if(so(e)){en(e.left,!1),en(e.right,!1),e=e.parent;continue}if(e.left!==zt&&!so(e.left)){e=e.left;continue}if(e.right!==zt&&!so(e.right)){e=e.right;continue}t[i++]=e,en(e,!0)}return en(n.root,!1),t}function Opt(n,e,t,i){let s=n.root,o=0,r=0,a=0;const l=[];let c=0;for(;s!==zt;){if(so(s)){en(s.left,!1),en(s.right,!1),s===s.parent.right&&(o-=s.parent.delta),s=s.parent;continue}if(s.left!==zt&&!so(s.left)){s=s.left;continue}r=o+s.start,a=o+s.end,s.setCachedOffsets(r,a,i);let u=!0;if(e&&s.ownerId&&s.ownerId!==e&&(u=!1),t&&gie(s)&&(u=!1),u&&(l[c++]=s),en(s,!0),s.right!==zt&&!so(s.right)){o+=s.delta,s=s.right;continue}}return en(n.root,!1),l}function Ppt(n,e,t,i,s,o){let r=n.root,a=0,l=0,c=0,u=0;const d=[];let h=0;for(;r!==zt;){if(so(r)){en(r.left,!1),en(r.right,!1),r===r.parent.right&&(a-=r.parent.delta),r=r.parent;continue}if(!so(r.left)){if(l=a+r.maxEnd,l<e){en(r,!0);continue}if(r.left!==zt){r=r.left;continue}}if(c=a+r.start,c>t){en(r,!0);continue}if(u=a+r.end,u>=e){r.setCachedOffsets(c,u,o);let f=!0;i&&r.ownerId&&r.ownerId!==i&&(f=!1),s&&gie(r)&&(f=!1),f&&(d[h++]=r)}if(en(r,!0),r.right!==zt&&!so(r.right)){a+=r.delta,r=r.right;continue}}return en(n.root,!1),d}function wK(n,e){if(n.root===zt)return e.parent=zt,e.left=zt,e.right=zt,nn(e,0),n.root=e,n.root;Fpt(n,e),If(e.parent);let t=e;for(;t!==n.root&&rr(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;rr(i)===1?(nn(t.parent,0),nn(i,0),nn(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,gC(n,t)),nn(t.parent,0),nn(t.parent.parent,1),pC(n,t.parent.parent))}else{const i=t.parent.parent.left;rr(i)===1?(nn(t.parent,0),nn(i,0),nn(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,pC(n,t)),nn(t.parent,0),nn(t.parent.parent,1),gC(n,t.parent.parent))}return nn(n.root,0),e}function Fpt(n,e){let t=0,i=n.root;const s=e.start,o=e.end;for(;;)if(Vpt(s,o,i.start+t,i.end+t)<0)if(i.left===zt){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===zt){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=zt,e.right=zt,nn(e,1)}function yK(n,e){let t,i;if(e.left===zt?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===zt?(t=e.left,i=e):(i=Bpt(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(n.requestNormalizeDelta=!0)),i===n.root){n.root=t,nn(t,0),e.detach(),SI(),Tg(t),n.root.parent=zt;return}const s=rr(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,nn(i,rr(e)),e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==zt&&(i.left.parent=i),i.right!==zt&&(i.right.parent=i)),e.detach(),s){If(t.parent),i!==e&&(If(i),If(i.parent)),SI();return}If(t),If(t.parent),i!==e&&(If(i),If(i.parent));let o;for(;t!==n.root&&rr(t)===0;)t===t.parent.left?(o=t.parent.right,rr(o)===1&&(nn(o,0),nn(t.parent,1),gC(n,t.parent),o=t.parent.right),rr(o.left)===0&&rr(o.right)===0?(nn(o,1),t=t.parent):(rr(o.right)===0&&(nn(o.left,0),nn(o,1),pC(n,o),o=t.parent.right),nn(o,rr(t.parent)),nn(t.parent,0),nn(o.right,0),gC(n,t.parent),t=n.root)):(o=t.parent.left,rr(o)===1&&(nn(o,0),nn(t.parent,1),pC(n,t.parent),o=t.parent.left),rr(o.left)===0&&rr(o.right)===0?(nn(o,1),t=t.parent):(rr(o.left)===0&&(nn(o.right,0),nn(o,1),gC(n,o),o=t.parent.left),nn(o,rr(t.parent)),nn(t.parent,0),nn(o.left,0),pC(n,t.parent),t=n.root));nn(t,0),SI()}function Bpt(n){for(;n.left!==zt;)n=n.left;return n}function SI(){zt.parent=zt,zt.delta=0,zt.start=0,zt.end=0}function gC(n,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==zt&&(t.left.parent=e),t.parent=e.parent,e.parent===zt?n.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Tg(e),Tg(t)}function pC(n,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(n.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==zt&&(t.right.parent=e),t.parent=e.parent,e.parent===zt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Tg(e),Tg(t)}function mie(n){let e=n.end;if(n.left!==zt){const t=n.left.maxEnd;t>e&&(e=t)}if(n.right!==zt){const t=n.right.maxEnd+n.delta;t>e&&(e=t)}return e}function Tg(n){n.maxEnd=mie(n)}function If(n){for(;n!==zt;){const e=mie(n);if(n.maxEnd===e)return;n.maxEnd=e,n=n.parent}}function Vpt(n,e,t,i){return n===t?e-i:n-t}class DM{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Nt)return tF(this.right);let e=this;for(;e.parent!==Nt&&e.parent.left!==e;)e=e.parent;return e.parent===Nt?Nt:e.parent}prev(){if(this.left!==Nt)return _ie(this.left);let e=this;for(;e.parent!==Nt&&e.parent.right!==e;)e=e.parent;return e.parent===Nt?Nt:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Nt=new DM(null,0);Nt.parent=Nt;Nt.left=Nt;Nt.right=Nt;Nt.color=0;function tF(n){for(;n.left!==Nt;)n=n.left;return n}function _ie(n){for(;n.right!==Nt;)n=n.right;return n}function iF(n){return n===Nt?0:n.size_left+n.piece.length+iF(n.right)}function nF(n){return n===Nt?0:n.lf_left+n.piece.lineFeedCnt+nF(n.right)}function LI(){Nt.parent=Nt}function mC(n,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==Nt&&(t.left.parent=e),t.parent=e.parent,e.parent===Nt?n.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function _C(n,e){const t=e.left;e.left=t.right,t.right!==Nt&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===Nt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function XS(n,e){let t,i;if(e.left===Nt?(i=e,t=i.right):e.right===Nt?(i=e,t=i.left):(i=tF(e.right),t=i.right),i===n.root){n.root=t,t.color=0,e.detach(),LI(),n.root.parent=Nt;return}const s=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,Ab(n,t)):(i.parent===e?t.parent=i:t.parent=i.parent,Ab(n,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Nt&&(i.left.parent=i),i.right!==Nt&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,Ab(n,i)),e.detach(),t.parent.left===t){const r=iF(t),a=nF(t);if(r!==t.parent.size_left||a!==t.parent.lf_left){const l=r-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=r,t.parent.lf_left=a,Fd(n,t.parent,l,c)}}if(Ab(n,t.parent),s){LI();return}let o;for(;t!==n.root&&t.color===0;)t===t.parent.left?(o=t.parent.right,o.color===1&&(o.color=0,t.parent.color=1,mC(n,t.parent),o=t.parent.right),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.right.color===0&&(o.left.color=0,o.color=1,_C(n,o),o=t.parent.right),o.color=t.parent.color,t.parent.color=0,o.right.color=0,mC(n,t.parent),t=n.root)):(o=t.parent.left,o.color===1&&(o.color=0,t.parent.color=1,_C(n,t.parent),o=t.parent.left),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.left.color===0&&(o.right.color=0,o.color=1,mC(n,o),o=t.parent.left),o.color=t.parent.color,t.parent.color=0,o.left.color=0,_C(n,t.parent),t=n.root));t.color=0,LI()}function SK(n,e){for(Ab(n,e);e!==n.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,mC(n,e)),e.parent.color=0,e.parent.parent.color=1,_C(n,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,_C(n,e)),e.parent.color=0,e.parent.parent.color=1,mC(n,e.parent.parent))}n.root.color=0}function Fd(n,e,t,i){for(;e!==n.root&&e!==Nt;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function Ab(n,e){let t=0,i=0;if(e!==n.root){for(;e!==n.root&&e===e.parent.right;)e=e.parent;if(e!==n.root)for(e=e.parent,t=iF(e.left)-e.size_left,i=nF(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==n.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}const Id=65535;function vie(n){let e;return n[n.length-1]<65536?e=new Uint16Array(n.length):e=new Uint32Array(n.length),e.set(n,0),e}class Wpt{constructor(e,t,i,s,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=s,this.isBasicASCII=o}}function $d(n,e=!0){const t=[0];let i=1;for(let s=0,o=n.length;s<o;s++){const r=n.charCodeAt(s);r===13?s+1<o&&n.charCodeAt(s+1)===10?(t[i++]=s+2,s++):t[i++]=s+1:r===10&&(t[i++]=s+1)}return e?vie(t):t}function Hpt(n,e){n.length=0,n[0]=0;let t=1,i=0,s=0,o=0,r=!0;for(let l=0,c=e.length;l<c;l++){const u=e.charCodeAt(l);u===13?l+1<c&&e.charCodeAt(l+1)===10?(o++,n[t++]=l+2,l++):(i++,n[t++]=l+1):u===10?(s++,n[t++]=l+1):r&&u!==9&&(u<32||u>126)&&(r=!1)}const a=new Wpt(vie(n),i,s,o,r);return n.length=0,a}class Tr{constructor(e,t,i,s,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=s,this.length=o}}class Hp{constructor(e,t){this.buffer=e,this.lineStarts=t}}class $pt{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==Nt&&e.iterate(e.root,i=>(i!==Nt&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class zpt{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let s=0;s<i.length;s++){const o=i[s];if(o.node.parent===null||o.nodeStartOffset>=e){i[s]=null,t=!0;continue}}if(t){const s=[];for(const o of i)o!==null&&s.push(o);this._cache=s}}}class Upt{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new Hp("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Nt,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let s=null;for(let o=0,r=e.length;o<r;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=$d(e[o].buffer));const a=new Tr(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),s=this.rbInsertRight(s,a)}this._searchCache=new zpt(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=Id,i=t-Math.floor(t/3),s=i*2;let o="",r=0;const a=[];if(this.iterate(this.root,l=>{const c=this.getNodeContent(l),u=c.length;if(r<=i||r+u<s)return o+=c,r+=u,!0;const d=o.replace(/\r\n|\r|\n/g,e);return a.push(new Hp(d,$d(d))),o=c,r=u,!0}),r>0){const l=o.replace(/\r\n|\r|\n/g,e);a.push(new Hp(l,$d(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new $pt(this,e)}getOffsetAt(e,t){let i=0,s=this.root;for(;s!==Nt;)if(s.left!==Nt&&s.lf_left+1>=e)s=s.left;else{if(s.lf_left+s.piece.lineFeedCnt+1>=e)return i+=s.size_left,i+=this.getAccumulatedValue(s,e-s.lf_left-2)+t-1;e-=s.lf_left+s.piece.lineFeedCnt,i+=s.size_left+s.piece.length,s=s.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const s=e;for(;t!==Nt;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,o.index===0){const r=this.getOffsetAt(i+1,1),a=s-r;return new oe(i+1,a+1)}return new oe(i+1,o.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===Nt){const o=this.getOffsetAt(i+1,1),r=s-e-o;return new oe(i+1,r+1)}else t=t.right;return new oe(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),s=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,s);return t?t!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){const a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let i=e.node;const s=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let r=s.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==Nt;){const a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){r+=a.substring(l,l+t.remainder);break}else r+=a.substr(l,i.piece.length);i=i.next()}return r}getLinesContent(){const e=[];let t=0,i="",s=!1;return this.iterate(this.root,o=>{if(o===Nt)return!0;const r=o.piece;let a=r.length;if(a===0)return!0;const l=this._buffers[r.bufferIndex].buffer,c=this._buffers[r.bufferIndex].lineStarts,u=r.start.line,d=r.end.line;let h=c[u]+r.start.column;if(s&&(l.charCodeAt(h)===10&&(h++,a--),e[t++]=i,i="",s=!1,a===0))return!0;if(u===d)return!this._EOLNormalized&&l.charCodeAt(h+a-1)===13?(s=!0,i+=l.substr(h,a-1)):i+=l.substr(h,a),!0;i+=this._EOLNormalized?l.substring(h,Math.max(h,c[u+1]-this._EOLLength)):l.substring(h,c[u+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let f=u+1;f<d;f++)i=this._EOLNormalized?l.substring(c[f],c[f+1]-this._EOLLength):l.substring(c[f],c[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(c[d]+r.end.column-1)===13?(s=!0,r.end.column===0?t--:i=l.substr(c[d],r.end.column-1)):i=l.substr(c[d],r.end.column),!0}),s&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],s=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(s)}else{const t=this._buffers[e.node.piece.bufferIndex],s=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(s)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,s,o,r,a,l,c,u,d){const h=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),p=this.offsetInBuffer(e.piece.bufferIndex,o),m=this.offsetInBuffer(e.piece.bufferIndex,r);let b;const w={line:0,column:0};let y,L;t._wordSeparators?(y=h.buffer.substring(p,m),L=D=>D+p,t.reset(0)):(y=h.buffer,L=D=>D,t.reset(p));do if(b=t.next(y),b){if(L(b.index)>=m)return u;this.positionInBuffer(e,L(b.index)-f,w);const D=this.getLineFeedCnt(e.piece.bufferIndex,o,w),E=w.line===o.line?w.column-o.column+s:w.column+1,T=E+b[0].length;if(d[u++]=Pp(new A(i+D,E,i+D,T),b,l),L(b.index)+b[0].length>=m||u>=c)return u}while(b);return u}findMatchesLineByLine(e,t,i,s){const o=[];let r=0;const a=new Y0(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];const c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let u=this.positionInBuffer(l.node,l.remainder);const d=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,u,d,t,i,s,r,o),o;let h=e.startLineNumber,f=l.node;for(;f!==c.node;){const m=this.getLineFeedCnt(f.piece.bufferIndex,u,f.piece.end);if(m>=1){const w=this._buffers[f.piece.bufferIndex].lineStarts,y=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),L=w[u.line+m],D=h===e.startLineNumber?e.startColumn:1;if(r=this.findMatchesInNode(f,a,h,D,u,this.positionInBuffer(f,L-y),t,i,s,r,o),r>=s)return o;h+=m}const b=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const w=this.getLineContent(h).substring(b,e.endColumn-1);return r=this._findMatchesInLine(t,a,w,e.endLineNumber,b,r,o,i,s),o}if(r=this._findMatchesInLine(t,a,this.getLineContent(h).substr(b),h,b,r,o,i,s),r>=s)return o;h++,l=this.nodeAt2(h,1),f=l.node,u=this.positionInBuffer(l.node,l.remainder)}if(h===e.endLineNumber){const m=h===e.startLineNumber?e.startColumn-1:0,b=this.getLineContent(h).substring(m,e.endColumn-1);return r=this._findMatchesInLine(t,a,b,e.endLineNumber,m,r,o,i,s),o}const p=h===e.startLineNumber?e.startColumn:1;return r=this.findMatchesInNode(c.node,a,h,p,u,d,t,i,s,r,o),o}_findMatchesInLine(e,t,i,s,o,r,a,l,c){const u=e.wordSeparators;if(!l&&e.simpleSearch){const h=e.simpleSearch,f=h.length,p=i.length;let m=-f;for(;(m=i.indexOf(h,m+f))!==-1;)if((!u||dP(u,i,p,m,f))&&(a[r++]=new iw(new A(s,m+1+o,s,m+1+f+o),null),r>=c))return r;return r}let d;t.reset(0);do if(d=t.next(i),d&&(a[r++]=Pp(new A(s,d.index+1+o,s,d.index+1+d[0].length+o),d,l),r>=c))return r;while(d);return r}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Nt){const{node:s,remainder:o,nodeStartOffset:r}=this.nodeAt(e),a=s.piece,l=a.bufferIndex,c=this.positionInBuffer(s,o);if(s.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&r+a.length===e&&t.length<Id){this.appendToNode(s,t),this.computeBufferMetadata();return}if(r===e)this.insertContentToNodeLeft(t,s),this._searchCache.validate(e);else if(r+s.piece.length>e){const u=[];let d=new Tr(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(s,o)===10){const m={line:d.start.line+1,column:0};d=new Tr(d.bufferIndex,m,d.end,this.getLineFeedCnt(d.bufferIndex,m,d.end),d.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(s,o-1)===13){const m=this.positionInBuffer(s,o-1);this.deleteNodeTail(s,m),t="\r"+t,s.piece.length===0&&u.push(s)}else this.deleteNodeTail(s,c);else this.deleteNodeTail(s,c);const h=this.createNewPieces(t);d.length>0&&this.rbInsertRight(s,d);let f=s;for(let p=0;p<h.length;p++)f=this.rbInsertRight(f,h[p]);this.deleteNodes(u)}else this.insertContentToNodeRight(t,s)}else{const s=this.createNewPieces(t);let o=this.rbInsertLeft(null,s[0]);for(let r=1;r<s.length;r++)o=this.rbInsertRight(o,s[r])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===Nt)return;const i=this.nodeAt(e),s=this.nodeAt(e+t),o=i.node,r=s.node;if(o===r){const h=this.positionInBuffer(o,i.remainder),f=this.positionInBuffer(o,s.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){const p=o.next();XS(this,o),this.validateCRLFWithPrevNode(p),this.computeBufferMetadata();return}this.deleteNodeHead(o,f),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(i.nodeStartOffset+o.piece.length===e+t){this.deleteNodeTail(o,h),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,h,f),this.computeBufferMetadata();return}const a=[],l=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,l),this._searchCache.validate(e),o.piece.length===0&&a.push(o);const c=this.positionInBuffer(r,s.remainder);this.deleteNodeHead(r,c),r.piece.length===0&&a.push(r);const u=o.next();for(let h=u;h!==Nt&&h!==r;h=h.next())a.push(h);const d=o.piece.length===0?o.prev():o;this.deleteNodes(a),this.validateCRLFWithNextNode(d),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const r=t.piece,a={line:r.start.line+1,column:0},l=new Tr(r.bufferIndex,a,r.end,this.getLineFeedCnt(r.bufferIndex,a,r.end),r.length-1);t.piece=l,e+=`
`,Fd(this,t,-1,-1),t.piece.length===0&&i.push(t)}const s=this.createNewPieces(e);let o=this.rbInsertLeft(t,s[s.length-1]);for(let r=s.length-2;r>=0;r--)o=this.rbInsertLeft(o,s[r]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const i=this.createNewPieces(e),s=this.rbInsertRight(t,i[0]);let o=s;for(let r=1;r<i.length;r++)o=this.rbInsertRight(o,i[r]);this.validateCRLFWithPrevNode(s)}positionInBuffer(e,t,i){const s=e.piece,o=e.piece.bufferIndex,r=this._buffers[o].lineStarts,l=r[s.start.line]+s.start.column+t;let c=s.start.line,u=s.end.line,d=0,h=0,f=0;for(;c<=u&&(d=c+(u-c)/2|0,f=r[d],d!==u);)if(h=r[d+1],l<f)u=d-1;else if(l>=h)c=d+1;else break;return i?(i.line=d,i.column=l-f,null):{line:d,column:l-f}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;const s=this._buffers[e].lineStarts;if(i.line===s.length-1)return i.line-t.line;const o=s[i.line+1],r=s[i.line]+i.column;if(o>r+1)return i.line-t.line;const a=r-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)XS(this,e[t])}createNewPieces(e){if(e.length>Id){const u=[];for(;e.length>Id;){const h=e.charCodeAt(Id-1);let f;h===13||h>=55296&&h<=56319?(f=e.substring(0,Id-1),e=e.substring(Id-1)):(f=e.substring(0,Id),e=e.substring(Id));const p=$d(f);u.push(new Tr(this._buffers.length,{line:0,column:0},{line:p.length-1,column:f.length-p[p.length-1]},p.length-1,f.length)),this._buffers.push(new Hp(f,p))}const d=$d(e);return u.push(new Tr(this._buffers.length,{line:0,column:0},{line:d.length-1,column:e.length-d[d.length-1]},d.length-1,e.length)),this._buffers.push(new Hp(e,d)),u}let t=this._buffers[0].buffer.length;const i=$d(e,!1);let s=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},s=this._lastChangeBufferPos;for(let u=0;u<i.length;u++)i[u]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let u=0;u<i.length;u++)i[u]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length,r=this._buffers[0].lineStarts.length-1,a=o-this._buffers[0].lineStarts[r],l={line:r,column:a},c=new Tr(0,s,l,this.getLineFeedCnt(0,s,l),o-t);return this._lastChangeBufferPos=l,[c]}getLineRawContent(e,t=0){let i=this.root,s="";const o=this._searchCache.get2(e);if(o){i=o.node;const r=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt===e)s=a.substring(l+r,l+i.piece.length);else{const c=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return a.substring(l+r,l+c-t)}}else{let r=0;const a=e;for(;i!==Nt;)if(i.left!==Nt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1),u=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:r,nodeStartLineNumber:a-(e-1-i.lf_left)}),u.substring(d+l,d+c-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this._buffers[i.piece.bufferIndex].buffer,u=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);s=c.substring(u+l,u+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==Nt;){const r=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return s+=r.substring(l,l+a-t),s}else{const a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);s+=r.substr(a,i.piece.length)}i=i.next()}return s}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==Nt;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,s=this.positionInBuffer(e,t),o=s.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const r=this.getLineFeedCnt(e.piece.bufferIndex,i.start,s);if(r!==o)return{index:r,remainder:0}}return{index:o,remainder:s.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,s=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?s[i.end.line]+i.end.column-s[i.start.line]-i.start.column:s[o]-s[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,s=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),r=t,a=this.offsetInBuffer(i.bufferIndex,r),l=this.getLineFeedCnt(i.bufferIndex,i.start,r),c=l-s,u=a-o,d=i.length+u;e.piece=new Tr(i.bufferIndex,i.start,r,l,d),Fd(this,e,u,c)}deleteNodeHead(e,t){const i=e.piece,s=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),r=t,a=this.getLineFeedCnt(i.bufferIndex,r,i.end),l=this.offsetInBuffer(i.bufferIndex,r),c=a-s,u=o-l,d=i.length+u;e.piece=new Tr(i.bufferIndex,r,i.end,a,d),Fd(this,e,u,c)}shrinkNode(e,t,i){const s=e.piece,o=s.start,r=s.end,a=s.length,l=s.lineFeedCnt,c=t,u=this.getLineFeedCnt(s.bufferIndex,s.start,c),d=this.offsetInBuffer(s.bufferIndex,t)-this.offsetInBuffer(s.bufferIndex,o);e.piece=new Tr(s.bufferIndex,s.start,c,u,d),Fd(this,e,d-a,u-l);const h=new Tr(s.bufferIndex,i,r,this.getLineFeedCnt(s.bufferIndex,i,r),this.offsetInBuffer(s.bufferIndex,r)-this.offsetInBuffer(s.bufferIndex,i)),f=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),s=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=$d(t,!1);for(let f=0;f<o.length;f++)o[f]+=s;if(i){const f=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:s-f}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const r=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[r],l={line:r,column:a},c=e.piece.length+t.length,u=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,l),h=d-u;e.piece=new Tr(e.piece.bufferIndex,e.piece.start,l,d,c),this._lastChangeBufferPos=l,Fd(this,e,t.length,h)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let s=0;for(;t!==Nt;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){s+=t.size_left;const o={node:t,remainder:e-t.size_left,nodeStartOffset:s};return this._searchCache.set(o),o}else e-=t.size_left+t.piece.length,s+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,s=0;for(;i!==Nt;)if(i.left!==Nt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2),r=this.getAccumulatedValue(i,e-i.lf_left-1);return s+=i.size_left,{node:i,remainder:Math.min(o+t-1,r),nodeStartOffset:s}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:s};t-=i.piece.length-o;break}else e-=i.lf_left+i.piece.lineFeedCnt,s+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==Nt;){if(i.piece.lineFeedCnt>0){const o=this.getAccumulatedValue(i,0),r=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,o),nodeStartOffset:r}}else if(i.piece.length>=t-1){const o=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:o}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],s=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(s)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===Nt||e.piece.lineFeedCnt===0)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,s=t.start.line,o=i[s]+t.start.column;return s===i.length-1||i[s+1]>o+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===Nt||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],s=this._buffers[e.piece.bufferIndex].lineStarts;let o;e.piece.end.column===0?o={line:e.piece.end.line-1,column:s[e.piece.end.line]-s[e.piece.end.line-1]-1}:o={line:e.piece.end.line,column:e.piece.end.column-1};const r=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Tr(e.piece.bufferIndex,e.piece.start,o,a,r),Fd(this,e,-1,-1),e.piece.length===0&&i.push(e);const l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,u=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new Tr(t.piece.bufferIndex,l,t.piece.end,u,c),Fd(this,t,-1,-1),t.piece.length===0&&i.push(t);const d=this.createNewPieces(`\r
`);this.rbInsertRight(e,d[0]);for(let h=0;h<i.length;h++)XS(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)XS(this,i);else{const s=i.piece,o={line:s.start.line+1,column:0},r=s.length-1,a=this.getLineFeedCnt(s.bufferIndex,o,s.end);i.piece=new Tr(s.bufferIndex,o,s.end,a,r),Fd(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===Nt)return t(Nt);const i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===Nt)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,s=this.offsetInBuffer(i.bufferIndex,i.start),o=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(s,o)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),s=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,s)}rbInsertRight(e,t){const i=new DM(t,1);if(i.left=Nt,i.right=Nt,i.parent=Nt,i.size_left=0,i.lf_left=0,this.root===Nt)this.root=i,i.color=0;else if(e.right===Nt)e.right=i,i.parent=e;else{const o=tF(e.right);o.left=i,i.parent=o}return SK(this,i),i}rbInsertLeft(e,t){const i=new DM(t,1);if(i.left=Nt,i.right=Nt,i.parent=Nt,i.size_left=0,i.lf_left=0,this.root===Nt)this.root=i,i.color=0;else if(e.left===Nt)e.left=i,i.parent=e;else{const s=_ie(e.left);s.right=i,i.parent=s}return SK(this,i),i}}class N1 extends de{constructor(e,t,i,s,o,r,a){super(),this._onDidChangeContent=this._register(new J),this._BOM=t,this._mightContainNonBasicASCII=!r,this._mightContainRTL=s,this._mightContainUnusualLineTerminators=o,this._pieceTree=new Upt(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,s=this.getPositionAt(e),o=this.getPositionAt(i);return new A(s.lineNumber,s.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const s=e.startLineNumber,o=e.endLineNumber;for(let r=s;r<=o;r++){const a=this.getLineContent(r),l=r===s?e.startColumn-1:0,c=r===o?e.endColumn-1:a.length;for(let u=l;u<c;u++)Is(a.charCodeAt(u))?(i=i+1,u=u+1):i=i+1}return i+=this._getEndOfLine(t).length*(o-s),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=Qo(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=ju(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let s=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,r=this._mightContainNonBasicASCII,a=!0,l=[];for(let m=0;m<e.length;m++){const b=e[m];a&&b._isTracked&&(a=!1);const w=b.range;if(b.text){let T=!0;r||(T=!Hx(b.text),r=T),!s&&T&&(s=av(b.text)),!o&&T&&(o=uee(b.text))}let y="",L=0,D=0,E=0;if(b.text){let T;[L,D,E,T]=jm(b.text);const x=this.getEOL();T===0||T===(x===`\r
`?2:1)?y=b.text:y=b.text.replace(/\r\n|\r|\n/g,x)}l[m]={sortIndex:m,identifier:b.identifier||null,range:w,rangeOffset:this.getOffsetAt(w.startLineNumber,w.startColumn),rangeLength:this.getValueLengthInRange(w),text:y,eolCount:L,firstLineLength:D,lastLineLength:E,forceMoveMarkers:Boolean(b.forceMoveMarkers),isAutoWhitespaceEdit:b.isAutoWhitespaceEdit||!1}}l.sort(N1._sortOpsAscending);let c=!1;for(let m=0,b=l.length-1;m<b;m++){const w=l[m].range.getEndPosition(),y=l[m+1].range.getStartPosition();if(y.isBeforeOrEqual(w)){if(y.isBefore(w))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));const u=i||t?N1._getInverseEditRanges(l):[],d=[];if(t)for(let m=0;m<l.length;m++){const b=l[m],w=u[m];if(b.isAutoWhitespaceEdit&&b.range.isEmpty())for(let y=w.startLineNumber;y<=w.endLineNumber;y++){let L="";y===w.startLineNumber&&(L=this.getLineContent(b.range.startLineNumber),Qo(L)!==-1)||d.push({lineNumber:y,oldContent:L})}}let h=null;if(i){let m=0;h=[];for(let b=0;b<l.length;b++){const w=l[b],y=u[b],L=this.getValueInRange(w.range),D=w.rangeOffset+m;m+=w.text.length-L.length,h[b]={sortIndex:w.sortIndex,identifier:w.identifier,range:y,text:L,textChange:new Qs(w.rangeOffset,L,D,w.text)}}c||h.sort((b,w)=>b.sortIndex-w.sortIndex)}this._mightContainRTL=s,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=r;const f=this._doApplyEdits(l);let p=null;if(t&&d.length>0){d.sort((m,b)=>b.lineNumber-m.lineNumber),p=[];for(let m=0,b=d.length;m<b;m++){const w=d[m].lineNumber;if(m>0&&d[m-1].lineNumber===w)continue;const y=d[m].oldContent,L=this.getLineContent(w);L.length===0||L===y||Qo(L)!==-1||p.push(w)}}return this._onDidChangeContent.fire(),new Grt(h,f,p)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,s=e[e.length-1].range,o=new A(i.startLineNumber,i.startColumn,s.endLineNumber,s.endColumn);let r=i.startLineNumber,a=i.startColumn;const l=[];for(let f=0,p=e.length;f<p;f++){const m=e[f],b=m.range;t=t||m.forceMoveMarkers,l.push(this.getValueInRange(new A(r,a,b.startLineNumber,b.startColumn))),m.text.length>0&&l.push(m.text),r=b.endLineNumber,a=b.endColumn}const c=l.join(""),[u,d,h]=jm(c);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:c,eolCount:u,firstLineLength:d,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(N1._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const s=e[i],o=s.range.startLineNumber,r=s.range.startColumn,a=s.range.endLineNumber,l=s.range.endColumn;if(o===a&&r===l&&s.text.length===0)continue;s.text?(this._pieceTree.delete(s.rangeOffset,s.rangeLength),this._pieceTree.insert(s.rangeOffset,s.text,!0)):this._pieceTree.delete(s.rangeOffset,s.rangeLength);const c=new A(o,r,a,l);t.push({range:c,rangeLength:s.rangeLength,text:s.text,rangeOffset:s.rangeOffset,forceMoveMarkers:s.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,s){return this._pieceTree.findMatchesLineByLine(e,t,i,s)}static _getInverseEditRanges(e){const t=[];let i=0,s=0,o=null;for(let r=0,a=e.length;r<a;r++){const l=e[r];let c,u;o?o.range.endLineNumber===l.range.startLineNumber?(c=i,u=s+(l.range.startColumn-o.range.endColumn)):(c=i+(l.range.startLineNumber-o.range.endLineNumber),u=l.range.startColumn):(c=l.range.startLineNumber,u=l.range.startColumn);let d;if(l.text.length>0){const h=l.eolCount+1;h===1?d=new A(c,u,c,u+l.firstLineLength):d=new A(c,u,c+h-1,l.lastLineLength+1)}else d=new A(c,u,c,u);i=d.endLineNumber,s=d.endColumn,t.push(d),o=l}return t}static _sortOpsAscending(e,t){const i=A.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=A.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}class jpt{constructor(e,t,i,s,o,r,a,l,c){this._chunks=e,this._bom=t,this._cr=i,this._lf=s,this._crlf=o,this._containsRTL=r,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,r=i.length;o<r;o++){const a=i[o].buffer.replace(/\r\n|\r|\n/g,t),l=$d(a);i[o]=new Hp(a,l)}const s=new N1(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}class bie{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&QO(e)&&(this.BOM=Drt,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=Hpt(this._tmpLineStarts,e);this.chunks.push(new Hp(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=av(e)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=uee(e))}finish(e=!0){return this._finish(),new jpt(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=$d(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}class Kpt{constructor(e,t){this._startLineNumber=e,this._tokens=t}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class xI{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new Kpt(e,[t]))}finalize(){return this._tokens}}class LK{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const i=[];for(let s=0;s<t;s++)i[s]=this._default;this._store=Ox(this._store,e,i)}}class qpt{constructor(e,t){this.tokenizationSupport=e,this.initialState=t,this._lineBeginState=new LK(null),this._lineNeedsTokenization=new LK(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(e){this._lineNeedsTokenization.set(e,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,e)}getBeginState(e){return this._lineBeginState.get(e)}setEndState(e,t,i){if(this._lineNeedsTokenization.set(t,!1),this._firstLineNeedsTokenization=t+1,t===e-1)return;const s=this._lineBeginState.get(t+1);if(s===null||!i.equals(s)){this._lineBeginState.set(t+1,i),this.markMustBeTokenized(t+1);return}let o=t+1;for(;o<e&&!this._lineNeedsTokenization.get(o);)o++;this._firstLineNeedsTokenization=o}applyEdits(e,t){this.markMustBeTokenized(e.startLineNumber-1),this._lineBeginState.delete(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineNeedsTokenization.delete(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineBeginState.insert(e.startLineNumber,t),this._lineNeedsTokenization.insert(e.startLineNumber,t)}}class Gpt extends de{constructor(e,t,i){super(),this._textModel=e,this._tokenizationPart=t,this._languageIdCodec=i,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(Dn.onDidChange(s=>{const o=this._textModel.getLanguageId();s.changedLanguages.indexOf(o)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(e){if(e.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let t=0,i=e.changes.length;t<i;t++){const s=e.changes[t],[o]=jm(s.text);this._tokenizationStateStore.applyEdits(s.range,o)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(e){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[e,t]=Ypt(this._textModel,this._tokenizationPart);e&&t?this._tokenizationStateStore=new qpt(e,t):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,ow(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?kJ(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._textModel.getLineCount(),t=new xI,i=yr.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(t.finalize(),this._isTokenizationComplete())}tokenizeViewport(e,t){const i=new xI;this._tokenizeViewport(i,e,t),this._tokenizationPart.setTokens(i.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(e){const t=new xI;this._updateTokensUntilLine(t,e),this._tokenizationPart.setTokens(t.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(e,t){if(!this._tokenizationStateStore)return 0;this.forceTokenization(e.lineNumber);const i=this._tokenizationStateStore.getBeginState(e.lineNumber-1);if(!i)return 0;const s=this._textModel.getLanguageId(),o=this._textModel.getLineContent(e.lineNumber),r=o.substring(0,e.column-1)+t+o.substring(e.column-1),a=nb(this._languageIdCodec,s,this._tokenizationStateStore.tokenizationSupport,r,!0,i),l=new Ts(a.tokens,r,this._languageIdCodec);if(l.getCount()===0)return 0;const c=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(c)}tokenizeLineWithEdit(e,t,i){const s=e.lineNumber,o=e.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(s);const r=this._tokenizationStateStore.getBeginState(s-1);if(!r)return null;const a=this._textModel.getLineContent(s),l=a.substring(0,o-1)+i+a.substring(o-1+t),c=this._textModel.getLanguageIdAtPosition(s,0),u=nb(this._languageIdCodec,c,this._tokenizationStateStore.tokenizationSupport,l,!0,r);return new Ts(u.tokens,l,this._languageIdCodec)}isCheapToTokenize(e){if(!this._tokenizationStateStore)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return e>t?!1:e<t||this._textModel.getLineLength(e)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(e){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationStateStore)return;const i=this._textModel.getLanguageId(),s=this._textModel.getLineCount(),o=t-1;for(let r=this._tokenizationStateStore.invalidLineStartIndex;r<=o;r++){const a=this._textModel.getLineContent(r+1),l=this._tokenizationStateStore.getBeginState(r),c=nb(this._languageIdCodec,i,this._tokenizationStateStore.tokenizationSupport,a,!0,l);e.add(r+1,c.tokens),this._tokenizationStateStore.setEndState(s,r,c.endState),r=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationStateStore||i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(e,i);return}let s=this._textModel.getLineFirstNonWhitespaceColumn(t);const o=[];let r=null;for(let c=t-1;s>1&&c>=1;c--){const u=this._textModel.getLineFirstNonWhitespaceColumn(c);if(u!==0&&u<s&&(o.push(this._textModel.getLineContent(c)),s=u,r=this._tokenizationStateStore.getBeginState(c-1),r))break}r||(r=this._tokenizationStateStore.initialState);const a=this._textModel.getLanguageId();let l=r;for(let c=o.length-1;c>=0;c--)l=nb(this._languageIdCodec,a,this._tokenizationStateStore.tokenizationSupport,o[c],!1,l).endState;for(let c=t;c<=i;c++){const u=this._textModel.getLineContent(c),d=nb(this._languageIdCodec,a,this._tokenizationStateStore.tokenizationSupport,u,!0,l);e.add(c,d.tokens),this._tokenizationStateStore.markMustBeTokenized(c-1),l=d.endState}}}function Ypt(n,e){if(n.isTooLargeForTokenization())return[null,null];const t=Dn.get(e.getLanguageId());if(!t)return[null,null];let i;try{i=t.getInitialState()}catch(s){return Ot(s),[null,null]}return[t,i]}function nb(n,e,t,i,s,o){let r=null;if(t)try{r=t.tokenizeEncoded(i,s,o.clone())}catch(a){Ot(a)}return r||(r=Gx(n.encodeLanguageId(e),o)),Ts.convertToEndOffset(r.tokens,i.length),r}const zd=new Uint32Array(0).buffer;class Cu{static deleteBeginning(e,t){return e===null||e===zd?e:Cu.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===zd)return e;const i=ih(e),s=i[i.length-2];return Cu.delete(e,t,s)}static delete(e,t,i){if(e===null||e===zd||t===i)return e;const s=ih(e),o=s.length>>>1;if(t===0&&s[s.length-2]===i)return zd;const r=Ts.findIndexInTokensArray(s,t),a=r>0?s[r-1<<1]:0,l=s[r<<1];if(i<l){const f=i-t;for(let p=r;p<o;p++)s[p<<1]-=f;return e}let c,u;a!==t?(s[r<<1]=t,c=r+1<<1,u=t):(c=r<<1,u=a);const d=i-t;for(let f=r+1;f<o;f++){const p=s[f<<1]-d;p>u&&(s[c++]=p,s[c++]=s[(f<<1)+1],u=p)}if(c===s.length)return e;const h=new Uint32Array(c);return h.set(s.subarray(0,c),0),h.buffer}static append(e,t){if(t===zd)return e;if(e===zd)return t;if(e===null)return e;if(t===null)return null;const i=ih(e),s=ih(t),o=s.length>>>1,r=new Uint32Array(i.length+s.length);r.set(i,0);let a=i.length;const l=i[i.length-2];for(let c=0;c<o;c++)r[a++]=s[c<<1]+l,r[a++]=s[(c<<1)+1];return r.buffer}static insert(e,t,i){if(e===null||e===zd)return e;const s=ih(e),o=s.length>>>1;let r=Ts.findIndexInTokensArray(s,t);r>0&&s[r-1<<1]===t&&r--;for(let a=r;a<o;a++)s[a<<1]+=i;return e}}function ih(n){return n instanceof Uint32Array?n:new Uint32Array(n)}class j8{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let s=null;if(t<this._len&&(s=this._lineTokens[t]),s!==null&&s!==zd)return new Ts(ih(s),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=xK(this._languageIdCodec.encodeLanguageId(e)),new Ts(o,i,this._languageIdCodec)}static _massageTokens(e,t,i){const s=i?ih(i):null;if(t===0){let o=!1;if(s&&s.length>1&&(o=io.getLanguageId(s[1])!==e),!o)return zd}if(!s||s.length===0){const o=new Uint32Array(2);return o[0]=t,o[1]=xK(e),o.buffer}return s[s.length-2]=t,s.byteOffset===0&&s.byteLength===s.buffer.byteLength?s.buffer:s}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const i=[];for(let s=0;s<t;s++)i[s]=null;this._lineTokens=Ox(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,s,o){const r=j8._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,s);this._ensureLine(t);const a=this._lineTokens[t];return this._lineTokens[t]=r,o?!j8._equals(a,r):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=ih(e),s=ih(t);if(i.length!==s.length)return!1;for(let o=0,r=i.length;o<r;o++)if(i[o]!==s[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new oe(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=Cu.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=Cu.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let s=null;i<this._len&&(s=Cu.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=Cu.append(this._lineTokens[t],s),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const s=e.lineNumber-1;if(!(s>=this._len)){if(t===0){this._lineTokens[s]=Cu.insert(this._lineTokens[s],e.column-1,i);return}this._lineTokens[s]=Cu.deleteEnding(this._lineTokens[s],e.column-1),this._lineTokens[s]=Cu.insert(this._lineTokens[s],e.column-1,i),this._insertLines(e.lineNumber,t)}}}function xK(n){return(n<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}class sF{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const o=t[0].getRange(),r=t[t.length-1].getRange();if(!o||!r)return e;i=e.plusRange(o).plusRange(r)}let s=null;for(let o=0,r=this._pieces.length;o<r;o++){const a=this._pieces[o];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){s=s||{index:o};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(o,1),o--,r--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){s=s||{index:o};continue}const[l,c]=a.split(i);if(l.isEmpty()){s=s||{index:o};continue}c.isEmpty()||(this._pieces.splice(o,1,l,c),o++,r++,s=s||{index:o})}return s=s||{index:this._pieces.length},t.length>0&&(this._pieces=Ox(this._pieces,s.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;const i=this._pieces;if(i.length===0)return t;const s=sF._findFirstPieceWithLine(i,e),o=i[s].getLineTokens(e);if(!o)return t;const r=t.getCount(),a=o.getCount();let l=0;const c=[];let u=0,d=0;const h=(f,p)=>{f!==d&&(d=f,c[u++]=f,c[u++]=p)};for(let f=0;f<a;f++){const p=o.getStartCharacter(f),m=o.getEndCharacter(f),b=o.getMetadata(f),w=((b&1?2048:0)|(b&2?4096:0)|(b&4?8192:0)|(b&8?16384:0)|(b&16?16744448:0)|(b&32?4278190080:0))>>>0,y=~w>>>0;for(;l<r&&t.getEndOffset(l)<=p;)h(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<r&&t.getStartOffset(l)<p&&h(p,t.getMetadata(l));l<r&&t.getEndOffset(l)<m;)h(t.getEndOffset(l),t.getMetadata(l)&y|b&w),l++;if(l<r)h(m,t.getMetadata(l)&y|b&w),t.getEndOffset(l)===m&&l++;else{const L=Math.min(Math.max(0,l-1),r-1);h(m,t.getMetadata(L)&y|b&w)}}for(;l<r;)h(t.getEndOffset(l),t.getMetadata(l)),l++;return new Ts(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,s=e.length-1;for(;i<s;){let o=i+Math.floor((s-i)/2);if(e[o].endLineNumber<t)i=o+1;else if(e[o].startLineNumber>t)s=o-1;else{for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}}return i}acceptEdit(e,t,i,s,o){for(const r of this._pieces)r.acceptEdit(e,t,i,s,o)}}class K8 extends Qte{constructor(e,t,i,s,o){super(),this._languageService=e,this._languageConfigurationService=t,this._textModel=i,this.bracketPairsTextModelPart=s,this._languageId=o,this._onDidChangeLanguage=this._register(new J),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new J),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new J),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new J),this._tokens=new j8(this._languageService.languageIdCodec),this._semanticTokens=new sF(this._languageService.languageIdCodec),this._tokenization=new Gpt(i,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(r=>{r.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(e,t,i,s,o){this._tokens.acceptEdit(e,i,s),this._semanticTokens.acceptEdit(e,i,s,o,t.length>0?t.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(e){this._tokenization.handleDidChangeContent(e)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){if(this._backgroundTokenizationState===2)return;const t=e?2:1;this._backgroundTokenizationState!==t&&(this._backgroundTokenizationState=t,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(e,t=!1){if(e.length!==0){const i=[];for(let s=0,o=e.length;s<o;s++){const r=e[s];let a=0,l=0,c=!1;for(let u=r.startLineNumber;u<=r.endLineNumber;u++)c?(this._tokens.setTokens(this._languageId,u-1,this._textModel.getLineLength(u),r.getLineTokens(u),!1),l=u):this._tokens.setTokens(this._languageId,u-1,this._textModel.getLineLength(u),r.getLineTokens(u),!0)&&(c=!0,a=u,l=u);c&&i.push({fromLineNumber:a,toLineNumber:l})}i.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:i})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._textModel.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._languageId,e-1,t);return this._semanticTokens.addSparseTokens(e,i)}getTokenTypeIfInsertingCharacter(e,t,i){const s=this._textModel.validatePosition(new oe(e,t));return this._tokenization.getTokenTypeIfInsertingCharacter(s,i)}tokenizeLineWithEdit(e,t,i){const s=this._textModel.validatePosition(e);return this._tokenization.tokenizeLineWithEdit(s,t,i)}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),s=this._getLineTokens(t.lineNumber),o=s.findTokenIndexAtOffset(t.column-1),[r,a]=K8._findLanguageBoundaries(s,o),l=YC(t.column,this.getLanguageConfiguration(s.getLanguageId(o)).getWordDefinition(),i.substring(r,a),r);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(o>0&&r===t.column-1){const[c,u]=K8._findLanguageBoundaries(s,o-1),d=YC(t.column,this.getLanguageConfiguration(s.getLanguageId(o-1)).getWordDefinition(),i.substring(c,u),c);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn)return d}return null}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let s=0;for(let r=t;r>=0&&e.getLanguageId(r)===i;r--)s=e.getStartOffset(r);let o=e.getLineContent().length;for(let r=t,a=e.getCount();r<a&&e.getLanguageId(r)===i;r++)o=e.getEndOffset(r);return[s,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new oe(e,t)),s=this.getLineTokens(i.lineNumber);return s.getLanguageId(s.findTokenIndexAtOffset(i.column-1))}setLanguageId(e){if(this._languageId===e)return;const t={oldLanguage:this._languageId,newLanguage:e};this._languageId=e,this.bracketPairsTextModelPart.handleDidChangeLanguage(t),this._tokenization.handleDidChangeLanguage(t),this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}}const D5=ui("undoRedoService");class Cie{constructor(e,t){this.resource=e,this.elements=t}}class wv{constructor(){this.id=wv._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}wv._ID=0;wv.None=new wv;class Tu{constructor(){this.id=Tu._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}Tu._ID=0;Tu.None=new Tu;var Zpt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},DI=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function Xpt(n){const e=new bie;return e.acceptChunk(n),e.finish()}function Qpt(n){const e=new bie;let t;for(;typeof(t=n.read())=="string";)e.acceptChunk(t);return e.finish()}function DK(n,e){let t;return typeof n=="string"?t=Xpt(n):Krt(n)?t=Qpt(n):t=n,t.create(e)}let QS=0;const Jpt=999,emt=1e4;class tmt{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;do{const s=this._source.read();if(s===null)return this._eos=!0,t===0?null:e.join("");if(s.length>0&&(e[t++]=s,i+=s.length),i>=64*1024)return e.join("")}while(!0)}}const sb=()=>{throw new Error("Invalid change accessor")};let Ph=class Rb extends de{constructor(e,t,i,s=null,o,r,a){super(),this._undoRedoService=o,this._languageService=r,this._languageConfigurationService=a,this._onWillDispose=this._register(new J),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new omt(h=>this.handleBeforeFireDecorationsChangedEvent(h))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new J),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new J),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new J),this._eventEmitter=this._register(new rmt),this._deltaDecorationCallCnt=0,QS++,this.id="$model"+QS,this.isForSimpleWidget=i.isForSimpleWidget,typeof s=="undefined"||s===null?this._associatedResource=bt.parse("inmemory://model/"+QS):this._associatedResource=s,this._attachedEditorCount=0;const{textBuffer:l,disposable:c}=DK(e,i.defaultEOL);this._buffer=l,this._bufferDisposable=c,this._options=Rb.resolveOptions(this._buffer,i),this._bracketPairs=this._register(new fpt(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Wft(this,this._languageConfigurationService)),this._decorationProvider=this._register(new ppt(this)),this._tokenizationTextModelPart=new K8(this._languageService,this._languageConfigurationService,this,this._bracketPairs,t);const u=this._buffer.getLineCount(),d=this._buffer.getValueLengthInRange(new A(1,1,u,this._buffer.getLineLength(u)+1),0);i.largeFileOptimizations?this._isTooLargeForTokenization=d>Rb.LARGE_FILE_SIZE_THRESHOLD||u>Rb.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=d>Rb.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=dee(QS),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new kK,this._commandManager=new eF(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(e,t){if(t.detectIndentation){const i=_K(e,t.tabSize,t.insertSpaces);return new u6({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new u6({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return $u(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new N1([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=de.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new _m(e,t)))}setValue(e){if(this._assertNotDisposed(),e===null)return;const{textBuffer:t,disposable:i}=DK(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,s,o,r,a){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:s}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:r,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),s=this.getValueLengthInRange(i),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new kK,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new I1([new _gt],this._versionId,!1,!1),this._createContentChanged2(new A(1,1,o,r),0,s,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),s=this.getValueLengthInRange(i),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new I1([new Cgt],this._versionId,!1,!1),this._createContentChanged2(new A(1,1,o,r),0,s,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,s=t.length;i<s;i++){const o=t[i],r=o.range,a=o.cachedAbsoluteStart-o.start,l=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),c=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);o.cachedAbsoluteStart=l,o.cachedAbsoluteEnd=c,o.cachedVersionId=e,o.start=l-a,o.end=c-a,Tg(o)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let s=1;s<=i;s++){const o=this._buffer.getLineLength(s);o>=emt?t+=o:e+=o}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize!="undefined"?e.tabSize:this._options.tabSize,i=typeof e.indentSize!="undefined"?e.indentSize:this._options.indentSize,s=typeof e.insertSpaces!="undefined"?e.insertSpaces:this._options.insertSpaces,o=typeof e.trimAutoWhitespace!="undefined"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,r=typeof e.bracketColorizationOptions!="undefined"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new u6({tabSize:t,indentSize:i,insertSpaces:s,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:r});if(this._options.equals(a))return;const l=this._options.createChangeEvent(a);this._options=a,this._bracketPairs.handleDidChangeOptions(l),this._decorationProvider.handleDidChangeOptions(l),this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();const i=_K(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),R8(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(cee.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),s=this.getValueInRange(i,e);return t?this._buffer.getBOM()+s:s}createSnapshot(e=!1){return new tmt(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),s=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+s:s}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,s=e.startColumn;let o=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),r=Math.floor(typeof s=="number"&&!isNaN(s)?s:1);if(o<1)o=1,r=1;else if(o>t)o=t,r=this.getLineMaxColumn(o);else if(r<=1)r=1;else{const d=this.getLineMaxColumn(o);r>=d&&(r=d)}const a=e.endLineNumber,l=e.endColumn;let c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),u=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(c<1)c=1,u=1;else if(c>t)c=t,u=this.getLineMaxColumn(c);else if(u<=1)u=1;else{const d=this.getLineMaxColumn(c);u>=d&&(u=d)}return i===o&&s===r&&a===c&&l===u&&e instanceof A&&!(e instanceof Ye)?e:new A(o,r,c,u)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const s=this._buffer.getLineCount();if(e>s)return!1;if(t===1)return!0;const o=this.getLineMaxColumn(e);if(t>o)return!1;if(i===1){const r=this._buffer.getLineCharCode(e,t-2);if(Is(r))return!1}return!0}_validatePosition(e,t,i){const s=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),o=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),r=this._buffer.getLineCount();if(s<1)return new oe(1,1);if(s>r)return new oe(r,this.getLineMaxColumn(r));if(o<=1)return new oe(s,1);const a=this.getLineMaxColumn(s);if(o>=a)return new oe(s,a);if(i===1){const l=this._buffer.getLineCharCode(s,o-2);if(Is(l))return new oe(s,o-1)}return new oe(s,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof oe&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,s=e.startColumn,o=e.endLineNumber,r=e.endColumn;if(!this._isValidPosition(i,s,0)||!this._isValidPosition(o,r,0))return!1;if(t===1){const a=s>1?this._buffer.getLineCharCode(i,s-2):0,l=r>1&&r<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,r-2):0,c=Is(a),u=Is(l);return!c&&!u}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof A&&!(e instanceof Ye)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),s=this._validatePosition(e.endLineNumber,e.endColumn,0),o=i.lineNumber,r=i.column,a=s.lineNumber,l=s.column;{const c=r>1?this._buffer.getLineCharCode(o,r-2):0,u=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,d=Is(c),h=Is(u);return!d&&!h?new A(o,r,a,l):o===a&&r===l?new A(o,r-1,a,l-1):d&&h?new A(o,r-1,a,l+1):d?new A(o,r-1,a,l):new A(o,r,a,l+1)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new A(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,s){return this._buffer.findMatchesLineByLine(e,t,i,s)}findMatches(e,t,i,s,o,r,a=Jpt){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(d=>A.isIRange(d))&&(l=t.map(d=>this.validateRange(d)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((d,h)=>d.startLineNumber-h.startLineNumber||d.startColumn-h.startColumn);const c=[];c.push(l.reduce((d,h)=>A.areIntersecting(d,h)?d.plusRange(h):(c.push(d),h)));let u;if(!i&&e.indexOf(`
`)<0){const h=new Ep(e,i,s,o).parseSearchRequest();if(!h)return[];u=f=>this.findMatchesLineByLine(f,h,r,a)}else u=d=>NS.findMatches(this,new Ep(e,i,s,o),d,r,a);return c.map(u).reduce((d,h)=>d.concat(h),[])}findNextMatch(e,t,i,s,o,r){this._assertNotDisposed();const a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const c=new Ep(e,i,s,o).parseSearchRequest();if(!c)return null;const u=this.getLineCount();let d=new A(a.lineNumber,a.column,u,this.getLineMaxColumn(u)),h=this.findMatchesLineByLine(d,c,r,1);return NS.findNextMatch(this,new Ep(e,i,s,o),a,r),h.length>0||(d=new A(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),h=this.findMatchesLineByLine(d,c,r,1),h.length>0)?h[0]:null}return NS.findNextMatch(this,new Ep(e,i,s,o),a,r)}findPreviousMatch(e,t,i,s,o,r){this._assertNotDisposed();const a=this.validatePosition(t);return NS.findPreviousMatch(this,new Ep(e,i,s,o),a,r)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof HE?e:new HE(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,s=e.length;i<s;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const s=t.map(r=>({range:this.validateRange(r.range),text:r.text}));let o=!0;if(e)for(let r=0,a=e.length;r<a;r++){const l=e[r];let c=!1;for(let u=0,d=s.length;u<d;u++){const h=s[u].range,f=h.startLineNumber>l.endLineNumber,p=l.startLineNumber>h.endLineNumber;if(!f&&!p){c=!0;break}}if(!c){o=!1;break}}if(o)for(let r=0,a=this._trimAutoWhitespaceLines.length;r<a;r++){const l=this._trimAutoWhitespaceLines[r],c=this.getLineMaxColumn(l);let u=!0;for(let d=0,h=s.length;d<h;d++){const f=s[d].range,p=s[d].text;if(!(l<f.startLineNumber||l>f.endLineNumber)&&!(l===f.startLineNumber&&f.startColumn===c&&f.isEmpty()&&p&&p.length>0&&p.charAt(0)===`
`)&&!(l===f.startLineNumber&&f.startColumn===1&&f.isEmpty()&&p&&p.length>0&&p.charAt(p.length-1)===`
`)){u=!1;break}}if(u){const d=new A(l,1,l,c);t.push(new HE(null,d,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,s){const o=e.map(r=>{const a=this.getPositionAt(r.newPosition),l=this.getPositionAt(r.newEnd);return{range:new A(a.lineNumber,a.column,l.lineNumber,l.column),text:r.oldText}});this._applyUndoRedoEdits(o,t,!0,!1,i,s)}_applyRedo(e,t,i,s){const o=e.map(r=>{const a=this.getPositionAt(r.oldPosition),l=this.getPositionAt(r.oldEnd);return{range:new A(a.lineNumber,a.column,l.lineNumber,l.column),text:r.newText}});this._applyUndoRedoEdits(o,t,!1,!0,i,s)}_applyUndoRedoEdits(e,t,i,s,o,r){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=s,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(r),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),s=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),r=s.changes;if(this._trimAutoWhitespaceLines=s.trimAutoWhitespaceLineNumbers,r.length!==0){for(let c=0,u=r.length;c<u;c++){const d=r[c],[h,f,p]=jm(d.text);this._tokenizationTextModelPart.acceptEdit(d.range,d.text,h,f,p),this._decorationsTree.acceptReplace(d.rangeOffset,d.rangeLength,d.text.length,d.forceMoveMarkers)}const a=[];this._increaseVersionId();let l=i;for(let c=0,u=r.length;c<u;c++){const d=r[c],[h]=jm(d.text);this._onDidChangeDecorations.fire();const f=d.range.startLineNumber,p=d.range.endLineNumber,m=p-f,b=h,w=Math.min(m,b),y=b-m,L=o-l-y+f,D=L,E=L+b,T=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new oe(D,1)),this.getOffsetAt(new oe(E,this.getLineMaxColumn(E))),0),x=zc.fromDecorations(T),k=new ZC(x);for(let N=w;N>=0;N--){const V=f+N,H=L+N;k.takeFromEndWhile(te=>te.lineNumber>H);const G=k.takeFromEndWhile(te=>te.lineNumber===H);a.push(new lK(V,this.getLineContent(H),G))}if(w<m){const N=f+w;a.push(new vgt(N+1,p))}if(w<b){const N=new ZC(x),V=f+w,H=b-w,G=o-l-H+V+1,te=[],ae=[];for(let me=0;me<H;me++){const we=G+me;ae[me]=this.getLineContent(we),N.takeWhile(be=>be.lineNumber<we),te[me]=N.takeWhile(be=>be.lineNumber===we)}a.push(new bgt(V+1,f+b,ae,te))}l+=y}this._emitContentChangedEvent(new I1(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:r,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return s.reverseEdits===null?void 0:s.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=Array.from(e).map(s=>new lK(s,this.getLineContent(s),this._getInjectedTextInLine(s)));this._onDidChangeInjectedText.fire(new eie(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(o,r)=>this._deltaDecorationsImpl(e,[],[{range:o,options:r}])[0],changeDecoration:(o,r)=>{this._changeDecorationImpl(o,r)},changeDecorationOptions:(o,r)=>{this._changeDecorationOptionsImpl(o,IK(r))},removeDecoration:o=>{this._deltaDecorationsImpl(e,[o],[])},deltaDecorations:(o,r)=>o.length===0&&r.length===0?[]:this._deltaDecorationsImpl(e,o,r)};let s=null;try{s=t(i)}catch(o){Ot(o)}return i.addDecoration=sb,i.changeDecoration=sb,i.changeDecorationOptions=sb,i.removeDecoration=sb,i.deltaDecorations=sb,s}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),Ot(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const s=e?this._decorations[e]:null;if(!s)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:EK[i]}])[0]:null;if(!t)return this._decorationsTree.delete(s),delete this._decorations[s.id],null;const o=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(s),s.reset(this.getVersionId(),r,a,o),s.setOptions(EK[i]),this._decorationsTree.insert(s),s.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,s=t.length;i<s;i++){const o=t[i];this._decorationsTree.delete(o),delete this._decorations[o.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,s=!1){const o=this.getLineCount(),r=Math.min(o,Math.max(1,e)),a=Math.min(o,Math.max(1,t)),l=this.getLineMaxColumn(a),c=new A(r,1,a,l),u=this._getDecorationsInRange(c,i,s);return DU(u,this._decorationProvider.getDecorationsInRange(c,i,s)),u}getDecorationsInRange(e,t=0,i=!1){const s=this.validateRange(e),o=this._getDecorationsInRange(s,t,i);return DU(o,this._decorationProvider.getDecorationsInRange(s,t,i)),o}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),s=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return zc.fromDecorations(s).filter(o=>o.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}_getDecorationsInRange(e,t,i){const s=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,s,o,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}const s=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),r=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,r,s),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const s=!!(i.options.overviewRuler&&i.options.overviewRuler.color),o=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const r=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber)}if(i.options.before||t.before){const r=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}s!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){const s=this.getVersionId(),o=t.length;let r=0;const a=i.length;let l=0;const c=new Array(a);for(;r<o||l<a;){let u=null;if(r<o){do u=this._decorations[t[r++]];while(!u&&r<o);if(u){if(u.options.after){const d=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(d.endLineNumber)}if(u.options.before){const d=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(d.startLineNumber)}this._decorationsTree.delete(u),this._onDidChangeDecorations.checkAffectedAndFire(u.options)}}if(l<a){if(!u){const b=++this._lastDecorationId,w=`${this._instanceId};${b}`;u=new pie(w,0,0),this._decorations[w]=u}const d=i[l],h=this._validateRangeRelaxedNoAllocations(d.range),f=IK(d.options),p=this._buffer.getOffsetAt(h.startLineNumber,h.startColumn),m=this._buffer.getOffsetAt(h.endLineNumber,h.endColumn);u.ownerId=e,u.reset(s,p,m,h),u.setOptions(f),u.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber),u.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(f),this._decorationsTree.insert(u),c[l]=u.id,l++}else u&&delete this._decorations[u.id]}return c}getLanguageId(){return this.tokenization.getLanguageId()}setMode(e){this.tokenization.setLanguageId(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return imt(this.getLineContent(e))+1}};Ph.MODEL_SYNC_LIMIT=50*1024*1024;Ph.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;Ph.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;Ph.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:po.tabSize,indentSize:po.indentSize,insertSpaces:po.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:po.trimAutoWhitespace,largeFileOptimizations:po.largeFileOptimizations,bracketPairColorizationOptions:po.bracketPairColorizationOptions};Ph=Zpt([DI(4,D5),DI(5,In),DI(6,Xn)],Ph);function imt(n){let e=0;for(const t of n)if(t===" "||t==="	")e++;else break;return e}function kI(n){return!!(n.options.overviewRuler&&n.options.overviewRuler.color)}function EI(n){return!!n.options.after||!!n.options.before}class kK{constructor(){this._decorationsTree0=new yI,this._decorationsTree1=new yI,this._injectedTextDecorationsTree=new yI}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,s,o){const r=e.getVersionId(),a=this._intervalSearch(t,i,s,o,r);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,i,s,o){const r=this._decorationsTree0.intervalSearch(e,t,i,s,o),a=this._decorationsTree1.intervalSearch(e,t,i,s,o),l=this._injectedTextDecorationsTree.intervalSearch(e,t,i,s,o);return r.concat(a).concat(l)}getInjectedTextInInterval(e,t,i,s){const o=e.getVersionId(),r=this._injectedTextDecorationsTree.intervalSearch(t,i,s,!1,o);return this._ensureNodesHaveRanges(e,r).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),s=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,s).filter(o=>o.options.showIfCollapsed||!o.range.isEmpty())}getAll(e,t,i,s){const o=e.getVersionId(),r=this._search(t,i,s,o);return this._ensureNodesHaveRanges(e,r)}_search(e,t,i,s){if(i)return this._decorationsTree1.search(e,t,s);{const o=this._decorationsTree0.search(e,t,s),r=this._decorationsTree1.search(e,t,s),a=this._injectedTextDecorationsTree.search(e,t,s);return o.concat(r).concat(a)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),s=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(s)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){EI(e)?this._injectedTextDecorationsTree.insert(e):kI(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){EI(e)?this._injectedTextDecorationsTree.delete(e):kI(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){EI(e)?this._injectedTextDecorationsTree.resolveNode(e,t):kI(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,s){this._decorationsTree0.acceptReplace(e,t,i,s),this._decorationsTree1.acceptReplace(e,t,i,s),this._injectedTextDecorationsTree.acceptReplace(e,t,i,s)}}function Td(n){return n.replace(/[^a-z0-9\-_]/gi," ")}class wie{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class nmt extends wie{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:ll.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class smt extends wie{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?re.fromHex(e):t.getColor(e.id)}}class Km{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}static from(e){return e instanceof Km?e:new Km(e)}}class Rt{constructor(e){var t,i;this.description=e.description,this.blockClassName=e.blockClassName?Td(e.blockClassName):null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Td(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new nmt(e.overviewRuler):null,this.minimap=e.minimap?new smt(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?Td(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Td(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Td(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Td(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Td(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Td(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Td(e.afterContentClassName):null,this.after=e.after?Km.from(e.after):null,this.before=e.before?Km.from(e.before):null,this.hideInCommentTokens=(t=e.hideInCommentTokens)!==null&&t!==void 0?t:!1,this.hideInStringTokens=(i=e.hideInStringTokens)!==null&&i!==void 0?i:!1}static register(e){return new Rt(e)}static createDynamic(e){return new Rt(e)}}Rt.EMPTY=Rt.register({description:"empty"});const EK=[Rt.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Rt.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Rt.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Rt.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function IK(n){return n instanceof Rt?n:Rt.createDynamic(n)}class omt extends de{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new J),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(t)}(e=this._affectedInjectedTextLines)===null||e===void 0||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!!(e.minimap&&e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(e.overviewRuler&&e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class rmt extends de{constructor(){super(),this._fastEmitter=this._register(new J),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new J),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}var amt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const TK={getInitialState:()=>uv,tokenizeEncoded:(n,e,t)=>Gx(0,t)};function lmt(n,e,t){return amt(this,void 0,void 0,function*(){if(!t)return NK(e,n.languageIdCodec,TK);const i=yield Dn.getOrCreate(t);return NK(e,n.languageIdCodec,i||TK)})}function cmt(n,e,t,i,s,o,r){let a="<div>",l=i,c=0,u=!0;for(let d=0,h=e.getCount();d<h;d++){const f=e.getEndOffset(d);if(f<=i)continue;let p="";for(;l<f&&l<s;l++){const m=n.charCodeAt(l);switch(m){case 9:{let b=o-(l+c)%o;for(c+=b-1;b>0;)r&&u?(p+="&#160;",u=!1):(p+=" ",u=!0),b--;break}case 60:p+="&lt;",u=!1;break;case 62:p+="&gt;",u=!1;break;case 38:p+="&amp;",u=!1;break;case 0:p+="&#00;",u=!1;break;case 65279:case 8232:case 8233:case 133:p+="\uFFFD",u=!1;break;case 13:p+="&#8203",u=!1;break;case 32:r&&u?(p+="&#160;",u=!1):(p+=" ",u=!0);break;default:p+=String.fromCharCode(m),u=!1}}if(a+=`<span style="${e.getInlineStyle(d,t)}">${p}</span>`,f>s||l>=s)break}return a+="</div>",a}function NK(n,e,t){let i='<div class="monaco-tokenized-source">';const s=Ju(n);let o=t.getInitialState();for(let r=0,a=s.length;r<a;r++){const l=s[r];r>0&&(i+="<br/>");const c=t.tokenizeEncoded(l,!0,o);Ts.convertToEndOffset(c.tokens,l.length);const d=new Ts(c.tokens,l,e).inflate();let h=0;for(let f=0,p=d.getCount();f<p;f++){const m=d.getClassName(f),b=d.getEndOffset(f);i+=`<span class="${m}">${jO(l.substring(h,b))}</span>`,h=b}o=c.endState}return i+="</div>",i}class umt{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,s=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,s)}}class dmt{constructor(e,t,i,s,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=s,this.minWidth=o,this.prefixSum=0}}class Ew{constructor(e,t,i,s){this._instanceId=dee(++Ew.INSTANCE_COUNT),this._pendingChanges=new umt,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=s}static findInsertionIndex(e,t,i){let s=0,o=e.length;for(;s<o;){const r=s+o>>>1;t===e[r].afterLineNumber?i<e[r].ordinal?o=r:s=r+1:t<e[r].afterLineNumber?o=r:s=r+1}return s}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(s,o,r,a)=>{t=!0,s=s|0,o=o|0,r=r|0,a=a|0;const l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new dmt(l,s,o,r,a)),l},changeOneWhitespace:(s,o,r)=>{t=!0,o=o|0,r=r|0,this._pendingChanges.change({id:s,newAfterLineNumber:o,newHeight:r})},removeWhitespace:s=>{t=!0,this._pendingChanges.remove({id:s})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const l of e)this._insertWhitespace(l);for(const l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(const l of i){const c=this._findWhitespaceIndex(l.id);c!==-1&&this._removeWhitespace(c)}return}const s=new Set;for(const l of i)s.add(l.id);const o=new Map;for(const l of t)o.set(l.id,l);const r=l=>{const c=[];for(const u of l)if(!s.has(u.id)){if(o.has(u.id)){const d=o.get(u.id);u.afterLineNumber=d.newAfterLineNumber,u.height=d.newHeight}c.push(u)}return c},a=r(this._arr).concat(r(e));a.sort((l,c)=>l.afterLineNumber===c.afterLineNumber?l.ordinal-c.ordinal:l.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=Ew.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,s=t.length;i<s;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const s=this._findWhitespaceIndex(e);if(s!==-1&&(this._arr[s].height!==i&&(this._arr[s].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,s-1)),this._arr[s].afterLineNumber!==t)){const o=this._arr[s];this._removeWhitespace(s),o.afterLineNumber=t,this._insertWhitespace(o)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,s=this._arr.length;i<s;i++){const o=this._arr[i].afterLineNumber;e<=o&&o<=t?this._arr[i].afterLineNumber=e-1:o>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,s=this._arr.length;i<s;i++){const o=this._arr[i].afterLineNumber;e<=o&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const t=this._arr;let i=0,s=t.length-1;for(;i<=s;){const r=(s-i|0)/2|0,a=i+r|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else s=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;let i;e>1?i=this._lineHeight*(e-1):i=0;const s=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0));return i+s+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;const i=this._lineHeight*e,s=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0));return i+s+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const t=this._lineCount|0,i=this._lineHeight;let s=1,o=t;for(;s<o;){const r=(s+o)/2|0,a=this.getVerticalOffsetForLineNumber(r)|0;if(e>=a+i)s=r+1;else{if(e>=a)return r;o=r}}return s>t?t:s}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this._lineHeight,s=this.getLineNumberAtOrAfterVerticalOffset(e)|0,o=this.getVerticalOffsetForLineNumber(s)|0;let r=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(s)|0;const l=this.getWhitespacesCount()|0;let c,u;a===-1?(a=l,u=r+1,c=0):(u=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let d=o,h=d;const f=5e5;let p=0;o>=f&&(p=Math.floor(o/f)*f,p=Math.floor(p/i)*i,h-=p);const m=[],b=e+(t-e)/2;let w=-1;for(let E=s;E<=r;E++){if(w===-1){const T=d,x=d+i;(T<=b&&b<x||T>b)&&(w=E)}for(d+=i,m[E-s]=h,h+=i;u===E;)h+=c,d+=c,a++,a>=l?u=r+1:(u=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(d>=t){r=E;break}}w===-1&&(w=r);const y=this.getVerticalOffsetForLineNumber(r)|0;let L=s,D=r;return L<D&&o<e&&L++,L<D&&y+i>t&&D--,{bigNumbersDelta:p,startLineNumber:s,endLineNumber:r,relativeVerticalOffset:m,centeredLineNumber:w,completelyVisibleStartLineNumber:L,completelyVisibleEndLineNumber:D}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i;t>=1?i=this._lineHeight*t:i=0;let s;return e>0?s=this.getWhitespacesAccumulatedHeight(e-1):s=0,i+s+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const s=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(e>=s+o)return-1;for(;t<i;){const r=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(r),l=this.getHeightForWhitespaceIndex(r);if(e>=a+l)t=r+1;else{if(e>=a)return r;i=r}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const s=this.getHeightForWhitespaceIndex(t),o=this.getIdForWhitespaceIndex(t),r=this.getAfterLineNumberForWhitespaceIndex(t);return{id:o,afterLineNumber:r,verticalOffset:i,height:s}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),s=this.getWhitespacesCount()-1;if(i<0)return[];const o=[];for(let r=i;r<=s;r++){const a=this.getVerticalOffsetForWhitespaceIndex(r),l=this.getHeightForWhitespaceIndex(r);if(a>=t)break;o.push({id:this.getIdForWhitespaceIndex(r),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:a,height:l})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}Ew.INSTANCE_COUNT=0;const hmt=125;class Ob{constructor(e,t,i,s){e=e|0,t=t|0,i=i|0,s=s|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),s<0&&(s=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=s,this.scrollHeight=Math.max(i,s)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class fmt extends de{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new J),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Ob(0,0,0,0),this._scrollable=this._register(new Hy({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,s=t.contentHeight!==e.contentHeight;(i||s)&&this._onDidContentSizeChange.fire(new KP(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class gmt extends de{constructor(e,t,i){super(),this._configuration=e;const s=this._configuration.options,o=s.get(133),r=s.get(77);this._linesLayout=new Ew(t,s.get(61),r.top,r.bottom),this._scrollable=this._register(new fmt(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Ob(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?hmt:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(61)&&this._linesLayout.setLineHeight(t.get(61)),e.hasChanged(77)){const i=t.get(77);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(133)){const i=t.get(133),s=i.contentWidth,o=i.height,r=this._scrollable.getScrollDimensions(),a=r.contentWidth;this._scrollable.setScrollDimensions(new Ob(s,r.contentWidth,o,this._getContentHeight(s,o,a)))}else this._updateHeight();e.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const s=this._configuration.options.get(94);return s.horizontal===2||e>=t?0:s.horizontalScrollbarSize}_getContentHeight(e,t,i){const s=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return s.get(96)?o+=Math.max(0,t-s.get(61)-s.get(77).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,s=e.contentWidth;this._scrollable.setScrollDimensions(new Ob(t,e.contentWidth,i,this._getContentHeight(t,i,s)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new hj(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new hj(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(134),s=t.get(46),o=t.get(133);if(i.isViewportWrapping){const r=t.get(67);return e>o.contentWidth+s.typicalHalfwidthCharacterWidth&&r.enabled&&r.side==="right"?e+o.verticalScrollbarWidth:e}else{const r=t.get(95)*s.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+r+o.verticalScrollbarWidth,a)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ob(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),s=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-s,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class pmt{constructor(e,t,i,s,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=s,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const s=e.range,o=e.options;let r;if(o.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new oe(s.startLineNumber,1),0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new oe(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber)),1);r=new A(a.lineNumber,a.column,l.lineNumber,l.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(s,1);i=new Vee(r,o),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e){const t=new A(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(t).inlineDecorations[0]}_getDecorationsInRange(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,o8(this.configuration.options)),i=e.startLineNumber,s=e.endLineNumber,o=[];let r=0;const a=[];for(let l=i;l<=s;l++)a[l-i]=[];for(let l=0,c=t.length;l<c;l++){const u=t[l],d=u.options;if(!oF(this.model,u))continue;const h=this._getOrCreateViewModelDecoration(u),f=h.range;if(o[r++]=h,d.inlineClassName){const p=new rC(f,d.inlineClassName,d.inlineClassNameAffectsLetterSpacing?3:0),m=Math.max(i,f.startLineNumber),b=Math.min(s,f.endLineNumber);for(let w=m;w<=b;w++)a[w-i].push(p)}if(d.beforeContentClassName&&i<=f.startLineNumber&&f.startLineNumber<=s){const p=new rC(new A(f.startLineNumber,f.startColumn,f.startLineNumber,f.startColumn),d.beforeContentClassName,1);a[f.startLineNumber-i].push(p)}if(d.afterContentClassName&&i<=f.endLineNumber&&f.endLineNumber<=s){const p=new rC(new A(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn),d.afterContentClassName,2);a[f.endLineNumber-i].push(p)}}return{decorations:o,inlineDecorations:a}}}function oF(n,e){return!(e.options.hideInCommentTokens&&rF(n,e)||e.options.hideInStringTokens&&aF(n,e))}function rF(n,e){return yie(n,e.range,t=>t===1)}function aF(n,e){return yie(n,e.range,t=>t===2)}function yie(n,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const s=n.tokenization.getLineTokens(i),o=i===e.startLineNumber,r=i===e.endLineNumber;let a=o?s.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<s.getCount()&&!(r&&s.getStartOffset(a)>e.endColumn-1);){if(!t(s.getStandardTokenType(a)))return!1;a++}}return!0}function II(n,e){return n===null?e?q8.INSTANCE:G8.INSTANCE:new mmt(n,e)}class mmt{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const s=i>0?this._projectionData.breakOffsets[i-1]:0,o=this._projectionData.breakOffsets[i];let r;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((c,u)=>new zc(0,0,c+1,this._projectionData.injectionOptions[u],0));r=zc.applyInjectedText(e.getLineContent(t),a).substring(s,o)}else r=e.getValueInRange({startLineNumber:t,startColumn:s+1,endLineNumber:t,endColumn:o+1});return i>0&&(r=MK(this._projectionData.wrappedTextIndentLength)+r),r}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const s=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],s),s[0]}getViewLinesData(e,t,i,s,o,r,a){this._assertVisible();const l=this._projectionData,c=l.injectionOffsets,u=l.injectionOptions;let d=null;if(c){d=[];let f=0,p=0;for(let m=0;m<l.getOutputLineCount();m++){const b=new Array;d[m]=b;const w=m>0?l.breakOffsets[m-1]:0,y=l.breakOffsets[m];for(;p<c.length;){const L=u[p].content.length,D=c[p]+f,E=D+L;if(D>y)break;if(w<E){const T=u[p];if(T.inlineClassName){const x=m>0?l.wrappedTextIndentLength:0,k=x+Math.max(D-w,0),N=x+Math.min(E-w,y);k!==N&&b.push(new Ult(k,N,T.inlineClassName,T.inlineClassNameAffectsLetterSpacing))}}if(E<=y)f+=L,p++;else break}}}let h;c?h=e.tokenization.getLineTokens(t).withInserted(c.map((f,p)=>({offset:f,text:u[p].content,tokenMetadata:Ts.defaultTokenMetadata}))):h=e.tokenization.getLineTokens(t);for(let f=i;f<i+s;f++){const p=o+f-i;if(!r[p]){a[p]=null;continue}a[p]=this._getViewLineData(h,d?d[f]:null,f)}}_getViewLineData(e,t,i){this._assertVisible();const s=this._projectionData,o=i>0?s.wrappedTextIndentLength:0,r=i>0?s.breakOffsets[i-1]:0,a=s.breakOffsets[i],l=e.sliceAndInflate(r,a,o);let c=l.getLineContent();i>0&&(c=MK(s.wrappedTextIndentLength)+c);const u=this._projectionData.getMinOutputOffset(i)+1,d=c.length+1,h=i+1<this.getViewLineCount(),f=i===0?0:s.breakOffsetsVisibleColumn[i-1];return new mP(c,h,u,d,f,l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();const i=this._projectionData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){const s=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(s)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class q8{constructor(){}isVisible(){return!0}setVisible(e){return e?this:G8.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const s=e.tokenization.getLineTokens(t),o=s.getLineContent();return new mP(o,!1,1,o.length+1,0,s.inflate(),null)}getViewLinesData(e,t,i,s,o,r,a){if(!r[o]){a[o]=null;return}a[o]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new oe(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}}q8.INSTANCE=new q8;class G8{constructor(){}isVisible(){return!1}setVisible(e){return e?q8.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,s,o,r,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}G8.INSTANCE=new G8;const TI=[""];function MK(n){if(n>=TI.length)for(let e=1;e<=n;e++)TI[e]=_mt(e);return TI[n]}function _mt(n){return new Array(n+1).join(" ")}class vmt{constructor(e,t,i,s,o,r,a,l,c){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=s,this.fontInfo=o,this.tabSize=r,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=c,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Cmt(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),s=this.model.getInjectedTextDecorations(this._editorId),o=i.length,r=this.createLineBreaksComputer(),a=new ZC(zc.fromDecorations(s));for(let m=0;m<o;m++){const b=a.takeWhile(w=>w.lineNumber===m+1);r.addRequest(i[m],b,t?t[m]:null)}const l=r.finalize(),c=[],u=this.hiddenAreasDecorationIds.map(m=>this.model.getDecorationRange(m)).sort(A.compareRangesUsingStarts);let d=1,h=0,f=-1,p=f+1<u.length?h+1:o+2;for(let m=0;m<o;m++){const b=m+1;b===p&&(f++,d=u[f].startLineNumber,h=u[f].endLineNumber,p=f+1<u.length?h+1:o+2);const w=b>=d&&b<=h,y=II(l[m],!w);c[m]=y.getViewLineCount(),this.modelLineProjections[m]=y}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new alt(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const t=e.map(h=>this.model.validateRange(h)),i=bmt(t),s=this.hiddenAreasDecorationIds.map(h=>this.model.getDecorationRange(h)).sort(A.compareRangesUsingStarts);if(i.length===s.length){let h=!1;for(let f=0;f<i.length;f++)if(!i[f].equalsRange(s[f])){h=!0;break}if(!h)return!1}const o=i.map(h=>({range:h,options:Rt.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,o);const r=i;let a=1,l=0,c=-1,u=c+1<r.length?l+1:this.modelLineProjections.length+2,d=!1;for(let h=0;h<this.modelLineProjections.length;h++){const f=h+1;f===u&&(c++,a=r[c].startLineNumber,l=r[c].endLineNumber,u=c+1<r.length?l+1:this.modelLineProjections.length+2);let p=!1;if(f>=a&&f<=l?this.modelLineProjections[h].isVisible()&&(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!1),p=!0):(d=!0,this.modelLineProjections[h].isVisible()||(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!0),p=!0)),p){const m=this.modelLineProjections[h].getViewLineCount();this.projectedModelLineLineCounts.setValue(h,m)}}return d||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,s){const o=this.fontInfo.equals(e),r=this.wrappingStrategy===t,a=this.wrappingColumn===i,l=this.wrappingIndent===s;if(o&&r&&a&&l)return!1;const c=o&&r&&!a&&l;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=s;let u=null;if(c){u=[];for(let d=0,h=this.modelLineProjections.length;d<h;d++)u[d]=this.modelLineProjections[d].getProjectionData()}return this._constructLines(!1,u),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const s=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,o=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new vM(s,o)}onModelLinesInserted(e,t,i,s){if(!e||e<=this._validModelVersionId)return null;const o=t>2&&!this.modelLineProjections[t-2].isVisible(),r=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let a=0;const l=[],c=[];for(let u=0,d=s.length;u<d;u++){const h=II(s[u],!o);l.push(h);const f=h.getViewLineCount();a+=f,c[u]=f}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new bM(r,r+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const s=t-1,o=this.modelLineProjections[s].getViewLineCount(),r=this.modelLineProjections[s].isVisible(),a=II(i,r);this.modelLineProjections[s]=a;const l=this.modelLineProjections[s].getViewLineCount();let c=!1,u=0,d=-1,h=0,f=-1,p=0,m=-1;o>l?(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=u+l-1,p=d+1,m=p+(o-l)-1,c=!0):o<l?(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=u+o-1,h=d+1,f=h+(l-o)-1,c=!0):(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=u+l-1),this.projectedModelLineLineCounts.setValue(s,l);const b=u<=d?new tie(u,d-u+1):null,w=h<=f?new bM(h,f):null,y=p<=m?new vM(p,m):null;return[c,b,w,y]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const s=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(s.lineNumber,o.lineNumber,r.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,s=t.remainder;return new AK(i+1,s)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),s=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new oe(e.modelLineNumber,s)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),s=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new oe(e.modelLineNumber,s)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),s=this.getViewLineInfo(t),o=new Array;let r=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=s.modelLineNumber;l++){const c=this.modelLineProjections[l-1];if(c.isVisible()){const u=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,d=l===s.modelLineNumber?s.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let h=u;h<d;h++)a.push(new AK(l,h))}if(!c.isVisible()&&r){const u=new oe(l-1,this.model.getLineMaxColumn(l-1)+1),d=A.fromPositions(r,u);o.push(new RK(d,a)),a=[],r=null}else c.isVisible()&&!r&&(r=new oe(l,1))}if(r){const l=A.fromPositions(r,this.getModelEndPositionOfViewLine(s));o.push(new RK(l,a))}return o}getViewLinesBracketGuides(e,t,i,s){const o=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,r=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const l=a.modelRange.startLineNumber,c=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,o,s);for(const u of a.viewLines){const h=c[u.modelLineNumber-l].map(f=>{if(f.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.forWrappedLinesAfterColumn).lineNumber>=u.modelLineWrappedLineIdx||f.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.forWrappedLinesBeforeOrAtColumn).lineNumber<u.modelLineWrappedLineIdx)return;if(!f.horizontalLine)return f;let p=-1;if(f.column!==-1){const w=this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.column);if(w.lineNumber===u.modelLineWrappedLineIdx)p=w.column;else if(w.lineNumber<u.modelLineWrappedLineIdx)p=this.getMinColumnOfViewLine(u);else if(w.lineNumber>u.modelLineWrappedLineIdx)return}const m=this.convertModelPositionToViewPosition(u.modelLineNumber,f.horizontalLine.endColumn),b=this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.horizontalLine.endColumn);return b.lineNumber===u.modelLineWrappedLineIdx?new nm(f.visibleColumn,p,f.className,new cC(f.horizontalLine.top,m.column),-1,-1):b.lineNumber<u.modelLineWrappedLineIdx||f.visibleColumn!==-1?void 0:new nm(f.visibleColumn,p,f.className,new cC(f.horizontalLine.top,this.getMaxColumnOfViewLine(u)),-1,-1)});r.push(h.filter(f=>!!f))}}return r}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),s=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[];const r=[],a=[],l=i.lineNumber-1,c=s.lineNumber-1;let u=null;for(let p=l;p<=c;p++){const m=this.modelLineProjections[p];if(m.isVisible()){const b=m.getViewLineNumberOfModelPosition(0,p===l?i.column:1),w=m.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(p+1)),y=w-b+1;let L=0;y>1&&m.getViewLineMinColumn(this.model,p+1,w)===1&&(L=b===0?1:2),r.push(y),a.push(L),u===null&&(u=new oe(p+1,0))}else u!==null&&(o=o.concat(this.model.guides.getLinesIndentGuides(u.lineNumber,p)),u=null)}u!==null&&(o=o.concat(this.model.guides.getLinesIndentGuides(u.lineNumber,s.lineNumber)),u=null);const d=t-e+1,h=new Array(d);let f=0;for(let p=0,m=o.length;p<m;p++){let b=o[p];const w=Math.min(d-f,r[p]),y=a[p];let L;y===2?L=0:y===1?L=1:L=w;for(let D=0;D<w;D++)D===L&&(b=0),h[f++]=b}return h}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const s=this.projectedModelLineLineCounts.getIndexOf(e-1);let o=e;const r=s.index,a=s.remainder,l=[];for(let c=r,u=this.model.getLineCount();c<u;c++){const d=this.modelLineProjections[c];if(!d.isVisible())continue;const h=c===r?a:0;let f=d.getViewLineCount()-h,p=!1;if(o+f>t&&(p=!0,f=t-o+1),d.getViewLinesData(this.model,c+1,h,f,o-e,i,l),o+=f,p)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const s=this.projectedModelLineLineCounts.getIndexOf(e-1),o=s.index,r=s.remainder,a=this.modelLineProjections[o],l=a.getViewLineMinColumn(this.model,o+1,r),c=a.getViewLineMaxColumn(this.model,o+1,r);t<l&&(t=l),t>c&&(t=c);const u=a.getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new oe(o+1,u)).equals(i)?new oe(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),s=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new A(i.lineNumber,i.column,s.lineNumber,s.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),s=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new oe(i.modelLineNumber,s))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new A(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){const s=this.model.validatePosition(new oe(e,t)),o=s.lineNumber,r=s.column;let a=o-1,l=!1;for(;a>0&&!this.modelLineProjections[a].isVisible();)a--,l=!0;if(a===0&&!this.modelLineProjections[a].isVisible())return new oe(1,1);const c=1+this.projectedModelLineLineCounts.getPrefixSum(a);let u;return l?u=this.modelLineProjections[a].getViewPositionOfModelPosition(c,this.model.getLineMaxColumn(a+1),i):u=this.modelLineProjections[o-1].getViewPositionOfModelPosition(c,r,i),u}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return A.fromPositions(i)}else{const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),s=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new A(i.lineNumber,i.column,s.lineNumber,s.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const o=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(o,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;const s=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(s,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i){const s=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-s.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new A(s.lineNumber,1,o.lineNumber,o.column),t,i);let r=[];const a=s.lineNumber-1,l=o.lineNumber-1;let c=null;for(let f=a;f<=l;f++)if(this.modelLineProjections[f].isVisible())c===null&&(c=new oe(f+1,f===a?s.column:1));else if(c!==null){const m=this.model.getLineMaxColumn(f);r=r.concat(this.model.getDecorationsInRange(new A(c.lineNumber,c.column,f,m),t,i)),c=null}c!==null&&(r=r.concat(this.model.getDecorationsInRange(new A(c.lineNumber,c.column,o.lineNumber,o.column),t,i)),c=null),r.sort((f,p)=>{const m=A.compareRangesUsingStarts(f.range,p.range);return m===0?f.id<p.id?-1:f.id>p.id?1:0:m});const u=[];let d=0,h=null;for(const f of r){const p=f.id;h!==p&&(h=p,u[d++]=f)}return u}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}}function bmt(n){if(n.length===0)return[];const e=n.slice();e.sort(A.compareRangesUsingStarts);const t=[];let i=e[0].startLineNumber,s=e[0].endLineNumber;for(let o=1,r=e.length;o<r;o++){const a=e[o];a.startLineNumber>s+1?(t.push(new A(i,1,s,1)),i=a.startLineNumber,s=a.endLineNumber):a.endLineNumber>s&&(s=a.endLineNumber)}return t.push(new A(i,1,s,1)),t}class AK{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}}class RK{constructor(e,t){this.modelRange=e,this.viewLines=t}}class Cmt{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class wmt{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new ymt(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,s){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,s)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new vM(t,i)}onModelLinesInserted(e,t,i,s){return new bM(t,i)}onModelLineChanged(e,t,i){return[!1,new tie(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,s=new Array(i);for(let o=0;o<i;o++)s[o]=0;return s}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.tokenization.getLineTokens(e),i=t.getLineContent();return new mP(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const s=this.model.getLineCount();e=Math.min(Math.max(1,e),s),t=Math.min(Math.max(1,t),s);const o=[];for(let r=e;r<=t;r++){const a=r-e;o[a]=i[a]?this.getViewLineData(r):null}return o}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class ymt{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}class Smt extends de{constructor(e,t,i,s,o,r,a,l){if(super(),this.languageConfigurationService=a,this._themeService=l,this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new Mgt,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new f0(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new Hi(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new Hi(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=lF.create(this.model),this.model.isTooLargeForTokenization())this._lines=new wmt(this.model);else{const c=this._configuration.options,u=c.get(46),d=c.get(127),h=c.get(134),f=c.get(126);this._lines=new vmt(this._editorId,this.model,s,o,u,this.model.getOptions().tabSize,d,h.wrappingColumn,f)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Cv(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new gmt(this._configuration,this.getLineCount(),r)),this._register(this.viewLayout.onDidScroll(c=>{c.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),c.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new kgt(c)),this._eventDispatcher.emitOutgoingEvent(new GP(c.oldScrollWidth,c.oldScrollLeft,c.oldScrollHeight,c.oldScrollTop,c.scrollWidth,c.scrollLeft,c.scrollHeight,c.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(c=>{this._eventDispatcher.emitOutgoingEvent(c)})),this._decorations=new pmt(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(c=>{try{const u=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(u,c)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(zy.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Tgt)})),this._register(this._themeService.onDidColorThemeChange(c=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Egt(c))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=new A(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),i=this._toModelVisibleRanges(t);for(const s of i)this.model.tokenization.tokenizeViewport(s.startLineNumber,s.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new xgt(e)),this._eventDispatcher.emitOutgoingEvent(new qP(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new wgt)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new ygt)}_onConfigurationChanged(e,t){let i=null;if(this._viewportStart.isValid){const u=new oe(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));i=this.coordinatesConverter.convertViewPositionToModelPosition(u)}let s=!1;const o=this._configuration.options,r=o.get(46),a=o.get(127),l=o.get(134),c=o.get(126);if(this._lines.setWrappingSettings(r,a,l.wrappingColumn,c)&&(e.emitViewEvent(new KS),e.emitViewEvent(new qS),e.emitViewEvent(new g0(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(s=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(83)&&(this._decorations.reset(),e.emitViewEvent(new g0(null))),e.emitViewEvent(new Sgt(t)),this.viewLayout.onConfigurationChanged(t),s&&i){const u=this.coordinatesConverter.convertModelPositionToViewPosition(i),d=this.viewLayout.getVerticalOffsetForLineNumber(u.lineNumber);this.viewLayout.setScrollPosition({scrollTop:d+this._viewportStart.startLineDelta},1)}f0.shouldRecreate(t)&&(this.cursorConfig=new f0(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const i=this._eventDispatcher.beginEmitViewEvents();let s=!1,o=!1;const r=e instanceof _m?e.rawContentChangedEvent.changes:e.changes,a=e instanceof _m?e.rawContentChangedEvent.versionId:null,l=this._lines.createLineBreaksComputer();for(const d of r)switch(d.changeType){case 4:{for(let h=0;h<d.detail.length;h++){const f=d.detail[h];let p=d.injectedTexts[h];p&&(p=p.filter(m=>!m.ownerId||m.ownerId===this._editorId)),l.addRequest(f,p,null)}break}case 2:{let h=null;d.injectedText&&(h=d.injectedText.filter(f=>!f.ownerId||f.ownerId===this._editorId)),l.addRequest(d.detail,h,null);break}}const c=l.finalize(),u=new ZC(c);for(const d of r)switch(d.changeType){case 1:{this._lines.onModelFlushed(),i.emitViewEvent(new KS),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),s=!0;break}case 3:{const h=this._lines.onModelLinesDeleted(a,d.fromLineNumber,d.toLineNumber);h!==null&&(i.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber)),s=!0;break}case 4:{const h=u.takeCount(d.detail.length),f=this._lines.onModelLinesInserted(a,d.fromLineNumber,d.toLineNumber,h);f!==null&&(i.emitViewEvent(f),this.viewLayout.onLinesInserted(f.fromLineNumber,f.toLineNumber)),s=!0;break}case 2:{const h=u.dequeue(),[f,p,m,b]=this._lines.onModelLineChanged(a,d.lineNumber,h);o=f,p&&i.emitViewEvent(p),m&&(i.emitViewEvent(m),this.viewLayout.onLinesInserted(m.fromLineNumber,m.toLineNumber)),b&&(i.emitViewEvent(b),this.viewLayout.onLinesDeleted(b.fromLineNumber,b.toLineNumber));break}case 5:break}a!==null&&this._lines.acceptVersionId(a),this.viewLayout.onHeightMaybeChanged(),!s&&o&&(i.emitViewEvent(new qS),i.emitViewEvent(new g0(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){const i=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(i){const s=this.coordinatesConverter.convertModelPositionToViewPosition(i.getStartPosition()),o=this.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber);this.viewLayout.setScrollPosition({scrollTop:o+this._viewportStart.startLineDelta},1)}}try{const i=this._eventDispatcher.beginEmitViewEvents();e instanceof _m&&i.emitOutgoingEvent(new Wgt(e.contentChangedEvent)),this._cursor.onModelContentChanged(i,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(e=>{const t=[];for(let i=0,s=e.ranges.length;i<s;i++){const o=e.ranges[i],r=this.coordinatesConverter.convertModelPositionToViewPosition(new oe(o.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new oe(o.toLineNumber,this.model.getLineMaxColumn(o.toLineNumber))).lineNumber;t[i]={fromLineNumber:r,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new Igt(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new $gt(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new Dgt),this.cursorConfig=new f0(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Vgt(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new f0(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Bgt(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new KS),t.emitViewEvent(new qS),t.emitViewEvent(new g0(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new f0(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Hgt(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new g0(e)),this._eventDispatcher.emitOutgoingEvent(new Fgt(e))}))}setHiddenAreas(e){let t=!1;try{const i=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(i.emitViewEvent(new KS),i.emitViewEvent(new qS),i.emitViewEvent(new g0(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new Ogt)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(133),t=this._configuration.options.get(61),i=Math.max(20,Math.round(e.height/t)),s=this.viewLayout.getLinesViewportData(),o=Math.max(1,s.completelyVisibleStartLineNumber-i),r=Math.min(this.getLineCount(),s.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new A(o,this.getLineMinColumn(o),r,this.getLineMaxColumn(r)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];const s=[];let o=0,r=t.startLineNumber,a=t.startColumn;const l=t.endLineNumber,c=t.endColumn;for(let u=0,d=i.length;u<d;u++){const h=i[u].startLineNumber,f=i[u].endLineNumber;f<r||h>l||(r<h&&(s[o++]=new A(r,a,h-1,this.model.getLineMaxColumn(h-1))),r=f+1,a=1)}return(r<l||r===l&&a<c)&&(s[o++]=new A(r,a,l,c)),s}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new A(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,s=t.completelyVisibleEndLineNumber;return new A(i,this.getLineMinColumn(i),s,this.getLineMaxColumn(s))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),s=this.coordinatesConverter.convertViewPositionToModelPosition(new oe(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:s,firstPositionDeltaTop:o}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),s=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:s}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,s){return this._lines.getViewLinesBracketGuides(e,t,i,s)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=Qo(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=ju(this.getLineContent(e));return t===-1?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){const s=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,s)}getViewLineRenderingData(e){const t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),s=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),r=this._lines.getViewLineData(e);return r.inlineDecorations&&(t=[...t,...r.inlineDecorations.map(a=>a.toInlineDecoration(e))]),new ya(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,i,s,r.tokens,t,o,r.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const s=this._lines.getViewLinesData(e,t,i);return new zlt(this.getTabSize(),s)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,o8(this._configuration.options)),i=new Lmt;for(const s of t){const o=s.options,r=o.overviewRuler;if(!r)continue;const a=r.position;if(a===0)continue;const l=r.getColor(e.value),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(s.range.startLineNumber,s.range.startColumn),u=this.coordinatesConverter.getViewLineNumberOfModelPosition(s.range.endLineNumber,s.range.endColumn);i.accept(l,o.zIndex,c,u,a)}return i.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const i=t.options.overviewRuler;i&&i.invalidateCachedColor();const s=t.options.minimap;s&&s.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}deduceModelPositionRelativeToViewPosition(e,t,i){const s=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);const r=this.model.getOffsetAt(s)+t;return this.model.getPositionAt(r)}getPlainTextToCopy(e,t,i){const s=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(A.compareRangesUsingStarts);let o=!1,r=!1;for(const l of e)l.isEmpty()?o=!0:r=!0;if(!r){if(!t)return"";const l=e.map(u=>u.startLineNumber);let c="";for(let u=0;u<l.length;u++)u>0&&l[u-1]===l[u]||(c+=this.model.getLineContent(l[u])+s);return c}if(o&&t){const l=[];let c=0;for(const u of e){const d=u.startLineNumber;u.isEmpty()?d!==c&&l.push(this.model.getLineContent(d)):l.push(this.model.getValueInRange(u,i?2:0)),c=d}return l.length===1?l[0]:l}const a=[];for(const l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===ol||e.length!==1)return null;let s=e[0];if(s.isEmpty()){if(!t)return null;const u=s.startLineNumber;s=new A(u,this.model.getLineMinColumn(u),u,this.model.getLineMaxColumn(u))}const o=this._configuration.options.get(46),r=this._getColorMap(),l=/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===Hr.fontFamily;let c;return l?c=Hr.fontFamily:(c=o.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${Hr.fontFamily}`),{mode:i,html:`<div style="color: ${r[1]};background-color: ${r[2]};font-family: ${c};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(s,r)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,s=e.startColumn,o=e.endLineNumber,r=e.endColumn,a=this.getTabSize();let l="";for(let c=i;c<=o;c++){const u=this.model.tokenization.getLineTokens(c),d=u.getLineContent(),h=c===i?s-1:0,f=c===o?r-1:d.length;d===""?l+="<br>":l+=cmt(d,u.inflate(),t,h,f,a,oo)}return l}_getColorMap(){const e=Dn.getColorMap(),t=["#000000"];if(e)for(let i=1,s=e.length;i<s;i++)t[i]=re.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(s=>this._cursor.setStates(s,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(s=>this._cursor.setSelections(s,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new Pgt);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(s=>this._cursor.executeEdits(s,e,t,i))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,s,o){this._executeCursorEdit(r=>this._cursor.compositionType(r,e,t,i,s,o))}paste(e,t,i,s){this._executeCursorEdit(o=>this._cursor.paste(o,e,t,i,s))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(s=>this._cursor.revealPrimary(s,e,i,0,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new A(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(s=>s.emitViewEvent(new p6(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new A(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(s=>s.emitViewEvent(new p6(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,s,o){this._withViewEventsCollector(r=>r.emitViewEvent(new p6(e,!1,i,null,s,t,o)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Ngt),this._eventDispatcher.emitOutgoingEvent(new Rgt))}_withViewEventsCollector(e){try{const t=this._eventDispatcher.beginEmitViewEvents();return e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class lF{constructor(e,t,i,s,o){this._model=e,this._viewLineNumber=t,this._isValid=i,this._modelTrackedRange=s,this._startLineDelta=o}static create(e){const t=e._setTrackedRange(null,new A(1,1,1,1),1);return new lF(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){const i=e.coordinatesConverter.convertViewPositionToModelPosition(new oe(t,e.getLineMinColumn(t))),s=e.model._setTrackedRange(this._modelTrackedRange,new A(i.lineNumber,i.column,i.lineNumber,i.column),1),o=e.viewLayout.getVerticalOffsetForLineNumber(t),r=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=s,this._startLineDelta=r-o}invalidate(){this._isValid=!1}}class Lmt{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,s,o){const r=this._asMap[e];if(r){const a=r.data,l=a[a.length-3],c=a[a.length-1];if(l===o&&c+1>=i){s>c&&(a[a.length-1]=s);return}a.push(o,i,s)}else{const a=new Wee(e,t,[o,i,s]);this._asMap[e]=a,this.asArray.push(a)}}}class k5{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}var Iw;(function(n){n[n.Ignore=0]="Ignore",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error"})(Iw||(Iw={}));(function(n){const e="error",t="warning",i="warn",s="info",o="ignore";function r(l){return l?K0(e,l)?n.Error:K0(t,l)||K0(i,l)?n.Warning:K0(s,l)?n.Info:n.Ignore:n.Ignore}n.fromValue=r;function a(l){switch(l){case n.Error:return e;case n.Warning:return t;case n.Info:return s;default:return o}}n.toString=a})(Iw||(Iw={}));var xn=Iw,Sie=xn;const os=ui("notificationService");class xmt{}class vC{constructor(e,t,i,s,o){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=s,this.wrappedTextIndentLength=o}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let s=this.breakOffsets[e]-t;return e>0&&(s+=this.wrappedTextIndentLength),s}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let s=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&s>this.injectionOffsets[o];o++)s<this.injectionOffsets[o]+this.injectionOptions[o].content.length?s=this.injectionOffsets[o]:s-=this.injectionOptions[o].content.length;return s}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let s=0;s<this.injectionOffsets.length&&!(e<this.injectionOffsets[s]||t!==1&&e===this.injectionOffsets[s]);s++)i+=this.injectionOptions[s].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,s=this.breakOffsets.length-1,o=0,r=0;for(;i<=s;){o=i+(s-i)/2|0;const l=this.breakOffsets[o];if(r=o>0?this.breakOffsets[o-1]:0,t===0)if(e<=r)s=o-1;else if(e>l)i=o+1;else break;else if(e<r)s=o-1;else if(e>=l)i=o+1;else break}let a=e-r;return o>0&&(a+=this.wrappedTextIndentLength),new JS(o,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){const s=this.outputPositionToOffsetInInputWithInjections(e,t),o=this.normalizeOffsetInInputWithInjectionsAroundInjections(s,i);if(o!==s)return this.offsetInInputWithInjectionsToOutputPosition(o,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new JS(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){const s=this.getOutputLineCount()-1;if(e<s&&t===this.getMaxOutputOffset(e))return new JS(e+1,this.getMinOutputOffset(e+1))}return new JS(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2){if(e===i.offsetInInputWithInjections+i.length&&OK(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let s=i.offsetInInputWithInjections;if(PK(this.injectionOptions[i.injectedTextIndex].cursorStops))return s;let o=i.injectedTextIndex-1;for(;o>=0&&this.injectionOffsets[o]===this.injectionOffsets[i.injectedTextIndex]&&!(OK(this.injectionOptions[o].cursorStops)||(s-=this.injectionOptions[o].content.length,PK(this.injectionOptions[o].cursorStops)));)o--;return s}}else if(t===1||t===4){let s=i.offsetInInputWithInjections+i.length,o=i.injectedTextIndex;for(;o+1<this.injectionOffsets.length&&this.injectionOffsets[o+1]===this.injectionOffsets[o];)s+=this.injectionOptions[o+1].content.length,o++;return s}else if(t===0||t===3){let s=i.offsetInInputWithInjections,o=i.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)s-=this.injectionOptions[o-1].content.length,o--;return s}Px()}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),s=this.getInjectedTextAtOffset(i);return s?{options:this.injectionOptions[s.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let s=0;for(let o=0;o<t.length;o++){const r=i[o].content.length,a=t[o]+s,l=t[o]+s+r;if(a>e)break;if(e<=l)return{injectedTextIndex:o,offsetInInputWithInjections:a,length:r};s+=r}}}}function OK(n){return n==null?!0:n===kc.Right||n===kc.Both}function PK(n){return n==null?!0:n===kc.Left||n===kc.Both}class JS{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new oe(e+this.outputLineIndex,this.outputOffset+1)}}class cF{constructor(e,t){this.classifier=new Dmt(e,t)}static create(e){return new cF(e.get(122),e.get(121))}createLineBreaksComputer(e,t,i,s){const o=[],r=[],a=[];return{addRequest:(l,c,u)=>{o.push(l),r.push(c),a.push(u)},finalize:()=>{const l=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,c=[];for(let u=0,d=o.length;u<d;u++){const h=r[u],f=a[u];f&&!f.injectionOptions&&!h?c[u]=kmt(this.classifier,f,o[u],t,i,l,s):c[u]=Emt(this.classifier,o[u],h,t,i,l,s)}return kM.length=0,EM.length=0,c}}}}class Dmt extends Jv{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let kM=[],EM=[];function kmt(n,e,t,i,s,o,r){if(s===-1)return null;const a=t.length;if(a<=1)return null;const l=e.breakOffsets,c=e.breakOffsetsVisibleColumn,u=Lie(t,i,s,o,r),d=s-u,h=kM,f=EM;let p=0,m=0,b=0,w=s;const y=l.length;let L=0;if(L>=0){let D=Math.abs(c[L]-w);for(;L+1<y;){const E=Math.abs(c[L+1]-w);if(E>=D)break;D=E,L++}}for(;L<y;){let D=L<0?0:l[L],E=L<0?0:c[L];m>D&&(D=m,E=b);let T=0,x=0,k=0,N=0;if(E<=w){let H=E,G=D===0?0:t.charCodeAt(D-1),te=D===0?0:n.get(G),ae=!0;for(let me=D;me<a;me++){const we=me,be=t.charCodeAt(me);let Me,He;if(Is(be)?(me++,Me=0,He=2):(Me=n.get(be),He=bC(be,H,i,o)),we>m&&IM(G,te,be,Me)&&(T=we,x=H),H+=He,H>w){we>m?(k=we,N=H-He):(k=me+1,N=H),H-x>d&&(T=0),ae=!1;break}G=be,te=Me}if(ae){p>0&&(h[p]=l[l.length-1],f[p]=c[l.length-1],p++);break}}if(T===0){let H=E,G=t.charCodeAt(D),te=n.get(G),ae=!1;for(let me=D-1;me>=m;me--){const we=me+1,be=t.charCodeAt(me);if(be===9){ae=!0;break}let Me,He;if(Om(be)?(me--,Me=0,He=2):(Me=n.get(be),He=yg(be)?o:1),H<=w){if(k===0&&(k=we,N=H),H<=w-d)break;if(IM(be,Me,G,te)){T=we,x=H;break}}H-=He,G=be,te=Me}if(T!==0){const me=d-(N-x);if(me<=i){const we=t.charCodeAt(k);let be;Is(we)?be=2:be=bC(we,N,i,o),me-be<0&&(T=0)}}if(ae){L--;continue}}if(T===0&&(T=k,x=N),T<=m){const H=t.charCodeAt(m);Is(H)?(T=m+2,x=b+2):(T=m+1,x=b+bC(H,b,i,o))}for(m=T,h[p]=T,b=x,f[p]=x,p++,w=x+d;L<0||L<y&&c[L]<x;)L++;let V=Math.abs(c[L]-w);for(;L+1<y;){const H=Math.abs(c[L+1]-w);if(H>=V)break;V=H,L++}}return p===0?null:(h.length=p,f.length=p,kM=e.breakOffsets,EM=e.breakOffsetsVisibleColumn,e.breakOffsets=h,e.breakOffsetsVisibleColumn=f,e.wrappedTextIndentLength=u,e)}function Emt(n,e,t,i,s,o,r){const a=zc.applyInjectedText(e,t);let l,c;if(t&&t.length>0?(l=t.map(x=>x.options),c=t.map(x=>x.column-1)):(l=null,c=null),s===-1)return l?new vC(c,l,[a.length],[],0):null;const u=a.length;if(u<=1)return l?new vC(c,l,[a.length],[],0):null;const d=Lie(a,i,s,o,r),h=s-d,f=[],p=[];let m=0,b=0,w=0,y=s,L=a.charCodeAt(0),D=n.get(L),E=bC(L,0,i,o),T=1;Is(L)&&(E+=1,L=a.charCodeAt(1),D=n.get(L),T++);for(let x=T;x<u;x++){const k=x,N=a.charCodeAt(x);let V,H;Is(N)?(x++,V=0,H=2):(V=n.get(N),H=bC(N,E,i,o)),IM(L,D,N,V)&&(b=k,w=E),E+=H,E>y&&((b===0||E-w>h)&&(b=k,w=E-H),f[m]=b,p[m]=w,m++,y=w+h,b=0),L=N,D=V}return m===0&&(!t||t.length===0)?null:(f[m]=u,p[m]=E,new vC(c,l,f,p,d))}function bC(n,e,t,i){return n===9?t-e%t:yg(n)||n<32?i:1}function FK(n,e){return e-n%e}function IM(n,e,t,i){return t!==32&&(e===2&&i!==2||e!==1&&i===1||e===3&&i!==2||i===3&&e!==1)}function Lie(n,e,t,i,s){let o=0;if(s!==0){const r=Qo(n);if(r!==-1){for(let l=0;l<r;l++)o+=n.charCodeAt(l)===9?FK(o,e):1;const a=s===3?2:s===2?1:0;for(let l=0;l<a;l++)o+=FK(o,e);o+i>t&&(o=0)}}return o}var NI;const MI=(NI=window.trustedTypes)===null||NI===void 0?void 0:NI.createPolicy("domLineBreaksComputer",{createHTML:n=>n});class uF{static create(){return new uF}constructor(){}createLineBreaksComputer(e,t,i,s){const o=[],r=[];return{addRequest:(a,l,c)=>{o.push(a),r.push(l)},finalize:()=>Imt(o,e,t,i,s,r)}}}function Imt(n,e,t,i,s,o){var r;function a(k){const N=o[k];if(N){const V=zc.applyInjectedText(n[k],N),H=N.map(te=>te.options),G=N.map(te=>te.column-1);return new vC(G,H,[V.length],[],0)}else return null}if(i===-1){const k=[];for(let N=0,V=n.length;N<V;N++)k[N]=a(N);return k}const l=Math.round(i*e.typicalHalfwidthCharacterWidth),u=Math.round(t*(s===3?2:s===2?1:0)),d=Math.ceil(e.spaceWidth*u),h=document.createElement("div");bo(h,e);const f=Sg(1e4),p=[],m=[],b=[],w=[],y=[];for(let k=0;k<n.length;k++){const N=zc.applyInjectedText(n[k],o[k]);let V=0,H=0,G=l;if(s!==0)if(V=Qo(N),V===-1)V=0;else{for(let we=0;we<V;we++)H+=N.charCodeAt(we)===9?t-H%t:1;const me=Math.ceil(e.spaceWidth*H);me+e.typicalFullwidthCharacterWidth>l?(V=0,H=0):G=l-me}const te=N.substr(V),ae=Tmt(te,H,t,G,f,d);p[k]=V,m[k]=H,b[k]=te,w[k]=ae[0],y[k]=ae[1]}const L=f.build(),D=(r=MI==null?void 0:MI.createHTML(L))!==null&&r!==void 0?r:L;h.innerHTML=D,h.style.position="absolute",h.style.top="10000",h.style.wordWrap="break-word",document.body.appendChild(h);const E=document.createRange(),T=Array.prototype.slice.call(h.children,0),x=[];for(let k=0;k<n.length;k++){const N=T[k],V=Nmt(E,N,b[k],w[k]);if(V===null){x[k]=a(k);continue}const H=p[k],G=m[k]+u,te=y[k],ae=[];for(let Me=0,He=V.length;Me<He;Me++)ae[Me]=te[V[Me]];if(H!==0)for(let Me=0,He=V.length;Me<He;Me++)V[Me]+=H;let me,we;const be=o[k];be?(me=be.map(Me=>Me.options),we=be.map(Me=>Me.column-1)):(me=null,we=null),x[k]=new vC(we,me,V,ae,G)}return document.body.removeChild(h),x}function Tmt(n,e,t,i,s,o){if(o!==0){const h=String(o);s.appendASCIIString('<div style="text-indent: -'),s.appendASCIIString(h),s.appendASCIIString("px; padding-left: "),s.appendASCIIString(h),s.appendASCIIString("px; box-sizing: border-box; width:")}else s.appendASCIIString('<div style="width:');s.appendASCIIString(String(i)),s.appendASCIIString('px;">');const r=n.length;let a=e,l=0;const c=[],u=[];let d=0<r?n.charCodeAt(0):0;s.appendASCIIString("<span>");for(let h=0;h<r;h++){h!==0&&h%16384===0&&s.appendASCIIString("</span><span>"),c[h]=l,u[h]=a;const f=d;d=h+1<r?n.charCodeAt(h+1):0;let p=1,m=1;switch(f){case 9:p=t-a%t,m=p;for(let b=1;b<=p;b++)b<p?s.write1(160):s.appendASCII(32);break;case 32:d===32?s.write1(160):s.appendASCII(32);break;case 60:s.appendASCIIString("&lt;");break;case 62:s.appendASCIIString("&gt;");break;case 38:s.appendASCIIString("&amp;");break;case 0:s.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:s.write1(65533);break;default:yg(f)&&m++,f<32?s.write1(9216+f):s.write1(f)}l+=p,a+=m}return s.appendASCIIString("</span>"),c[n.length]=l,u[n.length]=a,s.appendASCIIString("</div>"),[c,u]}function Nmt(n,e,t,i){if(t.length<=1)return null;const s=Array.prototype.slice.call(e.children,0),o=[];try{TM(n,s,i,0,null,t.length-1,null,o)}catch(r){return console.log(r),null}return o.length===0?null:(o.push(t.length),o)}function TM(n,e,t,i,s,o,r,a){if(i===o||(s=s||AI(n,e,t[i],t[i+1]),r=r||AI(n,e,t[o],t[o+1]),Math.abs(s[0].top-r[0].top)<=.1))return;if(i+1===o){a.push(o);return}const l=i+(o-i)/2|0,c=AI(n,e,t[l],t[l+1]);TM(n,e,t,i,s,l,c,a),TM(n,e,t,l,c,o,r,a)}function AI(n,e,t,i){return n.setStart(e[t/16384|0].firstChild,t%16384),n.setEnd(e[i/16384|0].firstChild,i%16384),n.getClientRects()}var Mmt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Nd=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Amt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let Rmt=0;class Omt{constructor(e,t,i,s,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=s,this.listenersToRemove=o}dispose(){vi(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let yv=class B0 extends de{constructor(e,t,i,s,o,r,a,l,c,u,d,h){super(),this.languageConfigurationService=d,this._deliveryQueue=new qJ,this._onDidDispose=this._register(new J),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new BK({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new BK({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const f=Object.assign({},t);this._domElement=e,this._overflowWidgetsDomNode=f.overflowWidgetsDomNode,delete f.overflowWidgetsDomNode,this._id=++Rmt,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,f,u)),this._register(this._configuration.onDidChange(b=>{this._onDidChangeConfiguration.fire(b);const w=this._configuration.options;if(b.hasChanged(133)){const y=w.get(133);this._onDidLayoutChange.fire(y)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=o,this._commandService=r,this._themeService=l,this._register(new Pmt(this,this._contextKeyService)),this._register(new Fmt(this,this._contextKeyService,h)),this._instantiationService=s.createChild(new k5([At,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Bmt(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let p;Array.isArray(i.contributions)?p=i.contributions:p=gm.getEditorContributions();for(const b of p){if(this._contributions[b.id]){Ot(new Error(`Cannot have two contributions with the same id ${b.id}`));continue}try{const w=this._instantiationService.createInstance(b.ctor,this);this._contributions[b.id]=w}catch(w){Ot(w)}}gm.getEditorActions().forEach(b=>{if(this._actions[b.id]){Ot(new Error(`Cannot have two actions with the same id ${b.id}`));return}const w=new iie(b.id,b.label,b.alias,hr(b.precondition),()=>this._instantiationService.invokeFunction(y=>Promise.resolve(b.runEditorCommand(y,this,null))),this._contextKeyService);this._actions[w.id]=w});const m=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new Zct(this._domElement,{onDragEnter:()=>{},onDragOver:b=>{if(!m())return;const w=this.getTargetAtClientPoint(b.clientX,b.clientY);w!=null&&w.position&&this.showDropIndicatorAt(w.position)},onDrop:b=>Amt(this,void 0,void 0,function*(){if(!m()||(this.removeDropIndicator(),!b.dataTransfer))return;const w=this.getTargetAtClientPoint(b.clientX,b.clientY);w!=null&&w.position&&this._onDropIntoEditor.fire({position:w.position,event:b})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(e,t,i){return new lM(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return My.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){const s=e[t];this._contributions[s].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?_i.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),e):null}getValue(e=null){if(!this._modelData)return"";const t=!!(e&&e.preserveBOM);let i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){!this._modelData||this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(this._modelData===null&&t===null||this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),s=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const o={oldModelUrl:s?s.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(s)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(const i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,s){const o=e.model.validatePosition({lineNumber:t,column:i}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(r.lineNumber,s)}getTopForLineNumber(e,t=!1){return this._modelData?B0._getVerticalOffsetForPosition(this._modelData,e,1,t):-1}getTopForPosition(e,t){return this._modelData?B0._getVerticalOffsetForPosition(this._modelData,e,t,!1):-1}static _getVerticalOffsetForPosition(e,t,i,s=!1){const o=e.model.validatePosition({lineNumber:t,column:i}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber,s)}getBottomForLineNumber(e,t=!1){return this._modelData?B0._getVerticalOffsetAfterPosition(this._modelData,e,1,t):-1}setHiddenAreas(e){var t;(t=this._modelData)===null||t===void 0||t.viewModel.setHiddenAreas(e.map(i=>A.lift(i)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return ys.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(!!this._modelData){if(!oe.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,s){if(!this._modelData)return;if(!A.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,r,t,s)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new A(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,s){if(!oe.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new A(e.lineNumber,e.column,e.lineNumber,e.column),t,i,s)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){const i=Ye.isISelection(e),s=A.isIRange(e);if(!i&&!s)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(s){const o={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(o,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;const i=new Ye(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,s){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new A(e,1,t,1),i,!1,s)}revealRange(e,t=0,i=!1,s=!0){this._revealRange(e,i?1:0,s,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,s){if(!A.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(A.lift(e),t,i,s)}setSelections(e,t="api",i=0){if(!!this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let s=0,o=e.length;s<o;s++)if(!Ye.isISelection(e[s]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const o of t){const r=this._contributions[o];typeof r.saveViewState=="function"&&(e[o]=r.saveViewState())}const i=this._modelData.viewModel.saveCursorState(),s=this._modelData.viewModel.saveState();return{cursorState:i,viewState:s,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const i=t.cursorState;Array.isArray(i)?i.length>0&&this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]);const s=t.contributionsState||{},o=Object.keys(this._contributions);for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._contributions[c];typeof u.restoreViewState=="function"&&u.restoreViewState(s[c])}const r=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(r)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let i=0,s=t.length;i<s;i++){const o=t[i];e.push(this._actions[o])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const o=i;this._type(e,o.text||"");return}case"replacePreviousChar":{const o=i;this._compositionType(e,o.text||"",o.replaceCharCnt||0,0,0);return}case"compositionType":{const o=i;this._compositionType(e,o.text||"",o.replacePrevCharCnt||0,o.replaceNextCharCnt||0,o.positionDelta||0);return}case"paste":{const o=i;this._paste(e,o.text||"",o.pasteOnNewLine||!1,o.multicursorText||null,o.mode||null);return}case"cut":this._cut(e);return}const s=this.getAction(t);if(s){Promise.resolve(s.run()).then(void 0,Ot);return}!this._modelData||this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i)}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){!this._modelData||(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,s,o){!this._modelData||this._modelData.viewModel.compositionType(t,i,s,o,e)}_paste(e,t,i,s,o){if(!this._modelData||t.length===0)return;const r=this._modelData.viewModel,a=r.getSelection().getStartPosition();r.paste(t,i,s,e);const l=r.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new A(a.lineNumber,a.column,l.lineNumber,l.column),languageId:o})}_cut(e){!this._modelData||this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const s=gm.getEditorCommand(t);return s?(i=i||{},i.source=e,this._instantiationService.invokeFunction(o=>{Promise.resolve(s.runEditorCommand(o,this,i)).then(void 0,Ot)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(83))return!1;let s;return i?Array.isArray(i)?s=()=>i:s=i:s=()=>null,this._modelData.viewModel.executeEdits(e,t,s),!0}executeCommand(e,t){!this._modelData||this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){!this._modelData||this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new Vmt(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,o8(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,o8(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(t=>{t.deltaDecorations(e,[])})}removeDecorationsByType(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,s=i.get(133),o=B0._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),r=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+s.glyphMarginWidth+s.lineNumbersWidth+s.decorationsWidth-this.getScrollLeft();return{top:o,left:r,height:i.get(61)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){bo(e,this._configuration.options.get(46))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();const i=new Smt(this._id,this._configuration,e,uF.create(),cF.create(this._configuration.options),r=>$c(r),this.languageConfigurationService,this._themeService);t.push(e.onWillDispose(()=>this.setModel(null))),t.push(i.onEvent(r=>{switch(r.kind){case 0:this._onDidContentSizeChange.fire(r);break;case 1:this._editorTextFocus.setValue(r.hasFocus);break;case 2:this._onDidScrollChange.fire(r);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{r.reachedMaxCursorCount&&this._notificationService.warn(v("cursors.maximum","The number of cursors has been limited to {0}.",Cv.MAX_CURSOR_COUNT));const a=[];for(let u=0,d=r.selections.length;u<d;u++)a[u]=r.selections[u].getPosition();const l={position:a[0],secondaryPositions:a.slice(1),reason:r.reason,source:r.source};this._onDidChangeCursorPosition.fire(l);const c={selection:r.selections[0],secondarySelections:r.selections.slice(1),modelVersionId:r.modelVersionId,oldSelections:r.oldSelections,oldModelVersionId:r.oldModelVersionId,source:r.source,reason:r.reason};this._onDidChangeCursorSelection.fire(c);break}case 7:this._onDidChangeModelDecorations.fire(r.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(r.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(r.event);break;case 10:this._onDidChangeModelContent.fire(r.event);break;case 11:this._onDidChangeModelOptions.fire(r.event);break;case 12:this._onDidChangeModelTokens.fire(r.event);break}}));const[s,o]=this._createView(i);if(o){this._domElement.appendChild(s.domNode.domNode);let r=Object.keys(this._contentWidgets);for(let a=0,l=r.length;a<l;a++){const c=r[a];s.addContentWidget(this._contentWidgets[c])}r=Object.keys(this._overlayWidgets);for(let a=0,l=r.length;a<l;a++){const c=r[a];s.addOverlayWidget(this._overlayWidgets[c])}s.render(!1,!0),s.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Omt(e,i,s,o,t)}_createView(e){let t;this.isSimpleWidget?t={paste:(o,r,a,l)=>{this._paste("keyboard",o,r,a,l)},type:o=>{this._type("keyboard",o)},compositionType:(o,r,a,l)=>{this._compositionType("keyboard",o,r,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(o,r,a,l)=>{const c={text:o,pasteOnNewLine:r,multicursorText:a,mode:l};this._commandService.executeCommand("paste",c)},type:o=>{const r={text:o};this._commandService.executeCommand("type",r)},compositionType:(o,r,a,l)=>{if(a||l){const c={text:o,replacePrevCharCnt:r,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",c)}else{const c={text:o,replaceCharCnt:r};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new y5(e.coordinatesConverter);return i.onKeyDown=o=>this._onKeyDown.fire(o),i.onKeyUp=o=>this._onKeyUp.fire(o),i.onContextMenu=o=>this._onContextMenu.fire(o),i.onMouseMove=o=>this._onMouseMove.fire(o),i.onMouseLeave=o=>this._onMouseLeave.fire(o),i.onMouseDown=o=>this._onMouseDown.fire(o),i.onMouseUp=o=>this._onMouseUp.fire(o),i.onMouseDrag=o=>this._onMouseDrag.fire(o),i.onMouseDrop=o=>this._onMouseDrop.fire(o),i.onMouseDropCanceled=o=>this._onMouseDropCanceled.fire(o),i.onMouseWheel=o=>this._onMouseWheel.fire(o),[new pgt(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e==null||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const t=[{range:new A(e.lineNumber,e.column,e.lineNumber,e.column),options:B0.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(t),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};yv.dropIntoEditorDecorationOptions=Rt.register({description:"workbench-dnd-target",className:"dnd-target"});yv=Mmt([Nd(3,Bt),Nd(4,Ei),Nd(5,ss),Nd(6,At),Nd(7,Qi),Nd(8,os),Nd(9,jh),Nd(10,Xn),Nd(11,st)],yv);class BK extends de{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new J(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new J(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Pmt extends de{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=z.editorSimpleInput.bindTo(t),this._editorFocus=z.focus.bindTo(t),this._textInputFocus=z.textInputFocus.bindTo(t),this._editorTextFocus=z.editorTextFocus.bindTo(t),this._editorTabMovesFocus=z.tabMovesFocus.bindTo(t),this._editorReadonly=z.readOnly.bindTo(t),this._inDiffEditor=z.inDiffEditor.bindTo(t),this._editorColumnSelection=z.columnSelection.bindTo(t),this._hasMultipleSelections=z.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=z.hasNonEmptySelection.bindTo(t),this._canUndo=z.canUndo.bindTo(t),this._canRedo=z.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(132)),this._editorReadonly.set(e.get(83)),this._inDiffEditor.set(e.get(56)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class Fmt extends de{constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=z.languageId.bindTo(t),this._hasCompletionItemProvider=z.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=z.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=z.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=z.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=z.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=z.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=z.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=z.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=z.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=z.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=z.hasReferenceProvider.bindTo(t),this._hasRenameProvider=z.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=z.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=z.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=z.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=z.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=z.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=z.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=z.isInWalkThroughSnippet.bindTo(t);const s=()=>this._update();this._register(e.onDidChangeModel(s)),this._register(e.onDidChangeModelLanguage(s)),this._register(i.completionProvider.onDidChange(s)),this._register(i.codeActionProvider.onDidChange(s)),this._register(i.codeLensProvider.onDidChange(s)),this._register(i.definitionProvider.onDidChange(s)),this._register(i.declarationProvider.onDidChange(s)),this._register(i.implementationProvider.onDidChange(s)),this._register(i.typeDefinitionProvider.onDidChange(s)),this._register(i.hoverProvider.onDidChange(s)),this._register(i.documentHighlightProvider.onDidChange(s)),this._register(i.documentSymbolProvider.onDidChange(s)),this._register(i.referenceProvider.onDidChange(s)),this._register(i.renameProvider.onDidChange(s)),this._register(i.documentFormattingEditProvider.onDidChange(s)),this._register(i.documentRangeFormattingEditProvider.onDidChange(s)),this._register(i.signatureHelpProvider.onDidChange(s)),this._register(i.inlayHintsProvider.onDidChange(s)),s()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===Vt.walkThroughSnippet)})}}class Bmt extends de{constructor(e){super(),this._onChange=this._register(new J),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(Vm(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class Vmt{constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}get length(){return this._decorationIds.length}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations(s=>{this._isChangingDecorations||e.call(t,s)},i)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),t=[];for(const i of this._decorationIds){const s=e.getDecorationRange(i);s&&t.push(s)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}}}const Wmt=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Hmt=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function RI(n){return Wmt+encodeURIComponent(n.toString())+Hmt}const $mt=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),zmt=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Umt(n){return $mt+encodeURIComponent(n.toString())+zmt}ln((n,e)=>{const t=n.getColor(yte);t&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${t}; }`);const i=n.getColor(Bu);i&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${RI(i)}") repeat-x bottom left; }`);const s=n.getColor(xut);s&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${s}; }`);const o=n.getColor(gv);o&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${o}; }`);const r=n.getColor(ha);r&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${RI(r)}") repeat-x bottom left; }`);const a=n.getColor(Dut);a&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const l=n.getColor(M8);l&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);const c=n.getColor(mr);c&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${RI(c)}") repeat-x bottom left; }`);const u=n.getColor(kut);u&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${u}; }`);const d=n.getColor(Iut);d&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${d}; }`);const h=n.getColor(Eut);h&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Umt(h)}") no-repeat bottom left; }`);const f=n.getColor(Nht);f&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${f.rgba.a}; }`);const p=n.getColor(Tht);p&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${p}; }`);const m=n.getColor(fa)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${m}}`)});class Yi{constructor(e,t,i){const s=o=>this.emitter.fire(o);this.emitter=new J({onFirstListenerAdd:()=>e.addEventListener(t,s,i),onLastListenerRemove:()=>e.removeEventListener(t,s,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function NM(n){return n.preventDefault(),n.stopPropagation(),n}var r2=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o};const jmt=!1;var Y8;(function(n){n.North="north",n.South="south",n.East="east",n.West="west"})(Y8||(Y8={}));let Kmt=4;const qmt=new J;let Gmt=300;const Ymt=new J;class dF{constructor(){this.disposables=new Ie}get onPointerMove(){return this.disposables.add(new Yi(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new Yi(window,"mouseup")).event}dispose(){this.disposables.dispose()}}r2([ps],dF.prototype,"onPointerMove",null);r2([ps],dF.prototype,"onPointerUp",null);class hF{constructor(e){this.el=e,this.disposables=new Ie}get onPointerMove(){return this.disposables.add(new Yi(this.el,rn.Change)).event}get onPointerUp(){return this.disposables.add(new Yi(this.el,rn.End)).event}dispose(){this.disposables.dispose()}}r2([ps],hF.prototype,"onPointerMove",null);r2([ps],hF.prototype,"onPointerUp",null);class Z8{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}r2([ps],Z8.prototype,"onPointerMove",null);r2([ps],Z8.prototype,"onPointerUp",null);const VK="pointer-events-disabled";class fo extends de{constructor(e,t,i){super(),this.hoverDelay=Gmt,this.hoverDelayer=this._register(new ed(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new J),this._onDidStart=this._register(new J),this._onDidChange=this._register(new J),this._onDidReset=this._register(new J),this._onDidEnd=this._register(new J),this.orthogonalStartSashDisposables=this._register(new Ie),this.orthogonalStartDragHandleDisposables=this._register(new Ie),this.orthogonalEndSashDisposables=this._register(new Ie),this.orthogonalEndDragHandleDisposables=this._register(new Ie),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=Le(e,Ne(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),ai&&this.el.classList.add("mac");const s=this._register(new Yi(this.el,"mousedown")).event;this._register(s(d=>this.onPointerStart(d,new dF),this));const o=this._register(new Yi(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));const r=this._register(new Yi(this.el,"mouseenter")).event;this._register(r(()=>fo.onMouseEnter(this)));const a=this._register(new Yi(this.el,"mouseleave")).event;this._register(a(()=>fo.onMouseLeave(this))),this._register(Fi.addTarget(this.el));const l=ct.map(this._register(new Yi(this.el,rn.Start)).event,d=>{var h;return Object.assign(Object.assign({},d),{target:(h=d.initialTarget)!==null&&h!==void 0?h:null})});this._register(l(d=>this.onPointerStart(d,new hF(this.el)),this));const c=this._register(new Yi(this.el,rn.Tap)).event,u=ct.map(ct.filter(ct.debounce(c,(d,h)=>{var f;return{event:h,count:((f=d==null?void 0:d.count)!==null&&f!==void 0?f:0)+1}},250),({count:d})=>d===2),({event:d})=>{var h;return Object.assign(Object.assign({},d),{target:(h=d.initialTarget)!==null&&h!==void 0?h:null})});this._register(u(this.onPointerDoublePress,this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=Kmt,this._register(qmt.event(d=>{this.size=d,this.layout()}))),this._register(Ymt.event(d=>this.hoverDelay=d)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",jmt),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=Le(this.el,Ne(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(jt(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new Yi(this._orthogonalStartDragHandle,"mouseenter")).event(()=>fo.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new Yi(this._orthogonalStartDragHandle,"mouseleave")).event(()=>fo.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=Le(this.el,Ne(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(jt(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new Yi(this._orthogonalEndDragHandle,"mouseenter")).event(()=>fo.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new Yi(this._orthogonalEndDragHandle,"mouseleave")).event(()=>fo.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){Oi.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const p=this.getOrthogonalSash(e);p&&(i=!0,e.__orthogonalSashEvent=!0,p.onPointerStart(e,new Z8(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new Z8(t))),!this.state)return;const s=qct("iframe");for(const p of s)p.classList.add(VK);const o=e.pageX,r=e.pageY,a=e.altKey,l={startX:o,currentX:o,startY:r,currentY:r,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const c=ul(this.el),u=()=>{let p="";i?p="all-scroll":this.orientation===1?this.state===1?p="s-resize":this.state===2?p="n-resize":p=ai?"row-resize":"ns-resize":this.state===1?p="e-resize":this.state===2?p="w-resize":p=ai?"col-resize":"ew-resize",c.textContent=`* { cursor: ${p} !important; }`},d=new Ie;u(),i||this.onDidEnablementChange.event(u,null,d);const h=p=>{Oi.stop(p,!1);const m={startX:o,currentX:p.pageX,startY:r,currentY:p.pageY,altKey:a};this._onDidChange.fire(m)},f=p=>{Oi.stop(p,!1),this.el.removeChild(c),this.el.classList.remove("active"),this._onDidEnd.fire(),d.dispose();for(const m of s)m.classList.remove(VK)};t.onPointerMove(h,null,d),t.onPointerUp(f,null,d),d.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&fo.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&fo.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){fo.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){if(!(!e.target||!(e.target instanceof HTMLElement))&&e.target.classList.contains("orthogonal-drag-handle"))return e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}class Ng{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(e.getScrollTop()!==0){const s=e.getVisibleRanges();if(s.length>0){t=s[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}}return new Ng(t,i,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}const Uy={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:fr.text},wp={CurrentDragAndDropData:void 0};var WK,HK;class Zmt{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class Xmt{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?KO(e,this._value,0,e.length,this._from,this._to):Ny(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Qmt{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?KO(e,this._value,0,e.length,this._from,this._to):Ny(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Jmt{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Qmt(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return BN(e,this._value.scheme);if(this._states[this._stateIdx]===2)return BN(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return ew(e,this._value.query);if(this._states[this._stateIdx]===5)return ew(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class e3{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return(t=(e=this.left)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}get heightRight(){var e,t;return(t=(e=this.right)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}}class M1{constructor(e){this._iter=e}static forUris(e=()=>!1,t=()=>!1){return new M1(new Jmt(e,t))}static forStrings(){return new M1(new Zmt)}static forConfigKeys(){return new M1(new Xmt)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let s;this._root||(this._root=new e3,this._root.segment=i.value());const o=[];for(s=this._root;;){const a=i.cmp(s.segment);if(a>0)s.left||(s.left=new e3,s.left.segment=i.value()),o.push([-1,s]),s=s.left;else if(a<0)s.right||(s.right=new e3,s.right.segment=i.value()),o.push([1,s]),s=s.right;else if(i.hasNext())i.next(),s.mid||(s.mid=new e3,s.mid.segment=i.value()),o.push([0,s]),s=s.mid;else break}const r=s.value;s.value=t,s.key=e;for(let a=o.length-1;a>=0;a--){const l=o[a][1];l.updateHeight();const c=l.balanceFactor();if(c<-1||c>1){const u=o[a][0],d=o[a+1][0];if(u===1&&d===1)o[a][1]=l.rotateLeft();else if(u===-1&&d===-1)o[a][1]=l.rotateRight();else if(u===1&&d===-1)l.right=o[a+1][1]=o[a+1][1].rotateRight(),o[a][1]=l.rotateLeft();else if(u===-1&&d===1)l.left=o[a+1][1]=o[a+1][1].rotateLeft(),o[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}return r}get(e){var t;return(t=this._getNode(e))===null||t===void 0?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const s=t.cmp(i.segment);if(s>0)i=i.left;else if(s<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;const s=this._iter.reset(e),o=[];let r=this._root;for(;r;){const a=s.cmp(r.segment);if(a>0)o.push([-1,r]),r=r.left;else if(a<0)o.push([1,r]),r=r.right;else if(s.hasNext())s.next(),o.push([0,r]),r=r.mid;else break}if(!!r){if(t?(r.left=void 0,r.mid=void 0,r.right=void 0,r.height=1):(r.key=void 0,r.value=void 0),!r.mid&&!r.value)if(r.left&&r.right){const a=this._min(r.right),{key:l,value:c,segment:u}=a;this._delete(a.key,!1),r.key=l,r.value=c,r.segment=u}else{const a=(i=r.left)!==null&&i!==void 0?i:r.right;if(o.length>0){const[l,c]=o[o.length-1];switch(l){case-1:c.left=a;break;case 0:c.mid=a;break;case 1:c.right=a;break}}else this._root=a}for(let a=o.length-1;a>=0;a--){const l=o[a][1];l.updateHeight();const c=l.balanceFactor();if(c>1?(l.right.balanceFactor()>=0||(l.right=l.right.rotateRight()),o[a][1]=l.rotateLeft()):c<-1&&(l.left.balanceFactor()<=0||(l.left=l.left.rotateLeft()),o[a][1]=l.rotateRight()),a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i=this._root,s;for(;i;){const o=t.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(t.hasNext())t.next(),s=i.value||s,i=i.mid;else break}return i&&i.value||s}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const s=t.cmp(i.segment);if(s>0)i=i.left;else if(s<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){!e||(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}class e_t{constructor(e,t){this.uri=e,this.value=t}}class Fo{constructor(e,t){this[WK]="ResourceMap",e instanceof Fo?(this.map=new Map(e.map),this.toKey=t!=null?t:Fo.defaultToKey):(this.map=new Map,this.toKey=e!=null?e:Fo.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new e_t(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))===null||t===void 0?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t!="undefined"&&(e=e.bind(t));for(const[i,s]of this.map)e(s.value,s.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(WK=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}}Fo.defaultToKey=n=>n.toString();class t_t{constructor(){this[HK]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(!!i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let s=this._map.get(e);if(s)s.value=t,i!==0&&this.touch(s,i);else{switch(s={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(s);break;case 1:this.addItemFirst(s);break;case 2:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(e,s),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let s=this._head;for(;s;){if(t?e.bind(t)(s.value,s.key,this):e(s.value,s.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){const e=this,t=this._state;let i=this._head;const s={[Symbol.iterator](){return s},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:i.key,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return s}values(){const e=this,t=this._state;let i=this._head;const s={[Symbol.iterator](){return s},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:i.value,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return s}entries(){const e=this,t=this._state;let i=this._head;const s={[Symbol.iterator](){return s},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:[i.key,i.value],done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return s}[(HK=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const i=e.next,s=e.previous;e===this._tail?(s.next=void 0,this._tail=s):(i.previous=s,s.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const i=e.next,s=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=s,s.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class Gg extends t_t{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}function fF(...n){return function(e,t){for(let i=0,s=n.length;i<s;i++){const o=n[i](e,t);if(o)return o}return null}}xie.bind(void 0,!1);const E5=xie.bind(void 0,!0);function xie(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=qO(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function Die(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function kie(n,e){return MM(n.toLowerCase(),e.toLowerCase(),0,0)}function MM(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let s=null;return(s=MM(n,e,t+1,i+1))?mF({start:i,end:i+1},s):null}return MM(n,e,t,i+1)}function gF(n){return 97<=n&&n<=122}function I5(n){return 65<=n&&n<=90}function pF(n){return 48<=n&&n<=57}function Eie(n){return n===32||n===9||n===10||n===13}const Iie=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(n=>Iie.add(n.charCodeAt(0)));function X8(n){return Eie(n)||Iie.has(n)}function i_t(n,e){return n===e||X8(n)&&X8(e)}function Tie(n){return gF(n)||I5(n)||pF(n)}function mF(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function Nie(n,e){for(let t=e;t<n.length;t++){const i=n.charCodeAt(t);if(I5(i)||pF(i)||t>0&&!Tie(n.charCodeAt(t-1)))return t}return n.length}function AM(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let s=null,o=i+1;for(s=AM(n,e,t+1,i+1);!s&&(o=Nie(e,o))<e.length;)s=AM(n,e,t+1,o),o++;return s===null?null:mF({start:i,end:i+1},s)}}function n_t(n){let e=0,t=0,i=0,s=0,o=0;for(let u=0;u<n.length;u++)o=n.charCodeAt(u),I5(o)&&e++,gF(o)&&t++,Tie(o)&&i++,pF(o)&&s++;const r=e/n.length,a=t/n.length,l=i/n.length,c=s/n.length;return{upperPercent:r,lowerPercent:a,alphaPercent:l,numericPercent:c}}function s_t(n){const{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function o_t(n){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:s}=n;return t>.2&&e<.8&&i>.6&&s<.2}function r_t(n){let e=0,t=0,i=0,s=0;for(let o=0;o<n.length;o++)i=n.charCodeAt(o),I5(i)&&e++,gF(i)&&t++,Eie(i)&&s++;return(e===0||t===0)&&s===0?n.length<=30:e<=5}function Mie(n,e){if(!e||(e=e.trim(),e.length===0)||!r_t(n)||e.length>60)return null;const t=n_t(e);if(!o_t(t)){if(!s_t(t))return null;e=e.toLowerCase()}let i=null,s=0;for(n=n.toLowerCase();s<e.length&&(i=AM(n,e,0,s))===null;)s=Nie(e,s+1);return i}function a_t(n,e,t=!1){if(!e||e.length===0)return null;let i=null,s=0;for(n=n.toLowerCase(),e=e.toLowerCase();s<e.length&&(i=RM(n,e,0,s,t))===null;)s=Aie(e,s+1);return i}function RM(n,e,t,i,s){if(t===n.length)return[];if(i===e.length)return null;if(i_t(n.charCodeAt(t),e.charCodeAt(i))){let o=null,r=i+1;if(o=RM(n,e,t+1,i+1,s),!s)for(;!o&&(r=Aie(e,r))<e.length;)o=RM(n,e,t+1,r,s),r++;return o===null?null:mF({start:i,end:i+1},o)}else return null}function Aie(n,e){for(let t=e;t<n.length;t++)if(X8(n.charCodeAt(t))||t>0&&X8(n.charCodeAt(t-1)))return t;return n.length}const l_t=fF(E5,Mie,Die),c_t=fF(E5,Mie,kie),$K=new Gg(1e4);function zK(n,e,t=!1){if(typeof n!="string"||typeof e!="string")return null;let i=$K.get(n);i||(i=new RegExp(brt(n),"i"),$K.set(n,i));const s=i.exec(e);return s?[{start:s.index,end:s.index+s[0].length}]:t?c_t(n,e):l_t(n,e)}function u_t(n,e,t,i,s,o){const r=Math.min(13,n.length);for(;t<r;t++){const a=Sv(n,e,t,i,s,o,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(a)return a}return[0,o]}function T5(n){if(typeof n=="undefined")return[];const e=[],t=n[1];for(let i=n.length-1;i>1;i--){const s=n[i]+t,o=e[e.length-1];o&&o.end===s?o.end=s+1:e.push({start:s,end:s+1})}return e}const Gf=128;function _F(){const n=[],e=[];for(let t=0;t<=Gf;t++)e[t]=0;for(let t=0;t<=Gf;t++)n.push(e.slice(0));return n}function Rie(n){const e=[];for(let t=0;t<=n;t++)e[t]=0;return e}const Oie=Rie(2*Gf),OM=Rie(2*Gf),Md=_F(),yp=_F(),t3=_F();function i3(n,e){if(e<0||e>=n.length)return!1;const t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!XO(t)}}function UK(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function _6(n,e,t){return e[n]!==t[n]}function d_t(n,e,t,i,s,o,r){for(;e<t&&s<o;)n[e]===i[s]&&(r&&(Oie[e]=s),e+=1),s+=1;return e===t}var Fc;(function(n){n.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}n.isDefault=e})(Fc||(Fc={}));class vF{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}}vF.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function Sv(n,e,t,i,s,o,r=vF.default){const a=n.length>Gf?Gf:n.length,l=i.length>Gf?Gf:i.length;if(t>=a||o>=l||a-t>l-o||!d_t(e,t,a,s,o,l,!0))return;h_t(a,l,t,o,e,s);let c=1,u=1,d=t,h=o;const f=[!1];for(c=1,d=t;d<a;c++,d++){const y=Oie[d],L=OM[d],D=d+1<a?OM[d+1]:l;for(u=y-o+1,h=y;h<D;u++,h++){let E=Number.MIN_SAFE_INTEGER,T=!1;h<=L&&(E=f_t(n,e,d,t,i,s,h,l,o,Md[c-1][u-1]===0,f));let x=0;E!==Number.MAX_SAFE_INTEGER&&(T=!0,x=E+yp[c-1][u-1]);const k=h>y,N=k?yp[c][u-1]+(Md[c][u-1]>0?-5:0):0,V=h>y+1&&Md[c][u-1]>0,H=V?yp[c][u-2]+(Md[c][u-2]>0?-5:0):0;if(V&&(!k||H>=N)&&(!T||H>=x))yp[c][u]=H,t3[c][u]=3,Md[c][u]=0;else if(k&&(!T||N>=x))yp[c][u]=N,t3[c][u]=2,Md[c][u]=0;else if(T)yp[c][u]=x,t3[c][u]=1,Md[c][u]=Md[c-1][u-1]+1;else throw new Error("not possible")}}if(!f[0]&&!r.firstMatchCanBeWeak)return;c--,u--;const p=[yp[c][u],o];let m=0,b=0;for(;c>=1;){let y=u;do{const L=t3[c][y];if(L===3)y=y-2;else if(L===2)y=y-1;else break}while(y>=1);m>1&&e[t+c-1]===s[o+u-1]&&!_6(y+o-1,i,s)&&m+1>Md[c][y]&&(y=u),y===u?m++:m=1,b||(b=y),c--,u=y-1,p.push(u)}l===a&&r.boostFullMatch&&(p[0]+=2);const w=b-a;return p[0]-=w,p}function h_t(n,e,t,i,s,o){let r=n-1,a=e-1;for(;r>=t&&a>=i;)s[r]===o[a]&&(OM[r]=a,r--),a--}function f_t(n,e,t,i,s,o,r,a,l,c,u){if(e[t]!==o[r])return Number.MIN_SAFE_INTEGER;let d=1,h=!1;return r===t-i?d=n[t]===s[r]?7:5:_6(r,s,o)&&(r===0||!_6(r-1,s,o))?(d=n[t]===s[r]?7:5,h=!0):i3(o,r)&&(r===0||!i3(o,r-1))?d=5:(i3(o,r-1)||UK(o,r-1))&&(d=5,h=!0),d>1&&t===i&&(u[0]=!0),h||(h=_6(r,s,o)||i3(o,r-1)||UK(o,r-1)),t===i?r>l&&(d-=h?3:5):c?d+=h?2:0:d+=h?0:1,r+1===a&&(d-=h?3:5),d}function g_t(n,e,t,i,s,o,r){return p_t(n,e,t,i,s,o,!0,r)}function p_t(n,e,t,i,s,o,r,a){let l=Sv(n,e,t,i,s,o,a);if(l&&!r)return l;if(n.length>=3){const c=Math.min(7,n.length-1);for(let u=t+1;u<c;u++){const d=m_t(n,u);if(d){const h=Sv(d,d.toLowerCase(),t,i,s,o,a);h&&(h[0]-=3,(!l||h[0]>l[0])&&(l=h))}}}return l}function m_t(n,e){if(e+1>=n.length)return;const t=n[e],i=n[e+1];if(t!==i)return n.slice(0,e)+i+t+n.slice(e+2)}const CC="$(",bF=new RegExp(`\\$\\(${Go.iconNameExpression}(?:${Go.iconModifierExpression})?\\)`,"g"),__t=new RegExp(Go.iconNameCharacter),v_t=new RegExp(`(\\\\)?${bF.source}`,"g");function b_t(n){return n.replace(v_t,(e,t)=>t?e:`\\${e}`)}const C_t=new RegExp(`\\\\${bF.source}`,"g");function w_t(n){return n.replace(C_t,e=>`\\${e}`)}const y_t=new RegExp(`(\\s)?(\\\\)?${bF.source}(\\s)?`,"g");function CF(n){return n.indexOf(CC)===-1?n:n.replace(y_t,(e,t,i,s)=>i?e:t||s||"")}function v0(n){const e=n.indexOf(CC);return e===-1?{text:n}:S_t(n,e)}function S_t(n,e){const t=[];let i="";function s(h){if(h){i+=h;for(const f of h)t.push(a)}}let o=-1,r="",a=0,l,c,u=e;const d=n.length;for(s(n.substr(0,e));u<d;)l=n[u],c=n[u+1],l===CC[0]&&c===CC[1]?(o=u,s(r),r=CC,u++):l===")"&&o!==-1?(a+=u-o+1,o=-1,r=""):o!==-1?__t.test(l)?r+=l:(s(r),o=-1,r=""):s(l),u++;return s(r),{text:i,iconOffsets:t}}function n3(n,e,t=!1){const{text:i,iconOffsets:s}=e;if(!s||s.length===0)return zK(n,i,t);const o=Wx(i," "),r=i.length-o.length,a=zK(n,o,t);if(a)for(const l of a){const c=s[l.start+r]+r;l.start+=c,l.end+=c}return a}class ur{constructor(e="",t=!1){var i,s,o;if(this.value=e,typeof this.value!="string")throw Oc("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(i=t.isTrusted)!==null&&i!==void 0?i:void 0,this.supportThemeIcons=(s=t.supportThemeIcons)!==null&&s!==void 0?s:!1,this.supportHtml=(o=t.supportHtml)!==null&&o!==void 0?o:!1)}appendText(e,t=0){return this.value+=L_t(this.supportThemeIcons?b_t(e):e).replace(/([ \t]+)/g,(i,s)=>"&nbsp;".repeat(s.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+=`
`,this.value+=t,this.value+="\n```\n",this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){const i=new RegExp(Ca(t),"g");return e.replace(i,(s,o)=>e.charAt(o-1)!=="\\"?`\\${s}`:s)}}function Lv(n){return Pie(n)?!n.value:Array.isArray(n)?n.every(Lv):!0}function Pie(n){return n instanceof ur?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function L_t(n){return n.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function s3(n){return n.replace(/"/g,"&quot;")}function OI(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function x_t(n){const e=[],t=n.split("|").map(s=>s.trim());n=t[0];const i=t[1];if(i){const s=/height=(\d+)/.exec(i),o=/width=(\d+)/.exec(i),r=s?s[1]:"",a=o?o[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(r));l&&e.push(`width="${a}"`),c&&e.push(`height="${r}"`)}return{href:n,dimensions:e}}var PM=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function D_t(n,e){br(e)?n.title=CF(e):e!=null&&e.markdownNotSupportedFallback?n.title=e.markdownNotSupportedFallback:n.removeAttribute("title")}class k_t{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,t,i){var s;return PM(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let o;if(e===void 0||br(e)||e instanceof HTMLElement)o=e;else if(!s8(e.markdown))o=(s=e.markdown)!==null&&s!==void 0?s:e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(v("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new ro;const r=this._cancellationTokenSource.token;if(o=yield e.markdown(r),o===void 0&&(o=e.markdownNotSupportedFallback),this.isDisposed||r.isCancellationRequested)return}this.show(o,t,i)})}show(e,t,i){const s=this._hoverWidget;if(this.hasContent(e)){const o=Object.assign({content:e,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!s},i);this._hoverWidget=this.hoverDelegate.showHover(o,t)}s==null||s.dispose()}hasContent(e){return e?Pie(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)===null||e===void 0?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)===null||e===void 0||e.dispose(),(t=this._cancellationTokenSource)===null||t===void 0||t.dispose(!0),this._cancellationTokenSource=void 0}}function Fie(n,e,t,i){let s,o;const r=(d,h)=>{var f;d&&(o==null||o.dispose(),o=void 0),h&&(s==null||s.dispose(),s=void 0),(f=n.onDidHideHover)===null||f===void 0||f.call(n)},a=(d,h,f)=>new La(()=>PM(this,void 0,void 0,function*(){(!o||o.isDisposed)&&(o=new k_t(n,f||e,d>0),yield o.update(t,h,i))}),d),l=()=>{if(s)return;const d=new Ie,h=m=>r(!1,m.fromElement===e);d.add(xe(e,Qe.MOUSE_LEAVE,h,!0));const f=()=>r(!0,!0);d.add(xe(e,Qe.MOUSE_DOWN,f,!0));const p={targetElements:[e],dispose:()=>{}};if(n.placement===void 0||n.placement==="mouse"){const m=b=>{p.x=b.x+10,b.target instanceof HTMLElement&&b.target.classList.contains("action-label")&&r(!0,!0)};d.add(xe(e,Qe.MOUSE_MOVE,m,!0))}d.add(a(n.delay,!1,p)),s=d},c=xe(e,Qe.MOUSE_OVER,l,!0);return{show:d=>{r(!1,!0),a(0,d)},hide:()=>{r(!0,!0)},update:(d,h)=>PM(this,void 0,void 0,function*(){t=d,yield o==null?void 0:o.update(t,void 0,h)}),dispose:()=>{c.dispose(),r(!0,!0)}}}class Du extends de{constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof $r&&this._register(t.onDidChange(s=>{!this.element||this.handleActionChangeEvent(s)}))}get action(){return this._action}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new hv)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(Fi.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,wa&&this._register(xe(e,Qe.DRAG_START,s=>{var o;return(o=s.dataTransfer)===null||o===void 0?void 0:o.setData(Uy.TEXT,this._action.label)}))),this._register(xe(t,rn.Tap,s=>this.onClick(s,!0))),this._register(xe(t,Qe.MOUSE_DOWN,s=>{i||Oi.stop(s,!0),this._action.enabled&&s.button===0&&t.classList.add("active")})),ai&&this._register(xe(t,Qe.CONTEXT_MENU,s=>{s.button===0&&s.ctrlKey===!0&&this.onClick(s)})),this._register(xe(t,Qe.CLICK,s=>{Oi.stop(s,!0),this.options&&this.options.isMenu||this.onClick(s)})),this._register(xe(t,Qe.DBLCLICK,s=>{Oi.stop(s,!0)})),[Qe.MOUSE_UP,Qe.MOUSE_OUT].forEach(s=>{this._register(xe(t,s,o=>{Oi.stop(o),t.classList.remove("active")}))})}onClick(e,t=!1){var i;Oi.stop(e,!0);const s=ca(this._context)?!((i=this.options)===null||i===void 0)&&i.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,s)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var e;if(!this.element)return;const t=(e=this.getTooltip())!==null&&e!==void 0?e:"";this.element.setAttribute("aria-label",t),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(t):(this.customHover=Fie(this.options.hoverDelegate,this.element,t),this._store.add(this.customHover))):this.element.title=t}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class Tw extends Du{constructor(e,t,i={}){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=Le(this.element,Ne("a.action-label"))),this.label&&(this._action.id===Co.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(Le(this.element,Ne("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let e=null;return this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=v({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e!=null?e:void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(e=this.label)===null||e===void 0||e.classList.remove("codicon")}updateEnabled(){var e,t;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(e=this.element)===null||e===void 0||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(t=this.element)===null||t===void 0||t.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}var E_t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class nd extends de{constructor(e,t={}){var i,s,o,r,a,l;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new J),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new J({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new J),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new J),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(s=this.options.orientation)!==null&&s!==void 0?s:0,this._triggerKeys={keyDown:(r=(o=this.options.triggerKeys)===null||o===void 0?void 0:o.keyDown)!==null&&r!==void 0?r:!1,keys:(l=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new hv,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(d=>this._onDidRun.fire(d))),this._register(this._actionRunner.onBeforeRun(d=>this._onBeforeRun.fire(d))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let c,u;switch(this._orientation){case 0:c=[15],u=[17];break;case 1:c=[16],u=[18],this.domNode.className+=" vertical";break}this._register(xe(this.domNode,Qe.KEY_DOWN,d=>{const h=new gn(d);let f=!0;const p=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;c&&(h.equals(c[0])||h.equals(c[1]))?f=this.focusPrevious():u&&(h.equals(u[0])||h.equals(u[1]))?f=this.focusNext():h.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():h.equals(14)?f=this.focusFirst():h.equals(13)?f=this.focusLast():h.equals(2)&&p instanceof Du&&p.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(h)?this._triggerKeys.keyDown?this.doTrigger(h):this.triggerKeyDown=!0:f=!1,f&&(h.preventDefault(),h.stopPropagation())})),this._register(xe(this.domNode,Qe.KEY_UP,d=>{const h=new gn(d);this.isTriggerKeyEvent(h)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(h)),h.preventDefault(),h.stopPropagation()):(h.equals(2)||h.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(Vm(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(S1()===this.domNode||!Sh(S1(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const t=this.viewItems.find(i=>i instanceof Du&&i.isEnabled());t instanceof Du&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof Du&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(Sh(S1(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach(t=>t.actionRunner=e))}getContainer(){return this.domNode}push(e,t={}){const i=Array.isArray(e)?e:[e];let s=wg(t.index)?t.index:null;i.forEach(o=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation");let a;this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(o)),a||(a=new Tw(this.context,o,Object.assign({hoverDelegate:this.options.hoverDelegate},t))),this.options.allowContextMenu||this.viewItemDisposables.set(a,xe(r,Qe.CONTEXT_MENU,l=>{Oi.stop(l,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(r),this.focusable&&a instanceof Du&&this.viewItems.length===0&&a.setFocusable(!0),s===null||s<0||s>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(a),this._actionIds.push(o.id)):(this.actionsList.insertBefore(r,this.actionsList.children[s]),this.viewItems.splice(s,0,a),this._actionIds.splice(s,0,o.id),s++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){vi(this.viewItems),this.viewItemDisposables.forEach(e=>e.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],xs(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem=="undefined"){const s=this.viewItems.findIndex(o=>o.isEnabled());this.focusedItem=s===-1?void 0:s,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Co.ID));return this.updateFocus(),!0}focusPrevious(e){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Co.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var s;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((s=this.viewItems[this.previouslyFocusedItem])===null||s===void 0||s.blur());const o=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(o){let r=!0;s8(o.focus)||(r=!1),this.options.focusOnlyEnabledItems&&s8(o.isEnabled)&&!o.isEnabled()&&(r=!1),o.action.id===Co.ID&&(r=!1),r?(i||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(e){if(typeof this.focusedItem=="undefined")return;const t=this.viewItems[this.focusedItem];if(t instanceof Du){const i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}run(e,t){return E_t(this,void 0,void 0,function*(){yield this._actionRunner.run(e,t)})}dispose(){vi(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}const I_t={IconContribution:"base.contributions.icons"};var jK;(function(n){function e(t,i){let s=t.defaults;for(;Li.isThemeIcon(s);){const o=T_.getIcon(s.id);if(!o)return;s=o.defaults}return s}n.getDefinition=e})(jK||(jK={}));var KK;(function(n){function e(i){return{weight:i.weight,style:i.style,src:i.src.map(s=>({format:s.format,location:s.location.toString()}))}}n.toJSONObject=e;function t(i){const s=o=>br(o)?o:void 0;if(i&&Array.isArray(i.src)&&i.src.every(o=>br(o.format)&&br(o.location)))return{weight:s(i.weight),style:s(i.style),src:i.src.map(o=>({format:o.format,location:bt.parse(o.location)}))}}n.fromJSONObject=t})(KK||(KK={}));class T_t{constructor(){this._onDidChange=new J,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:v("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:v("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${Go.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,s){const o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return o}const r={id:e,description:i,defaults:t,deprecationMessage:s};this.iconsById[e]=r;const a={$ref:"#/definitions/icons"};return s&&(a.deprecationMessage=s),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(o,r)=>o.id.localeCompare(r.id),t=o=>{for(;Li.isThemeIcon(o.defaults);)o=this.iconsById[o.defaults.id];return`codicon codicon-${o?o.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const s=Object.keys(this.iconsById).map(o=>this.iconsById[o]);for(const o of s.filter(r=>!!r.description).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${Li.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const o of s.filter(r=>!Li.isThemeIcon(r.defaults)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join(`
`)}}const T_=new T_t;Tn.add(I_t.IconContribution,T_);function ms(n,e,t,i){return T_.registerIcon(n,e,t,i)}function Bie(){return T_}function N_t(){for(const n of C.getAll())T_.registerIcon(n.id,n.definition,n.description)}N_t();const Vie="vscode://schemas/icons",Wie=Tn.as(qx.JSONContribution);Wie.registerSchema(Vie,T_.getIconSchema());const qK=new Hi(()=>Wie.notifySchemaChanged(Vie),200);T_.onDidChange(()=>{qK.isScheduled()||qK.schedule()});const Hie=ms("widget-close",C.close,v("widgetClose","Icon for the close action in widgets."));ms("goto-previous-location",C.arrowUp,v("previousChangeIcon","Icon for goto previous editor location."));ms("goto-next-location",C.arrowDown,v("nextChangeIcon","Icon for goto next editor location."));Li.modify(C.sync,"spin");Li.modify(C.loading,"spin");var M_t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},A_t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},R_t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},PI;const o3=3;class ob{constructor(e,t,i,s){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=s}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class FI{constructor(e){this.entries=e}}const O_t=ms("diff-review-insert",C.add,v("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),P_t=ms("diff-review-remove",C.remove,v("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),F_t=ms("diff-review-close",C.close,v("diffReviewCloseIcon","Icon for 'Close' in diff review."));let Q8=class Tp extends de{constructor(e,t){super(),this._languageService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=fi(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=fi(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new nd(this.actionBarContainer.domNode)),this._actionBar.push(new $r("diffreview.close",v("label.close","Close"),"close-diff-review "+Li.asClassName(F_t),!0,()=>R_t(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=fi(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=fi(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new $y(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Ns(this.domNode.domNode,"click",i=>{i.preventDefault();const s=ete(i.target,"diff-review-row");s&&this._goToRow(s)})),this._register(Ns(this.domNode.domNode,"keydown",i=>{(i.equals(18)||i.equals(2066)||i.equals(530))&&(i.preventDefault(),this._goToRow(this._getNextRow())),(i.equals(16)||i.equals(2064)||i.equals(528))&&(i.preventDefault(),this._goToRow(this._getPrevRow())),(i.equals(9)||i.equals(2057)||i.equals(521)||i.equals(1033))&&(i.preventDefault(),this.hide()),(i.equals(10)||i.equals(3))&&(i.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let s=0,o=this._diffs.length;s<o;s++)if(this._diffs[s]===this._currentDiff){i=s;break}e=this._diffs.length+i-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new oe(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let s=0,o=this._diffs.length;s<o;s++)if(this._diffs[s]===this._currentDiff){i=s;break}e=i+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new oe(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1;const t=this._getCurrentFocusedRow();if(t){const i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),e!==-1&&(this._diffEditor.setPosition(new oe(e,1)),this._diffEditor.revealPosition(new oe(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){const e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){const t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const e=this._diffEditor.getLineChanges();if(!e||e.length===0)return[];const t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return!t||!i?[]:Tp._mergeAdjacent(e,t.getLineCount(),i.getLineCount())}static _mergeAdjacent(e,t,i){if(!e||e.length===0)return[];const s=[];let o=0;for(let c=0,u=e.length;c<u;c++){const d=e[c],h=d.originalStartLineNumber,f=d.originalEndLineNumber,p=d.modifiedStartLineNumber,m=d.modifiedEndLineNumber,b=[];let w=0;{const y=f===0?h:h-1,L=m===0?p:p-1;let D=1,E=1;if(c>0){const k=e[c-1];k.originalEndLineNumber===0?D=k.originalStartLineNumber+1:D=k.originalEndLineNumber+1,k.modifiedEndLineNumber===0?E=k.modifiedStartLineNumber+1:E=k.modifiedEndLineNumber+1}let T=y-o3+1,x=L-o3+1;if(T<D){const k=D-T;T=T+k,x=x+k}if(x<E){const k=E-x;T=T+k,x=x+k}b[w++]=new ob(T,y,x,L)}f!==0&&(b[w++]=new ob(h,f,0,0)),m!==0&&(b[w++]=new ob(0,0,p,m));{const y=f===0?h+1:f+1,L=m===0?p+1:m+1;let D=t,E=i;if(c+1<u){const k=e[c+1];k.originalEndLineNumber===0?D=k.originalStartLineNumber:D=k.originalStartLineNumber-1,k.modifiedEndLineNumber===0?E=k.modifiedStartLineNumber:E=k.modifiedStartLineNumber-1}let T=y+o3-1,x=L+o3-1;if(T>D){const k=D-T;T=T+k,x=x+k}if(x>E){const k=E-x;T=T+k,x=x+k}b[w++]=new ob(y,T,L,x)}s[o++]=new FI(b)}let r=s[0].entries;const a=[];let l=0;for(let c=1,u=s.length;c<u;c++){const d=s[c].entries,h=r[r.length-1],f=d[0];if(h.getType()===0&&f.getType()===0&&f.originalLineStart<=h.originalLineEnd){r[r.length-1]=new ob(h.originalLineStart,f.originalLineEnd,h.modifiedLineStart,f.modifiedLineEnd),r=r.concat(d.slice(1));continue}a[l++]=new FI(r),r=d}return a[l++]=new FI(r),a}_findDiffIndex(e){const t=e.lineNumber;for(let i=0,s=this._diffs.length;i<s;i++){const o=this._diffs[i].entries,r=o[o.length-1].modifiedLineEnd;if(t<=r)return i}return 0}_render(){const e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),s=this._diffEditor.getModifiedEditor().getModel(),o=i.getOptions(),r=s.getOptions();if(!this._isVisible||!i||!s){xs(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];const l=this._diffs[a].entries,c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),c.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),bo(c,t.get(46));let u=0,d=0,h=0,f=0;for(let x=0,k=l.length;x<k;x++){const N=l[x],V=N.originalLineStart,H=N.originalLineEnd,G=N.modifiedLineStart,te=N.modifiedLineEnd;V!==0&&(u===0||V<u)&&(u=V),H!==0&&(d===0||H>d)&&(d=H),G!==0&&(h===0||G<h)&&(h=G),te!==0&&(f===0||te>f)&&(f=te)}const p=document.createElement("div");p.className="diff-review-row";const m=document.createElement("div");m.className="diff-review-cell diff-review-summary";const b=d-u+1,w=f-h+1;m.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${u},${b} +${h},${w} @@`)),p.setAttribute("data-line",String(h));const y=x=>x===0?v("no_lines_changed","no lines changed"):x===1?v("one_line_changed","1 line changed"):v("more_lines_changed","{0} lines changed",x),L=y(b),D=y(w);p.setAttribute("aria-label",v({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,u,L,h,D)),p.appendChild(m),p.setAttribute("role","listitem"),c.appendChild(p);const E=t.get(61);let T=h;for(let x=0,k=l.length;x<k;x++){const N=l[x];Tp._renderSection(c,N,T,E,this._width,e,i,o,t,s,r,this._languageService.languageIdCodec),N.modifiedLineStart!==0&&(T=N.modifiedLineEnd)}xs(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}static _renderSection(e,t,i,s,o,r,a,l,c,u,d,h){const f=t.getType();let p="diff-review-row",m="";const b="diff-review-spacer";let w=null;switch(f){case 1:p="diff-review-row line-insert",m=" char-insert",w=O_t;break;case 2:p="diff-review-row line-delete",m=" char-delete",w=P_t;break}const y=t.originalLineStart,L=t.originalLineEnd,D=t.modifiedLineStart,E=t.modifiedLineEnd,T=Math.max(E-D,L-y),x=r.get(133),k=x.glyphMarginWidth+x.lineNumbersWidth,N=c.get(133),V=10+N.glyphMarginWidth+N.lineNumbersWidth;for(let H=0;H<=T;H++){const G=y===0?0:y+H,te=D===0?0:D+H,ae=document.createElement("div");ae.style.minWidth=o+"px",ae.className=p,ae.setAttribute("role","listitem"),te!==0&&(i=te),ae.setAttribute("data-line",String(i));const me=document.createElement("div");me.className="diff-review-cell",me.style.height=`${s}px`,ae.appendChild(me);const we=document.createElement("span");we.style.width=k+"px",we.style.minWidth=k+"px",we.className="diff-review-line-number"+m,G!==0?we.appendChild(document.createTextNode(String(G))):we.innerText="\xA0",me.appendChild(we);const be=document.createElement("span");be.style.width=V+"px",be.style.minWidth=V+"px",be.style.paddingRight="10px",be.className="diff-review-line-number"+m,te!==0?be.appendChild(document.createTextNode(String(te))):be.innerText="\xA0",me.appendChild(be);const Me=document.createElement("span");if(Me.className=b,w){const ot=document.createElement("span");ot.className=Li.asClassName(w),ot.innerText="\xA0\xA0",Me.appendChild(ot)}else Me.innerText="\xA0\xA0";me.appendChild(Me);let He;if(te!==0){let ot=this._renderLine(u,c,d.tabSize,te,h);Tp._ttPolicy&&(ot=Tp._ttPolicy.createHTML(ot)),me.insertAdjacentHTML("beforeend",ot),He=u.getLineContent(te)}else{let ot=this._renderLine(a,r,l.tabSize,G,h);Tp._ttPolicy&&(ot=Tp._ttPolicy.createHTML(ot)),me.insertAdjacentHTML("beforeend",ot),He=a.getLineContent(G)}He.length===0&&(He=v("blankLine","blank"));let mt="";switch(f){case 0:G===te?mt=v({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",He,G):mt=v("equalLine","{0} original line {1} modified line {2}",He,G,te);break;case 1:mt=v("insertLine","+ {0} modified line {1}",He,te);break;case 2:mt=v("deleteLine","- {0} original line {1}",He,G);break}ae.setAttribute("aria-label",mt),e.appendChild(ae)}}static _renderLine(e,t,i,s,o){const r=e.getLineContent(s),a=t.get(46),l=Ts.createEmpty(r,o),c=ya.isBasicASCII(r,e.mightContainNonBasicASCII()),u=ya.containsRTL(r,c,e.mightContainRTL());return Qx(new qg(a.isMonospace&&!t.get(29),a.canUseHalfwidthRightwardsArrow,r,!1,c,u,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(107),t.get(90),t.get(85),t.get(47)!==ua.OFF,null)).html}};Q8._ttPolicy=(PI=window.trustedTypes)===null||PI===void 0?void 0:PI.createPolicy("diffReview",{createHTML:n=>n});Q8=M_t([A_t(1,In)],Q8);ln((n,e)=>{const t=n.getColor(Pte);t&&e.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${t}; }`);const i=n.getColor(n2);i&&e.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${i} 0 -6px 6px -6px inset; }`)});class B_t extends nt{constructor(){super({id:"editor.action.diffReview.next",label:v("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Xe.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=$ie(e);i&&i.diffReviewNext()}}class V_t extends nt{constructor(){super({id:"editor.action.diffReview.prev",label:v("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Xe.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=$ie(e);i&&i.diffReviewPrev()}}function $ie(n){const e=n.get(Ei),t=e.listDiffEditors(),i=e.getActiveCodeEditor();if(!i)return null;for(let s=0,o=t.length;s<o;s++){const r=t[s];if(r.getModifiedEditor().getId()===i.getId()||r.getOriginalEditor().getId()===i.getId())return r}return null}Pe(B_t);Pe(V_t);const W_t="editorWorkerService",ml=ui(W_t),N_=ui("contextViewService"),Kh=ui("contextMenuService");var BI=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class H_t extends de{constructor(e,t,i,s,o,r){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=s,this._contextMenuService=o,this._clipboardService=r,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=C.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=i.getOption(61),l=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);const c=[],u=s.modifiedEndLineNumber===0;c.push(new $r("diff.clipboard.copyDeletedContent",u?s.originalEndLineNumber>s.modifiedStartLineNumber?v("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):v("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):s.originalEndLineNumber>s.modifiedStartLineNumber?v("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):v("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>BI(this,void 0,void 0,function*(){const m=new A(s.originalStartLineNumber,1,s.originalEndLineNumber+1,1),b=s.originalModel.getValueInRange(m);yield this._clipboardService.writeText(b)})));let d=0,h;s.originalEndLineNumber>s.modifiedStartLineNumber&&(h=new $r("diff.clipboard.copyDeletedLineContent",u?v("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",s.originalStartLineNumber):v("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",s.originalStartLineNumber),void 0,!0,()=>BI(this,void 0,void 0,function*(){const m=s.originalModel.getLineContent(s.originalStartLineNumber+d);if(m===""){const b=s.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(b===0?`
`:`\r
`)}else yield this._clipboardService.writeText(m)})),c.push(h)),i.getOption(83)||c.push(new $r("diff.inline.revertChange",v("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>BI(this,void 0,void 0,function*(){const m=new A(s.originalStartLineNumber,1,s.originalEndLineNumber,s.originalModel.getLineMaxColumn(s.originalEndLineNumber)),b=s.originalModel.getValueInRange(m);if(s.modifiedEndLineNumber===0){const w=i.getModel().getLineMaxColumn(s.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new A(s.modifiedStartLineNumber,w,s.modifiedStartLineNumber,w),text:l+b}])}else{const w=i.getModel().getLineMaxColumn(s.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new A(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,w),text:b}])}})));const p=(m,b)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:m,y:b}),getActions:()=>(h&&(h.label=u?v("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",s.originalStartLineNumber+d):v("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",s.originalStartLineNumber+d)),c),autoSelectFirstItem:!0})};this._register(Ns(this._diffActions,"mousedown",m=>{const{top:b,height:w}=mo(this._diffActions),y=Math.floor(a/3);m.preventDefault(),p(m.posx,b+w+y)})),this._register(i.onMouseMove(m=>{m.target.type===8||m.target.type===5?m.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,d=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,a)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(m=>{!m.event.rightButton||(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._viewZoneId&&(m.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,a),p(m.event.posx,m.event.posy+a))}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,e?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(e,t,i){const{top:s}=mo(e),o=t-s,r=Math.floor(o/i),a=r*i;if(this._diffActions.style.top=`${a}px`,this.diff.viewLineCounts){let l=0;for(let c=0;c<this.diff.viewLineCounts.length;c++)if(l+=this.diff.viewLineCounts[c],r<l)return c}return r}}const qh=ui("clipboardService"),zie=ui("progressService");Object.freeze({total(){},worked(){},done(){}});class M_{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}M_.None=Object.freeze({report(){}});const Yg=ui("editorProgressService");var $_t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ad=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},VI;class GK{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(t=>!this._zonesMap[String(t.id)])}clean(e){this._zones.length>0&&e.changeViewZones(t=>{for(const i of this._zones)t.removeZone(i)}),this._zones=[],this._zonesMap={},e.changeDecorations(t=>{this._decorations=t.deltaDecorations(this._decorations,[])})}apply(e,t,i,s){const o=s?Ng.capture(e):null;e.changeViewZones(r=>{var a;for(const l of this._zones)r.removeZone(l);for(const l of this._inlineDiffMargins)l.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let l=0,c=i.zones.length;l<c;l++){const u=i.zones[l];u.suppressMouseDown=!0;const d=r.addZone(u);this._zones.push(d),this._zonesMap[String(d)]=!0,i.zones[l].diff&&u.marginDomNode&&(u.suppressMouseDown=!1,((a=i.zones[l].diff)===null||a===void 0?void 0:a.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new H_t(d,u.marginDomNode,e,i.zones[l].diff,this._contextMenuService,this._clipboardService)))}}),o==null||o.restore(e),e.changeDecorations(r=>{this._decorations=r.deltaDecorations(this._decorations,i.decorations)}),t==null||t.setZones(i.overviewZones)}}let z_t=0;const U_t=ms("diff-insert",C.add,v("diffInsertIcon","Line decoration for inserts in the diff editor.")),Uie=ms("diff-remove",C.remove,v("diffRemoveIcon","Line decoration for removals in the diff editor.")),YK=(VI=window.trustedTypes)===null||VI===void 0?void 0:VI.createPolicy("diffEditorWidget",{createHTML:n=>n});let Mg=class co extends de{constructor(e,t,i,s,o,r,a,l,c,u,d,h){super(),this._editorProgressService=h,this._onDidDispose=this._register(new J),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new J),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new J),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=o,this._codeEditorService=l,this._contextKeyService=this._register(r.createScoped(e)),this._instantiationService=a.createChild(new k5([At,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=c,this._notificationService=u,this._id=++z_t,this._state=0,this._updatingDiffProgress=null,this._domElement=e,t=t||{},this._options=QK(t,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof t.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",t.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new Hi(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=co._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=fi(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Ns(this._overviewDomElement,Qe.POINTER_DOWN,p=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(p)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new GK(d,s),this._modifiedEditorState=new GK(d,s),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new vte(this._containerDomElement,t.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),t.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(t,i.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(t,i.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=a.createInstance(Q8,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new nh(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new XK(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(c.onDidColorThemeChange(p=>{this._strategy&&this._strategy.applyColors(p)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=co._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const f=gm.getDiffEditorContributions();for(const p of f)try{this._register(a.createInstance(p.ctor,this))}catch(m){Ot(m)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=D8(e.type),i}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){!this._options.renderOverviewRuler||(sC(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(e,t){const i=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(e),t);this._register(i.onDidScrollChange(o=>{this._isHandlingScrollEvent||!o.scrollTopChanged&&!o.scrollLeftChanged&&!o.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(o=>{!i.getModel()||(o.hasChanged(46)&&this._updateDecorationsRunner.schedule(),o.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const s=this._contextKeyService.createKey("isInDiffLeftEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>s.set(!0))),this._register(i.onDidBlurEditorWidget(()=>s.set(!1))),this._register(i.onDidContentSizeChange(o=>{const r=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+co.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:r,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),i}_createRightHandSideEditor(e,t){const i=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e),t);this._register(i.onDidScrollChange(o=>{this._isHandlingScrollEvent||!o.scrollTopChanged&&!o.scrollLeftChanged&&!o.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(o=>{!i.getModel()||(o.hasChanged(46)&&this._updateDecorationsRunner.schedule(),o.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(i.onDidChangeModelOptions(o=>{o.tabSize&&this._updateDecorationsRunner.schedule()}));const s=this._contextKeyService.createKey("isInDiffRightEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>s.set(!0))),this._register(i.onDidBlurEditorWidget(()=>s.set(!1))),this._register(i.onDidContentSizeChange(o=>{const r=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+co.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:r,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),this._register(i.onMouseDown(o=>{var r,a;if(!o.event.rightButton&&o.target.position&&((r=o.target.element)===null||r===void 0?void 0:r.className.includes("arrow-revert-change"))){const l=o.target.position.lineNumber,c=(a=this._diffComputationResult)===null||a===void 0?void 0:a.changes.find(u=>u.modifiedStartLineNumber===l-1||u.modifiedStartLineNumber===l);c&&this.revertChange(c),o.event.stopPropagation(),this._updateDecorations();return}})),i}revertChange(e){const t=this._modifiedEditor,i=this._originalEditor.getModel(),s=this._modifiedEditor.getModel();if(!i||!s||!t)return;const o=e.originalEndLineNumber>0?new A(e.originalStartLineNumber,1,e.originalEndLineNumber,i.getLineMaxColumn(e.originalEndLineNumber)):null,r=o?i.getValueInRange(o):null,a=e.modifiedEndLineNumber>0?new A(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber,s.getLineMaxColumn(e.modifiedEndLineNumber)):null,l=s.getEOL();if(e.originalEndLineNumber===0&&a){let c=a;e.modifiedStartLineNumber>1?c=a.setStartPosition(e.modifiedStartLineNumber-1,s.getLineMaxColumn(e.modifiedStartLineNumber-1)):e.modifiedEndLineNumber<s.getLineCount()&&(c=a.setEndPosition(e.modifiedEndLineNumber+1,1)),t.executeEdits("diffEditor",[{range:c,text:""}])}else if(e.modifiedEndLineNumber===0&&r!==null){const c=e.modifiedStartLineNumber<s.getLineCount()?new oe(e.modifiedStartLineNumber+1,1):new oe(e.modifiedStartLineNumber,s.getLineMaxColumn(e.modifiedStartLineNumber));t.executeEdits("diffEditor",[{range:A.fromPositions(c,c),text:e.modifiedStartLineNumber<s.getLineCount()?r+l:l+r}])}else a&&r!==null&&t.executeEdits("diffEditor",[{range:a,text:r}])}_createInnerEditor(e,t,i,s){return e.createInstance(yv,t,i,s)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return My.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(e){const t=QK(e,this._options),i=Y_t(this._options,t);this._options=t;const s=i.ignoreTrimWhitespace||i.renderIndicators||i.renderMarginRevertIcon,o=this._isVisible&&(i.maxComputationTime||i.maxFileSize);s?this._beginUpdateDecorations():o&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),i.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new nh(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new XK(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=co._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),i.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e,t="api"){this._modifiedEditor.setPosition(e,t)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e,t="api"){this._modifiedEditor.setSelection(e,t)}setSelections(e,t="api"){this._modifiedEditor.setSelections(e,t)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,s=!0){this._modifiedEditor.revealRange(e,t,i,s)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const e=this._originalEditor.saveViewState(),t=this._modifiedEditor.saveViewState();return{original:e,modified:t}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._modifiedEditor.createDecorationsCollection(e)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const e=this._elementSizeObserver.getHeight(),t=this._getReviewHeight(),i=co.ENTIRE_DIFF_OVERVIEW_WIDTH-2*co.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:co.ONE_OVERVIEW_WIDTH,right:i+co.ONE_OVERVIEW_WIDTH,height:e-t}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:co.ONE_OVERVIEW_WIDTH,height:e-t}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),co.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t?!0:!e||!t?!1:e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const e=this._originalEditor.getModel(),t=this._modifiedEditor.getModel();if(!e||!t)return;this._diffComputationToken++;const i=this._diffComputationToken,s=this._options.maxFileSize*1024*1024,o=r=>{const a=r.getValueLength();return s===0||a<=s};if(!o(e)||!o(t)){(!co._equals(e.uri,this._lastOriginalWarning)||!co._equals(t.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=e.uri,this._lastModifiedWarning=t.uri,this._notificationService.warn(v("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(e.uri,t.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(r=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=r,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},r=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),s=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,s.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,s.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:(t.wordWrapOverride1="off",t.wordWrapOverride2="off"),e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.dropIntoEditor={enabled:!t.readOnly},t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(e){const t=this._adjustOptionsForSubEditor(e);return e.modifiedAriaLabel&&(t.ariaLabel=e.modifiedAriaLabel),t.wordWrapOverride1=this._options.diffWordWrap,t.revealHorizontalRightPadding=Xc.revealHorizontalRightPadding.defaultValue+co.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const e=this._elementSizeObserver.getWidth(),t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),s=this._strategy.layout();this._originalDomNode.style.width=s+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-s+"px",this._modifiedDomNode.style.left=s+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=t-i+"px",this._overviewDomElement.style.width=co.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-co.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(co.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:s,height:t-i}),this._modifiedEditor.layout({width:e-s-(this._options.renderOverviewRuler?co.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:t-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(t-i,e,i),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),s=Math.max(0,e.height),o=Math.max(0,s-2*0),r=i>0?o/i:0,a=Math.max(0,Math.floor(e.height*r)),l=Math.floor(t*r);return{height:a,top:l}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const i=this._diffComputationResult?this._diffComputationResult.changes:[];if(i.length===0||e<t(i[0]))return null;let s=0,o=i.length-1;for(;s<o;){const r=Math.floor((s+o)/2),a=t(i[r]),l=r+1<=o?t(i[r+1]):1073741824;e<a?o=r-1:e>=l?s=r+1:(s=r,o=r)}return i[s]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.originalStartLineNumber);if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),s=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-i;return a<=o?s+Math.min(a,r):s+r-o+a}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.modifiedStartLineNumber);if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),s=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-s;return a<=r?i+Math.min(a,o):i+o-r+a}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};Mg.ONE_OVERVIEW_WIDTH=15;Mg.ENTIRE_DIFF_OVERVIEW_WIDTH=30;Mg.UPDATE_DIFF_DECORATIONS_DELAY=200;Mg=$_t([Ad(3,qh),Ad(4,ml),Ad(5,At),Ad(6,Bt),Ad(7,Ei),Ad(8,Qi),Ad(9,os),Ad(10,Kh),Ad(11,Yg)],Mg);class jie extends de{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=e.getColor(ndt)||(e.getColor(Ste)||uM).transparent(2),i=e.getColor(sdt)||(e.getColor(Lte)||dM).transparent(2),s=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,s}getEditorsDiffDecorations(e,t,i,s,o,r){r=r.sort((u,d)=>u.afterLineNumber-d.afterLineNumber),o=o.sort((u,d)=>u.afterLineNumber-d.afterLineNumber);const a=this._getViewZones(e,o,r,i),l=this._getOriginalEditorDecorations(a,e,t,i),c=this._getModifiedEditorDecorations(a,e,t,i,s);return{original:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.original},modified:{decorations:c.decorations,overviewZones:c.overviewZones,zones:a.modified}}}}class ZK{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class sm{constructor(e,t,i,s,o){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=s,this._modifiedEditor=o}static _getViewLineCount(e,t,i){const s=e.getModel(),o=e._getViewModel();if(s&&o){const r=Nw(s,o,t,i);return r.endLineNumber-r.startLineNumber+1}return i-t+1}getViewZones(){const e=this._originalEditor.getOption(61),t=this._modifiedEditor.getOption(61),i=this._originalEditor.getOption(134).wrappingColumn!==-1,s=this._modifiedEditor.getOption(134).wrappingColumn!==-1,o=i||s,r=this._originalEditor.getModel(),a=this._originalEditor._getViewModel().coordinatesConverter,l=this._modifiedEditor._getViewModel().coordinatesConverter,c={original:[],modified:[]};let u=0,d=0,h=0,f=0,p=0,m=0;const b=(T,x)=>T.afterLineNumber-x.afterLineNumber,w=(T,x)=>{if(x.domNode===null&&T.length>0){const k=T[T.length-1];if(k.afterLineNumber===x.afterLineNumber&&k.domNode===null){k.heightInLines+=x.heightInLines;return}}T.push(x)},y=new ZK(this._modifiedForeignVZ),L=new ZK(this._originalForeignVZ);let D=1,E=1;for(let T=0,x=this._lineChanges.length;T<=x;T++){const k=T<x?this._lineChanges[T]:null;k!==null?(h=k.originalStartLineNumber+(k.originalEndLineNumber>0?-1:0),f=k.modifiedStartLineNumber+(k.modifiedEndLineNumber>0?-1:0),d=k.originalEndLineNumber>0?sm._getViewLineCount(this._originalEditor,k.originalStartLineNumber,k.originalEndLineNumber):0,u=k.modifiedEndLineNumber>0?sm._getViewLineCount(this._modifiedEditor,k.modifiedStartLineNumber,k.modifiedEndLineNumber):0,p=Math.max(k.originalStartLineNumber,k.originalEndLineNumber),m=Math.max(k.modifiedStartLineNumber,k.modifiedEndLineNumber)):(h+=1e7+d,f+=1e7+u,p=h,m=f);let N=[],V=[];if(o){let te;k?k.originalEndLineNumber>0?te=k.originalStartLineNumber-D:te=k.modifiedStartLineNumber-E:te=r.getLineCount()-D+1;for(let ae=0;ae<te;ae++){const me=D+ae,we=E+ae,be=a.getModelLineViewLineCount(me),Me=l.getModelLineViewLineCount(we);be<Me?N.push({afterLineNumber:me,heightInLines:Me-be,domNode:null,marginDomNode:null}):be>Me&&V.push({afterLineNumber:we,heightInLines:be-Me,domNode:null,marginDomNode:null})}k&&(D=(k.originalEndLineNumber>0?k.originalEndLineNumber:k.originalStartLineNumber)+1,E=(k.modifiedEndLineNumber>0?k.modifiedEndLineNumber:k.modifiedStartLineNumber)+1)}for(;y.current&&y.current.afterLineNumber<=m;){let te;y.current.afterLineNumber<=f?te=h-f+y.current.afterLineNumber:te=p;let ae=null;k&&k.modifiedStartLineNumber<=y.current.afterLineNumber&&y.current.afterLineNumber<=k.modifiedEndLineNumber&&(ae=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),N.push({afterLineNumber:te,heightInLines:y.current.height/t,domNode:null,marginDomNode:ae}),y.advance()}for(;L.current&&L.current.afterLineNumber<=p;){let te;L.current.afterLineNumber<=h?te=f-h+L.current.afterLineNumber:te=m,V.push({afterLineNumber:te,heightInLines:L.current.height/e,domNode:null}),L.advance()}if(k!==null&&J8(k)){const te=this._produceOriginalFromDiff(k,d,u);te&&N.push(te)}if(k!==null&&eL(k)){const te=this._produceModifiedFromDiff(k,d,u);te&&V.push(te)}let H=0,G=0;for(N=N.sort(b),V=V.sort(b);H<N.length&&G<V.length;){const te=N[H],ae=V[G],me=te.afterLineNumber-h,we=ae.afterLineNumber-f;me<we?(w(c.original,te),H++):we<me?(w(c.modified,ae),G++):te.shouldNotShrink?(w(c.original,te),H++):ae.shouldNotShrink?(w(c.modified,ae),G++):te.heightInLines>=ae.heightInLines?(te.heightInLines-=ae.heightInLines,G++):(ae.heightInLines-=te.heightInLines,H++)}for(;H<N.length;)w(c.original,N[H]),H++;for(;G<V.length;)w(c.modified,V[G]),G++}return{original:sm._ensureDomNodes(c.original),modified:sm._ensureDomNodes(c.modified)}}static _ensureDomNodes(e){return e.map(t=>(t.domNode||(t.domNode=Gie()),t))}}function Zd(n,e,t,i,s){return{range:new A(n,e,t,i),options:s}}const jo={arrowRevertChange:Rt.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+Li.asClassName(C.arrowRight)}),charDelete:Rt.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Rt.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Rt.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Rt.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Rt.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Rt.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Li.asClassName(U_t),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Rt.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Rt.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Li.asClassName(Uie),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Rt.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class nh extends jie{constructor(e,t){super(e),this._disableSash=t===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new fo(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(i=>this._onSashDrag(i)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(e){const t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){const i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Mg.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let s=Math.floor((e||.5)*i);const o=Math.floor(.5*i);return s=this._disableSash?o:s||o,i>nh.MINIMUM_EDITOR_WIDTH*2?(s<nh.MINIMUM_EDITOR_WIDTH&&(s=nh.MINIMUM_EDITOR_WIDTH),s>i-nh.MINIMUM_EDITOR_WIDTH&&(s=i-nh.MINIMUM_EDITOR_WIDTH)):s=o,this._sashPosition!==s&&(this._sashPosition=s),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){const i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Mg.ENTIRE_DIFF_OVERVIEW_WIDTH:0),s=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=s/i,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){const s=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new j_t(e,t,i,s,o).getViewZones()}_getOriginalEditorDecorations(e,t,i,s){const o=this._dataSource.getOriginalEditor(),r=String(this._removeColor),a={decorations:[],overviewZones:[]},l=o.getModel(),c=o._getViewModel();for(const u of t)if(eL(u)){a.decorations.push({range:new A(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:s?jo.lineDeleteWithSign:jo.lineDelete}),(!J8(u)||!u.charChanges)&&a.decorations.push(Zd(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824,jo.charDeleteWholeLine));const d=Nw(l,c,u.originalStartLineNumber,u.originalEndLineNumber);if(a.overviewZones.push(new Lw(d.startLineNumber,d.endLineNumber,0,r)),u.charChanges){for(const h of u.charChanges)if(qie(h))if(i)for(let f=h.originalStartLineNumber;f<=h.originalEndLineNumber;f++){let p,m;f===h.originalStartLineNumber?p=h.originalStartColumn:p=l.getLineFirstNonWhitespaceColumn(f),f===h.originalEndLineNumber?m=h.originalEndColumn:m=l.getLineLastNonWhitespaceColumn(f),a.decorations.push(Zd(f,p,f,m,jo.charDelete))}else a.decorations.push(Zd(h.originalStartLineNumber,h.originalStartColumn,h.originalEndLineNumber,h.originalEndColumn,jo.charDelete))}}return a}_getModifiedEditorDecorations(e,t,i,s,o){const r=this._dataSource.getModifiedEditor(),a=String(this._insertColor),l={decorations:[],overviewZones:[]},c=r.getModel(),u=r._getViewModel();for(const d of t){if(o)if(d.modifiedEndLineNumber>0)l.decorations.push({range:new A(d.modifiedStartLineNumber,1,d.modifiedStartLineNumber,1),options:jo.arrowRevertChange});else{const h=e.modified.find(f=>f.afterLineNumber===d.modifiedStartLineNumber);h&&(h.marginDomNode=G_t())}if(J8(d)){l.decorations.push({range:new A(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,1073741824),options:s?jo.lineInsertWithSign:jo.lineInsert}),(!eL(d)||!d.charChanges)&&l.decorations.push(Zd(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,1073741824,jo.charInsertWholeLine));const h=Nw(c,u,d.modifiedStartLineNumber,d.modifiedEndLineNumber);if(l.overviewZones.push(new Lw(h.startLineNumber,h.endLineNumber,0,a)),d.charChanges){for(const f of d.charChanges)if(Kie(f))if(i)for(let p=f.modifiedStartLineNumber;p<=f.modifiedEndLineNumber;p++){let m,b;p===f.modifiedStartLineNumber?m=f.modifiedStartColumn:m=c.getLineFirstNonWhitespaceColumn(p),p===f.modifiedEndLineNumber?b=f.modifiedEndColumn:b=c.getLineLastNonWhitespaceColumn(p),l.decorations.push(Zd(p,m,p,b,jo.charInsert))}else l.decorations.push(Zd(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,jo.charInsert))}}}return l}}nh.MINIMUM_EDITOR_WIDTH=100;class j_t extends sm{constructor(e,t,i,s,o){super(e,t,i,s,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class XK extends jie{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(i=>{this._decorationsLeft!==i.decorationsLeft&&(this._decorationsLeft=i.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,s){const o=this._dataSource.getOriginalEditor(),r=this._dataSource.getModifiedEditor();return new K_t(e,t,i,o,r,s).getViewZones()}_getOriginalEditorDecorations(e,t,i,s){const o=String(this._removeColor),r={decorations:[],overviewZones:[]},a=this._dataSource.getOriginalEditor(),l=a.getModel(),c=a._getViewModel();let u=0;for(const d of t)if(eL(d)){for(r.decorations.push({range:new A(d.originalStartLineNumber,1,d.originalEndLineNumber,1073741824),options:jo.lineDeleteMargin});u<e.modified.length;){const p=e.modified[u];if(p.diff&&p.diff.originalStartLineNumber>=d.originalStartLineNumber)break;u++}let h=0;if(u<e.modified.length){const p=e.modified[u];p.diff&&p.diff.originalStartLineNumber===d.originalStartLineNumber&&p.diff.originalEndLineNumber===d.originalEndLineNumber&&p.diff.modifiedStartLineNumber===d.modifiedStartLineNumber&&p.diff.modifiedEndLineNumber===d.modifiedEndLineNumber&&(h=p.heightInLines)}const f=Nw(l,c,d.originalStartLineNumber,d.originalEndLineNumber);r.overviewZones.push(new Lw(f.startLineNumber,f.endLineNumber,h,o))}return r}_getModifiedEditorDecorations(e,t,i,s,o){const r=this._dataSource.getModifiedEditor(),a=String(this._insertColor),l={decorations:[],overviewZones:[]},c=r.getModel(),u=r._getViewModel();for(const d of t)if(J8(d)){l.decorations.push({range:new A(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,1073741824),options:s?jo.lineInsertWithSign:jo.lineInsert});const h=Nw(c,u,d.modifiedStartLineNumber,d.modifiedEndLineNumber);if(l.overviewZones.push(new Lw(h.startLineNumber,h.endLineNumber,0,a)),d.charChanges){for(const f of d.charChanges)if(Kie(f))if(i)for(let p=f.modifiedStartLineNumber;p<=f.modifiedEndLineNumber;p++){let m,b;p===f.modifiedStartLineNumber?m=f.modifiedStartColumn:m=c.getLineFirstNonWhitespaceColumn(p),p===f.modifiedEndLineNumber?b=f.modifiedEndColumn:b=c.getLineLastNonWhitespaceColumn(p),l.decorations.push(Zd(p,m,p,b,jo.charInsert))}else l.decorations.push(Zd(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,jo.charInsert))}else l.decorations.push(Zd(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,1073741824,jo.charInsertWholeLine))}return l}layout(){return Math.max(5,this._decorationsLeft)}}class K_t extends sm{constructor(e,t,i,s,o,r){super(e,t,i,s,o),this._originalModel=s.getModel(),this._renderIndicators=r,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){const s=document.createElement("div");return s.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:s}}_produceModifiedFromDiff(e,t,i){const s=document.createElement("div");s.className=`view-lines line-delete ${pm}`;const o=document.createElement("div");o.className="inline-deleted-margin-view-zone";const r={shouldNotShrink:!0,afterLineNumber:e.modifiedEndLineNumber===0?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:s,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(a),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(r),r}_finalize(e){const t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,s=t.get(46),o=t.get(29),r=s.typicalHalfwidthCharacterWidth,a=t.get(95),l=this._originalModel.mightContainNonBasicASCII(),c=this._originalModel.mightContainRTL(),u=t.get(61),h=t.get(133).decorationsWidth,f=t.get(107),p=t.get(90),m=t.get(85),b=t.get(47),w=this._lineBreaksComputer.finalize();let y=0;for(let L=0;L<this._pendingLineChange.length;L++){const D=this._pendingLineChange[L],E=this._pendingViewZones[L],T=E.domNode;bo(T,s);const x=E.marginDomNode;bo(x,s);const k=[];if(D.charChanges)for(const we of D.charChanges)qie(we)&&k.push(new rC(new A(we.originalStartLineNumber,we.originalStartColumn,we.originalEndLineNumber,we.originalEndColumn),"char-delete",0));const N=k.length>0,V=Sg(1e4);let H=0,G=0,te=null;for(let we=D.originalStartLineNumber;we<=D.originalEndLineNumber;we++){const be=we-D.originalStartLineNumber,Me=this._originalModel.tokenization.getLineTokens(we),He=Me.getLineContent(),mt=w[y++],ot=Wr.filter(k,we,1,He.length+1);if(mt){let De=0;for(const _t of mt.breakOffsets){const _e=Me.sliceAndInflate(De,_t,0),Ge=He.substring(De,_t);H=Math.max(H,this._renderOriginalLine(G++,Ge,_e,Wr.extractWrapped(ot,De,_t),N,l,c,s,o,u,h,f,p,m,b,i,V,x)),De=_t}for(te||(te=[]);te.length<be;)te[te.length]=1;te[be]=mt.breakOffsets.length,E.heightInLines+=mt.breakOffsets.length-1;const pe=document.createElement("div");pe.className="gutter-delete",e.original.push({afterLineNumber:we,afterColumn:0,heightInLines:mt.breakOffsets.length-1,domNode:Gie(),marginDomNode:pe})}else H=Math.max(H,this._renderOriginalLine(G++,He,Me,ot,N,l,c,s,o,u,h,f,p,m,b,i,V,x))}H+=a;const ae=V.build(),me=YK?YK.createHTML(ae):ae;if(T.innerHTML=me,E.minWidthInPx=H*r,te){const we=D.originalEndLineNumber-D.originalStartLineNumber;for(;te.length<=we;)te[te.length]=1}E.diff.viewLineCounts=te}e.original.sort((L,D)=>L.afterLineNumber-D.afterLineNumber)}_renderOriginalLine(e,t,i,s,o,r,a,l,c,u,d,h,f,p,m,b,w,y){w.appendASCIIString('<div class="view-line'),o||w.appendASCIIString(" char-delete"),w.appendASCIIString('" style="top:'),w.appendASCIIString(String(e*u)),w.appendASCIIString('px;width:1000000px;">');const L=ya.isBasicASCII(t,r),D=ya.containsRTL(t,L,a),E=Ry(new qg(l.isMonospace&&!c,l.canUseHalfwidthRightwardsArrow,t,!1,L,D,0,i,s,b,0,l.spaceWidth,l.middotWidth,l.wsmiddotWidth,h,f,p,m!==ua.OFF,null),w);if(w.appendASCIIString("</div>"),this._renderIndicators){const T=document.createElement("div");T.className=`delete-sign ${Li.asClassName(Uie)}`,T.setAttribute("style",`position:absolute;top:${e*u}px;width:${d}px;height:${u}px;right:0;`),y.appendChild(T)}return E.characterMapping.getHorizontalOffset(E.characterMapping.length)}}function q_t(n,e){return to(n,e,["off","on","inherit"])}function J8(n){return n.modifiedEndLineNumber>0}function eL(n){return n.originalEndLineNumber>0}function Kie(n){return n.modifiedStartLineNumber===n.modifiedEndLineNumber?n.modifiedEndColumn-n.modifiedStartColumn>0:n.modifiedEndLineNumber-n.modifiedStartLineNumber>0}function qie(n){return n.originalStartLineNumber===n.originalEndLineNumber?n.originalEndColumn-n.originalStartColumn>0:n.originalEndLineNumber-n.originalStartLineNumber>0}function Gie(){const n=document.createElement("div");return n.className="diagonal-fill",n}function G_t(){const n=document.createElement("div");return n.className="arrow-revert-change "+Li.asClassName(C.arrowRight),Ne("div",{},n)}function Nw(n,e,t,i){const s=n.getLineCount();return t=Math.min(s,Math.max(1,t)),i=Math.min(s,Math.max(1,i)),e.coordinatesConverter.convertModelRangeToViewRange(new A(t,n.getLineMinColumn(t),i,n.getLineMaxColumn(i)))}function QK(n,e){return{enableSplitViewResizing:wt(n.enableSplitViewResizing,e.enableSplitViewResizing),renderSideBySide:wt(n.renderSideBySide,e.renderSideBySide),renderMarginRevertIcon:wt(n.renderMarginRevertIcon,e.renderMarginRevertIcon),maxComputationTime:K9(n.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:K9(n.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:wt(n.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:wt(n.renderIndicators,e.renderIndicators),originalEditable:wt(n.originalEditable,e.originalEditable),diffCodeLens:wt(n.diffCodeLens,e.diffCodeLens),renderOverviewRuler:wt(n.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:q_t(n.diffWordWrap,e.diffWordWrap)}}function Y_t(n,e){return{enableSplitViewResizing:n.enableSplitViewResizing!==e.enableSplitViewResizing,renderSideBySide:n.renderSideBySide!==e.renderSideBySide,renderMarginRevertIcon:n.renderMarginRevertIcon!==e.renderMarginRevertIcon,maxComputationTime:n.maxComputationTime!==e.maxComputationTime,maxFileSize:n.maxFileSize!==e.maxFileSize,ignoreTrimWhitespace:n.ignoreTrimWhitespace!==e.ignoreTrimWhitespace,renderIndicators:n.renderIndicators!==e.renderIndicators,originalEditable:n.originalEditable!==e.originalEditable,diffCodeLens:n.diffCodeLens!==e.diffCodeLens,renderOverviewRuler:n.renderOverviewRuler!==e.renderOverviewRuler,diffWordWrap:n.diffWordWrap!==e.diffWordWrap}}ln((n,e)=>{const t=n.getColor(Ste);t&&e.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${t}; }`);const i=n.getColor(Jut)||t;i&&e.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${i}; }`);const s=n.getColor(tdt)||i;s&&(e.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${s}; }`),e.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${s}; }`));const o=n.getColor(Lte);o&&e.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${o}; }`);const r=n.getColor(edt)||o;r&&e.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${r}; }`);const a=n.getColor(idt)||r;a&&(e.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${a}; }`),e.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${a}; }`));const l=n.getColor(odt);l&&e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${wo(n.type)?"dashed":"solid"} ${l}; }`);const c=n.getColor(rdt);c&&e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${wo(n.type)?"dashed":"solid"} ${c}; }`);const u=n.getColor(n2);u&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${u}; }`);const d=n.getColor(adt);d&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${d}; }`);const h=n.getColor(Qp);h&&e.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${h};
			}
		`);const f=n.getColor(Jp);f&&e.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${f};
			}
		`);const p=n.getColor(em);p&&e.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${p};
			}
		`);const m=n.getColor(ldt);e.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${m} 12.5%,
			#0000 12.5%, #0000 50%,
			${m} 50%, ${m} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});var Z_t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},X_t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Q_t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let FM=class extends de{constructor(e){super(),this._themeService=e,this._onCodeEditorAdd=this._register(new J),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new J),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new J),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new J),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Yo,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorationsByType(e))))}setModelProperty(e,t,i){const s=e.toString();let o;this._modelProperties.has(s)?o=this._modelProperties.get(s):(o=new Map,this._modelProperties.set(s,o)),o.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}openCodeEditor(e,t,i){return Q_t(this,void 0,void 0,function*(){for(const s of this._codeEditorOpenHandlers){const o=yield s(e,t,i);if(o!==null)return o}return null})}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return jt(t)}};FM=Z_t([X_t(0,Qi)],FM);var J_t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},JK=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},e0t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let tL=class extends FM{constructor(e,t){super(t),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((i,s,o)=>e0t(this,void 0,void 0,function*(){return s?this.doOpenEditor(s,i):null}))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const o=t.resource.scheme;if(o===Vt.http||o===Vt.https)return ote(t.resource.toString()),e}return null}const s=t.options?t.options.selection:null;if(s)if(typeof s.endLineNumber=="number"&&typeof s.endColumn=="number")e.setSelection(s),e.revealRangeInCenter(s,1);else{const o={lineNumber:s.startLineNumber,column:s.startColumn};e.setPosition(o),e.revealPositionInCenter(o,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};tL=J_t([JK(0,At),JK(1,Qi)],tL);gi(Ei,tL);const a2=ui("layoutService");var Yie=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Zie=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let iL=class{constructor(e){this._codeEditorService=e,this.onDidLayout=ct.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=e5(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())===null||e===void 0||e.focus()}};iL=Yie([Zie(0,Ei)],iL);let BM=class extends iL{constructor(e,t){super(t),this._container=e}get hasContainer(){return!1}get container(){return this._container}};BM=Yie([Zie(1,Ei)],BM);gi(a2,iL);const jy=ui("dialogService");var t0t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},eq=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},r3=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function a3(n){return n.scheme===Vt.file?n.fsPath:n.path}let Xie=0;class l3{constructor(e,t,i,s,o,r,a){this.id=++Xie,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=s,this.groupOrder=o,this.sourceId=r,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class tq{constructor(e,t){this.resourceLabel=e,this.reason=t}}class iq{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,s]of this.elements)(s.reason===0?e:t).push(s.resourceLabel);const i=[];return e.length>0&&i.push(v({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(v({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class i0t{constructor(e,t,i,s,o,r,a){this.id=++Xie,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=s,this.groupOrder=o,this.sourceId=r,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new iq),this.removedResources.has(t)||this.removedResources.set(t,new tq(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new iq),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new tq(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Qie{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,s=this._past.length;i<s;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new Cie(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,s=0,o=-1;for(let a=0,l=this._past.length;a<l;a++,s++){const c=this._past[a];i&&(s>=t||c.id!==e.elements[s])&&(i=!1,o=0),!i&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let r=-1;for(let a=this._future.length-1;a>=0;a--,s++){const l=this._future[a];i&&(s>=t||l.id!==e.elements[s])&&(i=!1,r=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}o!==-1&&(this._past=this._past.slice(0,o)),r!==-1&&(this._future=this._future.slice(r+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class WI{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const Jie=new Qie("","");Jie.locked=!0;let VM=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=wv.None,i=Tu.None){if(e.type===0){const s=a3(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new l3(e,s,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const s=new Set,o=[],r=[];for(const a of e.resources){const l=a3(a),c=this.getUriComparisonKey(a);s.has(c)||(s.add(c),o.push(l),r.push(c))}o.length===1?this._pushElement(new l3(e,o[0],r[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new i0t(e,o,r,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const s=e.resourceLabels[t],o=e.strResources[t];let r;this._editStacks.has(o)?r=this._editStacks.get(o):(r=new Qie(s,o),this._editStacks.set(o,r)),r.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const s=i.getClosestPastElement();return s?s.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),s=new Map;for(const o of i){const r=a3(o.resource),a=this.getUriComparisonKey(o.resource),l=new l3(o,r,a,0,0,0,0);s.set(l.strResource,l)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,s)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),s=new Map;for(const o of i){const r=a3(o.resource),a=this.getUriComparisonKey(o.resource),l=new l3(o,r,a,0,0,0,0);s.set(l.strResource,l)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,s)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const s=this.getUriComparisonKey(e);this._editStacks.has(s)&&this._editStacks.get(s).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new Cie(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[s,o]of this._editStacks){const r=o.getClosestPastElement();!r||r.sourceId===e&&(!t||r.sourceOrder>t.sourceOrder)&&(t=r,i=s)}return[t,i]}canUndo(e){if(e instanceof Tu){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){Ot(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,s,o){const r=this._acquireLocks(i);let a;try{a=t()}catch(l){return r(),s.dispose(),this._onError(l,e)}return a?a.then(()=>(r(),s.dispose(),o()),l=>(r(),s.dispose(),this._onError(l,e))):(r(),s.dispose(),o())}_invokeWorkspacePrepare(e){return r3(this,void 0,void 0,function*(){if(typeof e.actual.prepareUndoRedo=="undefined")return de.None;const t=e.actual.prepareUndoRedo();return typeof t=="undefined"?de.None:t})}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo=="undefined")return t(de.None);const i=e.actual.prepareUndoRedo();return i?VO(i)?t(i):i.then(s=>t(s)):t(de.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||Jie);return new WI(t)}_tryToSplitAndUndo(e,t,i,s){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(s),new c3(this._undo(e,0,!0));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(s),new c3}_checkWorkspaceUndo(e,t,i,s){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,v({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(s&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,v({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,v({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const a of i.editStacks)a.locked&&r.push(a.resourceLabel);return r.length>0?this._tryToSplitAndUndo(e,t,null,v({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,v({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const s=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,s,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,s,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(!!i){if(i===e){const s=t.getSecondClosestPastElement();if(s&&s.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,s){return r3(this,void 0,void 0,function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const a=yield this._dialogService.show(xn.Info,v("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[v({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),v("nok","Undo this File"),v("cancel","Cancel")],{cancelId:2});if(a.choice===2)return;if(a.choice===1)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const l=this._checkWorkspaceUndo(e,t,i,!1);if(l)return l.returnValue;s=!0}let o;try{o=yield this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const r=this._checkWorkspaceUndo(e,t,i,!0);if(r)return o.dispose(),r.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,o,()=>this._continueUndoInGroup(t.groupId,s))})}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){const s=v({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(s);return}return this._invokeResourcePrepare(t,s=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new WI([e]),s,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[s,o]of this._editStacks){const r=o.getClosestPastElement();!r||r.groupId===e&&(!t||r.groupOrder>t.groupOrder)&&(t=r,i=s)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof Tu){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const s=this._editStacks.get(e),o=s.getClosestPastElement();if(!o)return;if(o.groupId){const[a,l]=this._findClosestUndoElementInGroup(o.groupId);if(o!==a&&l)return this._undo(l,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return o.type===1?this._workspaceUndo(e,o,i):this._resourceUndo(s,o,i)}finally{}}_confirmAndContinueUndo(e,t,i){return r3(this,void 0,void 0,function*(){if((yield this._dialogService.show(xn.Info,v("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[v("confirmDifferentSource.yes","Yes"),v("confirmDifferentSource.no","No")],{cancelId:1})).choice!==1)return this._undo(e,t,!0)})}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[s,o]of this._editStacks){const r=o.getClosestFutureElement();!r||r.sourceId===e&&(!t||r.sourceOrder<t.sourceOrder)&&(t=r,i=s)}return[t,i]}canRedo(e){if(e instanceof Tu){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,s){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(s),new c3(this._redo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(s),new c3}_checkWorkspaceRedo(e,t,i,s){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,v({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(s&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,v({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,v({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const a of i.editStacks)a.locked&&r.push(a.resourceLabel);return r.length>0?this._tryToSplitAndRedo(e,t,null,v({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,v({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),s=this._checkWorkspaceRedo(e,t,i,!1);return s?s.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return r3(this,void 0,void 0,function*(){let s;try{s=yield this._invokeWorkspacePrepare(t)}catch(r){return this._onError(r,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return s.dispose(),o.returnValue;for(const r of i.editStacks)r.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,s,()=>this._continueRedoInGroup(t.groupId))})}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const i=v({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new WI([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[s,o]of this._editStacks){const r=o.getClosestFutureElement();!r||r.groupId===e&&(!t||r.groupOrder<t.groupOrder)&&(t=r,i=s)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof Tu){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(!!i){if(i.groupId){const[s,o]=this._findClosestRedoElementInGroup(i.groupId);if(i!==s&&o)return this._redo(o)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};VM=t0t([eq(0,jy),eq(1,os)],VM);class c3{constructor(e){this.returnValue=e}}gi(D5,VM);function Ar(n,e,t){return Math.min(Math.max(n,e),t)}class ene{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class n0t{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}var nq=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const _l=ui("openerService"),s0t=Object.freeze({_serviceBrand:void 0,registerOpener(){return de.None},registerValidator(){return de.None},registerExternalUriResolver(){return de.None},setDefaultExternalOpener(){},registerExternalOpener(){return de.None},open(){return nq(this,void 0,void 0,function*(){return!1})},resolveExternalUri(n){return nq(this,void 0,void 0,function*(){return{resolved:n,dispose(){}}})}});function wF(n,e){return bt.isUri(n)?K0(n.scheme,e):qO(n,e+":")}function sq(n,...e){return e.some(t=>wF(n,t))}function tne(n){let e;const t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(n.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},n=n.with({fragment:""})),{selection:e,uri:n}}var o0t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},r0t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const vl=ui("ILanguageFeatureDebounceService");var nL;(function(n){const e=new WeakMap;let t=0;function i(s){let o=e.get(s);return o===void 0&&(o=++t,e.set(s,o)),o}n.of=i})(nL||(nL={}));class a0t{constructor(e,t,i,s,o,r){this._logService=e,this._name=t,this._registry=i,this._default=s,this._min=o,this._max=r,this._cache=new Gg(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>Zx(nL.of(i),t),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?Ar(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let s=this._cache.get(i);s||(s=new n0t(6),this._cache.set(i,s));const o=Ar(s.update(t),this._min,this._max);return wF(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${o}ms`),o}_overall(){const e=new ene;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){const e=this._overall()|0||this._default;return Ar(e,this._min,this._max)}}let WM=class{constructor(e){this._logService=e,this._data=new Map}for(e,t,i){var s,o,r;const a=(s=i==null?void 0:i.min)!==null&&s!==void 0?s:50,l=(o=i==null?void 0:i.max)!==null&&o!==void 0?o:Math.pow(a,2),c=(r=i==null?void 0:i.key)!==null&&r!==void 0?r:void 0,u=`${nL.of(e)},${a}${c?","+c:""}`;let d=this._data.get(u);return d||(d=new a0t(this._logService,t,e,this._overallAverage()|0||a*1.5,a,l),this._data.set(u,d)),d}_overallAverage(){const e=new ene;for(const t of this._data.values())e.update(t.default());return e.value}};WM=o0t([r0t(0,Ql)],WM);gi(vl,WM,!0);const Ky=ui("IWorkspaceEditService");class l2{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(vm.is(t))return vm.lift(t);if(A1.is(t))return A1.lift(t);throw new Error("Unsupported edit")})}}class vm extends l2{constructor(e,t,i=void 0,s){super(s),this.resource=e,this.textEdit=t,this.versionId=i}static is(e){return e instanceof vm?!0:pr(e)&&bt.isUri(e.resource)&&pr(e.textEdit)}static lift(e){return e instanceof vm?e:new vm(e.resource,e.textEdit,e.versionId,e.metadata)}}class A1 extends l2{constructor(e,t,i={},s){super(s),this.oldResource=e,this.newResource=t,this.options=i}static is(e){return e instanceof A1?!0:pr(e)&&(Boolean(e.newResource)||Boolean(e.oldResource))}static lift(e){return e instanceof A1?e:new A1(e.oldResource,e.newResource,e.options,e.metadata)}}const yF=Object.freeze({id:"editor",order:5,type:"object",title:v("editorConfigurationTitle","Editor"),scope:5}),sL=Object.assign(Object.assign({},yF),{properties:{"editor.tabSize":{type:"number",default:po.tabSize,minimum:1,markdownDescription:v("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:po.insertSpaces,markdownDescription:v("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:po.detectIndentation,markdownDescription:v("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:po.trimAutoWhitespace,description:v("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:po.largeFileOptimizations,description:v("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:v("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[v("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),v("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),v("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:v("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[v("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),v("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),v("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:v("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:v("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:v("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:v("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:v("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:v("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:v("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:v("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:v("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:v("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:v("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:v("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:v("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:v("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:v("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:v("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[v("wordWrap.off","Lines will never wrap."),v("wordWrap.on","Lines will wrap at the viewport width."),v("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function l0t(n){return typeof n.type!="undefined"||typeof n.anyOf!="undefined"}for(const n of j0){const e=n.schema;if(typeof e!="undefined")if(l0t(e))sL.properties[`editor.${n.name}`]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(sL.properties[t]=e[t])}let u3=null;function ine(){return u3===null&&(u3=Object.create(null),Object.keys(sL.properties).forEach(n=>{u3[n]=!0})),u3}function c0t(n){return ine()[`editor.${n}`]||!1}function u0t(n){return ine()[`diffEditor.${n}`]||!1}const d0t=Tn.as(Uh.Configuration);d0t.registerConfiguration(sL);class yn{static insert(e,t){return{range:new A(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}class Or{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?$U(this.contents,e):this.contents}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?$U(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){const t=qd(this.contents),i=qd(this.overrides),s=[...this.keys];for(const o of e)if(!o.isEmpty()){this.mergeContents(t,o.contents);for(const r of o.overrides){const[a]=i.filter(l=>va(l.identifiers,r.identifiers));a?(this.mergeContents(a.contents,r.contents),a.keys.push(...r.keys),a.keys=Nh(a.keys)):i.push(qd(r))}for(const r of o.keys)s.indexOf(r)===-1&&s.push(r)}return new Or(t,s,i)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const i={};for(const s of Nh([...Object.keys(this.contents),...Object.keys(t)])){let o=this.contents[s];const r=t[s];r&&(typeof o=="object"&&typeof r=="object"?(o=qd(o),this.mergeContents(o,r)):o=r),i[s]=o}return new Or(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t)){if(i in e&&pr(e[i])&&pr(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=qd(t[i])}}checkAndFreeze(e){return this.frozen&&!Object.isFrozen(e)?Xst(e):e}getContentsForOverrideIdentifer(e){let t=null,i=null;const s=o=>{o&&(i?this.mergeContents(i,o):i=qd(o))};for(const o of this.overrides)va(o.identifiers,[e])?t=o.contents:o.identifiers.includes(e)&&s(o.contents);return s(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),oP(this.contents,e,t,i=>{throw new Error(i)})}removeValue(e){this.removeKey(e)&&fat(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)e.indexOf(this.keys[i])===0&&(t=i);this.keys.splice(t,1,e)}removeKey(e){const t=this.keys.indexOf(e);return t!==-1?(this.keys.splice(t,1),!0):!1}}class N5{constructor(e,t,i,s,o=new Or,r=new Or,a=new Fo,l=new Or,c=new Fo,u=!0){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=s,this._remoteUserConfiguration=o,this._workspaceConfiguration=r,this._folderConfigurations=a,this._memoryConfiguration=l,this._memoryConfigurationByResource=c,this._freeze=u,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Fo,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let s;i.resource?(s=this._memoryConfigurationByResource.get(i.resource),s||(s=new Or,this._memoryConfigurationByResource.set(i.resource,s))):s=this._memoryConfiguration,t===void 0?s.removeValue(e):s.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const s=this.getConsolidatedConfigurationModel(e,t,i),o=this.getFolderConfigurationModelForResource(t.resource,i),r=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),l=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(e),c=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(e),u=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.userConfiguration.freeze().getValue(e),d=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.localUserConfiguration.freeze().getValue(e),h=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.remoteUserConfiguration.freeze().getValue(e),f=i?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,p=o?t.overrideIdentifier?o.freeze().override(t.overrideIdentifier).getValue(e):o.freeze().getValue(e):void 0,m=t.overrideIdentifier?r.override(t.overrideIdentifier).getValue(e):r.getValue(e),b=s.getValue(e),w=Nh(s.overrides.map(y=>y.identifiers).flat()).filter(y=>s.getOverrideValue(e,y)!==void 0);return{defaultValue:a,policyValue:l,applicationValue:c,userValue:u,userLocalValue:d,userRemoteValue:h,workspaceValue:f,workspaceFolderValue:p,memoryValue:m,value:b,default:a!==void 0?{value:this._defaultConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,policy:l!==void 0?{value:l}:void 0,application:c!==void 0?{value:c,override:t.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,user:u!==void 0?{value:this.userConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userLocal:d!==void 0?{value:this.localUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userRemote:h!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspace:f!==void 0?{value:this._workspaceConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspaceFolder:p!==void 0?{value:o==null?void 0:o.freeze().getValue(e),override:t.overrideIdentifier?o==null?void 0:o.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,memory:m!==void 0?{value:r.getValue(e),override:t.overrideIdentifier?r.getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:w.length?w:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let s=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(s=s.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(e)!==void 0&&(s=s.merge(this._policyConfiguration)),s}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const s=t.getFolder(e);s&&(i=this.getFolderConsolidatedConfiguration(s.uri)||i);const o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),s=this._folderConfigurations.get(e);s?(t=i.merge(s),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:s,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:s,keys:o}]),e},[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.policy),s=this.parseConfigurationModel(e.application),o=this.parseConfigurationModel(e.user),r=this.parseConfigurationModel(e.workspace),a=e.folders.reduce((l,c)=>(l.set(bt.revive(c[0]),this.parseConfigurationModel(c[1])),l),new Fo);return new N5(t,i,s,o,new Or,r,a,new Or,new Fo,!1)}static parseConfigurationModel(e){return new Or(e.contents,e.keys,e.overrides).freeze()}}class h0t{constructor(e,t,i,s){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=s,this._previousConfiguration=void 0;const o=new Set;e.keys.forEach(a=>o.add(a)),e.overrides.forEach(([,a])=>a.forEach(l=>o.add(l))),this.affectedKeys=[...o.values()];const r=new Or;this.affectedKeys.forEach(a=>r.setValue(a,{})),this.affectedKeysTree=r.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=N5.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){const s=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(i=this.previous)===null||i===void 0?void 0:i.workspace):void 0,o=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!nl(s,o)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i=wee({[t]:!0},()=>{}),s;for(;typeof i=="object"&&(s=Object.keys(i)[0]);){if(e=e[s],!e)return!1;i=i[s]}return!0}}const f0t=/^(cursor|delete)/;class g0t extends de{constructor(e,t,i,s,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=s,this._logService=o,this._onDidUpdateKeybindings=this._register(new J),this._currentChord=null,this._currentChordChecker=new Ay,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=r1.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new La,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:ct.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(!!i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[s]=i.getDispatchParts();if(s===null)return this._log("\\ Keyboard event cannot be dispatched"),null;const o=this._contextKeyService.getContext(t),r=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,r,s)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(v("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[s]=i.getSingleModifierDispatchParts();if(s)return this._ignoreSingleModifiers.has(s)?(this._log(`+ Ignoring single modifier ${s} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=r1.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=r1.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${s}.`),this._currentSingleModifier=s,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):s===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${s} ${s}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${s}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getParts();return this._ignoreSingleModifiers=new r1(o),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let s=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,r=null;if(i){const[u]=e.getSingleModifierDispatchParts();o=u,r=u}else[o]=e.getDispatchParts(),r=this._currentChord?this._currentChord.keypress:null;if(o===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),s;const a=this._contextKeyService.getContext(t),l=e.getLabel(),c=this._getResolver().resolve(a,r,o);return this._logService.trace("KeybindingService#dispatch",l,c==null?void 0:c.commandId),c&&c.enterChord?(s=!0,this._enterChordMode(o,l),this._log("+ Entering chord mode..."),s):(this._currentChord&&(!c||!c.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${l}".`),this._notificationService.status(v("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:10*1e3}),s=!0),this._leaveChordMode(),c&&c.commandId&&(c.bubble||(s=!0),this._log(`+ Invoking command ${c.commandId}.`),typeof c.commandArgs=="undefined"?this._commandService.executeCommand(c.commandId).then(void 0,u=>this._notificationService.warn(u)):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,u=>this._notificationService.warn(u)),f0t.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding"})),s)}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}class r1{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}r1.EMPTY=new r1(null);const Ms=ui("keybindingService");class wC{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const s of e){const o=s.command;o&&o.charAt(0)!=="-"&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=wC.handleRemovals([].concat(e).concat(t));for(let s=0,o=this._keybindings.length;s<o;s++){const r=this._keybindings[s];r.keypressParts.length!==0&&(r.when&&r.when.type===0||this._addKeyPress(r.keypressParts[0],r))}}static _isTargetedForRemoval(e,t,i,s){return!(t&&e.keypressParts[0]!==t||i&&e.keypressParts[1]!==i||s&&(!e.when||!Jct(s,e.when)))}static handleRemovals(e){const t=new Map;for(let s=0,o=e.length;s<o;s++){const r=e[s];if(r.command&&r.command.charAt(0)==="-"){const a=r.command.substring(1);t.has(a)?t.get(a).push(r):t.set(a,[r])}}if(t.size===0)return e;const i=[];for(let s=0,o=e.length;s<o;s++){const r=e[s];if(!r.command||r.command.length===0){i.push(r);continue}if(r.command.charAt(0)==="-")continue;const a=t.get(r.command);if(!a||!r.isDefault){i.push(r);continue}let l=!1;for(const c of a){const u=c.keypressParts[0],d=c.keypressParts[1],h=c.when;if(this._isTargetedForRemoval(r,u,d,h)){l=!0;break}}if(!l){i.push(r);continue}}return i}_addKeyPress(e,t){const i=this._map.get(e);if(typeof i=="undefined"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.command===t.command)continue;const r=o.keypressParts.length>1,a=t.keypressParts.length>1;r&&a&&o.keypressParts[1]!==t.keypressParts[1]||wC.whenIsEntirelyIncluded(o.when,t.when)&&this._removeFromLookupMap(o)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t=="undefined"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(typeof t!="undefined"){for(let i=0,s=t.length;i<s;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:lte(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(typeof i=="undefined"||i.length===0)return null;if(i.length===1)return i[0];for(let s=i.length-1;s>=0;s--){const o=i[s];if(t.contextMatchesRules(o.when))return o}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let s=null;if(t!==null){const r=this._map.get(t);if(typeof r=="undefined")return this._log("\\ No keybinding entries."),null;s=[];for(let a=0,l=r.length;a<l;a++){const c=r[a];c.keypressParts[1]===i&&s.push(c)}}else{const r=this._map.get(i);if(typeof r=="undefined")return this._log("\\ No keybinding entries."),null;s=r}const o=this._findCommand(e,s);return o?t===null&&o.keypressParts.length>1&&o.keypressParts[1]!==null?(this._log(`\\ From ${s.length} keybinding entries, matched chord, when: ${oq(o.when)}, source: ${rq(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${s.length} keybinding entries, matched ${o.command}, when: ${oq(o.when)}, source: ${rq(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${s.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const s=t[i];if(!!wC._contextMatchesRules(e,s.when))return s}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function oq(n){return n?`${n.serialize()}`:"no when condition"}function rq(n){return n.extensionId?n.isBuiltinExtension?`built-in extension ${n.extensionId}`:`user extension ${n.extensionId}`:n.isDefault?"built-in":"user"}class aq{constructor(e,t,i,s,o,r,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?HM(e.getDispatchParts()):[],e&&this.keypressParts.length===0&&(this.keypressParts=HM(e.getSingleModifierDispatchParts())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=s,this.isDefault=o,this.extensionId=r,this.isBuiltinExtension=a}}function HM(n){const e=[];for(let t=0,i=n.length;t<i;t++){const s=n[t];if(!s)return e;e.push(s)}return e}class M5{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;const s=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=i(a);if(l===null)return null;s[o]=_0t(a,l,this.modifierLabels[e])}return s.join(" ")}}const SF=new M5({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:v({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:v({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:v({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:v({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:v({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:v({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:v({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:v({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),p0t=new M5({ctrlKey:v({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:v({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:v({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:v({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:v({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:v({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:v({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:v({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:v({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:v({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:v({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:v({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),m0t=new M5({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});new M5({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function _0t(n,e,t){if(e===null)return"";const i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}class v0t extends nct{constructor(e,t){if(super(),t.length===0)throw Oc("parts");this._os=e,this._parts=t}getLabel(){return SF.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return p0t.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:m0t.toLabel(this._os,this._parts,e=>this._getElectronAccelerator(e))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new ict(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}getSingleModifierDispatchParts(){return this._parts.map(e=>this._getSingleModifierDispatchPart(e))}}class Mw extends v0t{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Zp.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":Zp.toString(e.keyCode)}_getElectronAccelerator(e){return Zp.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return Mw.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Zp.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){const t=zO[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof Fm)return e;const t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new Fm(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){const i=HM(e.map(s=>this._resolveSimpleUserBinding(s)));return i.length>0?[new Mw(new b8(i),t)]:[]}}const xv=ui("labelService"),Aw=ui("contextService");function lq(n){const e=n;return typeof(e==null?void 0:e.id)=="string"&&bt.isUri(e.uri)}function b0t(n){if(n.configuration)return{id:n.id,configPath:n.configuration};if(n.folders.length===1)return{id:n.id,uri:n.folders[0].uri}}class C0t{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const $M="code-workspace";v("codeWorkspace","Code Workspace");var as;(function(n){n.noSelection=v("noSelection","No selection"),n.singleSelectionRange=v("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),n.singleSelection=v("singleSelection","Line {0}, Column {1}"),n.multiSelectionRange=v("multiSelectionRange","{0} selections ({1} characters selected)"),n.multiSelection=v("multiSelection","{0} selections"),n.emergencyConfOn=v("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),n.openingDocs=v("openingDocs","Now opening the Editor Accessibility documentation page."),n.readonlyDiffEditor=v("readonlyDiffEditor"," in a read-only pane of a diff editor."),n.editableDiffEditor=v("editableDiffEditor"," in a pane of a diff editor."),n.readonlyEditor=v("readonlyEditor"," in a read-only code editor"),n.editableEditor=v("editableEditor"," in a code editor"),n.changeConfigToOnMac=v("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),n.changeConfigToOnWinLinux=v("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),n.auto_on=v("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),n.auto_off=v("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),n.tabFocusModeOnMsg=v("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),n.tabFocusModeOnMsgNoKb=v("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),n.tabFocusModeOffMsg=v("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),n.tabFocusModeOffMsgNoKb=v("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),n.openDocMac=v("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),n.openDocWinLinux=v("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),n.outroMsg=v("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),n.showAccessibilityHelpAction=v("showAccessibilityHelpAction","Show Accessibility Help")})(as||(as={}));var zM;(function(n){n.inspectTokensAction=v("inspectTokens","Developer: Inspect Tokens")})(zM||(zM={}));var oL;(function(n){n.gotoLineActionLabel=v("gotoLineActionLabel","Go to Line/Column...")})(oL||(oL={}));var UM;(function(n){n.helpQuickAccessActionLabel=v("helpQuickAccess","Show all Quick Access Providers")})(UM||(UM={}));var rL;(function(n){n.quickCommandActionLabel=v("quickCommandActionLabel","Command Palette"),n.quickCommandHelp=v("quickCommandActionHelp","Show And Run Commands")})(rL||(rL={}));var Rw;(function(n){n.quickOutlineActionLabel=v("quickOutlineActionLabel","Go to Symbol..."),n.quickOutlineByCategoryActionLabel=v("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(Rw||(Rw={}));var aL;(function(n){n.editorViewAccessibleLabel=v("editorViewAccessibleLabel","Editor content"),n.accessibilityHelpMessage=v("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(aL||(aL={}));var jM;(function(n){n.toggleHighContrast=v("toggleHighContrast","Toggle High Contrast Theme")})(jM||(jM={}));var KM;(function(n){n.bulkEditServiceSummary=v("bulkEditServiceSummary","Made {0} edits in {1} files")})(KM||(KM={}));const nne=ui("workspaceTrustManagementService");var ho;(function(n){function e(o,r){if(o.start>=r.end||r.start>=o.end)return{start:0,end:0};const a=Math.max(o.start,r.start),l=Math.min(o.end,r.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}n.intersect=e;function t(o){return o.end-o.start<=0}n.isEmpty=t;function i(o,r){return!t(e(o,r))}n.intersects=i;function s(o,r){const a=[],l={start:o.start,end:Math.min(r.start,o.end)},c={start:Math.max(r.end,o.start),end:o.end};return t(l)||a.push(l),t(c)||a.push(c),a}n.relativeComplement=s})(ho||(ho={}));var Yf;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(Yf||(Yf={}));function a1(n,e,t){const i=t.mode===Yf.ALIGN?t.offset:t.offset+t.size,s=t.mode===Yf.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=n-i?i:e<=s?s-e:Math.max(n-e,0):e<=s?s-e:e<=n-i?i:0}class Dv extends de{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=de.None,this.toDisposeOnSetContainer=de.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Ne(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,cr(this.view),this.setContainer(e,t),this._register(jt(()=>this.setContainer(null,1)))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(i=this.shadowRootHostElement)===null||i===void 0||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=Ne(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const o=document.createElement("style");o.textContent=w0t,this.shadowRoot.appendChild(o),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Ne("slot"))}else this.container.appendChild(this.view);const s=new Ie;Dv.BUBBLE_UP_EVENTS.forEach(o=>{s.add(Ns(this.container,o,r=>{this.onDOMEvent(r,!1)}))}),Dv.BUBBLE_DOWN_EVENTS.forEach(o=>{s.add(Ns(this.container,o,r=>{this.onDOMEvent(r,!0)},!0))}),this.toDisposeOnSetContainer=s}}show(e){var t,i;this.isVisible()&&this.hide(),xs(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",da(this.view),this.toDisposeOnClean=e.render(this.view)||de.None,this.delegate=e,this.doLayout(),(i=(t=this.delegate).focus)===null||i===void 0||i.call(t)}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(Xu&&vP.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(nte(e)){const d=mo(e),h=Wct(e);t={top:d.top*h,left:d.left*h,width:d.width*h,height:d.height*h}}else t={top:e.y,left:e.x,width:e.width||1,height:e.height||2};const i=Rl(this.view),s=nM(this.view),o=this.delegate.anchorPosition||0,r=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,c;if(a===0){const d={offset:t.top-window.pageYOffset,size:t.height,position:o===0?0:1},h={offset:t.left,size:t.width,position:r===0?0:1,mode:Yf.ALIGN};l=a1(window.innerHeight,s,d)+window.pageYOffset,ho.intersects({start:l,end:l+s},{start:d.offset,end:d.offset+d.size})&&(h.mode=Yf.AVOID),c=a1(window.innerWidth,i,h)}else{const d={offset:t.left,size:t.width,position:r===0?0:1},h={offset:t.top,size:t.height,position:o===0?0:1,mode:Yf.ALIGN};c=a1(window.innerWidth,i,d),ho.intersects({start:c,end:c+i},{start:d.offset,end:d.offset+d.size})&&(h.mode=Yf.AVOID),l=a1(window.innerHeight,s,h)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(o===0?"bottom":"top"),this.view.classList.add(r===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const u=mo(this.container);this.view.style.top=`${l-(this.useFixedPosition?mo(this.view).top:u.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?mo(this.view).left:u.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,t!=null&&t.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),cr(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!Sh(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Dv.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];Dv.BUBBLE_DOWN_EVENTS=["click"];const w0t=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var y0t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},S0t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let qM=class extends de{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=de.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new Dv(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?(t!==this.container||this.shadowRoot!==i)&&(this.container=t,this.setContainer(t,i?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=i,this.contextView.show(e);const s=jt(()=>{this.currentViewDisposable===s&&this.hideContextView()});return this.currentViewDisposable=s,s}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};qM=y0t([S0t(0,a2)],qM);var cq=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const d3="**",uq="/",v6="[/\\\\]",b6="[^/\\\\]",L0t=/\//g;function dq(n,e){switch(n){case 0:return"";case 1:return`${b6}*?`;default:return`(?:${v6}|${b6}+${v6}${e?`|${v6}${b6}+`:""})*?`}}function hq(n,e){if(!n)return[];const t=[];let i=!1,s=!1,o="";for(const r of n){switch(r){case e:if(!i&&!s){t.push(o),o="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":s=!0;break;case"]":s=!1;break}o+=r}return o&&t.push(o),t}function sne(n){if(!n)return"";let e="";const t=hq(n,uq);if(t.every(i=>i===d3))e=".*";else{let i=!1;t.forEach((s,o)=>{if(s===d3){if(i)return;e+=dq(2,o===t.length-1)}else{let r=!1,a="",l=!1,c="";for(const u of s){if(u!=="}"&&r){a+=u;continue}if(l&&(u!=="]"||!c)){let d;u==="-"?d=u:(u==="^"||u==="!")&&!c?d="^":u===uq?d="":d=Ca(u),c+=d;continue}switch(u){case"{":r=!0;continue;case"[":l=!0;continue;case"}":{e+=`(?:${hq(a,",").map(f=>sne(f)).join("|")})`,r=!1,a="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=b6;continue;case"*":e+=dq(1);continue;default:e+=Ca(u)}}o<t.length-1&&(t[o+1]!==d3||o+2<t.length)&&(e+=v6)}i=s===d3})}return e}const x0t=/^\*\*\/\*\.[\w\.-]+$/,D0t=/^\*\*\/([\w\.-]+)\/?$/,k0t=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,E0t=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,I0t=/^\*\*((\/[\w\.-]+)+)\/?$/,T0t=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,fq=new Gg(1e4),gq=function(){return!1},qu=function(){return null};function LF(n,e){if(!n)return qu;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const i=`${t}_${!!e.trimForExclusions}`;let s=fq.get(i);if(s)return pq(s,n);let o;return x0t.test(t)?s=N0t(t.substr(4),t):(o=D0t.exec(HI(t,e)))?s=M0t(o[1],t):(e.trimForExclusions?E0t:k0t).test(t)?s=A0t(t,e):(o=I0t.exec(HI(t,e)))?s=mq(o[1].substr(1),t,!0):(o=T0t.exec(HI(t,e)))?s=mq(o[1],t,!1):s=R0t(t),fq.set(i,s),pq(s,n)}function pq(n,e){if(typeof e=="string")return n;const t=function(i,s){return LM(i,e.base,!So)?n(i.substr(e.base.length+1),s):null};return t.allBasenames=n.allBasenames,t.allPaths=n.allPaths,t.basenames=n.basenames,t.patterns=n.patterns,t}function HI(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}function N0t(n,e){return function(t,i){return typeof t=="string"&&t.endsWith(n)?e:null}}function M0t(n,e){const t=`/${n}`,i=`\\${n}`,s=function(r,a){return typeof r!="string"?null:a?a===n?e:null:r===n||r.endsWith(t)||r.endsWith(i)?e:null},o=[n];return s.basenames=o,s.patterns=[e],s.allBasenames=o,s}function A0t(n,e){const t=rne(n.slice(1,-1).split(",").map(a=>LF(a,e)).filter(a=>a!==qu),n),i=t.length;if(!i)return qu;if(i===1)return t[0];const s=function(a,l){for(let c=0,u=t.length;c<u;c++)if(t[c](a,l))return n;return null},o=t.find(a=>!!a.allBasenames);o&&(s.allBasenames=o.allBasenames);const r=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return r.length&&(s.allPaths=r),s}function mq(n,e,t){const i=zu===ds.sep,s=i?n:n.replace(L0t,zu),o=zu+s,r=ds.sep+n;let a;return t?a=function(l,c){return typeof l=="string"&&(l===s||l.endsWith(o)||!i&&(l===n||l.endsWith(r)))?e:null}:a=function(l,c){return typeof l=="string"&&(l===s||!i&&l===n)?e:null},a.allPaths=[(t?"*/":"./")+n],a}function R0t(n){try{const e=new RegExp(`^${sne(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch{return qu}}function O0t(n,e,t){return!n||typeof e!="string"?!1:one(n)(e,void 0,t)}function one(n,e={}){if(!n)return gq;if(typeof n=="string"||P0t(n)){const t=LF(n,e);if(t===qu)return gq;const i=function(s,o){return!!t(s,o)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return F0t(n,e)}function P0t(n){const e=n;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function F0t(n,e){const t=rne(Object.getOwnPropertyNames(n).map(a=>B0t(a,n[a],e)).filter(a=>a!==qu)),i=t.length;if(!i)return qu;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];const a=function(u,d){let h;for(let f=0,p=t.length;f<p;f++){const m=t[f](u,d);if(typeof m=="string")return m;KN(m)&&(h||(h=[]),h.push(m))}return h?(()=>cq(this,void 0,void 0,function*(){for(const f of h){const p=yield f;if(typeof p=="string")return p}return null}))():null},l=t.find(u=>!!u.allBasenames);l&&(a.allBasenames=l.allBasenames);const c=t.reduce((u,d)=>d.allPaths?u.concat(d.allPaths):u,[]);return c.length&&(a.allPaths=c),a}const s=function(a,l,c){let u,d;for(let h=0,f=t.length;h<f;h++){const p=t[h];p.requiresSiblings&&c&&(l||(l=hm(a)),u||(u=l.substr(0,l.length-srt(a).length)));const m=p(a,l,u,c);if(typeof m=="string")return m;KN(m)&&(d||(d=[]),d.push(m))}return d?(()=>cq(this,void 0,void 0,function*(){for(const h of d){const f=yield h;if(typeof f=="string")return f}return null}))():null},o=t.find(a=>!!a.allBasenames);o&&(s.allBasenames=o.allBasenames);const r=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return r.length&&(s.allPaths=r),s}function B0t(n,e,t){if(e===!1)return qu;const i=LF(n,t);if(i===qu)return qu;if(typeof e=="boolean")return i;if(e){const s=e.when;if(typeof s=="string"){const o=(r,a,l,c)=>{if(!c||!i(r,a))return null;const u=s.replace("$(basename)",l),d=c(u);return KN(d)?d.then(h=>h?n:null):d?n:null};return o.requiresSiblings=!0,o}}return i}function rne(n,e){const t=n.filter(a=>!!a.basenames);if(t.length<2)return n;const i=t.reduce((a,l)=>{const c=l.basenames;return c?a.concat(c):a},[]);let s;if(e){s=[];for(let a=0,l=i.length;a<l;a++)s.push(e)}else s=t.reduce((a,l)=>{const c=l.patterns;return c?a.concat(c):a},[]);const o=function(a,l){if(typeof a!="string")return null;if(!l){let u;for(u=a.length;u>0;u--){const d=a.charCodeAt(u-1);if(d===47||d===92)break}l=a.substr(u)}const c=i.indexOf(l);return c!==-1?s[c]:null};o.basenames=i,o.patterns=s,o.allBasenames=i;const r=n.filter(a=>!a.basenames);return r.push(o),r}let kv=[],xF=[],ane=[];function h3(n,e=!1){V0t(n,!1,e)}function V0t(n,e,t){const i=W0t(n,e);kv.push(i),i.userConfigured?ane.push(i):xF.push(i),t&&!i.userConfigured&&kv.forEach(s=>{s.mime===i.mime||s.userConfigured||(i.extension&&s.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&s.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&s.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&s.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function W0t(n,e){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:e,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?one(n.filepattern.toLowerCase()):void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf(ds.sep)>=0:!1}}function H0t(){kv=kv.filter(n=>n.userConfigured),xF=[]}function $0t(n,e){return z0t(n,e).map(t=>t.id)}function z0t(n,e){let t;if(n)switch(n.scheme){case Vt.file:t=n.fsPath;break;case Vt.data:{t=Ig.parseMetaData(n).get(Ig.META_DATA_LABEL);break}case Vt.vscodeNotebookCell:t=void 0;break;default:t=n.path}if(!t)return[{id:"unknown",mime:fr.unknown}];t=t.toLowerCase();const i=hm(t),s=_q(t,i,ane);if(s)return[s,{id:ol,mime:fr.text}];const o=_q(t,i,xF);if(o)return[o,{id:ol,mime:fr.text}];if(e){const r=U0t(e);if(r)return[r,{id:ol,mime:fr.text}]}return[{id:"unknown",mime:fr.unknown}]}function _q(n,e,t){var i;let s,o,r;for(let a=t.length-1;a>=0;a--){const l=t[a];if(e===l.filenameLowercase){s=l;break}if(l.filepattern&&(!o||l.filepattern.length>o.filepattern.length)){const c=l.filepatternOnPath?n:e;!((i=l.filepatternLowercase)===null||i===void 0)&&i.call(l,c)&&(o=l)}l.extension&&(!r||l.extension.length>r.extension.length)&&e.endsWith(l.extensionLowercase)&&(r=l)}if(s)return s;if(o)return o;if(r)return r}function U0t(n){if(QO(n)&&(n=n.substr(1)),n.length>0)for(let e=kv.length-1;e>=0;e--){const t=kv[e];if(!t.firstline)continue;const i=n.match(t.firstline);if(i&&i.length>0)return t}}const f3=Object.prototype.hasOwnProperty,vq="vs.editor.nullLanguage";class j0t{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(vq,0),this._register(ol,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||vq}}class Ow extends de{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new J),this.onDidChange=this._onDidChange.event,Ow.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new j0t,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(cv.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){Ow.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},H0t();const e=[].concat(cv.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{const i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(s=>{this._lowercaseNameMap[s.toLowerCase()]=i.identifier}),i.mimetypes.forEach(s=>{this._mimeTypesMap[s]=i.identifier})}),Tn.as(Uh.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;f3.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let s=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),s=t.mimetypes[0]),s||(s=`text/x-${i}`,e.mimetypes.push(s)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const a of t.extensions)h3({id:i,mime:s,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const a of t.filenames)h3({id:i,mime:s,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(const a of t.filenamePatterns)h3({id:i,mime:s,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const l=new RegExp(a);wrt(l)||h3({id:i,mime:s,firstline:l},this._warnOnOverwrite)}catch(l){Ot(l)}}e.aliases.push(i);let o=null;if(typeof t.aliases!="undefined"&&Array.isArray(t.aliases)&&(t.aliases.length===0?o=[null]:o=t.aliases),o!==null)for(const a of o)!a||a.length===0||e.aliases.push(a);const r=o!==null&&o.length>0;if(!(r&&o[0]===null)){const a=(r?o[0]:null)||i;(r||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return e?f3.call(this._languages,e):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return f3.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&f3.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return!e&&!t?[]:$0t(e,t)}}Ow.instanceCount=0;class Pw extends de{constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new J),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new J({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,Pw.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Ow(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Pw.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return OJ(i,null)}createById(e){return new bq(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new bq(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(e){return(!e||!this.isRegisteredLanguageId(e))&&(e=ol),this._encounteredLanguages.has(e)||(this._encounteredLanguages.add(e),Dn.getOrCreate(e),this._onDidEncounterLanguage.fire(e)),e}}Pw.instanceCount=0;class bq{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new J({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var e;const t=this._selector();t!==this.languageId&&(this.languageId=t,(e=this._emitter)===null||e===void 0||e.fire(this.languageId))}}function Cq(n){let e=n.definition;for(;e instanceof C;)e=e.definition;return`.codicon-${n.id}:before { content: '${e.fontCharacter}'; }`}const GM=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,$I=/(&amp;)?(&amp;)([^\s&])/g;var lL;(function(n){n[n.Right=0]="Right",n[n.Left=1]="Left"})(lL||(lL={}));class R1 extends nd{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const s=document.createElement("div");s.classList.add("monaco-menu"),s.setAttribute("role","presentation"),super(s,{orientation:1,actionViewItemProvider:a=>this.doGetActionViewItem(a,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...ai||So?[10]:[]],keyDown:!0}}),this.menuElement=s,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Ie),this.initializeOrUpdateStyleSheet(e,{}),this._register(Fi.addTarget(s)),xe(s,Qe.KEY_DOWN,a=>{new gn(a).equals(2)&&a.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add(xe(s,Qe.KEY_DOWN,a=>{const l=a.key.toLocaleLowerCase();if(this.mnemonics.has(l)){Oi.stop(a,!0);const c=this.mnemonics.get(l);if(c.length===1&&(c[0]instanceof wq&&c[0].container&&this.focusItemByElement(c[0].container),c[0].onClick(a)),c.length>1){const u=c.shift();u&&u.container&&(this.focusItemByElement(u.container),c.push(u)),this.mnemonics.set(l,c)}}})),So&&this._register(xe(s,Qe.KEY_DOWN,a=>{const l=new gn(a);l.equals(14)||l.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Oi.stop(a,!0)):(l.equals(13)||l.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Oi.stop(a,!0))})),this._register(xe(this.domNode,Qe.MOUSE_OUT,a=>{const l=a.relatedTarget;Sh(l,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),a.stopPropagation())})),this._register(xe(this.actionsList,Qe.MOUSE_OVER,a=>{let l=a.target;if(!(!l||!Sh(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){const c=this.focusedItem;this.setFocusedItem(l),c!==this.focusedItem&&this.updateFocus()}}})),this._register(Fi.addTarget(this.actionsList)),this._register(xe(this.actionsList,rn.Tap,a=>{let l=a.initialTarget;if(!(!l||!Sh(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){const c=this.focusedItem;this.setFocusedItem(l),c!==this.focusedItem&&this.updateFocus()}}}));const o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new $y(s,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const r=this.scrollableElement.getDomNode();r.style.position="",this._register(xe(s,rn.Change,a=>{Oi.stop(a,!0);const l=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:l-a.translationY})})),this._register(xe(r,Qe.MOUSE_UP,a=>{a.preventDefault()})),s.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter(a=>{var l;return!((l=i.submenuIds)===null||l===void 0)&&l.has(a.id)?(console.warn(`Found submenu cycle: ${a.id}`),!1):!0}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(a=>!(a instanceof zI)).forEach((a,l,c)=>{a.updatePositionInSet(l+1,c.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(uw(e)?this.styleSheet=ul(e):(R1.globalStyleSheet||(R1.globalStyleSheet=ul()),this.styleSheet=R1.globalStyleSheet)),this.styleSheet.textContent=q0t(t,uw(e))}style(e){const t=this.getContainer();this.initializeOrUpdateStyleSheet(t,e);const i=e.foregroundColor?`${e.foregroundColor}`:"",s=e.backgroundColor?`${e.backgroundColor}`:"",o=e.borderColor?`1px solid ${e.borderColor}`:"",r="5px",a=e.shadowColor?`0 2px 8px ${e.shadowColor}`:"";t.style.outline=o,t.style.borderRadius=r,t.style.color=i,t.style.backgroundColor=s,t.style.boxShadow=a,this.viewItems&&this.viewItems.forEach(l=>{(l instanceof YM||l instanceof zI)&&l.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Co)return new zI(t.context,e,{icon:!0});if(e instanceof fw){const s=new wq(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const o=s.getMnemonic();if(o&&s.isEnabled()){let r=[];this.mnemonics.has(o)&&(r=this.mnemonics.get(o)),r.push(s),this.mnemonics.set(o,r)}}return s}else{const s={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const r=t.getKeyBinding(e);if(r){const a=r.getLabel();a&&(s.keybinding=a)}}const o=new YM(t.context,e,s);if(t.enableMnemonics){const r=o.getMnemonic();if(r&&o.isEnabled()){let a=[];this.mnemonics.has(r)&&(a=this.mnemonics.get(r)),a.push(o),this.mnemonics.set(r,a)}}return o}}}class YM extends Du{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){const s=this.getAction().label;if(s){const o=GM.exec(s);o&&(this.mnemonic=(o[1]?o[1]:o[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Hi(()=>{!this.element||(this._register(xe(this.element,Qe.MOUSE_UP,s=>{if(Oi.stop(s,!0),wa){if(new Pu(s).rightButton)return;this.onClick(s)}else setTimeout(()=>{this.onClick(s)},0)})),this._register(xe(this.element,Qe.CONTEXT_MENU,s=>{Oi.stop(s,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=Le(this.element,Ne("a.action-menu-item")),this._action.id===Co.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=Le(this.item,Ne("span.menu-item-check"+C.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=Le(this.item,Ne("span.action-label")),this.options.label&&this.options.keybinding&&(Le(this.item,Ne("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(!!this.label&&this.options.label){xs(this.label);let t=CF(this.getAction().label);if(t){const i=K0t(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const s=GM.exec(t);if(s){t=jO(t),$I.lastIndex=0;let o=$I.exec(t);for(;o&&o[1];)o=$I.exec(t);const r=a=>a.replace(/&amp;&amp;/g,"&amp;");o?this.label.append(Wx(r(t.substr(0,o.index))," "),Ne("u",{"aria-hidden":"true"},o[3]),ree(r(t.substr(o.index+o[0].length))," ")):this.label.innerText=r(t).trim(),(e=this.item)===null||e===void 0||e.setAttribute("aria-keyshortcuts",(s[1]?s[1]:s[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.getAction().checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,s=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():"",this.item.style.outline=s,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=t?t.toString():"")}style(e){this.menuStyle=e,this.applyStyle()}}class wq extends YM{constructor(e,t,i,s){super(e,e,s),this.submenuActions=t,this.parentData=i,this.submenuOptions=s,this.mysubmenu=null,this.submenuDisposables=this._register(new Ie),this.mouseOver=!1,this.expandDirection=s&&s.expandDirection!==void 0?s.expandDirection:lL.Right,this.showScheduler=new Hi(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Hi(()=>{this.element&&!Sh(S1(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Le(this.item,Ne("span.submenu-indicator"+C.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(xe(this.element,Qe.KEY_UP,t=>{const i=new gn(t);(i.equals(17)||i.equals(3))&&(Oi.stop(t,!0),this.createSubmenu(!0))})),this._register(xe(this.element,Qe.KEY_DOWN,t=>{const i=new gn(t);S1()===this.item&&(i.equals(17)||i.equals(3))&&Oi.stop(t,!0)})),this._register(xe(this.element,Qe.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(xe(this.element,Qe.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(xe(this.element,Qe.FOCUS_OUT,t=>{this.element&&!Sh(S1(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(e){Oi.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,s){const o={top:0,left:0};return o.left=a1(e.width,t.width,{position:s===lL.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=a1(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Le(this.element,Ne("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new R1(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new t5],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const s=this.element.getBoundingClientRect(),o={top:s.top-i,left:s.left,height:s.height+2*i,width:s.width},r=this.submenuContainer.getBoundingClientRect(),{top:a,left:l}=this.calculateSubmenuMenuLayout(new Zi(window.innerWidth,window.innerHeight),Zi.lift(r),o,this.expandDirection);this.submenuContainer.style.left=`${l-r.left}px`,this.submenuContainer.style.top=`${a-r.top}px`,this.submenuDisposables.add(xe(this.submenuContainer,Qe.KEY_UP,c=>{new gn(c).equals(15)&&(Oi.stop(c,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(xe(this.submenuContainer,Qe.KEY_DOWN,c=>{new gn(c).equals(15)&&Oi.stop(c,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)===null||t===void 0||t.setAttribute("aria-expanded",e))}applyStyle(){var e;if(super.applyStyle(),!this.menuStyle)return;const i=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=i?`${i}`:""),(e=this.parentData.submenu)===null||e===void 0||e.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class zI extends Tw{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}function K0t(n){const e=GM,t=e.exec(n);if(!t)return n;const i=!t[1];return n.replace(e,i?"$2$3":"").trim()}function q0t(n,e){let t=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${Cq(C.menuSelection)}
${Cq(C.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .6em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){t+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const i=n.scrollbarShadow;i&&(t+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${i} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${i} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${i} 6px 6px 6px -6px inset;
				}
			`);const s=n.scrollbarSliderBackground;s&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${s};
				}
			`);const o=n.scrollbarSliderHoverBackground;o&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${o};
				}
			`);const r=n.scrollbarSliderActiveBackground;r&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${r};
				}
			`)}return t}function vc(n,e){const t=Object.create(null);for(const i in e){const s=e[i];s&&(t[i]=Hd(s,n))}return t}function DF(n,e,t){function i(){const s=vc(n.getColorTheme(),e);typeof t=="function"?t(s):t.style(s)}return i(),n.onDidColorThemeChange(i)}function G0t(n,e,t){return DF(e,{badgeBackground:(t==null?void 0:t.badgeBackground)||Q0,badgeForeground:(t==null?void 0:t.badgeForeground)||J0,badgeBorder:Kt},n)}function qm(n,e,t){return DF(e,Object.assign(Object.assign({},A5),t||{}),n)}const A5={listFocusBackground:cdt,listFocusForeground:udt,listFocusOutline:ddt,listActiveSelectionBackground:gh,listActiveSelectionForeground:Vu,listActiveSelectionIconForeground:Eb,listFocusAndSelectionOutline:hdt,listFocusAndSelectionBackground:gh,listFocusAndSelectionForeground:Vu,listInactiveSelectionBackground:fdt,listInactiveSelectionIconForeground:pdt,listInactiveSelectionForeground:gdt,listInactiveFocusBackground:mdt,listInactiveFocusOutline:_dt,listHoverBackground:vdt,listHoverForeground:bdt,listDropBackground:Cdt,listSelectionOutline:mn,listHoverOutline:mn,listFilterWidgetBackground:wdt,listFilterWidgetOutline:ydt,listFilterWidgetNoMatchesOutline:Sdt,listFilterWidgetShadow:Ldt,treeIndentGuidesStroke:xdt,tableColumnsBorder:Ddt,tableOddRowsBackgroundColor:kdt,inputActiveOptionBorder:I8,inputActiveOptionForeground:N8,inputActiveOptionBackground:T8,inputBackground:g5,inputForeground:p5,inputBorder:m5,inputValidationInfoBackground:SP,inputValidationInfoForeground:LP,inputValidationInfoBorder:xP,inputValidationWarningBackground:DP,inputValidationWarningForeground:kP,inputValidationWarningBorder:EP,inputValidationErrorBackground:IP,inputValidationErrorForeground:TP,inputValidationErrorBorder:NP},Y0t={shadowColor:Ic,borderColor:Edt,foregroundColor:Idt,backgroundColor:Tdt,selectionForegroundColor:Ndt,selectionBackgroundColor:Mdt,selectionBorderColor:Adt,separatorColor:Rdt,scrollbarShadow:n2,scrollbarSliderBackground:Qp,scrollbarSliderHoverBackground:Jp,scrollbarSliderActiveBackground:em};function Z0t(n,e,t){return DF(e,Object.assign(Object.assign({},Y0t),t),n)}class X0t{constructor(e,t,i,s,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=s,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let i;const s=nte(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:o=>{const r=e.getMenuClassName?e.getMenuClassName():"";r&&(o.className+=" "+r),this.options.blockMouse&&(this.block=o.appendChild(Ne(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",xe(this.block,Qe.MOUSE_DOWN,c=>c.stopPropagation()));const a=new Ie,l=e.actionRunner||new hv;return l.onBeforeRun(this.onActionRun,this,a),l.onDidRun(this.onDidActionRun,this,a),i=new R1(o,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:c=>this.keybindingService.lookupKeybinding(c.id)}),a.add(Z0t(i,this.themeService)),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add(xe(window,Qe.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(xe(window,Qe.MOUSE_DOWN,c=>{if(c.defaultPrevented)return;const u=new Pu(c);let d=u.target;if(!u.rightButton){for(;d;){if(d===o)return;d=d.parentElement}this.contextViewService.hideContextView(!0)}})),$u(a,i)},focus:()=>{i==null||i.focus(!!e.autoSelectFirstItem)},onHide:o=>{var r;(r=e.onHide)===null||r===void 0||r.call(e,!!o),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},s,!!s)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!cd(e.error)&&this.notificationService.error(e.error)}}var Q0t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},rb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let ZM=class extends de{constructor(e,t,i,s,o){super(),this._onDidShowContextMenu=new J,this._onDidHideContextMenu=new J,this.contextMenuHandler=new X0t(i,e,t,s,o)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{var i;(i=e.onHide)===null||i===void 0||i.call(e,t),this._onDidHideContextMenu.fire()}})),jf.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};ZM=Q0t([rb(0,Qc),rb(1,os),rb(2,N_),rb(3,Ms),rb(4,Qi)],ZM);function cL(n){let e=JSON.parse(n);return e=XM(e),e}function XM(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return bt.revive(n);case 2:return new RegExp(n.source,n.flags);case 14:return new Date(n.source)}if(n instanceof Ux||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=XM(n[t],e+1);else for(const t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=XM(n[t],e+1))}return n}var uL;(function(n){n[n.API=0]="API",n[n.USER=1]="USER"})(uL||(uL={}));var kF=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},dL=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},$p=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let QM=class{constructor(e){this._commandService=e}open(e,t){return $p(this,void 0,void 0,function*(){if(!wF(e,Vt.command))return!1;if(!(t!=null&&t.allowCommands))return!0;typeof e=="string"&&(e=bt.parse(e));let i=[];try{i=cL(decodeURIComponent(e.query))}catch{try{i=cL(e.query)}catch{}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0})}};QM=kF([dL(0,ss)],QM);let JM=class{constructor(e){this._editorService=e}open(e,t){return $p(this,void 0,void 0,function*(){typeof e=="string"&&(e=bt.parse(e));const{selection:i,uri:s}=tne(e);return e=s,e.scheme===Vt.file&&(e=ypt(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,source:t!=null&&t.fromUserGesture?uL.USER:uL.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};JM=kF([dL(0,Ei)],JM);let eA=class{constructor(e,t){this._openers=new Yo,this._validators=new Yo,this._resolvers=new Yo,this._resolvedUriTargets=new Fo(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Yo,this._defaultExternalOpener={openExternal:i=>$p(this,void 0,void 0,function*(){return sq(i,Vt.http,Vt.https)?ote(i):window.location.href=i,!0})},this._openers.push({open:(i,s)=>$p(this,void 0,void 0,function*(){return(s==null?void 0:s.openExternal)||sq(i,Vt.mailto,Vt.http,Vt.https,Vt.vsls)?(yield this._doOpenExternal(i,s),!0):!1})}),this._openers.push(new QM(t)),this._openers.push(new JM(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return $p(this,void 0,void 0,function*(){const s=typeof e=="string"?bt.parse(e):e,o=(i=this._resolvedUriTargets.get(s))!==null&&i!==void 0?i:e;for(const r of this._validators)if(!(yield r.shouldOpen(o,t)))return!1;for(const r of this._openers)if(yield r.open(e,t))return!0;return!1})}resolveExternalUri(e,t){return $p(this,void 0,void 0,function*(){for(const i of this._resolvers)try{const s=yield i.resolveExternalUri(e,t);if(s)return this._resolvedUriTargets.has(s.resolved)||this._resolvedUriTargets.set(s.resolved,e),s}catch{}throw new Error("Could not resolve external URI: "+e.toString())})}_doOpenExternal(e,t){return $p(this,void 0,void 0,function*(){const i=typeof e=="string"?bt.parse(e):e;let s;try{s=(yield this.resolveExternalUri(i,t)).resolved}catch{s=i}let o;if(typeof e=="string"&&i.toString()===s.toString()?o=e:o=encodeURI(s.toString(!0)),t!=null&&t.allowContributedOpeners){const r=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(yield a.openExternal(o,{sourceUri:i,preferredOpenerId:r},Yt.None))return!0}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},Yt.None)})}dispose(){this._validators.clear()}};eA=kF([dL(0,Ei),dL(1,ss)],eA);var En;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(En||(En={}));(function(n){function e(r,a){return a-r}n.compare=e;const t=Object.create(null);t[n.Error]=v("sev.error","Error"),t[n.Warning]=v("sev.warning","Warning"),t[n.Info]=v("sev.info","Info");function i(r){return t[r]||""}n.toString=i;function s(r){switch(r){case xn.Error:return n.Error;case xn.Warning:return n.Warning;case xn.Info:return n.Info;case xn.Ignore:return n.Hint}}n.fromSeverity=s;function o(r){switch(r){case n.Error:return xn.Error;case n.Warning:return xn.Warning;case n.Info:return xn.Info;case n.Hint:return xn.Ignore}}n.toSeverity=o})(En||(En={}));var hL;(function(n){const e="";function t(s){return i(s,!0)}n.makeKey=t;function i(s,o){const r=[e];return s.source?r.push(s.source.replace("\xA6","\\\xA6")):r.push(e),s.code?typeof s.code=="string"?r.push(s.code.replace("\xA6","\\\xA6")):r.push(s.code.value.replace("\xA6","\\\xA6")):r.push(e),s.severity!==void 0&&s.severity!==null?r.push(En.toString(s.severity)):r.push(e),s.message&&o?r.push(s.message.replace("\xA6","\\\xA6")):r.push(e),s.startLineNumber!==void 0&&s.startLineNumber!==null?r.push(s.startLineNumber.toString()):r.push(e),s.startColumn!==void 0&&s.startColumn!==null?r.push(s.startColumn.toString()):r.push(e),s.endLineNumber!==void 0&&s.endLineNumber!==null?r.push(s.endLineNumber.toString()):r.push(e),s.endColumn!==void 0&&s.endColumn!==null?r.push(s.endColumn.toString()):r.push(e),r.push(e),r.join("\xA6")}n.makeKeyOptionalMessage=i})(hL||(hL={}));const hd=ui("markerService");var J0t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},yq=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class e1t extends de{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(jt(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const s=this.model.deltaDecorations(i,t);for(let o=0;o<s.length;o++)this._markersData.set(s[o],e[o]);return i.length!==0||s.length!==0}getMarker(e){return this._markersData.get(e.id)}}let tA=class extends de{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new J),this._markerDecorations=new Fo,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){const t=new e1t(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var t;const i=this._markerDecorations.get(e.uri);i&&(i.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===Vt.inMemory||e.uri.scheme===Vt.internal||e.uri.scheme===Vt.vscode)&&((t=this._markerService)===null||t===void 0||t.read({resource:e.uri}).map(s=>s.owner).forEach(s=>this._markerService.remove(s,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500}),i=t.map(s=>({range:this._createDecorationRange(e.model,s),options:this._createDecorationOption(s)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=A.lift(t);if(t.severity===En.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){const s=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(s===1||i.endColumn>=s)return i;const o=e.getWordAtPosition(i.getStartPosition());o&&(i=new A(i.startLineNumber,o.startColumn,i.endLineNumber,o.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&i.startLineNumber===i.endLineNumber){const s=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);s<i.endColumn&&(i=new A(i.startLineNumber,s,i.endLineNumber,i.endColumn),t.startColumn=s)}return i}_createDecorationOption(e){let t,i,s,o,r;switch(e.severity){case En.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",s=0;break;case En.Warning:t="squiggly-warning",i=Vn(Fht),s=20,r={color:Vn(Pdt),position:sl.Inline};break;case En.Info:t="squiggly-info",i=Vn(Bht),s=10;break;case En.Error:default:t="squiggly-error",i=Vn(Pht),s=30,r={color:Vn(Odt),position:sl.Inline};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:ll.Right},minimap:r,zIndex:s,inlineClassName:o}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}};tA=J0t([yq(0,Nn),yq(1,hd)],tA);class yC{constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(e,t){return new yC(e,new fL(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}getRange(){const e=this._tokens.getRange();return e&&new A(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber,[s,o,r]=this._tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new yC(this._startLineNumber,s),new yC(this._startLineNumber+r,o)]}applyEdit(e,t){const[i,s,o]=jm(t);this.acceptEdit(e,i,s,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,s,o){this._acceptDeleteRange(e),this._acceptInsertText(new oe(e.startLineNumber,e.startColumn),t,i,s,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;if(i<0){const o=i-t;this._startLineNumber-=o;return}const s=this._tokens.getMaxDeltaLine();if(!(t>=s+1)){if(t<0&&i>=s+1){this._startLineNumber=0,this._tokens.clear();return}if(t<0){const o=-t;this._startLineNumber-=o,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,s,o){if(t===0&&i===0)return;const r=e.lineNumber-this._startLineNumber;if(r<0){this._startLineNumber+=t;return}const a=this._tokens.getMaxDeltaLine();r>=a+1||this._tokens.acceptInsertText(r,e.column-1,t,i,s,o)}}class fL{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){const t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return e===0?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(e===0)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),s=this._getEndCharacter(e-1);return new A(0,t+1,i,s+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const s=t+Math.floor((i-t)/2),o=this._getDeltaLine(s);if(o<e)t=s+1;else if(o>e)i=s-1;else{let r=s;for(;r>t&&this._getDeltaLine(r-1)===e;)r--;let a=s;for(;a<i&&this._getDeltaLine(a+1)===e;)a++;return new Sq(this._tokens.subarray(4*r,4*a+4))}}return this._getDeltaLine(t)===e?new Sq(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,s){const o=this._tokens,r=this._tokenCount;let a=0,l=!1,c=0;for(let u=0;u<r;u++){const d=4*u,h=o[d],f=o[d+1],p=o[d+2],m=o[d+3];if((h>e||h===e&&p>=t)&&(h<i||h===i&&f<=s))l=!0;else{if(a===0&&(c=h),l){const b=4*a;o[b]=h-c,o[b+1]=f,o[b+2]=p,o[b+3]=m}a++}}return this._tokenCount=a,c}split(e,t,i,s){const o=this._tokens,r=this._tokenCount,a=[],l=[];let c=a,u=0,d=0;for(let h=0;h<r;h++){const f=4*h,p=o[f],m=o[f+1],b=o[f+2],w=o[f+3];if(p>e||p===e&&b>=t){if(p<i||p===i&&m<=s)continue;c!==l&&(c=l,u=0,d=p)}c[u++]=p-d,c[u++]=m,c[u++]=b,c[u++]=w}return[new fL(new Uint32Array(a)),new fL(new Uint32Array(l)),d]}acceptDeleteRange(e,t,i,s,o){const r=this._tokens,a=this._tokenCount,l=s-t;let c=0,u=!1;for(let d=0;d<a;d++){const h=4*d;let f=r[h],p=r[h+1],m=r[h+2];const b=r[h+3];if(f<t||f===t&&m<=i){c++;continue}else if(f===t&&p<i)f===s&&m>o?m-=o-i:m=i;else if(f===t&&p===i)if(f===s&&m>o)m-=o-i;else{u=!0;continue}else if(f<s||f===s&&p<o)if(f===s&&m>o)f===t?(p=i,m=p+(m-o)):(p=0,m=p+(m-o));else{u=!0;continue}else if(f>s){if(l===0&&!u){c=a;break}f-=l}else if(f===s&&p>=o)e&&f===0&&(p+=e,m+=e),f-=l,p-=o-i,m-=o-i;else throw new Error("Not possible!");const w=4*c;r[w]=f,r[w+1]=p,r[w+2]=m,r[w+3]=b,c++}this._tokenCount=c}acceptInsertText(e,t,i,s,o,r){const a=i===0&&s===1&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),l=this._tokens,c=this._tokenCount;for(let u=0;u<c;u++){const d=4*u;let h=l[d],f=l[d+1],p=l[d+2];if(!(h<e||h===e&&p<t)){if(h===e&&p===t)if(a)p+=1;else continue;else if(h===e&&f<t&&t<p)i===0?p+=s:p=t;else{if(h===e&&f===t&&a)continue;if(h===e)if(h+=i,i===0)f+=s,p+=s;else{const m=p-f;f=o+(f-t),p=f+m}else h+=i}l[d]=h,l[d+1]=f,l[d+2]=p}}}}class Sq{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}var t1t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},UI=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let iA=class{constructor(e,t,i,s){this._legend=e,this._themeService=t,this._languageService=i,this._logService=s,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new Xd}getMetadata(e,t,i){const s=this._languageService.languageIdCodec.encodeLanguageId(i),o=this._hashTable.get(e,t,s);let r;if(o)r=o.metadata,this._logService.getLevel()===Ec.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${io.getForeground(r)}, fontStyle ${io.getFontStyle(r).toString(2)}`);else{let a=this._legend.tokenTypes[e];const l=[];if(a){let c=t;for(let d=0;c>0&&d<this._legend.tokenModifiers.length;d++)c&1&&l.push(this._legend.tokenModifiers[d]),c=c>>1;c>0&&this._logService.getLevel()===Ec.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const u=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);typeof u=="undefined"?r=2147483647:(r=0,typeof u.italic!="undefined"&&(r|=(u.italic?1:0)<<11|1),typeof u.bold!="undefined"&&(r|=(u.bold?2:0)<<11|2),typeof u.underline!="undefined"&&(r|=(u.underline?4:0)<<11|4),typeof u.strikethrough!="undefined"&&(r|=(u.strikethrough?8:0)<<11|8),u.foreground&&(r|=u.foreground<<15|16),r===0&&(r=2147483647))}else this._logService.getLevel()===Ec.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),r=2147483647,a="not-in-legend";this._hashTable.add(e,t,s,r),this._logService.getLevel()===Ec.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${a}) / ${t} (${l.join(" ")}): foreground ${io.getForeground(r)}, fontStyle ${io.getFontStyle(r).toString(2)}`)}return r}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,i,s,o){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${i}: The provided start offset ${s} is outside the previous data (length ${o}).`))}};iA=t1t([UI(1,Qi),UI(2,In),UI(3,Ql)],iA);function lne(n,e,t){const i=n.data,s=n.data.length/5|0,o=Math.max(Math.ceil(s/1024),400),r=[];let a=0,l=1,c=0;for(;a<s;){const u=a;let d=Math.min(u+o,s);if(d<s){let y=d;for(;y-1>u&&i[5*y]===0;)y--;if(y-1===u){let L=d;for(;L+1<s&&i[5*L]===0;)L++;d=L}else d=y}let h=new Uint32Array((d-u)*4),f=0,p=0,m=0,b=0;for(;a<d;){const y=5*a,L=i[y],D=i[y+1],E=l+L|0,T=L===0?c+D|0:D,x=i[y+2],k=T+x|0,N=i[y+3],V=i[y+4];if(k<=T)e.warnInvalidLengthSemanticTokens(E,T+1);else if(m===E&&b>T)e.warnOverlappingSemanticTokens(E,T+1);else{const H=e.getMetadata(N,V,t);H!==2147483647&&(p===0&&(p=E),h[f]=E-p,h[f+1]=T,h[f+2]=k,h[f+3]=H,f+=4,m=E,b=k)}l=E,c=T,a++}f!==h.length&&(h=h.subarray(0,f));const w=yC.create(p,h);r.push(w)}return r}class i1t{constructor(e,t,i,s){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=s,this.next=null}}class Xd{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=Xd._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Xd._SIZES.length?2/3*this._currentLength:0),this._elements=[],Xd._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const s=this._hashFunc(e,t,i);let o=this._elements[s];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,s){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const o=this._elements;this._currentLengthIndex++,this._currentLength=Xd._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Xd._SIZES.length?2/3*this._currentLength:0),this._elements=[],Xd._nullOutEntries(this._elements,this._currentLength);for(const r of o){let a=r;for(;a;){const l=a.next;a.next=null,this._add(a),a=l}}}this._add(new i1t(e,t,i,s))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}Xd._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];function n1t(n){for(let e=0,t=n.length;e<t;e+=4){const i=n[e+0],s=n[e+1],o=n[e+2],r=n[e+3];n[e+0]=r,n[e+1]=o,n[e+2]=s,n[e+3]=i}}function s1t(n){const e=new Uint8Array(n.buffer,n.byteOffset,n.length*4);return EJ()||n1t(e),Ux.wrap(e)}function cne(n){const e=new Uint32Array(o1t(n));let t=0;if(e[t++]=n.id,n.type==="full")e[t++]=1,e[t++]=n.data.length,e.set(n.data,t),t+=n.data.length;else{e[t++]=2,e[t++]=n.deltas.length;for(const i of n.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return s1t(e)}function o1t(n){let e=0;if(e+=1+1,n.type==="full")e+=1+n.data.length;else{e+=1,e+=(1+1+1)*n.deltas.length;for(const t of n.deltas)t.data&&(e+=t.data.length)}return e}var Ag=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function R5(n){return n&&!!n.data}function une(n){return n&&Array.isArray(n.edits)}class r1t{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function dne(n,e){return n.has(e)}function a1t(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:[]}function hne(n,e,t,i,s){return Ag(this,void 0,void 0,function*(){const o=a1t(n,e),r=yield Promise.all(o.map(a=>Ag(this,void 0,void 0,function*(){let l,c=null;try{l=yield a.provideDocumentSemanticTokens(e,a===t?i:null,s)}catch(u){c=u,l=null}return(!l||!R5(l)&&!une(l))&&(l=null),new r1t(a,l,c)})));for(const a of r){if(a.error)throw a.error;if(a.tokens)return a}return r.length>0?r[0]:null})}function l1t(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:null}class c1t{constructor(e,t){this.provider=e,this.tokens=t}}function u1t(n,e){return n.has(e)}function fne(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:[]}function EF(n,e,t,i){return Ag(this,void 0,void 0,function*(){const s=fne(n,e),o=yield Promise.all(s.map(r=>Ag(this,void 0,void 0,function*(){let a;try{a=yield r.provideDocumentRangeSemanticTokens(e,t,i)}catch(l){$s(l),a=null}return(!a||!R5(a))&&(a=null),new c1t(r,a)})));for(const r of o)if(r.tokens)return r;return o.length>0?o[0]:null})}pi.registerCommand("_provideDocumentSemanticTokensLegend",(n,...e)=>Ag(void 0,void 0,void 0,function*(){const[t]=e;Vi(t instanceof bt);const i=n.get(Nn).getModel(t);if(!i)return;const{documentSemanticTokensProvider:s}=n.get(st),o=l1t(s,i);return o?o[0].getLegend():n.get(ss).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)}));pi.registerCommand("_provideDocumentSemanticTokens",(n,...e)=>Ag(void 0,void 0,void 0,function*(){const[t]=e;Vi(t instanceof bt);const i=n.get(Nn).getModel(t);if(!i)return;const{documentSemanticTokensProvider:s}=n.get(st);if(!dne(s,i))return n.get(ss).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());const o=yield hne(s,i,null,null,Yt.None);if(!o)return;const{provider:r,tokens:a}=o;if(!a||!R5(a))return;const l=cne({id:0,type:"full",data:a.data});return a.resultId&&r.releaseDocumentSemanticTokens(a.resultId),l}));pi.registerCommand("_provideDocumentRangeSemanticTokensLegend",(n,...e)=>Ag(void 0,void 0,void 0,function*(){const[t,i]=e;Vi(t instanceof bt);const s=n.get(Nn).getModel(t);if(!s)return;const{documentRangeSemanticTokensProvider:o}=n.get(st),r=fne(o,s);if(r.length===0)return;if(r.length===1)return r[0].getLegend();if(!i||!A.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),r[0].getLegend();const a=yield EF(o,s,A.lift(i),Yt.None);if(!!a)return a.provider.getLegend()}));pi.registerCommand("_provideDocumentRangeSemanticTokens",(n,...e)=>Ag(void 0,void 0,void 0,function*(){const[t,i]=e;Vi(t instanceof bt),Vi(A.isIRange(i));const s=n.get(Nn).getModel(t);if(!s)return;const{documentRangeSemanticTokensProvider:o}=n.get(st),r=yield EF(o,s,A.lift(i),Yt.None);if(!(!r||!r.tokens))return cne({id:0,type:"full",data:r.tokens.data})}));var IF=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},qo=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function bf(n){return n.toString()}function Lq(n){const e=new Xx,t=n.createSnapshot();let i;for(;i=t.read();)e.update(i);return e.digest()}class d1t{constructor(e,t,i){this._modelEventListeners=new Ie,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(s=>i(e,s)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageId)),this.model.setMode(e.languageId)}}const h1t=So||ai?1:2;class f1t{constructor(e,t,i,s,o,r,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=s,this.heapSize=o,this.sha1=r,this.versionId=a,this.alternativeVersionId=l}}let gL=class Pb extends de{constructor(e,t,i,s,o,r,a,l,c){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=s,this._undoRedoService=o,this._languageService=r,this._languageConfigurationService=a,this._languageFeatureDebounceService=l,this._onModelAdded=this._register(new J),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new J),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new J),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new g1t(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new sA(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,c))}static _readModelOptions(e,t){var i;let s=po.tabSize;if(e.editor&&typeof e.editor.tabSize!="undefined"){const f=parseInt(e.editor.tabSize,10);isNaN(f)||(s=f),s<1&&(s=1)}let o=s;if(e.editor&&typeof e.editor.indentSize!="undefined"&&e.editor.indentSize!=="tabSize"){const f=parseInt(e.editor.indentSize,10);isNaN(f)||(o=f),o<1&&(o=1)}let r=po.insertSpaces;e.editor&&typeof e.editor.insertSpaces!="undefined"&&(r=e.editor.insertSpaces==="false"?!1:Boolean(e.editor.insertSpaces));let a=h1t;const l=e.eol;l===`\r
`?a=2:l===`
`&&(a=1);let c=po.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace!="undefined"&&(c=e.editor.trimAutoWhitespace==="false"?!1:Boolean(e.editor.trimAutoWhitespace));let u=po.detectIndentation;e.editor&&typeof e.editor.detectIndentation!="undefined"&&(u=e.editor.detectIndentation==="false"?!1:Boolean(e.editor.detectIndentation));let d=po.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations!="undefined"&&(d=e.editor.largeFileOptimizations==="false"?!1:Boolean(e.editor.largeFileOptimizations));let h=po.bracketPairColorizationOptions;return((i=e.editor)===null||i===void 0?void 0:i.bracketPairColorization)&&typeof e.editor.bracketPairColorization=="object"&&(h={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:s,indentSize:o,insertSpaces:r,detectIndentation:u,defaultEOL:a,trimAutoWhitespace:c,largeFileOptimizations:d,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:Ka===3||Ka===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){let s=this._modelCreationOptionsByLanguageAndResource[e+t];if(!s){const o=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:t}),r=this._getEOL(t,e);s=Pb._readModelOptions({editor:o,eol:r},i),this._modelCreationOptionsByLanguageAndResource[e+t]=s}return s}_updateModelOptions(){const e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const t=Object.keys(this._models);for(let i=0,s=t.length;i<s;i++){const o=t[i],r=this._models[o],a=r.model.getLanguageId(),l=r.model.uri,c=e[a+l],u=this.getCreationOptions(a,l,r.model.isForSimpleWidget);Pb._setModelOptionsForModel(r.model,u,c)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&nl(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(bf(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(bf(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(bf(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,s)=>i.time-s.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,s){const o=this.getCreationOptions(t,i,s),r=new Ph(e,t,o,i,this._undoRedoService,this._languageService,this._languageConfigurationService);if(i&&this._disposedModels.has(bf(i))){const c=this._removeDisposedModel(i),u=this._undoRedoService.getElements(i),d=Lq(r)===c.sha1;if(d||c.sharesUndoRedoStack){for(const h of u.past)Yd(h)&&h.matchesResource(i)&&h.setModel(r);for(const h of u.future)Yd(h)&&h.matchesResource(i)&&h.setModel(r);this._undoRedoService.setElementsValidFlag(i,!0,h=>Yd(h)&&h.matchesResource(i)),d&&(r._overwriteVersionId(c.versionId),r._overwriteAlternativeVersionId(c.alternativeVersionId),r._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}const a=bf(r.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const l=new d1t(r,c=>this._onWillDispose(c),(c,u)=>this._onDidChangeLanguage(c,u));return this._models[a]=l,l}createModel(e,t,i,s=!1){let o;return t?(o=this._createModelData(e,t.languageId,i,s),this.setMode(o.model,t)):o=this._createModelData(e,ol,i,s),this._onModelAdded.fire(o.model),o.model}setMode(e,t){if(!t)return;const i=this._models[bf(e.uri)];!i||i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,s=t.length;i<s;i++){const o=t[i];e.push(this._models[o].model)}return e}getModel(e){const t=bf(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===Vt.file||e.scheme===Vt.vscodeRemote||e.scheme===Vt.vscodeUserData||e.scheme===Vt.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=bf(e.uri),i=this._models[t],s=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let o=!1,r=0;if(s||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const l=this._undoRedoService.getElements(e.uri);if(l.past.length>0||l.future.length>0){for(const c of l.past)Yd(c)&&c.matchesResource(e.uri)&&(o=!0,r+=c.heapSize(e.uri),c.setModel(e.uri));for(const c of l.future)Yd(c)&&c.matchesResource(e.uri)&&(o=!0,r+=c.heapSize(e.uri),c.setModel(e.uri))}}const a=Pb.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(o)if(!s&&r>a){const l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}else this._ensureDisposedModelsHeapSize(a-r),this._undoRedoService.setElementsValidFlag(e.uri,!1,l=>Yd(l)&&l.matchesResource(e.uri)),this._insertDisposedModel(new f1t(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),s,r,Lq(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!s){const l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,s=e.getLanguageId(),o=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),r=this.getCreationOptions(s,e.uri,e.isForSimpleWidget);Pb._setModelOptionsForModel(e,r,o),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}};gL.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;gL=IF([qo(0,Ci),qo(1,Oee),qo(2,Qi),qo(3,Ql),qo(4,D5),qo(5,In),qo(6,Xn),qo(7,vl),qo(8,st)],gL);const TF="editor.semanticHighlighting";function nA(n,e,t){var i;const s=(i=t.getValue(TF,{overrideIdentifier:n.getLanguageId(),resource:n.uri}))===null||i===void 0?void 0:i.enabled;return typeof s=="boolean"?s:e.getColorTheme().semanticHighlighting}let sA=class extends de{constructor(e,t,i,s,o,r){super(),this._watchers=Object.create(null),this._semanticStyling=e;const a=u=>{this._watchers[u.uri.toString()]=new Fw(u,this._semanticStyling,i,o,r)},l=(u,d)=>{d.dispose(),delete this._watchers[u.uri.toString()]},c=()=>{for(const u of t.getModels()){const d=this._watchers[u.uri.toString()];nA(u,i,s)?d||a(u):d&&l(u,d)}};this._register(t.onModelAdded(u=>{nA(u,i,s)&&a(u)})),this._register(t.onModelRemoved(u=>{const d=this._watchers[u.uri.toString()];d&&l(u,d)})),this._register(s.onDidChangeConfiguration(u=>{u.affectsConfiguration(TF)&&c()})),this._register(i.onDidColorThemeChange(c))}dispose(){for(const e of Object.values(this._watchers))e.dispose();super.dispose()}};sA=IF([qo(1,Nn),qo(2,Qi),qo(3,Ci),qo(4,vl),qo(5,st)],sA);class g1t extends de{constructor(e,t,i){super(),this._themeService=e,this._languageService=t,this._logService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new iA(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}}class p1t{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let Fw=class Np extends de{constructor(e,t,i,s,o){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=t,this._provider=o.documentSemanticTokensProvider,this._debounceInformation=s.for(this._provider,"DocumentSemanticTokens",{min:Np.REQUEST_MIN_DELAY,max:Np.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new Hi(()=>this._fetchDocumentSemanticTokensNow(),Np.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const r=()=>{vi(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const a of this._provider.all(e))typeof a.onDidChange=="function"&&this._documentProvidersChangeListeners.push(a.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};r(),this._register(this._provider.onDidChange(()=>{r(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(a=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!dne(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const e=new ro,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,s=hne(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e;const o=[],r=this._model.onDidChangeContent(l=>{o.push(l)}),a=new yr(!1);s.then(l=>{if(this._debounceInformation.update(this._model,a.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),!l)this._setDocumentSemanticTokens(null,null,null,o);else{const{provider:c,tokens:u}=l,d=this._semanticStyling.get(c);this._setDocumentSemanticTokens(c,u||null,d,o)}},l=>{l&&(cd(l)||typeof l.message=="string"&&l.message.indexOf("busy")!==-1)||Ot(l),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),o.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,i,s,o){o=Math.min(o,i.length-s,e.length-t);for(let r=0;r<o;r++)i[s+r]=e[t+r]}_setDocumentSemanticTokens(e,t,i,s){const o=this._currentDocumentResponse,r=()=>{s.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.tokenization.setSemanticTokens(null,!1);return}if(!t){this._model.tokenization.setSemanticTokens(null,!0),r();return}if(une(t)){if(!o){this._model.tokenization.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:o.data};else{let a=0;for(const h of t.edits)a+=(h.data?h.data.length:0)-h.deleteCount;const l=o.data,c=new Uint32Array(l.length+a);let u=l.length,d=c.length;for(let h=t.edits.length-1;h>=0;h--){const f=t.edits[h];if(f.start>l.length){i.warnInvalidEditStart(o.resultId,t.resultId,h,f.start,l.length),this._model.tokenization.setSemanticTokens(null,!0);return}const p=u-(f.start+f.deleteCount);p>0&&(Np._copy(l,u-p,c,d-p,p),d-=p),f.data&&(Np._copy(f.data,0,c,d-f.data.length,f.data.length),d-=f.data.length),u=f.start}u>0&&Np._copy(l,0,c,0,u),t={resultId:t.resultId,data:c}}}if(R5(t)){this._currentDocumentResponse=new p1t(e,t.resultId,t.data);const a=lne(t,i,this._model.getLanguageId());if(s.length>0)for(const l of s)for(const c of a)for(const u of l.changes)c.applyEdit(u.range,u.text);this._model.tokenization.setSemanticTokens(a,!0)}else this._model.tokenization.setSemanticTokens(null,!0);r()}};Fw.REQUEST_MIN_DELAY=300;Fw.REQUEST_MAX_DELAY=2e3;Fw=IF([qo(2,Qi),qo(3,vl),qo(4,st)],Fw);const m1t=new RegExp(`(\\\\)?\\$\\((${Go.iconNameExpression}(?:${Go.iconModifierExpression})?)\\)`,"g");function bm(n){const e=new Array;let t,i=0,s=0;for(;(t=m1t.exec(n))!==null;){s=t.index||0,e.push(n.substring(i,s)),i=(t.index||0)+t[0].length;const[,o,r]=t;e.push(o?`$(${r})`:_1t({id:r}))}return i<n.length&&e.push(n.substring(i)),e}function _1t(n){const e=Ne("span");return e.classList.add(...Go.asClassNameArray(n)),e}const v1t={buttonBackground:re.fromHex("#0E639C"),buttonHoverBackground:re.fromHex("#006BB3"),buttonSeparator:re.white,buttonForeground:re.white};class xq extends de{constructor(e,t){super(),this._onDidClick=this._register(new J),this.options=t||Object.create(null),ld(this.options,v1t,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(Fi.addTarget(this._element)),[Qe.CLICK,rn.Tap].forEach(i=>{this._register(xe(this._element,i,s=>{if(!this.enabled){Oi.stop(s);return}this._onDidClick.fire(s)}))}),this._register(xe(this._element,Qe.KEY_DOWN,i=>{const s=new gn(i);let o=!1;this.enabled&&(s.equals(3)||s.equals(10))?(this._onDidClick.fire(i),o=!0):s.equals(9)&&(this._element.blur(),o=!0),o&&Oi.stop(s,!0)})),this._register(xe(this._element,Qe.MOUSE_OVER,i=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(xe(this._element,Qe.MOUSE_OUT,i=>{this.applyStyles()})),this.focusTracker=this._register(Vm(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;this.options.secondary?e=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:e=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?xg(this._element,...bm(e)):this._element.textContent=e,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}const b1t={badgeBackground:re.fromHex("#4D4D4D"),badgeForeground:re.fromHex("#FFFFFF")};class oA{constructor(e,t){this.count=0,this.options=t||Object.create(null),ld(this.options,b1t,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Le(e,Ne(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=Qa(this.countFormat,this.count),this.element.title=Qa(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}const Dq="done",kq="active",jI="infinite",KI="infinite-long-running",Eq="discrete",C1t={progressBarBackground:re.fromHex("#0E70C0")};class O5 extends de{constructor(e,t){super(),this.options=t||Object.create(null),ld(this.options,C1t,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new Hi(()=>da(this.element),0)),this.longRunningScheduler=this._register(new Hi(()=>this.infiniteLongRunning(),O5.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(kq,jI,KI,Eq),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(Dq),this.element.classList.contains(jI)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Eq,Dq,KI),this.element.classList.add(kq,jI),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(KI)}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}O5.LONG_RUNNING_INFINITE_THRESHOLD=1e4;class NF{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const gne=new NF("id#");const qI={},w1t=new NF("quick-input-button-icon-");function rA(n){if(!n)return;let e;const t=n.dark.toString();return qI[t]?e=qI[t]:(e=w1t.nextId(),sM(`.${e}, .hc-light .${e}`,`background-image: ${Wm(n.light||n.dark)}`),sM(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${Wm(n.dark)}`),qI[t]=e),e}const y1t={ctrlCmd:!1,alt:!1};var Bw;(function(n){n[n.Blur=1]="Blur",n[n.Gesture=2]="Gesture",n[n.Other=3]="Other"})(Bw||(Bw={}));var _c;(function(n){n[n.NONE=0]="NONE",n[n.FIRST=1]="FIRST",n[n.SECOND=2]="SECOND",n[n.LAST=3]="LAST"})(_c||(_c={}));function S1t(n,e){const t=MF(e);return t.textContent=n,t}function pne(n,e={}){const t=MF(e);return mne(t,x1t(n,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function MF(n){const e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}class L1t{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function mne(n,e,t,i){let s;if(e.type===2)s=document.createTextNode(e.content||"");else if(e.type===3)s=document.createElement("b");else if(e.type===4)s=document.createElement("i");else if(e.type===7&&i)s=document.createElement("code");else if(e.type===5&&t){const o=document.createElement("a");t.disposables.add(Ns(o,"click",r=>{t.callback(String(e.index),r)})),s=o}else e.type===8?s=document.createElement("br"):e.type===1&&(s=n);s&&n!==s&&n.appendChild(s),s&&Array.isArray(e.children)&&e.children.forEach(o=>{mne(s,o,t,i)})}function x1t(n,e){const t={type:1,children:[]};let i=0,s=t;const o=[],r=new L1t(n);for(;!r.eos();){let a=r.next();const l=a==="\\"&&aA(r.peek(),e)!==0;if(l&&(a=r.next()),!l&&D1t(a,e)&&a===r.peek()){r.advance(),s.type===2&&(s=o.pop());const c=aA(a,e);if(s.type===c||s.type===5&&c===6)s=o.pop();else{const u={type:c,children:[]};c===5&&(u.index=i,i++),s.children.push(u),o.push(s),s=u}}else if(a===`
`)s.type===2&&(s=o.pop()),s.children.push({type:8});else if(s.type!==2){const c={type:2,content:a};s.children.push(c),o.push(s),s=c}else s.content+=a}return s.type===2&&(s=o.pop()),t}function D1t(n,e){return aA(n,e)!==0}function aA(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}class k1t{constructor(e,t=0,i=e.length,s=t-1){this.items=e,this.start=t,this.end=i,this.index=s}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class E1t{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new k1t(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const ab=Ne,I1t={inputBackground:re.fromHex("#3C3C3C"),inputForeground:re.fromHex("#CCCCCC"),inputValidationInfoBorder:re.fromHex("#55AAFF"),inputValidationInfoBackground:re.fromHex("#063B49"),inputValidationWarningBorder:re.fromHex("#B89500"),inputValidationWarningBackground:re.fromHex("#352A05"),inputValidationErrorBorder:re.fromHex("#BE1100"),inputValidationErrorBackground:re.fromHex("#5A1D1D")};class _ne extends Jl{constructor(e,t,i){var s;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new J),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new J),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),ld(this.options,I1t,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(s=this.options.tooltip)!==null&&s!==void 0?s:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=Le(e,ab(".monaco-inputbox.idle"));const o=this.options.flexibleHeight?"textarea":"input",r=Le(this.element,ab(".ibwrapper"));if(this.input=Le(r,ab(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Le(r,ab("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new Xte(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),Le(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(c=>this.input.scrollTop=c.scrollTop));const a=this._register(new Yi(document,"selectionchange")),l=ct.filter(a.event,()=>{const c=document.getSelection();return(c==null?void 0:c.anchorNode)===r});this._register(l(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new nd(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:nM(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return Rl(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){const i=parseFloat(this.mirror.style.paddingLeft||"")||0,s=parseFloat(this.mirror.style.paddingRight||"")||0;t=i+s}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=Rl(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:s=>{if(!this.message)return null;e=Le(s,ab(".monaco-inputbox-container")),t();const o={inline:!0,className:"monaco-inputbox-message"},r=this.message.formatContent?pne(this.message.content,o):S1t(this.message.content,o);r.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return r.style.backgroundColor=a.background?a.background.toString():"",r.style.color=a.foreground?a.foreground.toString():"",r.style.border=a.border?`1px solid ${a.border}`:"",Le(e,r),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=v("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=v("alertWarningMessage","Warning: {0}",this.message.content):i=v("alertInfoMessage","Info: {0}",this.message.content),no(i),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="\xA0",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=nM(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,s=t.selectionEnd,o=t.value;i!==null&&s!==null&&(this.value=o.substr(0,i)+e+o.substr(s),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class vne extends _ne{constructor(e,t,i){const s=v({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),o=` or \u21C5 ${s}`,r=` (\u21C5 ${s})`;super(e,t,i),this._onDidFocus=this._register(new J),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new J),this.onDidBlur=this._onDidBlur.event,this.history=new E1t(i.history,100);const a=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){const l=this.placeholder.endsWith(")")?o:r,c=this.placeholder+l;i.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=c:this.setPlaceHolder(c)}};this.observer=new MutationObserver((l,c)=>{l.forEach(u=>{u.target.textContent||a()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>a()),this.onblur(this.input,()=>{const l=c=>{if(this.placeholder.endsWith(c)){const u=this.placeholder.slice(0,this.placeholder.length-c.length);return i.showPlaceholderOnFocus?this.placeholder=u:this.setPlaceHolder(u),!0}else return!1};l(r)||l(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,y8(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,y8(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}const T1t=Ne;class N1t extends de{constructor(e){super(),this.parent=e,this.onKeyDown=t=>xe(this.inputBox.inputElement,Qe.KEY_DOWN,i=>{t(new gn(i))}),this.onMouseDown=t=>xe(this.inputBox.inputElement,Qe.MOUSE_DOWN,i=>{t(new Pu(i))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=Le(this.parent,T1t(".quick-input-box")),this.inputBox=this._register(new _ne(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return this.inputBox.inputElement.type==="password"}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===xn.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===xn.Info?1:e===xn.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===xn.Info?1:e===xn.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}class Gm{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(i=t==null?void 0:t.supportIcons)!==null&&i!==void 0?i:!1,this.domNode=Le(e,Ne("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",s){e||(e=""),s&&(e=Gm.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&nl(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const r=this.text.substring(t,i.start);e.push(Ne("span",void 0,...this.supportIcons?bm(r):[r])),t=i.end}const s=this.text.substring(i.start,i.end),o=Ne("span.highlight",void 0,...this.supportIcons?bm(s):[s]);i.extraClasses&&o.classList.add(...i.extraClasses),e.push(o),t=i.end}if(t<this.text.length){const i=this.text.substring(t);e.push(Ne("span",void 0,...this.supportIcons?bm(i):[i]))}xg(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,s=0;return e.replace(/\r\n|\r|\n/g,(o,r)=>{s=o===`\r
`?-1:0,r+=i;for(const a of t)a.end<=r||(a.start>=r&&(a.start+=s),a.end>=r&&(a.end+=s));return i+=s,"\u23CE"})}}class GI{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class pL extends de{constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new GI(Le(e,Ne(".monaco-icon-label")))),this.labelContainer=Le(this.domNode.element,Ne(".monaco-icon-label-container"));const i=Le(this.labelContainer,Ne("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new GI(Le(this.labelContainer,Ne("span.monaco-icon-description-container")))),(t==null?void 0:t.supportHighlights)||(t==null?void 0:t.supportIcons)?this.nameNode=new R1t(i,!!t.supportIcons):this.nameNode=new M1t(i),t!=null&&t.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new Gm(Le(this.descriptionContainer.element,Ne("span.label-description")),{supportIcons:!!t.supportIcons}):this.descriptionNodeFactory=()=>this._register(new GI(Le(this.descriptionContainer.element,Ne("span.label-description")))),this.hoverDelegate=t==null?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){const s=["monaco-icon-label"];i&&(i.extraClasses&&s.push(...i.extraClasses),i.italic&&s.push("italic"),i.strikethrough&&s.push("strikethrough")),this.domNode.className=s.join(" "),this.setupHover(i!=null&&i.descriptionTitle?this.labelContainer:this.element,i==null?void 0:i.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof Gm?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,i==null?void 0:i.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(i==null?void 0:i.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(!this.hoverDelegate)D_t(e,t);else{const s=Fie(this.hoverDelegate,e,t);s&&this.customHovers.set(e,s)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class M1t{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&nl(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=Le(this.container,Ne("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const s=e[i],o=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${i}`;Le(this.container,Ne("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},s)),i<e.length-1&&Le(this.container,Ne("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}}function A1t(n,e,t){if(!t)return;let i=0;return n.map(s=>{const o={start:i,end:i+s.length},r=t.map(a=>ho.intersect(o,a)).filter(a=>!ho.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=o.end+e.length,r})}class R1t{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&nl(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new Gm(Le(this.container,Ne("a.label-name",{id:t==null?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(t==null?void 0:t.separator)||"/",s=A1t(e,i,t==null?void 0:t.matches);for(let o=0;o<e.length;o++){const r=e[o],a=s?s[o]:void 0,l=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${o}`,c=Ne("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new Gm(Le(this.container,c),{supportIcons:this.supportIcons}).set(r,a,void 0,t==null?void 0:t.labelEscapeNewLines),o<e.length-1&&Le(c,Ne("span.label-separator",void 0,i))}}}}const g3=Ne;class AF{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=Le(e,g3(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&AF.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){const[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(Le(this.domNode,g3("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){xs(this.domNode),this.keyElements.clear()}renderPart(e,t,i){const s=SF.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,s.ctrlKey,Boolean(i==null?void 0:i.ctrlKey),s.separator),t.shiftKey&&this.renderKey(e,s.shiftKey,Boolean(i==null?void 0:i.shiftKey),s.separator),t.altKey&&this.renderKey(e,s.altKey,Boolean(i==null?void 0:i.altKey),s.separator),t.metaKey&&this.renderKey(e,s.metaKey,Boolean(i==null?void 0:i.metaKey),s.separator);const o=t.keyLabel;o&&this.renderKey(e,o,Boolean(i==null?void 0:i.keyCode),"")}renderKey(e,t,i,s){Le(e,this.createKeyElement(t,i?".highlight":"")),s&&Le(e,g3("span.monaco-keybinding-key-separator",void 0,s))}renderUnbound(e){Le(e,this.createKeyElement(v("unbound","Unbound")))}createKeyElement(e,t=""){const i=g3("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=(e=this.labelBackground)===null||e===void 0?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&nl(e.firstPart,t.firstPart)&&nl(e.chordPart,t.chordPart)}}const Iq=new og(()=>{const n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:n,collatorIsNumeric:n.resolvedOptions().numeric}});new og(()=>({collator:new Intl.Collator(void 0,{numeric:!0})}));new og(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function O1t(n,e,t){const i=n||"",s=e||"",o=Iq.value.collator.compare(i,s);return Iq.value.collatorIsNumeric&&o===0&&i!==s?i<s?-1:1:o}function P1t(n,e,t){const i=n.toLowerCase(),s=e.toLowerCase(),o=F1t(n,e,t);if(o)return o;const r=i.endsWith(t),a=s.endsWith(t);if(r!==a)return r?-1:1;const l=O1t(i,s);return l!==0?l:i.localeCompare(s)}function F1t(n,e,t){const i=n.toLowerCase(),s=e.toLowerCase(),o=i.startsWith(t),r=s.startsWith(t);if(o!==r)return o?-1:1;if(o&&r){if(i.length<s.length)return-1;if(i.length>s.length)return 1}return 0}var bne=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},B1t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const vu=Ne;class V1t{constructor(e){this.hidden=!1,this._onChecked=new J,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class qy{get templateId(){return qy.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=Le(e,vu(".quick-input-list-entry"));const i=Le(t.entry,vu("label.quick-input-list-label"));t.toDisposeTemplate.push(Ns(i,Qe.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=Le(i,vu("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(Ns(t.checkbox,Qe.CHANGE,c=>{t.element.checked=t.checkbox.checked}));const s=Le(i,vu(".quick-input-list-rows")),o=Le(s,vu(".quick-input-list-row")),r=Le(s,vu(".quick-input-list-row"));t.label=new pL(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const a=Le(o,vu(".quick-input-list-entry-keybinding"));t.keybinding=new AF(a,Ka);const l=Le(r,vu(".quick-input-list-label-meta"));return t.detail=new pL(l,{supportHighlights:!0,supportIcons:!0}),t.separator=Le(t.entry,vu(".quick-input-list-separator")),t.actionBar=new nd(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=vi(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(c=>i.checkbox.checked=c));const{labelHighlights:s,descriptionHighlights:o,detailHighlights:r}=e,a=Object.create(null);a.matches=s||[],a.descriptionTitle=e.saneDescription,a.descriptionMatches=o||[],a.extraClasses=e.item.iconClasses,a.italic=e.item.italic,a.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,a),i.keybinding.set(e.item.keybinding),e.saneDetail&&i.detail.setLabel(e.saneDetail,void 0,{matches:r,title:e.saneDetail}),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();const l=e.item.buttons;l&&l.length?(i.actionBar.push(l.map((c,u)=>{let d=c.iconClass||(c.iconPath?rA(c.iconPath):void 0);c.alwaysVisible&&(d=d?`${d} always-visible`:"always-visible");const h=new $r(`id-${u}`,"",d,!0,()=>B1t(this,void 0,void 0,function*(){e.fireButtonTriggered({button:c,item:e.item})}));return h.tooltip=c.tooltip||"",h}),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=vi(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=vi(e.toDisposeElement),e.toDisposeTemplate=vi(e.toDisposeTemplate)}}qy.ID="listelement";class W1t{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return qy.ID}}var es;(function(n){n[n.First=1]="First",n[n.Second=2]="Second",n[n.Last=3]="Last",n[n.Next=4]="Next",n[n.Previous=5]="Previous",n[n.NextPage=6]="NextPage",n[n.PreviousPage=7]="PreviousPage"})(es||(es={}));class RF{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new J,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new J,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new J,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new J,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new J,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new J,this.onKeyDown=this._onKeyDown.event,this._onLeave=new J,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=Le(this.parent,vu(".quick-input-list"));const s=new W1t,o=new z1t;this.list=i.createList("QuickInput",this.container,s,[new qy],{identityProvider:{getId:r=>r.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:o}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(r=>{const a=new gn(r);switch(a.keyCode){case 10:this.toggleCheckbox();break;case 31:(ai?r.metaKey:r.ctrlKey)&&this.list.setFocus(Uo(this.list.length));break;case 16:{const l=this.list.getFocus();l.length===1&&l[0]===0&&this._onLeave.fire();break}case 18:{const l=this.list.getFocus();l.length===1&&l[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(a)})),this.disposables.push(this.list.onMouseDown(r=>{r.browserEvent.button!==2&&r.browserEvent.preventDefault()})),this.disposables.push(xe(this.container,Qe.CLICK,r=>{(r.x||r.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(r=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(r=>{typeof r.index=="number"&&(r.browserEvent.preventDefault(),this.list.setSelection([r.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return ct.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return ct.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,s=e.length;i<s;i++){const o=e[i];if(!o.hidden)if(o.checked)t=!0;else return!1}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,s=t.length;i<s;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,s=t.length;i<s;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=vi(this.elementDisposables);const t=i=>this.fireButtonTriggered(i);this.inputElements=e,this.elements=e.reduce((i,s,o)=>{var r,a,l;if(s.type!=="separator"){const c=o&&e[o-1],u=s.label&&s.label.replace(/\r?\n/g," "),d=v0(u).text.trim(),h=s.meta&&s.meta.replace(/\r?\n/g," "),f=s.description&&s.description.replace(/\r?\n/g," "),p=s.detail&&s.detail.replace(/\r?\n/g," "),m=s.ariaLabel||[u,f,p].map(w=>hrt(w)).filter(w=>!!w).join(", "),b=this.parent.classList.contains("show-checkboxes");i.push(new V1t({hasCheckbox:b,index:o,item:s,saneLabel:u,saneSortLabel:d,saneMeta:h,saneAriaLabel:m,saneDescription:f,saneDetail:p,labelHighlights:(r=s.highlights)===null||r===void 0?void 0:r.label,descriptionHighlights:(a=s.highlights)===null||a===void 0?void 0:a.description,detailHighlights:(l=s.highlights)===null||l===void 0?void 0:l.detail,checked:!1,separator:c&&c.type==="separator"?c:void 0,fireButtonTriggered:t}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(i=>i.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((i,s,o)=>(i.set(s.item,o),i),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const i of this.elements)i.checked=t.has(i.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===es.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=es.First),e===es.Previous&&this.list.getFocus()[0]===0&&(e=es.Last),e===es.Second&&this.list.length<2&&(e=es.First),e){case es.First:this.list.focusFirst();break;case es.Second:this.list.focusNth(1);break;case es.Last:this.list.focusLast();break;case es.Next:this.list.focusNext();break;case es.Previous:this.list.focusPrevious();break;case es.NextPage:this.list.focusNextPage();break;case es.PreviousPage:this.list.focusPreviousPage();break}const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${Math.floor(e/44)*44}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const t=e;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(s=>{s.labelHighlights=void 0,s.descriptionHighlights=void 0,s.detailHighlights=void 0,s.hidden=!1;const o=s.index&&this.inputElements[s.index-1];s.separator=o&&o.type==="separator"?o:void 0});else{let s;this.elements.forEach(o=>{let r;this.matchOnLabelMode==="fuzzy"?r=this.matchOnLabel?hr(n3(e,v0(o.saneLabel))):void 0:r=this.matchOnLabel?hr(H1t(t,v0(o.saneLabel))):void 0;const a=this.matchOnDescription?hr(n3(e,v0(o.saneDescription||""))):void 0,l=this.matchOnDetail?hr(n3(e,v0(o.saneDetail||""))):void 0,c=this.matchOnMeta?hr(n3(e,v0(o.saneMeta||""))):void 0;if(r||a||l||c?(o.labelHighlights=r,o.descriptionHighlights=a,o.detailHighlights=l,o.hidden=!1):(o.labelHighlights=void 0,o.descriptionHighlights=void 0,o.detailHighlights=void 0,o.hidden=!o.item.alwaysShow),o.separator=void 0,!this.sortByLabel){const u=o.index&&this.inputElements[o.index-1];s=u&&u.type==="separator"?u:s,s&&!o.hidden&&(o.separator=s,s=void 0)}})}const i=this.elements.filter(s=>!s.hidden);if(this.sortByLabel&&e){const s=e.toLowerCase();i.sort((o,r)=>$1t(o,r,s))}return this.elementsToIndexes=i.reduce((s,o,r)=>(s.set(o.item,r),s),new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=vi(this.elementDisposables),this.disposables=vi(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}bne([ps],RF.prototype,"onDidChangeFocus",null);bne([ps],RF.prototype,"onDidChangeSelection",null);function H1t(n,e){const{text:t,iconOffsets:i}=e;if(!i||i.length===0)return Tq(n,t);const s=Wx(t," "),o=t.length-s.length,r=Tq(n,s);if(r)for(const a of r){const l=i[a.start+o]+o;a.start+=l,a.end+=l}return r}function Tq(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t!==-1?[{start:t,end:t+n.length}]:null}function $1t(n,e,t){const i=n.labelHighlights||[],s=e.labelHighlights||[];return i.length&&!s.length?-1:!i.length&&s.length?1:i.length===0&&s.length===0?0:P1t(n.saneSortLabel,e.saneSortLabel,t)}class z1t{getWidgetAriaLabel(){return v("quickInput","Quick Input")}getAriaLabel(e){var t;return!((t=e.separator)===null||t===void 0)&&t.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(!!e.hasCheckbox)return{value:e.checked,onDidChange:e.onChecked}}}var Nq=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const ea=Ne,lA={iconClass:C.quickInputBack.classNames,tooltip:v("quickInput.back","Back"),handle:-1};class P5 extends de{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=P5.noPromptMessage,this._severity=xn.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new J),this.onDidHideEmitter=this._register(new J),this.onDisposeEmitter=this._register(new J),this.visibleDisposables=this._register(new Ie),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!Xu;this._ignoreFocusOut=e&&!Xu,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(e=Bw.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new La,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const s=this.buttons.filter(r=>r===lA);this.ui.leftActionBar.push(s.map((r,a)=>{const l=new $r(`id-${a}`,"",r.iconClass||rA(r.iconPath),!0,()=>Nq(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(r)}));return l.tooltip=r.tooltip||"",l}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const o=this.buttons.filter(r=>r!==lA);this.ui.rightActionBar.push(o.map((r,a)=>{const l=new $r(`id-${a}`,"",r.iconClass||rA(r.iconPath),!0,()=>Nq(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(r)}));return l.tooltip=r.tooltip||"",l}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,xg(this.ui.message,...bm(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?v("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==xn.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}P5.noPromptMessage=v("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Vw extends P5{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new J),this.onWillAcceptEmitter=this._register(new J),this.onDidAcceptEmitter=this._register(new J),this.onDidCustomEmitter=this._register(new J),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?_c.NONE:_c.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new J),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new J),this.onDidTriggerItemButtonEmitter=this._register(new J),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?y1t:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(es.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(es.Next),this.canSelectMany&&this.ui.list.domFocus(),Oi.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(es.Previous):this.ui.list.focus(es.Last),this.canSelectMany&&this.ui.list.domFocus(),Oi.stop(e,!0);break;case 12:this.ui.list.focus(es.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Oi.stop(e,!0);break;case 11:this.ui.list.focus(es.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Oi.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(es.First),Oi.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(es.Last),Oi.stop(e,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&va(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&va(e,this._selectedItems,(i,s)=>i===s)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&va(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return xe(this.ui.container,Qe.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new gn(e),i=t.keyCode;this._quickNavigate.keybindings.some(r=>{const[a,l]=r.getParts();return l?!1:a.shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a.altKey&&i===6||a.ctrlKey&&i===5||a.metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);const i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let s=this.ariaLabel;if(s||(s=this.placeholder||Vw.DEFAULT_ARIA_LABEL,this.title&&(s+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==s&&(this.ui.inputBox.ariaLabel=s),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case _c.NONE:this._itemActivation=_c.FIRST;break;case _c.SECOND:this.ui.list.focus(es.Second),this._itemActivation=_c.FIRST;break;case _c.LAST:this.ui.list.focus(es.Last),this._itemActivation=_c.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(es.First)),this.keepScrollPosition&&(this.scrollTop=e)}}Vw.DEFAULT_ARIA_LABEL=v("quickInputBox.ariaLabel","Type to narrow down results.");class F5 extends de{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new J),this.onDidCustomEmitter=this._register(new J),this.onDidTriggerButtonEmitter=this._register(new J),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new J),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new J),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=t=>{this.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,this.keyMods.alt=t.altKey};this._register(xe(window,Qe.KEY_DOWN,e,!0)),this._register(xe(window,Qe.KEY_UP,e,!0)),this._register(xe(window,Qe.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=Le(this.parentElement,ea(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=ul(e),i=Le(e,ea(".quick-input-titlebar")),s=this._register(new nd(i));s.domNode.classList.add("quick-input-left-action-bar");const o=Le(i,ea(".quick-input-title")),r=this._register(new nd(i));r.domNode.classList.add("quick-input-right-action-bar");const a=Le(e,ea(".quick-input-description")),l=Le(e,ea(".quick-input-header")),c=Le(l,ea("input.quick-input-check-all"));c.type="checkbox",c.setAttribute("aria-label",v("quickInput.checkAll","Toggle all checkboxes")),this._register(Ns(c,Qe.CHANGE,V=>{const H=c.checked;x.setAllVisibleChecked(H)})),this._register(xe(c,Qe.CLICK,V=>{(V.x||V.y)&&f.setFocus()}));const u=Le(l,ea(".quick-input-description")),d=Le(l,ea(".quick-input-and-message")),h=Le(d,ea(".quick-input-filter")),f=this._register(new N1t(h));f.setAttribute("aria-describedby",`${this.idPrefix}message`);const p=Le(h,ea(".quick-input-visible-count"));p.setAttribute("aria-live","polite"),p.setAttribute("aria-atomic","true");const m=new oA(p,{countFormat:v({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),b=Le(h,ea(".quick-input-count"));b.setAttribute("aria-live","polite");const w=new oA(b,{countFormat:v({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),y=Le(l,ea(".quick-input-action")),L=new xq(y);L.label=v("ok","OK"),this._register(L.onDidClick(V=>{this.onDidAcceptEmitter.fire()}));const D=Le(l,ea(".quick-input-action")),E=new xq(D);E.label=v("custom","Custom"),this._register(E.onDidClick(V=>{this.onDidCustomEmitter.fire()}));const T=Le(d,ea(`#${this.idPrefix}message.quick-input-message`)),x=this._register(new RF(e,this.idPrefix+"list",this.options));this._register(x.onChangedAllVisibleChecked(V=>{c.checked=V})),this._register(x.onChangedVisibleCount(V=>{m.setCount(V)})),this._register(x.onChangedCheckedCount(V=>{w.setCount(V)})),this._register(x.onLeave(()=>{setTimeout(()=>{f.setFocus(),this.controller instanceof Vw&&this.controller.canSelectMany&&x.clearFocus()},0)})),this._register(x.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const k=new O5(e);k.getContainer().classList.add("quick-input-progress");const N=Vm(e);return this._register(N),this._register(xe(e,Qe.FOCUS,V=>{this.previousFocusElement=V.relatedTarget instanceof HTMLElement?V.relatedTarget:void 0},!0)),this._register(N.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Bw.Blur),this.previousFocusElement=void 0})),this._register(xe(e,Qe.FOCUS,V=>{f.setFocus()})),this._register(xe(e,Qe.KEY_DOWN,V=>{const H=new gn(V);switch(H.keyCode){case 3:Oi.stop(V,!0),this.onDidAcceptEmitter.fire();break;case 9:Oi.stop(V,!0),this.hide(Bw.Gesture);break;case 2:if(!H.altKey&&!H.ctrlKey&&!H.metaKey){const G=[".action-label.codicon"];e.classList.contains("show-checkboxes")?G.push("input"):G.push("input[type=text]"),this.getUI().list.isDisplayed()&&G.push(".monaco-list");const te=e.querySelectorAll(G.join(", "));H.shiftKey&&H.target===te[0]?(Oi.stop(V,!0),te[te.length-1].focus()):!H.shiftKey&&H.target===te[te.length-1]&&(Oi.stop(V,!0),te[0].focus())}break}})),this.ui={container:e,styleSheet:t,leftActionBar:s,titleBar:i,title:o,description1:a,description2:u,rightActionBar:r,checkAll:c,filterContainer:h,inputBox:f,visibleCountContainer:p,visibleCount:m,countContainer:b,count:w,okContainer:y,ok:L,message:T,customButtonContainer:D,customButton:E,list:x,progressBar:k,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:V=>this.show(V),hide:()=>this.hide(),setVisibilities:V=>this.setVisibilities(V),setComboboxAccessibility:V=>this.setComboboxAccessibility(V),setEnabled:V=>this.setEnabled(V),setContextKey:V=>this.options.setContextKey(V)},this.updateStyles(),this.ui}pick(e,t={},i=Yt.None){return new Promise((s,o)=>{let r=u=>{var d;r=s,(d=t.onKeyMods)===null||d===void 0||d.call(t,a.keyMods),s(u)};if(i.isCancellationRequested){r(void 0);return}const a=this.createQuickPick();let l;const c=[a,a.onDidAccept(()=>{if(a.canSelectMany)r(a.selectedItems.slice()),a.hide();else{const u=a.activeItems[0];u&&(r(u),a.hide())}}),a.onDidChangeActive(u=>{const d=u[0];d&&t.onDidFocus&&t.onDidFocus(d)}),a.onDidChangeSelection(u=>{if(!a.canSelectMany){const d=u[0];d&&(r(d),a.hide())}}),a.onDidTriggerItemButton(u=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},u),{removeItem:()=>{const d=a.items.indexOf(u.item);if(d!==-1){const h=a.items.slice(),f=h.splice(d,1),p=a.activeItems.filter(b=>b!==f[0]),m=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=h,p&&(a.activeItems=p),a.keepScrollPosition=m}}}))),a.onDidChangeValue(u=>{l&&!u&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{vi(c),r(void 0)})];a.title=t.title,a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.autoFocusOnList=t.autoFocusOnList===void 0||t.autoFocusOnList,a.quickNavigate=t.quickNavigate,a.hideInput=!!t.hideInput,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([u,d])=>{l=d,a.busy=!1,a.items=u,a.canSelectMany&&(a.selectedItems=u.filter(h=>h.type!=="separator"&&h.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,u=>{o(u),a.hide()})})}createQuickPick(){const e=this.getUI();return new Vw(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(xn.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),xg(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const s=this.options.backKeybindingLabel();lA.tooltip=s?v("quickInput.backWithKeybinding","Back ({0})",s):v("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const i=this.controller;if(i){const s=!(!((t=this.ui)===null||t===void 0)&&t.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!s){let o=this.previousFocusElement;for(;o&&!o.offsetParent;)o=hr(o.parentElement);o!=null&&o.offsetParent?(o.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}i.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,F5.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:s,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=s?`1px solid ${s}`:"",this.ui.container.style.boxShadow=o?`0 0 8px 2px ${o}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const r=[];this.styles.list.pickerGroupBorder&&r.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&r.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(r.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&r.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&r.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&r.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&r.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&r.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),r.push("}"));const a=r.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}}F5.MAX_WIDTH=600;class U1t{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(s=>s.splice(e,t,i))}}class b0 extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function Mq(n,e){const t=[];for(const i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;const s=ho.intersect(n,i.range);ho.isEmpty(s)||t.push({range:s,size:i.size})}return t}function cA({start:n,end:e},t){return{start:n+t,end:e+t}}function j1t(n){const e=[];let t=null;for(const i of n){const s=i.range.start,o=i.range.end,r=i.size;if(t&&r===t.size){t.range.end=o;continue}t={range:{start:s,end:o},size:r},e.push(t)}return e}function K1t(...n){return j1t(n.reduce((e,t)=>e.concat(t),[]))}class Aq{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const s=i.length-t,o=Mq({start:0,end:e},this.groups),r=Mq({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:cA(l.range,s),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=K1t(o,a,r),this._size=this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(const s of this.groups){const o=s.range.end-s.range.start,r=i+o*s.size;if(e<r)return t+Math.floor((e-i)/s.size);t+=o,i=r}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(const s of this.groups){const o=s.range.end-s.range.start,r=i+o;if(e<r)return t+(e-i)*s.size;t+=o*s.size,i=r}return-1}}function q1t(n){var e;try{(e=n.parentElement)===null||e===void 0||e.removeChild(n)}catch{}}class G1t{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const i=Ne(".monaco-list-row"),o=this.getRenderer(e).renderTemplate(i);t={domNode:i,templateId:e,templateData:o}}return t}release(e){!e||this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),q1t(t)),this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var Zg=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o};const fu={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class Gy{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class Y1t{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class Z1t{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}function X1t(n,e){return Array.isArray(n)&&Array.isArray(e)?va(n,e):n===e}class Q1t{constructor(e){e!=null&&e.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,s)=>s,e!=null&&e.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e!=null&&e.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e!=null&&e.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}class ec{constructor(e,t,i,s=fu){var o,r,a,l,c,u,d,h,f,p;if(this.virtualDelegate=t,this.domId=`list_id_${++ec.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new ed(50),this.splicing=!1,this.dragOverAnimationStopDisposable=de.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=de.None,this.onDragLeaveTimeout=de.None,this.disposables=new Ie,this._onDidChangeContentHeight=new J,this._horizontalScrolling=!1,s.horizontalScrolling&&s.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new Aq;for(const b of i)this.renderers.set(b.templateId,b);this.cache=this.disposables.add(new G1t(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof s.mouseSupport=="boolean"?s.mouseSupport:!0),this._horizontalScrolling=(o=s.horizontalScrolling)!==null&&o!==void 0?o:fu.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof s.additionalScrollHeight=="undefined"?0:s.additionalScrollHeight,this.accessibilityProvider=new Q1t(s.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((r=s.transformOptimization)!==null&&r!==void 0?r:fu.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(Fi.addTarget(this.rowsContainer)),this.scrollable=new Hy({forceIntegerValues:!0,smoothScrollDuration:(a=s.smoothScrolling)!==null&&a!==void 0&&a?125:0,scheduleAtNextAnimationFrame:b=>$c(b)}),this.scrollableElement=this.disposables.add(new zP(this.rowsContainer,{alwaysConsumeMouseWheel:(l=s.alwaysConsumeMouseWheel)!==null&&l!==void 0?l:fu.alwaysConsumeMouseWheel,horizontal:1,vertical:(c=s.verticalScrollMode)!==null&&c!==void 0?c:fu.verticalScrollMode,useShadows:(u=s.useShadows)!==null&&u!==void 0?u:fu.useShadows,mouseWheelScrollSensitivity:s.mouseWheelScrollSensitivity,fastScrollSensitivity:s.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(xe(this.rowsContainer,rn.Change,b=>this.onTouchChange(b))),this.disposables.add(xe(this.scrollableElement.getDomNode(),"scroll",b=>b.target.scrollTop=0)),this.disposables.add(xe(this.domNode,"dragover",b=>this.onDragOver(this.toDragEvent(b)))),this.disposables.add(xe(this.domNode,"drop",b=>this.onDrop(this.toDragEvent(b)))),this.disposables.add(xe(this.domNode,"dragleave",b=>this.onDragLeave(this.toDragEvent(b)))),this.disposables.add(xe(this.domNode,"dragend",b=>this.onDragEnd(b))),this.setRowLineHeight=(d=s.setRowLineHeight)!==null&&d!==void 0?d:fu.setRowLineHeight,this.setRowHeight=(h=s.setRowHeight)!==null&&h!==void 0?h:fu.setRowHeight,this.supportDynamicHeights=(f=s.supportDynamicHeights)!==null&&f!==void 0?f:fu.supportDynamicHeights,this.dnd=(p=s.dnd)!==null&&p!==void 0?p:fu.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:aI(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling),e.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const s=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},r=ho.intersect(s,o),a=new Map;for(let T=r.end-1;T>=r.start;T--){const x=this.items[T];if(x.dragStartDisposable.dispose(),x.checkedDisposable.dispose(),x.row){let k=a.get(x.templateId);k||(k=[],a.set(x.templateId,k));const N=this.renderers.get(x.templateId);N&&N.disposeElement&&N.disposeElement(x.element,T,x.row.templateData,x.size),k.push(x.row)}x.row=null}const l={start:e+t,end:this.items.length},c=ho.intersect(l,s),u=ho.relativeComplement(l,s),d=i.map(T=>({id:String(this.itemId++),element:T,templateId:this.virtualDelegate.getTemplateId(T),size:this.virtualDelegate.getHeight(T),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(T),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:de.None,checkedDisposable:de.None}));let h;e===0&&t>=this.items.length?(this.rangeMap=new Aq,this.rangeMap.splice(0,0,d),h=this.items,this.items=d):(this.rangeMap.splice(e,t,d),h=this.items.splice(e,t,...d));const f=i.length-t,p=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),m=cA(c,f),b=ho.intersect(p,m);for(let T=b.start;T<b.end;T++)this.updateItemInDOM(this.items[T],T);const w=ho.relativeComplement(m,p);for(const T of w)for(let x=T.start;x<T.end;x++)this.removeItemFromDOM(x);const y=u.map(T=>cA(T,f)),D=[{start:e,end:e+i.length},...y].map(T=>ho.intersect(p,T)),E=this.getNextToLastElement(D);for(const T of D)for(let x=T.start;x<T.end;x++){const k=this.items[x],N=a.get(k.templateId),V=N==null?void 0:N.pop();this.insertItemInDOM(x,E,V)}for(const T of a.values())for(const x of T)this.cache.release(x);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map(T=>T.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=$c(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width!="undefined"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10})}rerender(){if(!!this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const i={height:typeof e=="number"?e:Hct(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t!="undefined"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:aI(this.domNode)})}render(e,t,i,s,o,r=!1){const a=this.getRenderRange(t,i),l=ho.relativeComplement(a,e),c=ho.relativeComplement(e,a),u=this.getNextToLastElement(l);if(r){const d=ho.intersect(e,a);for(let h=d.start;h<d.end;h++)this.updateItemInDOM(this.items[h],h)}for(const d of l)for(let h=d.start;h<d.end;h++)this.insertItemInDOM(h,u);for(const d of c)for(let h=d.start;h<d.end;h++)this.removeItemFromDOM(h);s!==void 0&&(this.rowsContainer.style.left=`-${s}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&o!==void 0&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const s=this.items[e];s.row||(s.row=i!=null?i:this.cache.alloc(s.templateId));const o=this.accessibilityProvider.getRole(s.element)||"listitem";s.row.domNode.setAttribute("role",o);const r=this.accessibilityProvider.isChecked(s.element);if(typeof r=="boolean")s.row.domNode.setAttribute("aria-checked",String(!!r));else if(r){const c=u=>s.row.domNode.setAttribute("aria-checked",String(!!u));c(r.value),s.checkedDisposable=r.onDidChange(c)}s.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(s.row.domNode,t):this.rowsContainer.appendChild(s.row.domNode)),this.updateItemInDOM(s,e);const a=this.renderers.get(s.templateId);if(!a)throw new Error(`No renderer found for template id ${s.templateId}`);a==null||a.renderElement(s.element,e,s.row.templateData,s.size);const l=this.dnd.getDragURI(s.element);s.dragStartDisposable.dispose(),s.row.domNode.draggable=!!l,l&&(s.dragStartDisposable=xe(s.row.domNode,"dragstart",c=>this.onDragStart(s.element,l,c))),this.horizontalScrolling&&(this.measureItemWidth(s),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=wa?"-moz-fit-content":"fit-content",e.width=aI(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return ct.map(this.disposables.add(new Yi(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return ct.map(this.disposables.add(new Yi(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return ct.filter(ct.map(this.disposables.add(new Yi(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseDown(){return ct.map(this.disposables.add(new Yi(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return ct.map(this.disposables.add(new Yi(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return ct.any(ct.map(this.disposables.add(new Yi(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),ct.map(this.disposables.add(new Yi(this.domNode,rn.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return ct.map(this.disposables.add(new Yi(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return ct.map(this.disposables.add(new Yi(this.rowsContainer,rn.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],s=i&&i.element;return{browserEvent:e,index:t,element:s}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],s=i&&i.element;return{browserEvent:e,index:t,element:s}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t=="undefined"?void 0:this.items[t],s=i&&i.element;return{browserEvent:e,index:t,element:s}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],s=i&&i.element;return{browserEvent:e,index:t,element:s}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){var s,o;if(!i.dataTransfer)return;const r=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(Uy.TEXT,t),i.dataTransfer.setDragImage){let a;this.dnd.getDragLabel&&(a=this.dnd.getDragLabel(r,i)),typeof a=="undefined"&&(a=String(r.length));const l=Ne(".monaco-drag-image");l.textContent=a,document.body.appendChild(l),i.dataTransfer.setDragImage(l,-10,-10),setTimeout(()=>document.body.removeChild(l),0)}this.currentDragData=new Gy(r),wp.CurrentDragAndDropData=new Y1t(r),(o=(s=this.dnd).onDragStart)===null||o===void 0||o.call(s,this.currentDragData,i)}onDragOver(e){var t;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),wp.CurrentDragAndDropData&&wp.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(wp.CurrentDragAndDropData)this.currentDragData=wp.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new Z1t}const i=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=typeof i=="boolean"?i:i.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof i!="boolean"&&i.effect===0?"copy":"move";let s;if(typeof i!="boolean"&&i.feedback?s=i.feedback:typeof e.index=="undefined"?s=[-1]:s=[e.index],s=Nh(s).filter(o=>o>=-1&&o<this.length).sort((o,r)=>o-r),s=s[0]===-1?[-1]:s,X1t(this.currentDragFeedback,s))return!0;if(this.currentDragFeedback=s,this.currentDragFeedbackDisposable.dispose(),s[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=jt(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const o of s){const r=this.items[o];r.dropTarget=!0,(t=r.row)===null||t===void 0||t.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=jt(()=>{var o;for(const r of s){const a=this.items[r];a.dropTarget=!1,(o=a.row)===null||o===void 0||o.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Pm(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((i=(t=this.dnd).onDragLeave)===null||i===void 0||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,wp.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){var t,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,wp.CurrentDragAndDropData=void 0,(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=de.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=Jee(this.domNode).top;this.dragOverAnimationDisposable=Gct(this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Pm(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const s=i.getAttribute("data-index");if(s){const o=Number(s);if(!isNaN(o))return o}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const s=this.getRenderRange(e,t);let o,r;e===this.elementTop(s.start)?(o=s.start,r=0):s.end-s.start>1&&(o=s.start+1,r=this.elementTop(o)-e);let a=0;for(;;){const l=this.getRenderRange(e,t);let c=!1;for(let u=l.start;u<l.end;u++){const d=this.probeDynamicHeight(u);d!==0&&this.rangeMap.splice(u,1,[this.items[u]]),a+=d,c=c||d!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();const u=ho.relativeComplement(s,l);for(const h of u)for(let f=h.start;f<h.end;f++)this.items[f].row&&this.removeItemFromDOM(f);const d=ho.relativeComplement(l,s);for(const h of d)for(let f=h.start;f<h.end;f++){const p=f+1,m=p<this.items.length?this.items[p].row:null,b=m?m.domNode:null;this.insertItemInDOM(f,b)}for(let h=l.start;h<l.end;h++)this.items[h].row&&this.updateItemInDOM(this.items[h],h);if(typeof o=="number"){const h=this.scrollable.getFutureScrollPosition().scrollTop-e,f=this.elementTop(o)-r+h;this.setScrollTop(f,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){var t,i,s;const o=this.items[e];if(this.virtualDelegate.getDynamicHeight){const c=this.virtualDelegate.getDynamicHeight(o.element);if(c!==null){const u=o.size;return o.size=c,o.lastDynamicHeightWidth=this.renderWidth,c-u}}if(!o.hasDynamicHeight||o.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(o.element))return 0;const r=o.size;if(!this.setRowHeight&&o.row){const c=o.row.domNode.offsetHeight;return o.size=c,o.lastDynamicHeightWidth=this.renderWidth,c-r}const a=this.cache.alloc(o.templateId);a.domNode.style.height="",this.rowsContainer.appendChild(a.domNode);const l=this.renderers.get(o.templateId);return l&&(l.renderElement(o.element,e,a.templateData,void 0),(t=l.disposeElement)===null||t===void 0||t.call(l,o.element,e,a.templateData,void 0)),o.size=a.domNode.offsetHeight,(s=(i=this.virtualDelegate).setDynamicHeight)===null||s===void 0||s.call(i,o.element,o.size),o.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(a.domNode),this.cache.release(a),o.size-r}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return!i||!i.row?null:i.row.domNode}getElementDomId(e){return`${this.domId}_${e}`}dispose(){var e;if(this.items){for(const t of this.items)if(t.row){const i=this.renderers.get(t.row.templateId);i&&((e=i.disposeElement)===null||e===void 0||e.call(i,t.element,-1,t.row.templateData,void 0),i.disposeTemplate(t.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),vi(this.disposables)}}ec.InstanceCount=0;Zg([ps],ec.prototype,"onMouseClick",null);Zg([ps],ec.prototype,"onMouseDblClick",null);Zg([ps],ec.prototype,"onMouseMiddleClick",null);Zg([ps],ec.prototype,"onMouseDown",null);Zg([ps],ec.prototype,"onMouseOver",null);Zg([ps],ec.prototype,"onContextMenu",null);Zg([ps],ec.prototype,"onTouchStart",null);Zg([ps],ec.prototype,"onTap",null);var A_=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Rq=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class J1t{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){const s=this.renderedElements.findIndex(o=>o.templateData===i);if(s>=0){const o=this.renderedElements[s];this.trait.unrender(i),o.index=t}else{const o={index:t,templateData:i};this.renderedElements.push(o)}this.trait.renderIndex(t,i)}splice(e,t,i){const s=[];for(const o of this.renderedElements)o.index<e?s.push(o):o.index>=e+t&&s.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=s}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}class mL{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new J,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new J1t(this)}splice(e,t,i){var s;t=Math.max(0,Math.min(t,this.length-e));const o=i.length-t,r=e+t,a=[...this.sortedIndexes.filter(c=>c<e),...i.map((c,u)=>c?u+e:-1).filter(c=>c!==-1),...this.sortedIndexes.filter(c=>c>=r).map(c=>c+o)],l=this.length+o;if(this.sortedIndexes.length>0&&a.length===0&&l>0){const c=(s=this.sortedIndexes.find(u=>u>=e))!==null&&s!==void 0?s:l-1;a.push(Math.min(c,l-1))}this.renderer.splice(e,t,i.length),this._set(a,a),this.length=l}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(Pq),t)}_set(e,t,i){const s=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const r=uA(o,e);return this.renderer.renderIndexes(r),this._onChange.fire({indexes:e,browserEvent:i}),s}get(){return this.indexes}contains(e){return OO(this.sortedIndexes,e,Pq)>=0}dispose(){vi(this._onChange)}}A_([ps],mL.prototype,"renderer",null);class evt extends mL{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class YI{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));const s=this.trait.get().map(r=>this.identityProvider.getId(this.view.element(r)).toString()),o=i.map(r=>s.indexOf(this.identityProvider.getId(r).toString())>-1);this.trait.splice(e,t,o)}}function Ym(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}function l1(n){return n.classList.contains("monaco-editor")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:l1(n.parentElement)}function Cne(n){return n.tagName==="A"&&n.classList.contains("monaco-button")||n.tagName==="DIV"&&n.classList.contains("monaco-button-dropdown")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:Cne(n.parentElement)}class wne{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new Ie,this.multipleSelectionDisposables=new Ie,this.onKeyDown.filter(s=>s.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(s=>s.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(s=>s.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(s=>s.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(s=>s.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(s=>s.keyCode===9).on(this.onEscape,this,this.disposables),i.multipleSelectionSupport!==!1&&this.onKeyDown.filter(s=>(ai?s.metaKey:s.ctrlKey)&&s.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(ct.chain(this.disposables.add(new Yi(this.view.domNode,"keydown")).event).filter(e=>!Ym(e.target)).map(e=>new gn(e)))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(t=>(ai?t.metaKey:t.ctrlKey)&&t.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Uo(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}A_([ps],wne.prototype,"onKeyDown",null);var dg;(function(n){n[n.Automatic=0]="Automatic",n[n.Trigger=1]="Trigger"})(dg||(dg={}));var c1;(function(n){n[n.Idle=0]="Idle",n[n.Typing=1]="Typing"})(c1||(c1={}));const tvt=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=93&&n.keyCode<=102||n.keyCode>=80&&n.keyCode<=90}};class ivt{constructor(e,t,i,s,o){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=s,this.delegate=o,this.enabled=!1,this.state=c1.Idle,this.mode=dg.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new Ie,this.disposables=new Ie,this.updateOptions(e.options)}updateOptions(e){var t,i;!((t=e.typeNavigationEnabled)!==null&&t!==void 0)||t?this.enable():this.disable(),this.mode=(i=e.typeNavigationMode)!==null&&i!==void 0?i:dg.Automatic}enable(){if(this.enabled)return;let e=!1;const t=this.enabledDisposables.add(ct.chain(this.enabledDisposables.add(new Yi(this.view.domNode,"keydown")).event)).filter(o=>!Ym(o.target)).filter(()=>this.mode===dg.Automatic||this.triggered).map(o=>new gn(o)).filter(o=>e||this.keyboardNavigationEventFilter(o)).filter(o=>this.delegate.mightProducePrintableCharacter(o)).forEach(NM).map(o=>o.browserEvent.key).event,i=ct.debounce(t,()=>null,800,void 0,void 0,this.enabledDisposables);ct.reduce(ct.any(t,i),(o,r)=>r===null?null:(o||"")+r,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=(e=this.list.options.accessibilityProvider)===null||e===void 0?void 0:e.getAriaLabel(this.list.element(t[0]));i&&no(i)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=c1.Idle,this.triggered=!1;return}const t=this.list.getFocus(),i=t.length>0?t[0]:0,s=this.state===c1.Idle?1:0;this.state=c1.Typing;for(let o=0;o<this.list.length;o++){const r=(i+o+s)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(r)),l=a&&a.toString();if(typeof l=="undefined"||E5(e,l)){this.previouslyFocused=i,this.list.setFocus([r]),this.list.reveal(r);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class nvt{constructor(e,t){this.list=e,this.view=t,this.disposables=new Ie,this.disposables.add(ct.chain(this.disposables.add(new Yi(t.domNode,"keydown")).event)).filter(s=>!Ym(s.target)).map(s=>new gn(s)).filter(s=>s.keyCode===2&&!s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const i=this.view.domElement(t[0]);if(!i)return;const s=i.querySelector("[tabIndex]");if(!s||!(s instanceof HTMLElement)||s.tabIndex===-1)return;const o=window.getComputedStyle(s);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),s.focus())}dispose(){this.disposables.dispose()}}function yne(n){return ai?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function Sne(n){return n.browserEvent.shiftKey}function svt(n){return n instanceof MouseEvent&&n.button===2}const Oq={isSelectionSingleChangeEvent:yne,isSelectionRangeChangeEvent:Sne};class Lne{constructor(e){this.list=e,this.disposables=new Ie,this._onPointer=new J,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Oq),this.mouseSupport=typeof e.options.mouseSupport=="undefined"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Fi.addTarget(e.getHTMLElement()))),ct.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Oq))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){l1(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(l1(e.browserEvent.target))return;const t=typeof e.index=="undefined"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||Ym(e.browserEvent.target)||l1(e.browserEvent.target))return;const t=e.index;if(typeof t=="undefined"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(e))return this.changeSelection(e);if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),svt(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(Ym(e.browserEvent.target)||l1(e.browserEvent.target)||this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(typeof i=="undefined"){const u=this.list.getFocus()[0];i=u!=null?u:t,this.list.setAnchor(i)}const s=Math.min(i,t),o=Math.max(i,t),r=Uo(s,o+1),a=this.list.getSelection(),l=avt(uA(a,[i]),i);if(l.length===0)return;const c=uA(r,lvt(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const s=this.list.getSelection(),o=s.filter(r=>r!==t);this.list.setFocus([t]),this.list.setAnchor(t),s.length===o.length?this.list.setSelection([...o,t],e.browserEvent):this.list.setSelection(o,e.browserEvent)}}dispose(){this.disposables.dispose()}}class xne{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):ai||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionOutline&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { outline-color: ${e.listFocusAndSelectionOutline} !important; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }
			`),e.tableColumnsBorder&&i.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
			}`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}}const ovt={listFocusBackground:re.fromHex("#7FB0D0"),listActiveSelectionBackground:re.fromHex("#0E639C"),listActiveSelectionForeground:re.fromHex("#FFFFFF"),listActiveSelectionIconForeground:re.fromHex("#FFFFFF"),listFocusAndSelectionOutline:re.fromHex("#90C2F9"),listFocusAndSelectionBackground:re.fromHex("#094771"),listFocusAndSelectionForeground:re.fromHex("#FFFFFF"),listInactiveSelectionBackground:re.fromHex("#3F3F46"),listInactiveSelectionIconForeground:re.fromHex("#FFFFFF"),listHoverBackground:re.fromHex("#2A2D2E"),listDropBackground:re.fromHex("#383B3D"),treeIndentGuidesStroke:re.fromHex("#a9a9a9"),tableColumnsBorder:re.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:re.fromHex("#cccccc").transparent(.04)},rvt={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function avt(n,e){const t=n.indexOf(e);if(t===-1)return[];const i=[];let s=t-1;for(;s>=0&&n[s]===e-(t-s);)i.push(n[s--]);for(i.reverse(),s=t;s<n.length&&n[s]===e+(s-t);)i.push(n[s++]);return i}function uA(n,e){const t=[];let i=0,s=0;for(;i<n.length||s<e.length;)if(i>=n.length)t.push(e[s++]);else if(s>=e.length)t.push(n[i++]);else if(n[i]===e[s]){t.push(n[i]),i++,s++;continue}else n[i]<e[s]?t.push(n[i++]):t.push(e[s++]);return t}function lvt(n,e){const t=[];let i=0,s=0;for(;i<n.length||s<e.length;)if(i>=n.length)t.push(e[s++]);else if(s>=e.length)t.push(n[i++]);else if(n[i]===e[s]){i++,s++;continue}else n[i]<e[s]?t.push(n[i++]):s++;return t}const Pq=(n,e)=>n-e;class cvt{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,s){let o=0;for(const r of this.renderers)r.renderElement(e,t,i[o++],s)}disposeElement(e,t,i,s){var o;let r=0;for(const a of this.renderers)(o=a.disposeElement)===null||o===void 0||o.call(a,e,t,i[r],s),r+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class uvt{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const s=this.accessibilityProvider.getAriaLabel(e);s?i.setAttribute("aria-label",s):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class dvt{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,s;(s=(i=this.dnd).onDragStart)===null||s===void 0||s.call(i,e,t)}onDragOver(e,t,i,s){return this.dnd.onDragOver(e,t,i,s)}onDragLeave(e,t,i,s){var o,r;(r=(o=this.dnd).onDragLeave)===null||r===void 0||r.call(o,e,t,i,s)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}drop(e,t,i,s){this.dnd.drop(e,t,i,s)}}class eu{constructor(e,t,i,s,o=rvt){var r,a,l,c;this.user=e,this._options=o,this.focus=new mL("focused"),this.anchor=new mL("anchor"),this.eventBufferer=new HO,this._ariaLabel="",this.disposables=new Ie,this._onDidDispose=new J,this.onDidDispose=this._onDidDispose.event;const u=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(r=this._options.accessibilityProvider)===null||r===void 0?void 0:r.getWidgetRole():"list";this.selection=new evt(u!=="listbox"),ld(o,ovt,!1);const d=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(d.push(new uvt(this.accessibilityProvider)),(l=(a=this.accessibilityProvider).onDidChangeActiveDescendant)===null||l===void 0||l.call(a,this.onDidChangeActiveDescendant,this,this.disposables)),s=s.map(f=>new cvt(f.templateId,[...d,f]));const h=Object.assign(Object.assign({},o),{dnd:o.dnd&&new dvt(this,o.dnd)});if(this.view=new ec(t,i,s,h),this.view.domNode.setAttribute("role",u),o.styleController)this.styleController=o.styleController(this.view.domId);else{const f=ul(this.view.domNode);this.styleController=new xne(f,this.view.domId)}if(this.spliceable=new U1t([new YI(this.focus,this.view,o.identityProvider),new YI(this.selection,this.view,o.identityProvider),new YI(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new nvt(this,this.view)),(typeof o.keyboardSupport!="boolean"||o.keyboardSupport)&&(this.keyboardController=new wne(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){const f=o.keyboardNavigationDelegate||tvt;this.typeNavigationController=new ivt(this,this.view,o.keyboardNavigationLabelProvider,(c=o.keyboardNavigationEventFilter)!==null&&c!==void 0?c:()=>!0,f),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return ct.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return ct.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=this.disposables.add(ct.chain(this.disposables.add(new Yi(this.view.domNode,"keydown")).event)).map(o=>new gn(o)).filter(o=>e=o.keyCode===58||o.shiftKey&&o.keyCode===68).map(NM).filter(()=>!1).event,i=this.disposables.add(ct.chain(this.disposables.add(new Yi(this.view.domNode,"keyup")).event)).forEach(()=>e=!1).map(o=>new gn(o)).filter(o=>o.keyCode===58||o.shiftKey&&o.keyCode===68).map(NM).map(({browserEvent:o})=>{const r=this.getFocus(),a=r.length?r[0]:void 0,l=typeof a!="undefined"?this.view.element(a):void 0,c=typeof a!="undefined"?this.view.domElement(a):this.view.domNode;return{index:a,element:l,anchor:c,browserEvent:o}}).event,s=this.disposables.add(ct.chain(this.view.onContextMenu)).filter(o=>!e).map(({element:o,index:r,browserEvent:a})=>({element:o,index:r,anchor:{x:a.pageX+1,y:a.pageY},browserEvent:a})).event;return ct.any(t,i,s)}get onKeyDown(){return this.disposables.add(new Yi(this.view.domNode,"keydown")).event}get onDidFocus(){return ct.signal(this.disposables.add(new Yi(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new Lne(this)}updateOptions(e={}){var t,i;this._options=Object.assign(Object.assign({},this._options),e),(t=this.typeNavigationController)===null||t===void 0||t.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(i=this.keyboardController)===null||i===void 0||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new b0(this.user,`Invalid start index: ${e}`);if(t<0)throw new b0(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new b0(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e=="undefined"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new b0(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return OJ(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e=="undefined"?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new b0(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,s){if(this.length===0)return;const o=this.focus.get(),r=this.findNextIndex(o.length>0?o[0]+e:0,t,s);r>-1&&this.setFocus([r],i)}focusPrevious(e=1,t=!1,i,s){if(this.length===0)return;const o=this.focus.get(),r=this.findPreviousIndex(o.length>0?o[0]-e:0,t,s);r>-1&&this.setFocus([r],i)}focusNextPage(e,t){return Rq(this,void 0,void 0,function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;const s=this.getFocus()[0];if(s!==i&&(s===void 0||i>s)){const o=this.findPreviousIndex(i,!1,t);o>-1&&s!==o?this.setFocus([o],e):this.setFocus([i],e)}else{const o=this.view.getScrollTop();let r=o+this.view.renderHeight;i>s&&(r-=this.view.elementHeight(i)),this.view.setScrollTop(r),this.view.getScrollTop()!==o&&(this.setFocus([]),yield Lg(0),yield this.focusNextPage(e,t))}})}focusPreviousPage(e,t){return Rq(this,void 0,void 0,function*(){let i;const s=this.view.getScrollTop();s===0?i=this.view.indexAt(s):i=this.view.indexAfter(s-1);const o=this.getFocus()[0];if(o!==i&&(o===void 0||o>=i)){const r=this.findNextIndex(i,!1,t);r>-1&&o!==r?this.setFocus([r],e):this.setFocus([i],e)}else{const r=s;this.view.setScrollTop(s-this.view.renderHeight),this.view.getScrollTop()!==r&&(this.setFocus([]),yield Lg(0),yield this.focusPreviousPage(e,t))}})}focusLast(e,t){if(this.length===0)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;const s=this.findNextIndex(e,!1,i);s>-1&&this.setFocus([s],t)}findNextIndex(e,t=!1,i){for(let s=0;s<this.length;s++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let s=0;s<this.length;s++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new b0(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),s=this.view.elementTop(e),o=this.view.elementHeight(e);if(wg(t)){const r=o-this.view.renderHeight;this.view.setScrollTop(r*Ar(t,0,1)+s)}else{const r=s+o,a=i+this.view.renderHeight;s<i&&r>=a||(s<i||r>=a&&o>=this.view.renderHeight?this.view.setScrollTop(s):r>=a&&this.view.setScrollTop(r-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(e){return this.view.getElementDomId(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;!((e=this.accessibilityProvider)===null||e===void 0)&&e.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}A_([ps],eu.prototype,"onDidChangeFocus",null);A_([ps],eu.prototype,"onDidChangeSelection",null);A_([ps],eu.prototype,"onContextMenu",null);A_([ps],eu.prototype,"onKeyDown",null);A_([ps],eu.prototype,"onDidFocus",null);class hvt{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:de.None}}renderElement(e,t,i,s){if(i.disposable&&i.disposable.dispose(),!i.data)return;const o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,i.data,s);const r=new ro,a=o.resolve(e,r.token);i.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,s))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class fvt{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function gvt(n,e){return Object.assign(Object.assign({},e),{accessibilityProvider:e.accessibilityProvider&&new fvt(n,e.accessibilityProvider)})}class pvt{constructor(e,t,i,s,o={}){const r=()=>this.model,a=s.map(l=>new hvt(l,r));this.list=new eu(e,t,i,a,gvt(r,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return ct.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return ct.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return ct.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(s=>this._model.get(s)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Uo(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}const mvt={separatorBorder:re.transparent};class Dne{constructor(e,t,i,s){this.container=e,this.view=t,this.disposable=s,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(e,t){var i,s;e!==this.visible&&(e?(this.size=Ar(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e),(s=(i=this.view).setVisible)===null||s===void 0||s.call(i,e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class _vt extends Dne{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class vvt extends Dne{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var Ud;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(Ud||(Ud={}));var _L;(function(n){n.Distribute={type:"distribute"};function e(i){return{type:"split",index:i}}n.Split=e;function t(i){return{type:"invisible",cachedVisibleSize:i}}n.Invisible=t})(_L||(_L={}));class kne extends de{constructor(e,t={}){var i,s,o,r,a;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Ud.Idle,this._onDidSashChange=this._register(new J),this._onDidSashReset=this._register(new J),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(i=t.orientation)!==null&&i!==void 0?i:0,this.inverseAltBehavior=(s=t.inverseAltBehavior)!==null&&s!==void 0?s:!1,this.proportionalLayout=(o=t.proportionalLayout)!==null&&o!==void 0?o:!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=Le(this.el,Ne(".sash-container")),this.viewContainer=Ne(".split-view-container"),this.scrollable=new Hy({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:$c}),this.scrollableElement=this._register(new zP(this.viewContainer,{vertical:this.orientation===0?(r=t.scrollbarVisibility)!==null&&r!==void 0?r:1:2,horizontal:this.orientation===1?(a=t.scrollbarVisibility)!==null&&a!==void 0?a:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(l=>{this.viewContainer.scrollTop=l.scrollTop,this.viewContainer.scrollLeft=l.scrollLeft})),Le(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||mvt),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((l,c)=>{const u=Br(l.visible)||l.visible?l.size:{type:"invisible",cachedVisibleSize:l.size},d=l.view;this.doAddView(d,u,c,!0)}),this.contentSize=this.viewItems.reduce((l,c)=>l+c.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,s){this.doAddView(e,t,i,s)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let s=0;s<this.viewItems.length;s++){const o=this.viewItems[s];o.size=Ar(Math.round(this.proportions[s]*e),o.minimumSize,o.maximumSize)}else{const s=Uo(this.viewItems.length),o=s.filter(a=>this.viewItems[a].priority===1),r=s.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,o,r)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:i}){for(const a of this.viewItems)a.enabled=!1;const s=this.sashItems.findIndex(a=>a.sash===e),o=$u(xe(document.body,"keydown",a=>r(this.sashDragState.current,a.altKey)),xe(document.body,"keyup",()=>r(this.sashDragState.current,!1))),r=(a,l)=>{const c=this.viewItems.map(p=>p.size);let u=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(s===this.sashItems.length-1){const m=this.viewItems[s];u=(m.minimumSize-m.size)/2,d=(m.maximumSize-m.size)/2}else{const m=this.viewItems[s+1];u=(m.size-m.maximumSize)/2,d=(m.size-m.minimumSize)/2}let h,f;if(!l){const p=Uo(s,-1),m=Uo(s+1,this.viewItems.length),b=p.reduce((k,N)=>k+(this.viewItems[N].minimumSize-c[N]),0),w=p.reduce((k,N)=>k+(this.viewItems[N].viewMaximumSize-c[N]),0),y=m.length===0?Number.POSITIVE_INFINITY:m.reduce((k,N)=>k+(c[N]-this.viewItems[N].minimumSize),0),L=m.length===0?Number.NEGATIVE_INFINITY:m.reduce((k,N)=>k+(c[N]-this.viewItems[N].viewMaximumSize),0),D=Math.max(b,L),E=Math.min(y,w),T=this.findFirstSnapIndex(p),x=this.findFirstSnapIndex(m);if(typeof T=="number"){const k=this.viewItems[T],N=Math.floor(k.viewMinimumSize/2);h={index:T,limitDelta:k.visible?D-N:D+N,size:k.size}}if(typeof x=="number"){const k=this.viewItems[x],N=Math.floor(k.viewMinimumSize/2);f={index:x,limitDelta:k.visible?E+N:E-N,size:k.size}}}this.sashDragState={start:a,current:a,index:s,sizes:c,minDelta:u,maxDelta:d,alt:l,snapBefore:h,snapAfter:f,disposable:o}};r(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:s,alt:o,minDelta:r,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;const u=e-i,d=this.resize(t,u,s,void 0,void 0,r,a,l,c);if(o){const h=t===this.sashItems.length-1,f=this.viewItems.map(L=>L.size),p=h?t:t+1,m=this.viewItems[p],b=m.size-m.maximumSize,w=m.size-m.minimumSize,y=h?t-1:t+1;this.resize(y,-d,f,void 0,void 0,b,w)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=Ar(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==Ud.Idle)throw new Error("Cant modify splitview");if(this.state=Ud.Busy,e<0||e>=this.viewItems.length)return;const i=Uo(this.viewItems.length).filter(a=>a!==e),s=[...i.filter(a=>this.viewItems[a].priority===1),e],o=i.filter(a=>this.viewItems[a].priority===2),r=this.viewItems[e];t=Math.round(t),t=Ar(t,r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=t,this.relayout(s,o),this.state=Ud.Idle}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const i=Math.floor(t/e.length);for(const a of e)a.size=Ar(i,a.minimumSize,a.maximumSize);const s=Uo(this.viewItems.length),o=s.filter(a=>this.viewItems[a].priority===1),r=s.filter(a=>this.viewItems[a].priority===2);this.relayout(o,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,s){if(this.state!==Ud.Idle)throw new Error("Cant modify splitview");this.state=Ud.Busy;const o=Ne(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));const r=e.onDidChange(h=>this.onViewChange(u,h)),a=jt(()=>this.viewContainer.removeChild(o)),l=$u(r,a);let c;typeof t=="number"?c=t:t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize;const u=this.orientation===0?new _vt(o,e,c,l):new vvt(o,e,c,l);if(this.viewItems.splice(i,0,u),this.viewItems.length>1){const h={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},f=this.orientation===0?new fo(this.sashContainer,{getHorizontalSashTop:k=>this.getSashPosition(k),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},h),{orientation:1})):new fo(this.sashContainer,{getVerticalSashLeft:k=>this.getSashPosition(k),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},h),{orientation:0})),p=this.orientation===0?k=>({sash:f,start:k.startY,current:k.currentY,alt:k.altKey}):k=>({sash:f,start:k.startX,current:k.currentX,alt:k.altKey}),b=ct.map(f.onDidStart,p)(this.onSashStart,this),y=ct.map(f.onDidChange,p)(this.onSashChange,this),D=ct.map(f.onDidEnd,()=>this.sashItems.findIndex(k=>k.sash===f))(this.onSashEnd,this),E=f.onDidReset(()=>{const k=this.sashItems.findIndex(te=>te.sash===f),N=Uo(k,-1),V=Uo(k+1,this.viewItems.length),H=this.findFirstSnapIndex(N),G=this.findFirstSnapIndex(V);typeof H=="number"&&!this.viewItems[H].visible||typeof G=="number"&&!this.viewItems[G].visible||this._onDidSashReset.fire(k)}),T=$u(b,y,D,E,f),x={sash:f,disposable:T};this.sashItems.splice(i-1,0,x)}o.appendChild(e.element);let d;typeof t!="number"&&t.type==="split"&&(d=[t.index]),s||this.relayout([i],d),this.state=Ud.Idle,!s&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce((s,o)=>s+o.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(u=>u.size),s,o,r=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;const u=Uo(e,-1),d=Uo(e+1,this.viewItems.length);if(o)for(const x of o)BE(u,x),BE(d,x);if(s)for(const x of s)DS(u,x),DS(d,x);const h=u.map(x=>this.viewItems[x]),f=u.map(x=>i[x]),p=d.map(x=>this.viewItems[x]),m=d.map(x=>i[x]),b=u.reduce((x,k)=>x+(this.viewItems[k].minimumSize-i[k]),0),w=u.reduce((x,k)=>x+(this.viewItems[k].maximumSize-i[k]),0),y=d.length===0?Number.POSITIVE_INFINITY:d.reduce((x,k)=>x+(i[k]-this.viewItems[k].minimumSize),0),L=d.length===0?Number.NEGATIVE_INFINITY:d.reduce((x,k)=>x+(i[k]-this.viewItems[k].maximumSize),0),D=Math.max(b,L,r),E=Math.min(y,w,a);let T=!1;if(l){const x=this.viewItems[l.index],k=t>=l.limitDelta;T=k!==x.visible,x.setVisible(k,l.size)}if(!T&&c){const x=this.viewItems[c.index],k=t<c.limitDelta;T=k!==x.visible,x.setVisible(k,c.size)}if(T)return this.resize(e,t,i,s,o,r,a);t=Ar(t,D,E);for(let x=0,k=t;x<h.length;x++){const N=h[x],V=Ar(f[x]+k,N.minimumSize,N.maximumSize);k-=V-f[x],N.size=V}for(let x=0,k=t;x<p.length;x++){const N=p[x],V=Ar(m[x]-k,N.minimumSize,N.maximumSize);k+=V-m[x],N.size=V}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,l)=>a+l.size,0);let i=this.size-t;const s=Uo(this.viewItems.length-1,-1),o=s.filter(a=>this.viewItems[a].priority===1),r=s.filter(a=>this.viewItems[a].priority===2);for(const a of r)BE(s,a);for(const a of o)DS(s,a);typeof e=="number"&&DS(s,e);for(let a=0;i!==0&&a<s.length;a++){const l=this.viewItems[s[a]],c=Ar(l.size+i,l.minimumSize,l.maximumSize);i-=c-l.size,l.size=c}}layoutViews(){this.contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),s=[...this.viewItems].reverse();e=!1;const o=s.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const r=s.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:c}=this.sashItems[l];a+=this.viewItems[l].size;const d=!(t[l]&&r[l+1]),h=!(i[l]&&o[l+1]);if(d&&h){const f=Uo(l,-1),p=Uo(l+1,this.viewItems.length),m=this.findFirstSnapIndex(f),b=this.findFirstSnapIndex(p),w=typeof m=="number"&&!this.viewItems[m].visible,y=typeof b=="number"&&!this.viewItems[b].visible;w&&o[l]&&(a>0||this.startSnappingEnabled)?c.state=1:y&&t[l]&&(a<this.contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else d&&!h?c.state=1:!d&&h?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(!!i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}dispose(){super.dispose(),vi(this.viewItems),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}}class Yy{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=Yy.TemplateId,this.renderedTemplates=new Set;const s=new Map(t.map(o=>[o.templateId,o]));this.renderers=[];for(const o of e){const r=s.get(o.templateId);if(!r)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(r)}}renderTemplate(e){const t=Le(e,Ne(".monaco-table-tr")),i=[],s=[];for(let r=0;r<this.columns.length;r++){const a=this.renderers[r],l=Le(t,Ne(".monaco-table-td",{"data-col-index":r}));l.style.width=`${this.getColumnSize(r)}px`,i.push(l),s.push(a.renderTemplate(l))}const o={container:e,cellContainers:i,cellTemplateData:s};return this.renderedTemplates.add(o),o}renderElement(e,t,i,s){for(let o=0;o<this.columns.length;o++){const a=this.columns[o].project(e);this.renderers[o].renderElement(a,t,i.cellTemplateData[o],s)}}disposeElement(e,t,i,s){for(let o=0;o<this.columns.length;o++){const r=this.renderers[o];if(r.disposeElement){const l=this.columns[o].project(e);r.disposeElement(l,t,i.cellTemplateData[o],s)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);xs(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}}Yy.TemplateId="row";function bvt(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return Yy.TemplateId}}}class Cvt{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new J,this.onDidLayout=this._onDidLayout.event,this.element=Ne(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return(e=this.column.minimumWidth)!==null&&e!==void 0?e:120}get maximumSize(){var e;return(e=this.column.maximumWidth)!==null&&e!==void 0?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return(e=this.column.onDidChangeWidthConstraints)!==null&&e!==void 0?e:ct.None}layout(e){this._onDidLayout.fire([this.index,e])}}class B5{constructor(e,t,i,s,o,r){this.virtualDelegate=i,this.domId=`table_id_${++B5.InstanceCount}`,this.disposables=new Ie,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Le(t,Ne(`.monaco-table.${this.domId}`));const a=s.map((u,d)=>new Cvt(u,d)),l={size:a.reduce((u,d)=>u+d.column.weight,0),views:a.map(u=>({size:u.column.weight,view:u}))};this.splitview=this.disposables.add(new kne(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const c=new Yy(s,o,u=>this.splitview.getViewSize(u));this.list=this.disposables.add(new eu(e,this.domNode,bvt(i),[c],r)),ct.any(...a.map(u=>u.onDidLayout))(([u,d])=>c.layoutColumn(u,d),null,this.disposables),this.splitview.onDidSashReset(u=>{const d=s.reduce((f,p)=>f+p.weight,0),h=s[u].weight/d*this.cachedWidth;this.splitview.resizeView(u,h)},null,this.disposables),this.styleElement=ul(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}B5.InstanceCount=0;const wvt={inputActiveOptionBorder:re.fromHex("#007ACC00"),inputActiveOptionForeground:re.fromHex("#FFFFFF"),inputActiveOptionBackground:re.fromHex("#0E639C50")};class Zy extends Jl{constructor(e){super(),this._onChange=this._register(new J),this.onChange=this._onChange.event,this._onKeyDown=this._register(new J),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},wvt),e),this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...Go.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const yvt=v("caseDescription","Match Case"),Svt=v("wordsDescription","Match Whole Word"),Lvt=v("regexDescription","Use Regular Expression");class Ene extends Zy{constructor(e){super({icon:C.caseSensitive,title:yvt+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Ine extends Zy{constructor(e){super({icon:C.wholeWord,title:Svt+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Tne extends Zy{constructor(e){super({icon:C.regex,title:Lvt+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}const xvt=v("defaultLabel","input");class Dvt extends Jl{constructor(e,t,i,s){var o;super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new J),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new J),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new J),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new J),this._onKeyUp=this._register(new J),this._onCaseSensitiveKeyDown=this._register(new J),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new J),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||xvt,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const r=s.appendCaseSensitiveLabel||"",a=s.appendWholeWordsLabel||"",l=s.appendRegexLabel||"",c=s.history||[],u=!!s.flexibleHeight,d=!!s.flexibleWidth,h=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new vne(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:c,showHistoryHint:s.showHistoryHint,flexibleHeight:u,flexibleWidth:d,flexibleMaxHeight:h})),this.regex=this._register(new Tne({appendTitle:l,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(p=>{this._onRegexKeyDown.fire(p)})),this.wholeWords=this._register(new Ine({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new Ene({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(p=>{this._onCaseSensitiveKeyDown.fire(p)}));const f=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){const m=f.indexOf(document.activeElement);if(m>=0){let b=-1;p.equals(17)?b=(m+1)%f.length:p.equals(15)&&(m===0?b=f.length-1:b=m-1),p.equals(9)?(f[m].blur(),this.inputBox.focus()):b>=0&&f[b].focus(),Oi.stop(p,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const p of(o=s==null?void 0:s.additionalToggles)!==null&&o!==void 0?o:[])this._register(p),this.controls.appendChild(p.domNode),this._register(p.onChange(m=>{this._onDidOptionChange.fire(m),!m&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(p);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((p,m)=>p+m.width(),0),this.domNode.appendChild(this.controls),e==null||e.appendChild(this.domNode),this._register(xe(this.inputBox.inputElement,"compositionstart",p=>{this.imeSessionInProgress=!0})),this._register(xe(this.inputBox.inputElement,"compositionend",p=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,p=>this._onKeyDown.fire(p)),this.onkeyup(this.inputBox.inputElement,p=>this._onKeyUp.fire(p)),this.oninput(this.inputBox.inputElement,p=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,p=>this._onMouseDown.fire(p))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const e of this.additionalToggles)e.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const e of this.additionalToggles)e.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);for(const i of this.additionalToggles)i.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}var om;(function(n){n[n.Unknown=0]="Unknown",n[n.Twistie=1]="Twistie",n[n.Element=2]="Element",n[n.Filter=3]="Filter"})(om||(om={}));class Za extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class OF{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function PF(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function Ww(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function ZI(n){return typeof n.collapsible=="boolean"}class kvt{constructor(e,t,i,s={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new HO,this._onDidChangeCollapseState=new J,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new J,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new J,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new ed(Iee),this.collapseByDefault=typeof s.collapseByDefault=="undefined"?!1:s.collapseByDefault,this.filter=s.filter,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren=="undefined"?!1:s.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=ei.empty(),s={}){if(e.length===0)throw new Za(this.user,"Invalid tree location");s.diffIdentityProvider?this.spliceSmart(s.diffIdentityProvider,e,t,i,s):this.spliceSimple(e,t,i,s)}spliceSmart(e,t,i,s,o,r){var a;s===void 0&&(s=ei.empty()),r===void 0&&(r=(a=o.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:l}=this.getParentNodeWithListIndex(t);if(!l.lastDiffIds)return this.spliceSimple(t,i,s,o);const c=[...s],u=t[t.length-1],d=new Eu({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,u),...c,...l.children.slice(u+i)].map(b=>e.getId(b.element).toString())}).ComputeDiff(!1);if(d.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(t,i,c,o);const h=t.slice(0,-1),f=(b,w,y)=>{if(r>0)for(let L=0;L<y;L++)b--,w--,this.spliceSmart(e,[...h,b,0],Number.MAX_SAFE_INTEGER,c[w].children,o,r-1)};let p=Math.min(l.children.length,u+i),m=c.length;for(const b of d.changes.sort((w,y)=>y.originalStart-w.originalStart))f(p,m,p-(b.originalStart+b.originalLength)),p=b.originalStart,m=b.modifiedStart-u,this.spliceSimple([...h,p],b.originalLength,ei.slice(c,m,m+b.modifiedLength),o);f(p,m,p)}spliceSimple(e,t,i=ei.empty(),{onDidCreateNode:s,onDidDeleteNode:o,diffIdentityProvider:r}){const{parentNode:a,listIndex:l,revealed:c,visible:u}=this.getParentNodeWithListIndex(e),d=[],h=ei.map(i,x=>this.createTreeNode(x,a,a.visible?1:0,c,d,s)),f=e[e.length-1],p=a.children.length>0;let m=0;for(let x=f;x>=0&&x<a.children.length;x--){const k=a.children[x];if(k.visible){m=k.visibleChildIndex;break}}const b=[];let w=0,y=0;for(const x of h)b.push(x),y+=x.renderNodeCount,x.visible&&(x.visibleChildIndex=m+w++);const L=kU(a.children,f,t,b);r?a.lastDiffIds?kU(a.lastDiffIds,f,t,b.map(x=>r.getId(x.element).toString())):a.lastDiffIds=a.children.map(x=>r.getId(x.element).toString()):a.lastDiffIds=void 0;let D=0;for(const x of L)x.visible&&D++;if(D!==0)for(let x=f+b.length;x<a.children.length;x++){const k=a.children[x];k.visible&&(k.visibleChildIndex-=D)}if(a.visibleChildrenCount+=w-D,c&&u){const x=L.reduce((k,N)=>k+(N.visible?N.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,y-x),this.list.splice(l,x,d)}if(L.length>0&&o){const x=k=>{o(k),k.children.forEach(x)};L.forEach(x)}this._onDidSplice.fire({insertedNodes:b,deletedNodes:L});const E=a.children.length>0;p!==E&&this.setCollapsible(e.slice(0,-1),E);let T=a;for(;T;){if(T.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}T=T.parent}}rerender(e){if(e.length===0)throw new Za(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:s}=this.getTreeNodeWithListIndex(e);t.visible&&s&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:s}=this.getTreeNodeWithListIndex(e);return i&&s?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);typeof t=="undefined"&&(t=!i.collapsible);const s={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,s))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const s=this.getTreeNode(e);typeof t=="undefined"&&(t=!s.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}_setCollapseState(e,t){const{node:i,listIndex:s,revealed:o}=this.getTreeNodeWithListIndex(e),r=this._setListNodeCollapseState(i,s,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&r&&!ZI(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return r}_setListNodeCollapseState(e,t,i,s){const o=this._setNodeCollapseState(e,s,!1);if(!i||!e.visible||!o)return o;const r=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=r-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),o}_setNodeCollapseState(e,t,i){let s;if(e===this.root?s=!1:(ZI(t)?(s=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(s=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):s=!1,s&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!ZI(t)&&t.recursive)for(const o of e.children)s=this._setNodeCollapseState(o,t,!0)||s;return s}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,s,o,r){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed!="undefined",collapsed:typeof e.collapsed=="undefined"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,s&&o.push(a);const c=e.children||ei.empty(),u=s&&l!==0&&!a.collapsed,d=ei.map(c,p=>this.createTreeNode(p,a,l,u,o,r));let h=0,f=1;for(const p of d)a.children.push(p),f+=p.renderNodeCount,p.visible&&(p.visibleChildIndex=h++);return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=h,a.visible=l===2?h>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=f):(a.renderNodeCount=0,s&&o.pop()),r==null||r(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,s=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),o===0)return e.visible=!1,e.renderNodeCount=0,!1;s&&i.push(e)}const r=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||o!==0){let l=0;for(const c of e.children)a=this._updateNodeAfterFilterChange(c,o,i,s&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=o===2?a:o===1,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-r):(e.renderNodeCount=0,s&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):PF(i)?(e.filterData=i.data,Ww(i.visibility)):(e.filterData=void 0,Ww(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[i,...s]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(s,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[i,...s]=e;if(i<0||i>t.children.length)throw new Za(this.user,"Invalid tree location");return this.getTreeNode(s,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:s,visible:o}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>t.children.length)throw new Za(this.user,"Invalid tree location");const a=t.children[r];return{node:a,listIndex:i,revealed:s,visible:o&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,s=!0,o=!0){const[r,...a]=e;if(r<0||r>t.children.length)throw new Za(this.user,"Invalid tree location");for(let l=0;l<r;l++)i+=t.children[l].renderNodeCount;return s=s&&!t.collapsed,o=o&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:s,visible:o}:this.getParentNodeWithListIndex(a,t.children[r],i+1,s,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:Bst(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}}class Evt{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);!i||(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);!i||i.forEach(t)}}globalThis&&globalThis.__awaiter;class Ivt extends Gy{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function XI(n){return n instanceof Gy?new Ivt(n):n}class Tvt{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=de.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,s;(s=(i=this.dnd).onDragStart)===null||s===void 0||s.call(i,XI(e),t)}onDragOver(e,t,i,s,o=!0){const r=this.dnd.onDragOver(XI(e),t&&t.element,i,s),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t=="undefined")return r;if(a&&typeof r!="boolean"&&r.autoExpand&&(this.autoExpandDisposable=Pm(()=>{const h=this.modelProvider(),f=h.getNodeLocation(t);h.isCollapsed(f)&&h.setCollapsed(f,!1),this.autoExpandNode=void 0},500)),typeof r=="boolean"||!r.accept||typeof r.bubble=="undefined"||r.feedback){if(!o){const h=typeof r=="boolean"?r:r.accept,f=typeof r=="boolean"?void 0:r.effect;return{accept:h,effect:f,feedback:[i]}}return r}if(r.bubble===1){const h=this.modelProvider(),f=h.getNodeLocation(t),p=h.getParentNodeLocation(f),m=h.getNode(p),b=p&&h.getListIndex(p);return this.onDragOver(e,m,b,s,!1)}const l=this.modelProvider(),c=l.getNodeLocation(t),u=l.getListIndex(c),d=l.getListRenderCount(c);return Object.assign(Object.assign({},r),{feedback:Uo(u,u+d)})}drop(e,t,i,s){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(XI(e),t&&t.element,i,s)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}}function Nvt(n,e){return e&&Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new Tvt(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getSetSize(t){const i=n(),s=i.getNodeLocation(t),o=i.getParentNodeLocation(s);return i.getNode(o).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}})})}class FF{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,s;(s=(i=this.delegate).setDynamicHeight)===null||s===void 0||s.call(i,e.element,t)}}var Hw;(function(n){n.None="none",n.OnHover="onHover",n.Always="always"})(Hw||(Hw={}));class Mvt{constructor(e,t=[]){this._elements=t,this.disposables=new Ie,this.onDidChange=ct.forEach(e,i=>this._elements=i,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}class $w{constructor(e,t,i,s,o={}){var r;this.renderer=e,this.modelProvider=t,this.activeNodes=s,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=$w.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new Evt,this.activeIndentNodes=new Set,this.indentGuidesDisposable=de.None,this.disposables=new Ie,this.templateId=e.templateId,this.updateOptions(o),ct.map(i,a=>a.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(r=e.onDidChangeTwistieState)===null||r===void 0||r.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent!="undefined"&&(this.indent=Ar(e.indent,0,40)),typeof e.renderIndentGuides!="undefined"){const t=e.renderIndentGuides!==Hw.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const i=new Ie;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof e.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=Le(e,Ne(".monaco-tl-row")),i=Le(t,Ne(".monaco-tl-indent")),s=Le(t,Ne(".monaco-tl-twistie")),o=Le(t,Ne(".monaco-tl-contents")),r=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:s,indentGuidesDisposable:de.None,templateData:r}}renderElement(e,t,i,s){typeof s=="number"&&(this.renderedNodes.set(e,{templateData:i,height:s}),this.renderedElements.set(e.element,e));const o=$w.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${o}px`,i.indent.style.width=`${o+this.indent-16}px`,this.renderTwistie(e,i),typeof s=="number"&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,s)}disposeElement(e,t,i,s){var o,r;i.indentGuidesDisposable.dispose(),(r=(o=this.renderer).disposeElement)===null||r===void 0||r.call(o,e,t,i.templateData,s),typeof s=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);!t||this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);!t||(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...C.treeItemExpanded.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...C.treeItemExpanded.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(xs(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new Ie,s=this.modelProvider();let o=e;for(;;){const r=s.getNodeLocation(o),a=s.getParentNodeLocation(r);if(!a)break;const l=s.getNode(a),c=Ne(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(l)&&c.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(c):t.indent.insertBefore(c,t.indent.firstElementChild),this.renderedIndentGuides.add(l,c),i.add(jt(()=>this.renderedIndentGuides.delete(l,c))),o=l}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(s=>{const o=i.getNodeLocation(s);try{const r=i.getParentNodeLocation(o);s.collapsible&&s.children.length>0&&!s.collapsed?t.add(s):r&&t.add(i.getNode(r))}catch{}}),this.activeIndentNodes.forEach(s=>{t.has(s)||this.renderedIndentGuides.forEach(s,o=>o.classList.remove("active"))}),t.forEach(s=>{this.activeIndentNodes.has(s)||this.renderedIndentGuides.forEach(s,o=>o.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),vi(this.disposables)}}$w.DefaultIndent=8;class Avt{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new Ie,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(e,t){let i=1;if(this._filter){const r=this._filter.filter(e,t);if(typeof r=="boolean"?i=r?1:0:PF(r)?i=Ww(r.visibility):i=r,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Fc.Default,visibility:i};const s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=Array.isArray(s)?s:[s];for(const r of o){const a=r&&r.toString();if(typeof a=="undefined")return{data:Fc.Default,visibility:i};const l=Sv(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,o.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===Wu.Filter?2:{data:Fc.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){vi(this.disposables)}}var Wu;(function(n){n[n.Highlight=0]="Highlight",n[n.Filter=1]="Filter"})(Wu||(Wu={}));class Rvt{constructor(e,t,i,s,o){var r;this.tree=e,this.view=i,this.filter=s,this.contextViewProvider=o,this._pattern="",this.width=0,this._onDidChangeMode=new J,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new J,this._onDidChangeOpenState=new J,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new Ie,this.disposables=new Ie,this._mode=(r=e.options.defaultFindMode)!==null&&r!==void 0?r:Wu.Highlight,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var e,t;const i=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&i?(e=this.widget)===null||e===void 0||e.showMessage({type:2,content:v("not found","No elements found.")}):(t=this.widget)===null||t===void 0||t.clearMessage()}shouldAllowFocus(e){return!this.widget||!this.pattern||this._mode===Wu.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Fc.isDefault(e.filterData)}style(e){var t;this.styles=e,(t=this.widget)===null||t===void 0||t.style(e)}layout(e){var t;this.width=e,(t=this.widget)===null||t===void 0||t.layout(e)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function Fq(n){let e=om.Unknown;return lI(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=om.Twistie:lI(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=om.Element:lI(n.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=om.Filter),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function C6(n,e){e(n),n.children.forEach(t=>C6(t,e))}class QI{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new J,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){!(t!=null&&t.__forceEvent)&&va(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const s=this;this._onDidChange.fire({get elements(){return s.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const l=this.createNodeSet(),c=u=>l.delete(u);t.forEach(u=>C6(u,c)),this.set([...l.values()]);return}const i=new Set,s=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>C6(l,s));const o=new Map,r=l=>o.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>C6(l,r));const a=[];for(const l of this.nodes){const c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{const d=o.get(c);d&&a.push(d)}}if(this.nodes.length>0&&a.length===0){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class Ovt extends Lne{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(Cne(e.browserEvent.target)||Ym(e.browserEvent.target)||l1(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,s=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let o=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?o=this.tree.expandOnlyOnTwistieClick(t.element):o=!!this.tree.expandOnlyOnTwistieClick,o&&!s&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e);if(t.collapsible){const r=this.tree.model,a=r.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),r.setCollapsed(a,void 0,l),o&&s)return}super.onViewPointer(e)}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(e)}}class Pvt extends eu{constructor(e,t,i,s,o,r,a,l){super(e,t,i,s,l),this.focusTrait=o,this.selectionTrait=r,this.anchorTrait=a}createMouseController(e){return new Ovt(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;const s=[],o=[];let r;i.forEach((a,l)=>{this.focusTrait.has(a)&&s.push(e+l),this.selectionTrait.has(a)&&o.push(e+l),this.anchorTrait.has(a)&&(r=e+l)}),s.length>0&&super.setFocus(Nh([...super.getFocus(),...s])),o.length>0&&super.setSelection(Nh([...super.getSelection(),...o])),typeof r=="number"&&super.setAnchor(r)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(s=>this.element(s)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(s=>this.element(s)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class Nne{constructor(e,t,i,s,o={}){var r;this._user=e,this._options=o,this.eventBufferer=new HO,this.onDidChangeFindOpenState=ct.None,this.disposables=new Ie,this._onWillRefilter=new J,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new J;const a=new FF(i),l=new MU,c=new MU,u=this.disposables.add(new Mvt(c.event));this.renderers=s.map(f=>new $w(f,()=>this.model,l.event,u,o));for(const f of this.renderers)this.disposables.add(f);let d;o.keyboardNavigationLabelProvider&&(d=new Avt(this,o.keyboardNavigationLabelProvider,o.filter),o=Object.assign(Object.assign({},o),{filter:d}),this.disposables.add(d)),this.focus=new QI(()=>this.view.getFocusedElements()[0],o.identityProvider),this.selection=new QI(()=>this.view.getSelectedElements()[0],o.identityProvider),this.anchor=new QI(()=>this.view.getAnchorElement(),o.identityProvider),this.view=new Pvt(e,t,a,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Nvt(()=>this.model,o)),{tree:this})),this.model=this.createModel(e,this.view,o),l.input=this.model.onDidChangeCollapseState;const h=ct.forEach(this.model.onDidSplice,f=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(f),this.selection.onDidModelSplice(f)})},this.disposables);if(h(()=>null,null,this.disposables),c.input=ct.chain(ct.any(h,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const f=new Set;for(const p of this.focus.getNodes())f.add(p);for(const p of this.selection.getNodes())f.add(p);return[...f.values()]}).event,o.keyboardSupport!==!1){const f=ct.chain(this.view.onKeyDown).filter(p=>!Ym(p.target)).map(p=>new gn(p));f.filter(p=>p.keyCode===15).on(this.onLeftArrow,this,this.disposables),f.filter(p=>p.keyCode===17).on(this.onRightArrow,this,this.disposables),f.filter(p=>p.keyCode===10).on(this.onSpace,this,this.disposables)}((r=o.findWidgetEnabled)!==null&&r!==void 0?r:!0)&&o.keyboardNavigationLabelProvider&&o.contextViewProvider?(this.findController=new Rvt(this,this.model,this.view,d,o.contextViewProvider),this.focusNavigationFilter=f=>this.findController.shouldAllowFocus(f),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=ct.None,this.styleElement=ul(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Hw.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return ct.filter(ct.map(this.view.onMouseDblClick,Fq),e=>e.target!==om.Filter)}get onPointer(){return ct.map(this.view.onPointer,Fq)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return ct.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e,t;return(t=(e=this.findController)===null||e===void 0?void 0:e.mode)!==null&&t!==void 0?t:Wu.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Hw.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),wg(t)&&((i=this.findController)===null||i===void 0||i.layout(t))}style(e){var t;const i=`.${this.view.domId}`,s=[];e.treeIndentGuidesStroke&&(s.push(`.monaco-list${i}:hover .monaco-tl-indent > .indent-guide, .monaco-list${i}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),s.push(`.monaco-list${i} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=s.join(`
`),(t=this.findController)===null||t===void 0||t.style(e),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map(o=>this.model.getNode(o));this.selection.set(i,t);const s=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setSelection(s,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map(o=>this.model.getNode(o));this.focus.set(i,t);const s=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setFocus(s,t,!0)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);i!==-1&&this.view.reveal(i,t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],s=this.model.getNodeLocation(i);if(!this.model.setCollapsed(s,!0)){const r=this.model.getParentNodeLocation(s);if(!r)return;const a=this.model.getListIndex(r);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],s=this.model.getNodeLocation(i);if(!this.model.setCollapsed(s,!1)){if(!i.children.some(l=>l.visible))return;const[r]=this.view.getFocus(),a=r+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],s=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(s,void 0,o)}dispose(){vi(this.disposables),this.view.dispose()}}class BF{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new kvt(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(s,o){return i.sorter.compare(s.element,o.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=ei.empty(),i={}){const s=this.getElementLocation(e);this._setChildren(s,this.preserveCollapseState(t),i)}_setChildren(e,t=ei.empty(),i){const s=new Set,o=new Set,r=l=>{var c;if(l.element===null)return;const u=l;if(s.add(u.element),this.nodes.set(u.element,u),this.identityProvider){const d=this.identityProvider.getId(u.element).toString();o.add(d),this.nodesByIdentity.set(d,u)}(c=i.onDidCreateNode)===null||c===void 0||c.call(i,u)},a=l=>{var c;if(l.element===null)return;const u=l;if(s.has(u.element)||this.nodes.delete(u.element),this.identityProvider){const d=this.identityProvider.getId(u.element).toString();o.has(d)||this.nodesByIdentity.delete(d)}(c=i.onDidDeleteNode)===null||c===void 0||c.call(i,u)};this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:r,onDidDeleteNode:a}))}preserveCollapseState(e=ei.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),ei.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const r=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(r)}if(!i)return Object.assign(Object.assign({},t),{children:this.preserveCollapseState(t.children)});const s=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible,o=typeof t.collapsed!="undefined"?t.collapsed:i.collapsed;return Object.assign(Object.assign({},t),{collapsible:s,collapsed:o,children:this.preserveCollapseState(t.children)})})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const s=this.getElementLocation(e);return this.model.setCollapsed(s,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new Za(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new Za(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new Za(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),s=this.model.getParentNodeLocation(i);return this.model.getNode(s).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new Za(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function w6(n){const e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:ei.map(ei.from(n.children),w6),collapsible:n.collapsible,collapsed:n.collapsed}}function y6(n){const e=[n.element],t=n.incompressible||!1;let i,s;for(;[s,i]=ei.consume(ei.from(n.children),2),!(s.length!==1||s[0].incompressible);)n=s[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:ei.map(ei.concat(s,i),y6),collapsible:n.collapsible,collapsed:n.collapsed}}function dA(n,e=0){let t;return e<n.element.elements.length-1?t=[dA(n,e+1)]:t=ei.map(ei.from(n.children),i=>dA(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function Bq(n){return dA(n,0)}function Mne(n,e,t){return n.element===e?Object.assign(Object.assign({},n),{children:t}):Object.assign(Object.assign({},n),{children:ei.map(ei.from(n.children),i=>Mne(i,e,t))})}const Fvt=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}});class Bvt{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new BF(e,t,i),this.enabled=typeof i.compressionEnabled=="undefined"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=ei.empty(),i){const s=i.diffIdentityProvider&&Fvt(i.diffIdentityProvider);if(e===null){const f=ei.map(t,this.enabled?y6:w6);this._setChildren(null,f,{diffIdentityProvider:s,diffDepth:1/0});return}const o=this.nodes.get(e);if(!o)throw new Error("Unknown compressed tree node");const r=this.model.getNode(o),a=this.model.getParentNodeLocation(o),l=this.model.getNode(a),c=Bq(r),u=Mne(c,e,t),d=(this.enabled?y6:w6)(u),h=l.children.map(f=>f===r?d:f);this._setChildren(l.element,h,{diffIdentityProvider:s,diffDepth:r.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,s=ei.map(i,Bq),o=ei.map(s,e?y6:w6);this._setChildren(null,o,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const s=new Set,o=a=>{for(const l of a.element.elements)s.add(l),this.nodes.set(l,a.element)},r=a=>{for(const l of a.element.elements)s.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:o,onDidDeleteNode:r}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e=="undefined")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const s=this.getCompressedNode(e);return this.model.setCollapsed(s,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new Za(this.user,`Tree element not found: ${e}`);return t}}const Vvt=n=>n[n.length-1];class VF{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new VF(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function Wvt(n,e){return{splice(t,i,s){e.splice(t,i,s.map(o=>n.map(o)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function Hvt(n,e){return Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}})}class $vt{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||Vvt;const s=o=>this.elementMapper(o.elements);this.nodeMapper=new OF(o=>new VF(s,o)),this.model=new Bvt(e,Wvt(this.nodeMapper,t),Hvt(s,i))}get onDidSplice(){return ct.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return ct.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return ct.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=ei.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return t===null||typeof t=="undefined"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var zvt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o};class WF extends Nne{constructor(e,t,i,s,o={}){super(e,t,i,s,o),this.user=e}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=ei.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new BF(e,t,i)}}class Ane{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){const t=this.renderer.renderTemplate(e);return{compressedTreeNode:void 0,data:t}}renderElement(e,t,i,s){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);o.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,s)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,s))}disposeElement(e,t,i,s){var o,r,a,l;i.compressedTreeNode?(r=(o=this.renderer).disposeCompressedElements)===null||r===void 0||r.call(o,i.compressedTreeNode,t,i.data,s):(l=(a=this.renderer).disposeElement)===null||l===void 0||l.call(a,e,t,i.data,s)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}zvt([ps],Ane.prototype,"compressedTreeNodeProvider",null);function Uvt(n,e){return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}class Rne extends WF{constructor(e,t,i,s,o={}){const r=()=>this,a=s.map(l=>new Ane(r,l));super(e,t,i,a,Uvt(r,o))}setChildren(e,t=ei.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new $vt(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var Cf=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function JI(n){return Object.assign(Object.assign({},n),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function hA(n,e){return e.parent?e.parent===n?!0:hA(n,e.parent):!1}function jvt(n,e){return n===e||hA(n,e)||hA(e,n)}class HF{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new HF(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Kvt{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,s){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,s)}renderTwistie(e,t){return e.slow?(t.classList.add(...C.treeItemLoading.classNamesArray),!0):(t.classList.remove(...C.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,s){var o,r;(r=(o=this.renderer).disposeElement)===null||r===void 0||r.call(o,this.nodeMapper.map(e),t,i.templateData,s)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function Vq(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function Wq(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}class qvt extends Gy{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function eT(n){return n instanceof Gy?new qvt(n):n}class Gvt{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,s;(s=(i=this.dnd).onDragStart)===null||s===void 0||s.call(i,eT(e),t)}onDragOver(e,t,i,s,o=!0){return this.dnd.onDragOver(eT(e),t&&t.element,i,s)}drop(e,t,i,s){this.dnd.drop(eT(e),t&&t.element,i,s)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}}function One(n){return n&&Object.assign(Object.assign({},n),{collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new Gvt(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:n.accessibilityProvider&&Object.assign(Object.assign({},n.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>{var t;return!!(!((t=n.accessibilityProvider)===null||t===void 0)&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))}),filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},n.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick=="undefined"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),additionalScrollHeight:n.additionalScrollHeight})}function fA(n,e){e(n),n.children.forEach(t=>fA(t,e))}class Pne{constructor(e,t,i,s,o,r={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new J,this._onDidChangeNodeSlowState=new J,this.nodeMapper=new OF(a=>new HF(a)),this.disposables=new Ie,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren=="undefined"?!1:r.autoExpandSingleChildren,this.sorter=r.sorter,this.collapseByDefault=r.collapseByDefault,this.tree=this.createTree(e,t,i,s,r),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=JI({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return ct.map(this.tree.onDidChangeFocus,Vq)}get onDidChangeSelection(){return ct.map(this.tree.onDidChangeSelection,Vq)}get onMouseDblClick(){return ct.map(this.tree.onMouseDblClick,Wq)}get onPointer(){return ct.map(this.tree.onPointer,Wq)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,s,o){const r=new FF(i),a=s.map(c=>new Kvt(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=One(o)||{};return new WF(e,t,r,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return Cf(this,void 0,void 0,function*(){this.refreshPromises.forEach(s=>s.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)})}_updateChildren(e=this.root.element,t=!0,i=!1,s,o){return Cf(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new Za(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield ct.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(yield this.refreshAndRenderNode(r,t,s,o),i)try{this.tree.rerender(r)}catch{}})}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return Cf(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new Za(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield ct.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(yield this.root.refreshPromise,yield ct.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const s=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield ct.toPromise(this._onDidRender.event)),s})}setSelection(e,t){const i=e.map(s=>this.getDataNode(s));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(s=>this.getDataNode(s));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Za(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,s){return Cf(this,void 0,void 0,function*(){yield this.refreshNode(e,t,i),this.render(e,i,s)})}refreshNode(e,t,i){return Cf(this,void 0,void 0,function*(){let s;if(this.subTreeRefreshPromises.forEach((o,r)=>{!s&&jvt(r,e)&&(s=o.then(()=>this.refreshNode(e,t,i)))}),s)return s;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0;return}return this.doRefreshSubTree(e,t,i)})}doRefreshSubTree(e,t,i){return Cf(this,void 0,void 0,function*(){let s;e.refreshPromise=new Promise(o=>s=o),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield qN.settled(o.map(r=>this.doRefreshSubTree(r,t,i)))}finally{s()}})}doRefreshNode(e,t,i){return Cf(this,void 0,void 0,function*(){e.hasChildren=!!this.dataSource.hasChildren(e.element);let s;if(!e.hasChildren)s=Promise.resolve(ei.empty());else{const o=this.doGetChildren(e);if(IU(o))s=Promise.resolve(o);else{const r=Lg(800);r.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),s=o.finally(()=>r.cancel())}}try{const o=yield s;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),cd(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}})}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return IU(i)?this.processChildren(i):(t=Ws(()=>Cf(this,void 0,void 0,function*(){return this.processChildren(yield i)})),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(Ot))}setChildren(e,t,i,s){const o=[...t];if(e.children.length===0&&o.length===0)return[];const r=new Map,a=new Map;for(const u of e.children)if(r.set(u.element,u),this.identityProvider){const d=this.tree.isCollapsed(u);a.set(u.id,{node:u,collapsed:d})}const l=[],c=o.map(u=>{const d=!!this.dataSource.hasChildren(u);if(!this.identityProvider){const m=JI({element:u,parent:e,hasChildren:d});return d&&this.collapseByDefault&&!this.collapseByDefault(u)&&(m.collapsedByDefault=!1,l.push(m)),m}const h=this.identityProvider.getId(u).toString(),f=a.get(h);if(f){const m=f.node;return r.delete(m.element),this.nodes.delete(m.element),this.nodes.set(u,m),m.element=u,m.hasChildren=d,i?f.collapsed?(m.children.forEach(b=>fA(b,w=>this.nodes.delete(w.element))),m.children.splice(0,m.children.length),m.stale=!0):l.push(m):d&&this.collapseByDefault&&!this.collapseByDefault(u)&&(m.collapsedByDefault=!1,l.push(m)),m}const p=JI({element:u,parent:e,id:h,hasChildren:d});return s&&s.viewState.focus&&s.viewState.focus.indexOf(h)>-1&&s.focus.push(p),s&&s.viewState.selection&&s.viewState.selection.indexOf(h)>-1&&s.selection.push(p),s&&s.viewState.expanded&&s.viewState.expanded.indexOf(h)>-1?l.push(p):d&&this.collapseByDefault&&!this.collapseByDefault(u)&&(p.collapsedByDefault=!1,l.push(p)),p});for(const u of r.values())fA(u,d=>this.nodes.delete(d.element));for(const u of c)this.nodes.set(u.element,u);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].collapsedByDefault=!1,l.push(c[0])),l}render(e,t,i){const s=e.children.map(r=>this.asTreeElement(r,t)),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId(r){return i.diffIdentityProvider.getId(r.element)}}});this.tree.setChildren(e===this.root?null:e,s,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:i=e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?ei.map(e.children,s=>this.asTreeElement(s,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class $F{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new $F(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Yvt{constructor(e,t,i,s){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=s,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,s){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,s)}renderCompressedElements(e,t,i,s){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,s)}renderTwistie(e,t){return e.slow?(t.classList.add(...C.treeItemLoading.classNamesArray),!0):(t.classList.remove(...C.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,s){var o,r;(r=(o=this.renderer).disposeElement)===null||r===void 0||r.call(o,this.nodeMapper.map(e),t,i.templateData,s)}disposeCompressedElements(e,t,i,s){var o,r;(r=(o=this.renderer).disposeCompressedElements)===null||r===void 0||r.call(o,this.compressibleNodeMapperProvider().map(e),t,i.templateData,s)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=vi(this.disposables)}}function Zvt(n){const e=n&&One(n);return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}})})}class Xvt extends Pne{constructor(e,t,i,s,o,r,a={}){super(e,t,i,o,r,a),this.compressionDelegate=s,this.compressibleNodeMapper=new OF(l=>new $F(l)),this.filter=a.filter}createTree(e,t,i,s,o){const r=new FF(i),a=s.map(c=>new Yvt(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=Zvt(o)||{};return new Rne(e,t,r,a,l)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=h=>this.identityProvider.getId(h).toString(),s=h=>{const f=new Set;for(const p of h){const m=this.tree.getCompressedTreeNode(p===this.root?null:p);if(!!m.element)for(const b of m.element.elements)f.add(i(b.element))}return f},o=s(this.tree.getSelection()),r=s(this.tree.getFocus());super.render(e,t);const a=this.getSelection();let l=!1;const c=this.getFocus();let u=!1;const d=h=>{const f=h.element;if(f)for(let p=0;p<f.elements.length;p++){const m=i(f.elements[p].element),b=f.elements[f.elements.length-1].element;o.has(m)&&a.indexOf(b)===-1&&(a.push(b),l=!0),r.has(m)&&c.indexOf(b)===-1&&(c.push(b),u=!0)}h.children.forEach(d)};d(this.tree.getCompressedTreeNode(e===this.root?null:e)),l&&this.setSelection(a),u&&this.setFocus(c)}processChildren(e){return this.filter&&(e=ei.filter(e,t=>{const i=this.filter.filter(t,1),s=Qvt(i);if(s===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return s===1})),super.processChildren(e)}}function Qvt(n){return typeof n=="boolean"?n?1:0:PF(n)?Ww(n.visibility):Ww(n)}class Jvt extends Nne{constructor(e,t,i,s,o,r={}){super(e,t,i,s,r),this.user=e,this.dataSource=o,this.identityProvider=r.identityProvider}createModel(e,t,i){return new BF(e,t,i)}}new et("isMac",ai,v("isMac","Whether the operating system is macOS"));new et("isLinux",So,v("isLinux","Whether the operating system is Linux"));const V5=new et("isWindows",oo,v("isWindows","Whether the operating system is Windows"));new et("isWeb",jg,v("isWeb","Whether the platform is a web browser"));new et("isMacNative",ai&&!jg,v("isMacNative","Whether the operating system is macOS on a non-browser platform"));new et("isIOS",Xu,v("isIOS","Whether the operating system is iOS"));new et("isDevelopment",!1,!0);new et("productQualityType","",v("productQualityType","Quality type of VS Code"));const Fne="inputFocus";new et(Fne,!1,v("inputFocus","Whether keyboard focus is inside an input box"));var fd=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},bi=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const bl=ui("listService");let gA=class{constructor(e){this._themeService=e,this.disposables=new Ie,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)===null||t===void 0||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)===null||i===void 0||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const s=new xne(ul(),"");this.disposables.add(qm(s,this._themeService))}if(this.lists.some(s=>s.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),$u(e.onDidFocus(()=>this.setLastFocusedList(e)),jt(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(s=>s!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};gA=fd([bi(0,Qi)],gA);const Bne=new et("listFocus",!0),W5=new et("listSupportsMultiselect",!0),Vne=Xe.and(Bne,Xe.not(Fne)),zF=new et("listHasSelectionOrFocus",!1),UF=new et("listDoubleSelection",!1),jF=new et("listMultiSelection",!1),H5=new et("listSelectionNavigation",!1),e2t=new et("listSupportsFind",!0),KF=new et("treeElementCanCollapse",!1),t2t=new et("treeElementHasParent",!1),qF=new et("treeElementCanExpand",!1),i2t=new et("treeElementHasChild",!1),n2t=new et("treeFindOpen",!1),Wne="listTypeNavigationMode",Hne="listAutomaticKeyboardNavigation";function $5(n,e){const t=n.createScoped(e.getHTMLElement());return Bne.bindTo(t),t}const R_="workbench.list.multiSelectModifier",pA="workbench.list.openMode",rl="workbench.list.horizontalScrolling",GF="workbench.list.defaultFindMode",YF="workbench.list.keyboardNavigation",zw="workbench.tree.indent",vL="workbench.tree.renderIndentGuides",Uc="workbench.list.smoothScrolling",sd="workbench.list.mouseWheelScrollSensitivity",od="workbench.list.fastScrollSensitivity",bL="workbench.tree.expandMode";function rd(n){return n.getValue(R_)==="alt"}class s2t extends de{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=rd(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(R_)&&(this.useAltAsMultipleSelectionModifier=rd(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:yne(e)}isSelectionRangeChangeEvent(e){return Sne(e)}}function z5(n,e){var t;const i=n.get(Ci),s=n.get(Ms),o=new Ie;return[Object.assign(Object.assign({},e),{keyboardNavigationDelegate:{mightProducePrintableCharacter(a){return s.mightProducePrintableCharacter(a)}},smoothScrolling:Boolean(i.getValue(Uc)),mouseWheelScrollSensitivity:i.getValue(sd),fastScrollSensitivity:i.getValue(od),multipleSelectionController:(t=e.multipleSelectionController)!==null&&t!==void 0?t:o.add(new s2t(i)),keyboardNavigationEventFilter:a2t(s)}),o]}let mA=class extends eu{constructor(e,t,i,s,o,r,a,l,c,u){const d=typeof o.horizontalScrolling!="undefined"?o.horizontalScrolling:Boolean(c.getValue(rl)),[h,f]=u.invokeFunction(z5,o);super(e,t,i,s,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},vc(l.getColorTheme(),A5)),h),{horizontalScrolling:d})),this.disposables.add(f),this.contextKeyService=$5(r,this),this.themeService=l,this.listSupportsMultiSelect=W5.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),H5.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=zF.bindTo(this.contextKeyService),this.listDoubleSelection=UF.bindTo(this.contextKeyService),this.listMultiSelection=jF.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=rd(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const m=this.getSelection(),b=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(m.length>0||b.length>0),this.listMultiSelection.set(m.length>1),this.listDoubleSelection.set(m.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const m=this.getSelection(),b=this.getFocus();this.listHasSelectionOrFocus.set(m.length>0||b.length>0)})),this.disposables.add(c.onDidChangeConfiguration(m=>{m.affectsConfiguration(R_)&&(this._useAltAsMultipleSelectionModifier=rd(c));let b={};if(m.affectsConfiguration(rl)&&this.horizontalScrolling===void 0){const w=Boolean(c.getValue(rl));b=Object.assign(Object.assign({},b),{horizontalScrolling:w})}if(m.affectsConfiguration(Uc)){const w=Boolean(c.getValue(Uc));b=Object.assign(Object.assign({},b),{smoothScrolling:w})}if(m.affectsConfiguration(sd)){const w=c.getValue(sd);b=Object.assign(Object.assign({},b),{mouseWheelScrollSensitivity:w})}if(m.affectsConfiguration(od)){const w=c.getValue(od);b=Object.assign(Object.assign({},b),{fastScrollSensitivity:w})}Object.keys(b).length>0&&this.updateOptions(b)})),this.navigator=new $ne(this,Object.assign({configurationService:c},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=qm(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),super.dispose()}};mA=fd([bi(5,At),bi(6,bl),bi(7,Qi),bi(8,Ci),bi(9,Bt)],mA);let Hq=class extends pvt{constructor(e,t,i,s,o,r,a,l,c,u){const d=typeof o.horizontalScrolling!="undefined"?o.horizontalScrolling:Boolean(c.getValue(rl)),[h,f]=u.invokeFunction(z5,o);super(e,t,i,s,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},vc(l.getColorTheme(),A5)),h),{horizontalScrolling:d})),this.disposables=new Ie,this.disposables.add(f),this.contextKeyService=$5(r,this),this.themeService=l,this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=W5.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),H5.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this._useAltAsMultipleSelectionModifier=rd(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),o.overrideStyles&&this.disposables.add(qm(this,l,o.overrideStyles)),this.disposables.add(c.onDidChangeConfiguration(m=>{m.affectsConfiguration(R_)&&(this._useAltAsMultipleSelectionModifier=rd(c));let b={};if(m.affectsConfiguration(rl)&&this.horizontalScrolling===void 0){const w=Boolean(c.getValue(rl));b=Object.assign(Object.assign({},b),{horizontalScrolling:w})}if(m.affectsConfiguration(Uc)){const w=Boolean(c.getValue(Uc));b=Object.assign(Object.assign({},b),{smoothScrolling:w})}if(m.affectsConfiguration(sd)){const w=c.getValue(sd);b=Object.assign(Object.assign({},b),{mouseWheelScrollSensitivity:w})}if(m.affectsConfiguration(od)){const w=c.getValue(od);b=Object.assign(Object.assign({},b),{fastScrollSensitivity:w})}Object.keys(b).length>0&&this.updateOptions(b)})),this.navigator=new $ne(this,Object.assign({configurationService:c},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=qm(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};Hq=fd([bi(5,At),bi(6,bl),bi(7,Qi),bi(8,Ci),bi(9,Bt)],Hq);let $q=class extends B5{constructor(e,t,i,s,o,r,a,l,c,u,d){const h=typeof r.horizontalScrolling!="undefined"?r.horizontalScrolling:Boolean(u.getValue(rl)),[f,p]=d.invokeFunction(z5,r);super(e,t,i,s,o,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},vc(c.getColorTheme(),A5)),f),{horizontalScrolling:h})),this.disposables.add(p),this.contextKeyService=$5(a,this),this.themeService=c,this.listSupportsMultiSelect=W5.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),H5.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listHasSelectionOrFocus=zF.bindTo(this.contextKeyService),this.listDoubleSelection=UF.bindTo(this.contextKeyService),this.listMultiSelection=jF.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=rd(u),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const b=this.getSelection(),w=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(b.length>0||w.length>0),this.listMultiSelection.set(b.length>1),this.listDoubleSelection.set(b.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const b=this.getSelection(),w=this.getFocus();this.listHasSelectionOrFocus.set(b.length>0||w.length>0)})),this.disposables.add(u.onDidChangeConfiguration(b=>{b.affectsConfiguration(R_)&&(this._useAltAsMultipleSelectionModifier=rd(u));let w={};if(b.affectsConfiguration(rl)&&this.horizontalScrolling===void 0){const y=Boolean(u.getValue(rl));w=Object.assign(Object.assign({},w),{horizontalScrolling:y})}if(b.affectsConfiguration(Uc)){const y=Boolean(u.getValue(Uc));w=Object.assign(Object.assign({},w),{smoothScrolling:y})}if(b.affectsConfiguration(sd)){const y=u.getValue(sd);w=Object.assign(Object.assign({},w),{mouseWheelScrollSensitivity:y})}if(b.affectsConfiguration(od)){const y=u.getValue(od);w=Object.assign(Object.assign({},w),{fastScrollSensitivity:y})}Object.keys(w).length>0&&this.updateOptions(w)})),this.navigator=new o2t(this,Object.assign({configurationService:u},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=qm(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};$q=fd([bi(6,At),bi(7,bl),bi(8,Qi),bi(9,Ci),bi(10,Bt)],$q);class ZF extends de{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new J),this.onDidOpen=this._onDidOpen.event,this._register(ct.filter(this.widget.onDidChangeSelection,s=>s.browserEvent instanceof KeyboardEvent)(s=>this.onSelectionFromKeyboard(s))),this._register(this.widget.onPointer(s=>this.onPointer(s.element,s.browserEvent))),this._register(this.widget.onMouseDblClick(s=>this.onMouseDblClick(s.element,s.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t==null?void 0:t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(pA))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(pA))!=="doubleClick"}))):this.openOnSingleClick=(i=t==null?void 0:t.openOnSingleClick)!==null&&i!==void 0?i:!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,s=typeof t.pinned=="boolean"?t.pinned:!i,o=!1;this._open(this.getSelectedElement(),i,s,o,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const s=t.button===1,o=!0,r=s,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,r,a,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const o=!1,r=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,r,a,t)}_open(e,t,i,s,o){!e||this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:s,element:e,browserEvent:o})}}class $ne extends ZF{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class o2t extends ZF{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class r2t extends ZF{constructor(e,t){super(e,t)}getSelectedElement(){var e;return(e=this.widget.getSelection()[0])!==null&&e!==void 0?e:void 0}}function a2t(n){let e=!1;return t=>{if(t.toKeybinding().isModifierKey())return!1;if(e)return e=!1,!1;const i=n.softDispatch(t,t.target);return i!=null&&i.enterChord?(e=!0,!1):(e=!1,!i)}}let zq=class extends WF{constructor(e,t,i,s,o,r,a,l,c,u){const{options:d,getTypeNavigationMode:h,disposable:f}=r.invokeFunction(Xy,o);super(e,t,i,s,d),this.disposables.add(f),this.internals=new Zm(this,o,h,o.overrideStyles,a,l,c,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};zq=fd([bi(5,Bt),bi(6,At),bi(7,bl),bi(8,Qi),bi(9,Ci)],zq);let Uq=class extends Rne{constructor(e,t,i,s,o,r,a,l,c,u){const{options:d,getTypeNavigationMode:h,disposable:f}=r.invokeFunction(Xy,o);super(e,t,i,s,d),this.disposables.add(f),this.internals=new Zm(this,o,h,o.overrideStyles,a,l,c,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Uq=fd([bi(5,Bt),bi(6,At),bi(7,bl),bi(8,Qi),bi(9,Ci)],Uq);let jq=class extends Jvt{constructor(e,t,i,s,o,r,a,l,c,u,d){const{options:h,getTypeNavigationMode:f,disposable:p}=a.invokeFunction(Xy,r);super(e,t,i,s,o,h),this.disposables.add(p),this.internals=new Zm(this,r,f,r.overrideStyles,l,c,u,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};jq=fd([bi(6,Bt),bi(7,At),bi(8,bl),bi(9,Qi),bi(10,Ci)],jq);let _A=class extends Pne{constructor(e,t,i,s,o,r,a,l,c,u,d){const{options:h,getTypeNavigationMode:f,disposable:p}=a.invokeFunction(Xy,r);super(e,t,i,s,o,h),this.disposables.add(p),this.internals=new Zm(this,r,f,r.overrideStyles,l,c,u,d),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};_A=fd([bi(6,Bt),bi(7,At),bi(8,bl),bi(9,Qi),bi(10,Ci)],_A);let Kq=class extends Xvt{constructor(e,t,i,s,o,r,a,l,c,u,d,h){const{options:f,getTypeNavigationMode:p,disposable:m}=l.invokeFunction(Xy,a);super(e,t,i,s,o,r,f),this.disposables.add(m),this.internals=new Zm(this,a,p,a.overrideStyles,c,u,d,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Kq=fd([bi(7,Bt),bi(8,At),bi(9,bl),bi(10,Qi),bi(11,Ci)],Kq);function zne(n){const e=n.getValue(GF);if(e==="highlight")return Wu.Highlight;if(e==="filter")return Wu.Filter;const t=n.getValue(YF);if(t==="simple"||t==="highlight")return Wu.Highlight;if(t==="filter")return Wu.Filter}function Xy(n,e){var t;const i=n.get(Ci),s=n.get(N_),o=n.get(At),r=n.get(Bt),a=()=>{const h=o.getContextKeyValue(Wne);if(h==="automatic")return dg.Automatic;if(h==="trigger"||o.getContextKeyValue(Hne)===!1)return dg.Trigger},l=e.horizontalScrolling!==void 0?e.horizontalScrolling:Boolean(i.getValue(rl)),[c,u]=r.invokeFunction(z5,e),d=e.additionalScrollHeight;return{getTypeNavigationMode:a,disposable:u,options:Object.assign(Object.assign({keyboardSupport:!1},c),{indent:typeof i.getValue(zw)=="number"?i.getValue(zw):void 0,renderIndentGuides:i.getValue(vL),smoothScrolling:Boolean(i.getValue(Uc)),defaultFindMode:zne(i),horizontalScrolling:l,additionalScrollHeight:d,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(t=e.expandOnlyOnTwistieClick)!==null&&t!==void 0?t:i.getValue(bL)==="doubleClick",contextViewProvider:s})}}let Zm=class{constructor(e,t,i,s,o,r,a,l){var c;this.tree=e,this.themeService=a,this.disposables=[],this.contextKeyService=$5(o,e),this.listSupportsMultiSelect=W5.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),H5.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.listSupportFindWidget=e2t.bindTo(this.contextKeyService),this.listSupportFindWidget.set((c=t.findWidgetEnabled)!==null&&c!==void 0?c:!0),this.hasSelectionOrFocus=zF.bindTo(this.contextKeyService),this.hasDoubleSelection=UF.bindTo(this.contextKeyService),this.hasMultiSelection=jF.bindTo(this.contextKeyService),this.treeElementCanCollapse=KF.bindTo(this.contextKeyService),this.treeElementHasParent=t2t.bindTo(this.contextKeyService),this.treeElementCanExpand=qF.bindTo(this.contextKeyService),this.treeElementHasChild=i2t.bindTo(this.contextKeyService),this.treeFindOpen=n2t.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=rd(l),this.updateStyleOverrides(s);const d=()=>{const f=e.getFocus()[0];if(!f)return;const p=e.getNode(f);this.treeElementCanCollapse.set(p.collapsible&&!p.collapsed),this.treeElementHasParent.set(!!e.getParentElement(f)),this.treeElementCanExpand.set(p.collapsible&&p.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(f))},h=new Set;h.add(Wne),h.add(Hne),this.disposables.push(this.contextKeyService,r.register(e),e.onDidChangeSelection(()=>{const f=e.getSelection(),p=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(f.length>0||p.length>0),this.hasMultiSelection.set(f.length>1),this.hasDoubleSelection.set(f.length===2)})}),e.onDidChangeFocus(()=>{const f=e.getSelection(),p=e.getFocus();this.hasSelectionOrFocus.set(f.length>0||p.length>0),d()}),e.onDidChangeCollapseState(d),e.onDidChangeModel(d),e.onDidChangeFindOpenState(f=>this.treeFindOpen.set(f)),l.onDidChangeConfiguration(f=>{let p={};if(f.affectsConfiguration(R_)&&(this._useAltAsMultipleSelectionModifier=rd(l)),f.affectsConfiguration(zw)){const m=l.getValue(zw);p=Object.assign(Object.assign({},p),{indent:m})}if(f.affectsConfiguration(vL)){const m=l.getValue(vL);p=Object.assign(Object.assign({},p),{renderIndentGuides:m})}if(f.affectsConfiguration(Uc)){const m=Boolean(l.getValue(Uc));p=Object.assign(Object.assign({},p),{smoothScrolling:m})}if((f.affectsConfiguration(GF)||f.affectsConfiguration(YF))&&e.updateOptions({defaultFindMode:zne(l)}),f.affectsConfiguration(rl)&&t.horizontalScrolling===void 0){const m=Boolean(l.getValue(rl));p=Object.assign(Object.assign({},p),{horizontalScrolling:m})}if(f.affectsConfiguration(bL)&&t.expandOnlyOnTwistieClick===void 0&&(p=Object.assign(Object.assign({},p),{expandOnlyOnTwistieClick:l.getValue(bL)==="doubleClick"})),f.affectsConfiguration(sd)){const m=l.getValue(sd);p=Object.assign(Object.assign({},p),{mouseWheelScrollSensitivity:m})}if(f.affectsConfiguration(od)){const m=l.getValue(od);p=Object.assign(Object.assign({},p),{fastScrollSensitivity:m})}Object.keys(p).length>0&&e.updateOptions(p)}),this.contextKeyService.onDidChangeContext(f=>{f.affectsSome(h)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new r2t(e,Object.assign({configurationService:l},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){vi(this.styler),this.styler=e?qm(this.tree,this.themeService,e):de.None}dispose(){this.disposables=vi(this.disposables),vi(this.styler),this.styler=void 0}};Zm=fd([bi(4,At),bi(5,bl),bi(6,Qi),bi(7,Ci)],Zm);const l2t=Tn.as(Uh.Configuration);l2t.registerConfiguration({id:"workbench",order:7,title:v("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[R_]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[v("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),v("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:v({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[pA]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:v({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[rl]:{type:"boolean",default:!1,description:v("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[zw]:{type:"number",default:8,minimum:4,maximum:40,description:v("tree indent setting","Controls tree indentation in pixels.")},[vL]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:v("render tree indent guides","Controls whether the tree should render indent guides.")},[Uc]:{type:"boolean",default:!1,description:v("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[sd]:{type:"number",default:1,markdownDescription:v("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[od]:{type:"number",default:5,description:v("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[GF]:{type:"string",enum:["highlight","filter"],enumDescriptions:[v("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),v("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:v("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[YF]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[v("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),v("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),v("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:v("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:v("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[bL]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:v("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}});var vA;(function(n){n[n.PRESERVE=0]="PRESERVE",n[n.LAST=1]="LAST"})(vA||(vA={}));const O_={Quickaccess:"workbench.contributions.quickaccess"};class c2t{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),jt(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Iy([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}}Tn.add(O_.Quickaccess,new c2t);const Gh=ui("quickInputService");var u2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},qq=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let bA=class extends de{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=Tn.as(O_.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var s;const[o,r]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=a==null?void 0:a.descriptor;if(a&&r&&l===r){e!==r.prefix&&!(i!=null&&i.preserveValue)&&(a.picker.value=e),this.adjustValueSelection(a.picker,r,i);return}if(r&&!(i!=null&&i.preserveValue)){let f;if(a&&l&&l!==r){const p=a.value.substr(l.prefix.length);p&&(f=`${r.prefix}${p}`)}if(!f){const p=o==null?void 0:o.defaultFilterValue;p===vA.LAST?f=this.lastAcceptedPickerValues.get(r):typeof p=="string"&&(f=`${r.prefix}${p}`)}typeof f=="string"&&(e=f)}const c=new Ie,u=c.add(this.quickInputService.createQuickPick());u.value=e,this.adjustValueSelection(u,r,i),u.placeholder=r==null?void 0:r.placeholder,u.quickNavigate=i==null?void 0:i.quickNavigateConfiguration,u.hideInput=!!u.quickNavigate&&!a,(typeof(i==null?void 0:i.itemActivation)=="number"||(i==null?void 0:i.quickNavigateConfiguration))&&(u.itemActivation=(s=i==null?void 0:i.itemActivation)!==null&&s!==void 0?s:_c.SECOND),u.contextKey=r==null?void 0:r.contextKey,u.filterValue=f=>f.substring(r?r.prefix.length:0),r!=null&&r.placeholder&&(u.ariaLabel=r==null?void 0:r.placeholder);let d;t&&(d=new lP,c.add(Mh(u.onWillAccept)(f=>{f.veto(),u.hide()}))),c.add(this.registerPickerListeners(u,o,r,e));const h=c.add(new ro);if(o&&c.add(o.provide(u,h.token)),Mh(u.onDidHide)(()=>{u.selectedItems.length===0&&h.cancel(),c.dispose(),d==null||d.complete(u.selectedItems.slice(0))}),u.show(),t)return d==null?void 0:d.p}adjustValueSelection(e,t,i){var s;let o;i!=null&&i.preserveValue?o=[e.value.length,e.value.length]:o=[(s=t==null?void 0:t.prefix.length)!==null&&s!==void 0?s:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,s){const o=new Ie,r=this.visibleQuickAccess={picker:e,descriptor:i,value:s};return o.add(jt(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(e.onDidChangeValue(a=>{const[l]=this.getOrInstantiateProvider(a);l!==t?this.show(a,{preserveValue:!0}):r.value=a})),i&&o.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),o}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};bA=u2t([qq(0,Gh),qq(1,Bt)],bA);var d2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},lb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let CA=class extends iut{constructor(e,t,i,s,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=s,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(bA))),this._quickAccess}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),returnFocus:()=>e.focus(),createList:(o,r,a,l,c)=>this.instantiationService.createInstance(mA,o,r,a,l,c),styles:this.computeStyles()},s=this._register(new F5(Object.assign(Object.assign({},i),t)));return s.layout(e.dimension,e.offset.quickPickTop),this._register(e.onDidLayout(o=>s.layout(o,e.offset.quickPickTop))),this._register(s.onShow(()=>this.resetContextKeys())),this._register(s.onHide(()=>this.resetContextKeys())),s}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new et(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t==null||t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=Yt.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},vc(this.theme,{quickInputBackground:Aj,quickInputForeground:Nut,quickInputTitleBackground:Mut,contrastBorder:Kt,widgetShadow:Ic})),inputBox:vc(this.theme,{inputForeground:p5,inputBackground:g5,inputBorder:m5,inputValidationInfoBackground:SP,inputValidationInfoForeground:LP,inputValidationInfoBorder:xP,inputValidationWarningBackground:DP,inputValidationWarningForeground:kP,inputValidationWarningBorder:EP,inputValidationErrorBackground:IP,inputValidationErrorForeground:TP,inputValidationErrorBorder:NP}),countBadge:vc(this.theme,{badgeBackground:Q0,badgeForeground:J0,badgeBorder:Kt}),button:vc(this.theme,{buttonForeground:kb,buttonBackground:cM,buttonHoverBackground:Sut,buttonBorder:Kt}),progressBar:vc(this.theme,{progressBarBackground:Lut}),keybindingLabel:vc(this.theme,{keybindingLabelBackground:Out,keybindingLabelForeground:Put,keybindingLabelBorder:Fut,keybindingLabelBottomBorder:But,keybindingLabelShadow:Ic}),list:vc(this.theme,{listBackground:Aj,listInactiveFocusForeground:Ib,listInactiveSelectionIconForeground:Tb,listInactiveFocusBackground:Nb,listFocusOutline:mn,listInactiveFocusOutline:mn,pickerGroupBorder:Rut,pickerGroupForeground:Aut})}}};CA=d2t([lb(0,Bt),lb(1,At),lb(2,Qi),lb(3,jh),lb(4,a2)],CA);var Une=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},zp=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let wA=class extends CA{constructor(e,t,i,s,o,r){super(t,i,s,o,new BM(e.getContainerDomNode(),r)),this.host=void 0;const a=Ev.get(e);if(a){const l=a.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return l.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};wA=Une([zp(1,Bt),zp(2,At),zp(3,Qi),zp(4,jh),zp(5,Ei)],wA);let yA=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(wA,e);this.mapEditorToService.set(e,t),Mh(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=Yt.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};yA=Une([zp(0,Bt),zp(1,Ei)],yA);class Ev{constructor(e){this.editor=e,this.widget=new U5(this.editor)}static get(e){return e.getContribution(Ev.ID)}dispose(){this.widget.dispose()}}Ev.ID="editor.controller.quickInput";class U5{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return U5.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}U5.ID="editor.contrib.quickInputWidget";mi(Ev.ID,Ev);class h2t{constructor(e,t,i,s,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=s,this.background=o}}function f2t(n){if(!n||!Array.isArray(n))return[];const e=[];let t=0;for(let i=0,s=n.length;i<s;i++){const o=n[i];let r=-1;if(typeof o.fontStyle=="string"){r=0;const c=o.fontStyle.split(" ");for(let u=0,d=c.length;u<d;u++)switch(c[u]){case"italic":r=r|1;break;case"bold":r=r|2;break;case"underline":r=r|4;break;case"strikethrough":r=r|8;break}}let a=null;typeof o.foreground=="string"&&(a=o.foreground);let l=null;typeof o.background=="string"&&(l=o.background),e[t++]=new h2t(o.token||"",i,r,a,l)}return e}function g2t(n,e){n.sort((u,d)=>{const h=b2t(u.token,d.token);return h!==0?h:u.index-d.index});let t=0,i="000000",s="ffffff";for(;n.length>=1&&n[0].token==="";){const u=n.shift();u.fontStyle!==-1&&(t=u.fontStyle),u.foreground!==null&&(i=u.foreground),u.background!==null&&(s=u.background)}const o=new m2t;for(const u of e)o.getId(u);const r=o.getId(i),a=o.getId(s),l=new XF(t,r,a),c=new QF(l);for(let u=0,d=n.length;u<d;u++){const h=n[u];c.insert(h.token,h.fontStyle,o.getId(h.foreground),o.getId(h.background))}return new jne(o,c)}const p2t=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class m2t{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;const t=e.match(p2t);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=re.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class jne{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(f2t(e),t)}static createFromParsedTokenTheme(e,t){return g2t(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i=="undefined"){const s=this._match(t),o=v2t(t);i=(s.metadata|o<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const _2t=/\b(comment|string|regex|regexp)\b/;function v2t(n){const e=n.match(_2t);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function b2t(n,e){return n<e?-1:n>e?1:0}class XF{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new XF(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class QF{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;const t=e.indexOf(".");let i,s;t===-1?(i=e,s=""):(i=e.substring(0,t),s=e.substring(t+1));const o=this._children.get(i);return typeof o!="undefined"?o.match(s):this._mainRule}insert(e,t,i,s){if(e===""){this._mainRule.acceptOverwrite(t,i,s);return}const o=e.indexOf(".");let r,a;o===-1?(r=e,a=""):(r=e.substring(0,o),a=e.substring(o+1));let l=this._children.get(r);typeof l=="undefined"&&(l=new QF(this._mainRule.clone()),this._children.set(r,l)),l.insert(a,t,i,s)}}function C2t(n){const e=[];for(let t=1,i=n.length;t<i;t++){const s=n[t];e[t]=`.mtk${t} { color: ${s}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join(`
`)}const w2t={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Ss]:"#FFFFFE",[fa]:"#000000",[MP]:"#E5EBF1",[Vy]:"#D3D3D3",[Wy]:"#939393",[AP]:"#ADD6FF4D"}},y2t={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ss]:"#1E1E1E",[fa]:"#D4D4D4",[MP]:"#3A3D41",[Vy]:"#404040",[Wy]:"#707070",[AP]:"#ADD6FF26"}},S2t={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ss]:"#000000",[fa]:"#FFFFFF",[Vy]:"#FFFFFF",[Wy]:"#FFFFFF"}},L2t={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Ss]:"#FFFFFF",[fa]:"#292929",[Vy]:"#292929",[Wy]:"#292929"}};function x2t(n){const e=new J,t=Bie();return t.onDidChange(()=>e.fire()),n==null||n.onDidProductIconThemeChange(()=>e.fire()),{onDidChange:e.event,getCSS(){const i=n?n.getProductIconTheme():new Kne,s={},o=a=>{const l=i.getIcon(a);if(!l)return;const c=l.font;return c?(s[c.id]=c.definition,`.codicon-${a.id}:before { content: '${l.fontCharacter}'; font-family: ${kj(c.id)}; }`):`.codicon-${a.id}:before { content: '${l.fontCharacter}'; }`},r=[];for(const a of t.getIcons()){const l=o(a);l&&r.push(l)}for(const a in s){const l=s[a],c=l.weight?`font-weight: ${l.weight};`:"",u=l.style?`font-style: ${l.style};`:"",d=l.src.map(h=>`${Wm(h.location)} format('${h.format}')`).join(", ");r.push(`@font-face { src: ${d}; font-family: ${kj(a)};${c}${u} font-display: block; }`)}return r.join(`
`)}}}class Kne{getIcon(e){const t=Bie();let i=e.defaults;for(;Li.isThemeIcon(i);){const s=t.getIcon(i.id);if(!s)return;i=s.defaults}return i}}const sh="vs",O1="vs-dark",Cm="hc-black",wm="hc-light",qne=Tn.as(Cte.ColorContribution),D2t=Tn.as(cte.ThemingContribution);class Gne{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(S6(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,re.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=SA(this.themeData.base);for(const i in t.colors)e.has(i)||e.set(i,re.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=qne.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case sh:return Ja.LIGHT;case Cm:return Ja.HIGH_CONTRAST_DARK;case wm:return Ja.HIGH_CONTRAST_LIGHT;default:return Ja.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const o=SA(this.themeData.base);e=o.rules,o.encodedTokensColors&&(t=o.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],s=this.themeData.colors["editor.background"];if(i||s){const o={token:""};i&&(o.foreground=i),s&&(o.background=s),e.push(o)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=jne.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const o=this.tokenTheme._match([e].concat(t).join(".")).metadata,r=io.getForeground(o),a=io.getFontStyle(o);return{foreground:r,italic:Boolean(a&1),bold:Boolean(a&2),underline:Boolean(a&4),strikethrough:Boolean(a&8)}}}function S6(n){return n===sh||n===O1||n===Cm||n===wm}function SA(n){switch(n){case sh:return w2t;case O1:return y2t;case Cm:return S2t;case wm:return L2t}}function p3(n){const e=SA(n);return new Gne(n,e)}class k2t extends de{constructor(){super(),this._onColorThemeChange=this._register(new J),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new J),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new Kne,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(sh,p3(sh)),this._knownThemes.set(O1,p3(O1)),this._knownThemes.set(Cm,p3(Cm)),this._knownThemes.set(wm,p3(wm));const e=x2t(this);this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(sh),this._onOSSchemeChanged(),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),JO("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(e){return uw(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=ul(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),de.None}_registerShadowDomContainer(e){const t=ul(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!S6(t.base)&&!S6(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Gne(e,t)),S6(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(sh),this._updateActualTheme(t)}_updateActualTheme(e){!e||this._theme===e||(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=window.matchMedia("(forced-colors: active)").matches;if(e!==wo(this._theme.type)){let t;gw(this._theme.type)?t=e?Cm:O1:t=e?wm:sh,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:r=>{t[r]||(e.push(r),t[r]=!0)}};D2t.getThemingParticipants().forEach(r=>r(this._theme,i,this._environment));const s=[];for(const r of qne.getColors()){const a=this._theme.getColor(r.id,!0);a&&s.push(`${bte(r.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor { ${s.join(`
`)} }`);const o=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(C2t(o)),this._themeCSS=e.join(`
`),this._updateCSS(),Dn.setColorMap(o),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}const Da=ui("themeService");var E2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},tT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let LA=class extends de{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new J,this._onDidChangeReducedMotion=new J,this._accessibilityModeEnabledContext=Py.bindTo(this._contextKeyService);const s=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(r=>{r.affectsConfiguration("editor.accessibilitySupport")&&(s(),this._onDidChangeScreenReaderOptimized.fire()),r.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),s(),this._register(this.onDidChangeScreenReaderOptimized(()=>s()));const o=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=o.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(o)}initReducedMotionListeners(e){if(!this._layoutService.hasContainer)return;this._register(xe(e,"change",()=>{this._systemMotionReduced=e.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const t=()=>{const i=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",i),this._layoutService.container.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return e==="on"||e==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};LA=E2t([tT(0,At),tT(1,a2),tT(2,Ci)],LA);var Fb=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},u1;(function(n){n[n.None=0]="None",n[n.Initialized=1]="Initialized",n[n.Closed=2]="Closed"})(u1||(u1={}));class P1 extends de{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new J),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=u1.None,this.cache=new Map,this.flushDelayer=new Fat(P1.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;(t=e.changed)===null||t===void 0||t.forEach((s,o)=>this.accept(o,s)),(i=e.deleted)===null||i===void 0||i.forEach(s=>this.accept(s,void 0))}accept(e,t){if(this.state===u1.Closed)return;let i=!1;ca(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire(e)}get(e,t){const i=this.cache.get(e);return ca(i)?t:i}getBoolean(e,t){const i=this.get(e);return ca(i)?t:i==="true"}getNumber(e,t){const i=this.get(e);return ca(i)?t:parseInt(i,10)}set(e,t){return Fb(this,void 0,void 0,function*(){if(this.state===u1.Closed)return;if(ca(t))return this.delete(e);const i=String(t);if(this.cache.get(e)!==i)return this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}delete(e){return Fb(this,void 0,void 0,function*(){if(!(this.state===u1.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Fb(this,void 0,void 0,function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(e){return Fb(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),e)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}P1.DEFAULT_FLUSH_DELAY=100;class iT{constructor(){this.onDidChangeItemsExternal=ct.None,this.items=new Map}updateItems(e){var t,i;return Fb(this,void 0,void 0,function*(){(t=e.insert)===null||t===void 0||t.forEach((s,o)=>this.items.set(o,s)),(i=e.delete)===null||i===void 0||i.forEach(s=>this.items.delete(s))})}}const m3="__$__targetStorageMarker",tc=ui("storageService");var CL;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(CL||(CL={}));class j5 extends de{constructor(e={flushInterval:j5.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new a8),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new a8),this._onWillSaveState=this._register(new J),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(e,t){if(t===m3){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){var s;return(s=this.getStorage(t))===null||s===void 0?void 0:s.get(e,i)}getBoolean(e,t,i){var s;return(s=this.getStorage(t))===null||s===void 0?void 0:s.getBoolean(e,i)}getNumber(e,t,i){var s;return(s=this.getStorage(t))===null||s===void 0?void 0:s.getNumber(e,i)}store(e,t,i,s){if(ca(t)){this.remove(e,i);return}this.withPausedEmitters(()=>{var o;this.updateKeyTarget(e,i,s),(o=this.getStorage(i))===null||o===void 0||o.set(e,t)})}remove(e,t){this.withPausedEmitters(()=>{var i;this.updateKeyTarget(e,t,void 0),(i=this.getStorage(t))===null||i===void 0||i.delete(e)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){var s,o;const r=this.getKeyTargets(t);typeof i=="number"?r[e]!==i&&(r[e]=i,(s=this.getStorage(t))===null||s===void 0||s.set(m3,JSON.stringify(r))):typeof r[e]=="number"&&(delete r[e],(o=this.getStorage(t))===null||o===void 0||o.set(m3,JSON.stringify(r)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.get(m3,e);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}}j5.DEFAULT_FLUSH_INTERVAL=60*1e3;class I2t extends j5{constructor(){super(),this.applicationStorage=this._register(new P1(new iT)),this.profileStorage=this._register(new P1(new iT)),this.workspaceStorage=this._register(new P1(new iT)),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.profileStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e))),this._register(this.applicationStorage.onDidChangeStorage(e=>this.emitDidChangeValue(-1,e)))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}var JF=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},F1=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let xA=class{constructor(e,t){this._commandService=e,this._hiddenStates=new wL(t)}createMenu(e,t,i){return new DA(e,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t,this)}};xA=JF([F1(0,ss),F1(1,tc)],xA);let wL=class Bb{constructor(e){this._storageService=e,this._disposables=new Ie,this._onDidChange=new J,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const t=e.get(Bb._key,0,"{}");this._data=JSON.parse(t)}catch{this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(t=>{if(t.key===Bb._key){if(!this._ignoreChangeEvent)try{const i=e.get(Bb._key,0,"{}");this._data=JSON.parse(i)}catch(i){console.log("FAILED to read storage after UPDATE",i)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(e,t){var i,s;return(s=(i=this._data[e.id])===null||i===void 0?void 0:i.includes(t))!==null&&s!==void 0?s:!1}updateHidden(e,t,i){const s=this._data[e.id];if(i)s?s.indexOf(t)<0&&s.push(t):this._data[e.id]=[t];else if(s){const o=s.indexOf(t);o>=0&&Vst(s,o),s.length===0&&delete this._data[e.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(Bb._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}};wL._key="menu.hiddenCommands";wL=JF([F1(0,tc)],wL);let DA=class V0{constructor(e,t,i,s,o,r){this._id=e,this._hiddenStates=t,this._options=i,this._commandService=s,this._contextKeyService=o,this._menuService=r,this._disposables=new Ie,this._menuGroups=[],this._contextKeys=new Set,this._build();const a=new Hi(()=>{this._build(),this._onDidChange.fire(this)},i.eventDebounceDelay);this._disposables.add(a),this._disposables.add(jl.onDidChangeMenu(u=>{u.has(e)&&a.schedule()}));const l=this._disposables.add(new Ie),c=()=>{const u=new Hi(()=>this._onDidChange.fire(this),i.eventDebounceDelay);l.add(u),l.add(o.onDidChangeContext(d=>{d.affectsSome(this._contextKeys)&&u.schedule()})),l.add(t.onDidChange(()=>{u.schedule()}))};this._onDidChange=new J({onFirstListenerAdd:c,onLastListenerRemove:l.clear.bind(l)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const e=jl.getMenuItems(this._id);let t;e.sort(V0._compareMenuItems);for(const i of e){const s=i.group||"";(!t||t[0]!==s)&&(t=[s,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){if(V0._fillInKbExprKeys(e.when,this._contextKeys),X0(e)){if(e.command.precondition&&V0._fillInKbExprKeys(e.command.precondition,this._contextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;V0._fillInKbExprKeys(t,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&jl.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(const i of this._menuGroups){const[s,o]=i,r=[],a=[];for(const l of o)if(this._contextKeyService.contextMatchesRules(l.when)){let c;if(X0(l)){const d=T2t(this._id,l.command,this._hiddenStates);c=new kg(l.command,l.alt,e,d,this._contextKeyService,this._commandService)}else c=new yP(l,this._menuService,this._contextKeyService,e),c.actions.length===0&&(c.dispose(),c=void 0);c&&a.push(c)}a.length>0&&t.push([s,a]),r.length>0}return t}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}static _compareMenuItems(e,t){const i=e.group,s=t.group;if(i!==s){if(i){if(!s)return-1}else return 1;if(i==="navigation")return-1;if(s==="navigation")return 1;const a=i.localeCompare(s);if(a!==0)return a}const o=e.order||0,r=t.order||0;return o<r?-1:o>r?1:V0._compareTitles(X0(e)?e.command.title:e.title,X0(t)?t.command.title:t.title)}static _compareTitles(e,t){const i=typeof e=="string"?e:e.original,s=typeof t=="string"?t:t.original;return i.localeCompare(s)}};DA=JF([F1(3,ss),F1(4,At),F1(5,k_)],DA);function T2t(n,e,t){const i=`${n.id}/${e.id}`,s=typeof e.title=="string"?e.title:e.title.value,o=Ij({id:i,label:v("hide.label","Hide '{0}'",s),run(){t.updateHidden(n,e.id,!0)}}),r=Ij({id:i,label:s,get checked(){return!t.isHidden(n,e.id)},run(){const a=!t.isHidden(n,e.id);t.updateHidden(n,e.id,a)}});return{hide:o,toggle:r,get isHidden(){return!r.checked}}}var N2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Gq=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},C0=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let kA=class extends de{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],(Ah||tP)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const e=()=>{const t=new lP;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(i=>C0(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register(xe(this.layoutService.container,"click",e)),this._register(xe(this.layoutService.container,"keydown",e)))}writeText(e,t){return C0(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}const i=document.activeElement,s=document.body.appendChild(Ne("textarea",{"aria-hidden":!0}));s.style.height="1px",s.style.width="1px",s.style.position="absolute",s.value=e,s.focus(),s.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(s)})}readText(e){return C0(this,void 0,void 0,function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return C0(this,void 0,void 0,function*(){return this.findText})}writeFindText(e){return C0(this,void 0,void 0,function*(){this.findText=e})}readResources(){return C0(this,void 0,void 0,function*(){return this.resources})}};kA=N2t([Gq(0,a2),Gq(1,Ql)],kA);var M2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},A2t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const SC="data-keybinding-context";class eB{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return Object.assign({},this._value)}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t=="undefined"&&this._parent?this._parent.getValue(e):t}}class Iv extends eB{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}Iv.INSTANCE=new Iv;class Uw extends eB{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=M1.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(s=>{if(s.source===7){const o=Array.from(ei.map(this._values,([r])=>r));this._values.clear(),i.fire(new Zq(o))}else{const o=[];for(const r of s.affectedKeys){const a=`config.${r}`,l=this._values.findSuperstr(a);l!==void 0&&(o.push(...ei.map(l,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(o.push(a),this._values.delete(a))}i.fire(new Zq(o))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(Uw._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(Uw._keyPrefix.length),i=this._configurationService.getValue(t);let s;switch(typeof i){case"number":case"boolean":case"string":s=i;break;default:Array.isArray(i)?s=JSON.stringify(i):s=i}return this._values.set(e,s),s}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}Uw._keyPrefix="config.";class R2t{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Yq{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class Zq{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every(t=>e.has(t))}}class O2t{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every(t=>t.allKeysContainedIn(e))}}function P2t(n,e){return n.allKeysContainedIn(new Set(Object.keys(e)))}class Yne{constructor(e){this._onDidChangeContext=new a8({merge:t=>new O2t(t)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new R2t(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new F2t(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);!i||i.setValue(e,t)&&this._onDidChangeContext.fire(new Yq(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new Yq(e))}getContext(e){return this._isDisposed?Iv.INSTANCE:this.getContextValuesContainer(B2t(e))}}let EA=class extends Yne{constructor(e){super(0),this._contexts=new Map,this._toDispose=new Ie,this._lastContextId=0;const t=new Uw(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?Iv.INSTANCE:this._contexts.get(e)||Iv.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new eB(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};EA=M2t([A2t(0,Ci)],EA);class F2t extends Yne{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new Bo,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(SC)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(SC,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(e=>{const i=this._parent.getContextValuesContainer(this._myContextId).value;P2t(e,i)||this._onDidChangeContext.fire(e)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(SC),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?Iv.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function B2t(n){for(;n;){if(n.hasAttribute(SC)){const e=n.getAttribute(SC);return e?parseInt(e,10):NaN}n=n.parentElement}return 0}function V2t(n,e,t){n.get(At).createKey(String(e),W2t(t))}function W2t(n){return $J(n,e=>{if(typeof e=="object"&&e.$mid===1)return bt.revive(e).toString();if(e instanceof bt)return e.toString()})}pi.registerCommand(eut,V2t);pi.registerCommand({id:"getContextKeyInfo",handler(){return[...et.all()].sort((n,e)=>n.key.localeCompare(e.key))},description:{description:v("getContextKeyInfo","A command that returns information about context keys"),args:[]}});pi.registerCommand("_generateContextKeyInfo",function(){const n=[],e=new Set;for(const t of et.all())e.has(t.key)||(e.add(t.key),n.push(t));n.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(n,void 0,2))});class H2t{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class $2t{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),s=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),s),s.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new H2t(e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join(`
`)}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),s=this._findCycle(t,i);if(s)return s}}_findCycle(e,t){for(const[i,s]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const o=this._findCycle(s,t);if(o)return o;t.delete(i)}}}class Xq extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=(t=e.findCycleSlow())!==null&&t!==void 0?t:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class tB{constructor(e=new k5,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(Bt,this)}createChild(e){return new tB(e,this._strict,this)}invokeFunction(e,...t){const i=Fl.traceInvocation(e);let s=!1;try{return e({get:r=>{if(s)throw Fot("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(r,i);if(!a)throw new Error(`[invokeFunction] unknown service '${r}'`);return a}},...t)}finally{s=!0,i.stop()}}createInstance(e,...t){let i,s;return e instanceof Lu?(i=Fl.traceCreation(e.ctor),s=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Fl.traceCreation(e),s=this._createInstance(e,t,i)),i.stop(),s}_createInstance(e,t=[],i){const s=Dc.getServiceDependencies(e).sort((a,l)=>a.index-l.index),o=[];for(const a of s){const l=this._getOrCreateServiceInstance(a.id,i);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),o.push(l)}const r=s.length>0?s[0].index:t.length;if(t.length!==r){console.trace(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${t.length} static arguments`);const a=r-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,r)}return new e(...[...t,...o])}_setServiceInstance(e,t){if(this._services.get(e)instanceof Lu)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){const i=this._getServiceInstanceOrDescriptor(e);return i instanceof Lu?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const s=new $2t(a=>a.id.toString());let o=0;const r=[{id:e,desc:t,_trace:i}];for(;r.length;){const a=r.pop();if(s.lookupOrInsertNode(a),o++>1e3)throw new Xq(s);for(const l of Dc.getServiceDependencies(a.desc.ctor)){const c=this._getServiceInstanceOrDescriptor(l.id);if(c||this._throwIfStrict(`[createInstance] ${e} depends on ${l.id} which is NOT registered.`,!0),c instanceof Lu){const u={id:l.id,desc:c,_trace:a._trace.branch(l.id,!0)};s.insertEdge(a,u),r.push(u)}}}for(;;){const a=s.roots();if(a.length===0){if(!s.isEmpty())throw new Xq(s);break}for(const{data:l}of a){if(this._getServiceInstanceOrDescriptor(l.id)instanceof Lu){const u=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,u)}s.removeNode(l)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],s,o){if(this._services.get(e)instanceof Lu)return this._createServiceInstance(t,i,s,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,s,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,s){if(i){const o=new og(()=>this._createInstance(e,t,s));return new Proxy(Object.create(null),{get(r,a){if(a in r)return r[a];const l=o.value;let c=l[a];return typeof c!="function"||(c=c.bind(l),r[a]=c),c},set(r,a,l){return o.value[a]=l,!0}})}else return this._createInstance(e,t,s)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}class Fl{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return Fl._None}static traceCreation(e){return Fl._None}branch(e,t){const i=new Fl(2,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;Fl._totals+=e;let t=!1;function i(o,r){const a=[],l=new Array(o+1).join("	");for(const[c,u,d]of r._dep)if(u&&d){t=!0,a.push(`${l}CREATES -> ${c}`);const h=i(o+1,d);h&&a.push(h)}else a.push(`${l}uses -> ${c}`);return a.join(`
`)}const s=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${Fl._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(s.join(`
`))}}Fl._None=new class extends Fl{constructor(){super(-1,null)}stop(){}branch(){return this}};Fl._totals=0;class z2t{constructor(){this._byResource=new Fo,this._byOwner=new Map}set(e,t,i){let s=this._byResource.get(e);s||(s=new Map,this._byResource.set(e,s)),s.set(t,i);let o=this._byOwner.get(t);o||(o=new Fo,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){const i=this._byResource.get(e);return i==null?void 0:i.get(t)}delete(e,t){let i=!1,s=!1;const o=this._byResource.get(e);o&&(i=o.delete(t));const r=this._byOwner.get(t);if(r&&(s=r.delete(e)),i!==s)throw new Error("illegal state");return i&&s}values(e){var t,i,s,o;return typeof e=="string"?(i=(t=this._byOwner.get(e))===null||t===void 0?void 0:t.values())!==null&&i!==void 0?i:ei.empty():bt.isUri(e)?(o=(s=this._byResource.get(e))===null||s===void 0?void 0:s.values())!==null&&o!==void 0?o:ei.empty():ei.map(ei.concat(...this._byOwner.values()),r=>r[1])}}class U2t{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Fo,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const s=this._resourceStats(t);this._add(s),this._data.set(t,s)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===Vt.inMemory||e.scheme===Vt.walkThrough||e.scheme===Vt.walkThroughSnippet||e.scheme===Vt.vscodeSourceControl)return t;for(const{severity:i}of this._service.read({resource:e}))i===En.Error?t.errors+=1:i===En.Warning?t.warnings+=1:i===En.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class Af{constructor(){this._onMarkerChanged=new qot({delay:0,merge:Af._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new z2t,this._stats=new U2t(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(RJ(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const s=[];for(const o of i){const r=Af._toMarker(e,t,o);r&&s.push(r)}this._data.set(t,e,s),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:s,severity:o,message:r,source:a,startLineNumber:l,startColumn:c,endLineNumber:u,endColumn:d,relatedInformation:h,tags:f}=i;if(!!r)return l=l>0?l:1,c=c>0?c:1,u=u>=l?u:l,d=d>0?d:c,{resource:t,owner:e,code:s,severity:o,message:r,source:a,startLineNumber:l,startColumn:c,endLineNumber:u,endColumn:d,relatedInformation:h,tags:f}}changeAll(e,t){const i=[],s=this._data.values(e);if(s)for(const o of s){const r=ei.first(o);r&&(i.push(r.resource),this._data.delete(r.resource,e))}if(vo(t)){const o=new Fo;for(const{resource:r,marker:a}of t){const l=Af._toMarker(e,r,a);if(!l)continue;const c=o.get(r);c?c.push(l):(o.set(r,[l]),i.push(r))}for(const[r,a]of o)this._data.set(r,e,a)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:s,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const r=this._data.get(i,t);if(r){const a=[];for(const l of r)if(Af._accept(l,s)){const c=a.push(l);if(o>0&&c===o)break}return a}else return[]}else if(!t&&!i){const r=[];for(const a of this._data.values())for(const l of a)if(Af._accept(l,s)){const c=r.push(l);if(o>0&&c===o)return r}return r}else{const r=this._data.values(i!=null?i:t),a=[];for(const l of r)for(const c of l)if(Af._accept(c,s)){const u=a.push(c);if(o>0&&u===o)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new Fo;for(const i of e)for(const s of i)t.set(s,!0);return Array.from(t.keys())}}function Zne(n,e,t,i,s,o){if(Array.isArray(n)){let r=0;for(const a of n){const l=Zne(a,e,t,i,s,o);if(l===10)return l;l>r&&(r=l)}return r}else{if(typeof n=="string")return i?n==="*"?5:n===t?10:0:0;if(n){const{language:r,pattern:a,scheme:l,hasAccessToAllModels:c,notebookType:u}=n;if(!i&&!c)return 0;u&&s&&(e=s);let d=0;if(l)if(l===e.scheme)d=10;else if(l==="*")d=5;else return 0;if(r)if(r===t)d=10;else if(r==="*")d=Math.max(d,5);else return 0;if(u)if(u===o)d=10;else if(u==="*"&&o!==void 0)d=Math.max(d,5);else return 0;if(a){let h;if(typeof a=="string"?h=a:h=Object.assign(Object.assign({},a),{base:QJ(a.base)}),h===e.fsPath||O0t(h,e.fsPath))d=10;else return 0}return d}else return 0}}function Xne(n){return typeof n=="string"?!1:Array.isArray(n)?n.every(Xne):!!n.exclusive}class Qq{constructor(e,t,i,s){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=s}equals(e){var t,i;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&((t=this.notebookUri)===null||t===void 0?void 0:t.toString())===((i=e.notebookUri)===null||i===void 0?void 0:i.toString())}}class An{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new J,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),jt(()=>{if(i){const s=this._entries.indexOf(i);s>=0&&(this._entries.splice(s,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(const i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,i=>t.push(i.provider)),t}orderedGroups(e){const t=[];let i,s;return this._orderedForEach(e,o=>{i&&s===o._score?i.push(o.provider):(s=o._score,i=[o.provider],t.push(i))}),t}_orderedForEach(e,t){this._updateScores(e);for(const i of this._entries)i._score>0&&t(i)}_updateScores(e){var t,i;const s=(t=this._notebookInfoResolver)===null||t===void 0?void 0:t.call(this,e.uri),o=s?new Qq(e.uri,e.getLanguageId(),s.uri,s.type):new Qq(e.uri,e.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(o))){this._lastCandidate=o;for(const r of this._entries)if(r._score=Zne(r.selector,o.uri,o.languageId,Yrt(e),o.notebookUri,o.notebookType),Xne(r.selector)&&r._score>0){for(const a of this._entries)a._score=0;r._score=1e3;break}this._entries.sort(An._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}class j2t{constructor(){this.referenceProvider=new An(this._score.bind(this)),this.renameProvider=new An(this._score.bind(this)),this.codeActionProvider=new An(this._score.bind(this)),this.definitionProvider=new An(this._score.bind(this)),this.typeDefinitionProvider=new An(this._score.bind(this)),this.declarationProvider=new An(this._score.bind(this)),this.implementationProvider=new An(this._score.bind(this)),this.documentSymbolProvider=new An(this._score.bind(this)),this.inlayHintsProvider=new An(this._score.bind(this)),this.colorProvider=new An(this._score.bind(this)),this.codeLensProvider=new An(this._score.bind(this)),this.documentFormattingEditProvider=new An(this._score.bind(this)),this.documentRangeFormattingEditProvider=new An(this._score.bind(this)),this.onTypeFormattingEditProvider=new An(this._score.bind(this)),this.signatureHelpProvider=new An(this._score.bind(this)),this.hoverProvider=new An(this._score.bind(this)),this.documentHighlightProvider=new An(this._score.bind(this)),this.selectionRangeProvider=new An(this._score.bind(this)),this.foldingRangeProvider=new An(this._score.bind(this)),this.linkProvider=new An(this._score.bind(this)),this.inlineCompletionsProvider=new An(this._score.bind(this)),this.completionProvider=new An(this._score.bind(this)),this.linkedEditingRangeProvider=new An(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new An(this._score.bind(this)),this.documentSemanticTokensProvider=new An(this._score.bind(this)),this.documentOnDropEditProvider=new An(this._score.bind(this)),this.documentPasteEditProvider=new An(this._score.bind(this))}_score(e){var t;return(t=this._notebookTypeResolver)===null||t===void 0?void 0:t.call(this,e)}}gi(st,j2t,!0);class K2t extends Or{constructor(e={}){const t=Tn.as(Uh.Configuration).getConfigurationProperties(),i=Object.keys(t),s=Object.create(null),o=[];for(const r in t){const a=e[r],l=a!==void 0?a:t[r].default;oP(s,r,l,c=>console.error(`Conflict in default settings: ${c}`))}for(const r of Object.keys(s))nw.test(r)&&o.push({identifiers:xee(r),keys:Object.keys(s[r]),contents:wee(s[r],a=>console.error(`Conflict in default settings file: ${a}`))});super(s,i,o)}}var Xg=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Oo=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Qne=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class q2t{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new J}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let IA=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new $ot(new q2t(t))):Promise.reject(new Error("Model not found"))}};IA=Xg([Oo(0,Nn)],IA);class K5{show(){return K5.NULL_PROGRESS_RUNNER}showWhile(e,t){return Qne(this,void 0,void 0,function*(){yield e})}}K5.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class G2t{withProgress(e,t,i){return t({report:()=>{}})}}class Y2t{confirm(e){return this.doConfirm(e).then(t=>({confirmed:t,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+`

`+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,s){return Promise.resolve({choice:0})}}class q5{info(e){return this.notify({severity:xn.Info,message:e})}warn(e){return this.notify({severity:xn.Warning,message:e})}error(e){return this.notify({severity:xn.Error,message:e})}notify(e){switch(e.severity){case xn.Error:console.error(e.message);break;case xn.Warning:console.warn(e.message);break;default:console.log(e.message);break}return q5.NO_OP}status(e,t){return de.None}}q5.NO_OP=new xmt;let TA=class{constructor(e){this._onWillExecuteCommand=new J,this._onDidExecuteCommand=new J,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=pi.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const s=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(s)}catch(s){return Promise.reject(s)}}};TA=Xg([Oo(0,Bt)],TA);let yL=class extends g0t{constructor(e,t,i,s,o,r){super(e,t,i,s,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const a=f=>{const p=new Ie;p.add(xe(f,Qe.KEY_DOWN,m=>{const b=new gn(m);this._dispatch(b,b.target)&&(b.preventDefault(),b.stopPropagation())})),p.add(xe(f,Qe.KEY_UP,m=>{const b=new gn(m);this._singleModifierDispatch(b,b.target)&&b.preventDefault()})),this._domNodeListeners.push(new Z2t(f,p))},l=f=>{for(let p=0;p<this._domNodeListeners.length;p++){const m=this._domNodeListeners[p];m.domNode===f&&(this._domNodeListeners.splice(p,1),m.dispose())}},c=f=>{f.getOption(56)||a(f.getContainerDomNode())},u=f=>{f.getOption(56)||l(f.getContainerDomNode())};this._register(r.onCodeEditorAdd(c)),this._register(r.onCodeEditorRemove(u)),r.listCodeEditors().forEach(c);const d=f=>{a(f.getContainerDomNode())},h=f=>{l(f.getContainerDomNode())};this._register(r.onDiffEditorAdd(d)),this._register(r.onDiffEditorRemove(h)),r.listDiffEditors().forEach(d)}addDynamicKeybinding(e,t,i,s){const o=tM(t,Ka),r=new Ie;return o&&(this._dynamicKeybindings.push({keybinding:o.parts,command:e,when:s,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),r.add(jt(()=>{for(let a=0;a<this._dynamicKeybindings.length;a++)if(this._dynamicKeybindings[a].command===e){this._dynamicKeybindings.splice(a,1),this.updateResolver();return}}))),r.add(pi.registerCommand(e,i)),this.updateResolver(),r}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(qr.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new wC(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let s=0;for(const o of e){const r=o.when||void 0,a=o.keybinding;if(!a)i[s++]=new aq(void 0,o.command,o.commandArgs,r,t,null,!1);else{const l=Mw.resolveUserBinding(a,Ka);for(const c of l)i[s++]=new aq(c,o.command,o.commandArgs,r,t,null,!1)}}return i}resolveKeyboardEvent(e){const t=new Fm(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new Mw(t,Ka)}};yL=Xg([Oo(0,At),Oo(1,ss),Oo(2,Qc),Oo(3,os),Oo(4,Ql),Oo(5,Ei)],yL);class Z2t extends de{constructor(e,t){super(),this.domNode=e,this._register(t)}}function Jq(n){return n&&typeof n=="object"&&(!n.overrideIdentifier||typeof n.overrideIdentifier=="string")&&(!n.resource||n.resource instanceof bt)}class Jne{constructor(){this._onDidChangeConfiguration=new J,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new N5(new K2t,new Or,new Or,new Or)}getValue(e,t){const i=typeof e=="string"?e:void 0,s=Jq(e)?e:Jq(t)?t:{};return this._configuration.getValue(i,s,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const s of e){const[o,r]=s;this.getValue(o)!==r&&(this._configuration.updateValue(o,r),i.push(o))}if(i.length>0){const s=new h0t({keys:i,overrides:[]},t,this._configuration);s.source=8,s.sourceConfig=null,this._onDidChangeConfiguration.fire(s)}return Promise.resolve()}updateValue(e,t,i,s){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}}let NA=class{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new J,this.configurationService.onDidChangeConfiguration(t=>{this._onDidChangeConfiguration.fire({affectedKeys:t.affectedKeys,affectsConfiguration:(i,s)=>t.affectsConfiguration(s)})})}getValue(e,t,i){const o=(oe.isIPosition(t)?t:null)?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0;return typeof o=="undefined"?this.configurationService.getValue():this.configurationService.getValue(o)}};NA=Xg([Oo(0,Ci)],NA);let MA=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:So||ai?`
`:`\r
`}};MA=Xg([Oo(0,Ci)],MA);class X2t{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class jw{constructor(){const e=bt.from({scheme:jw.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new C0t({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===jw.SCHEME?this.workspace.folders[0]:null}}jw.SCHEME="inmemory";function SL(n,e,t){if(!e||!(n instanceof Jne))return;const i=[];Object.keys(e).forEach(s=>{c0t(s)&&i.push([`editor.${s}`,e[s]]),t&&u0t(s)&&i.push([`diffEditor.${s}`,e[s]])}),i.length>0&&n.updateValues(i)}let AA=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return Qne(this,void 0,void 0,function*(){const i=new Map;for(const r of e){if(!(r instanceof vm))throw new Error("bad edit - only text edits are supported");const a=this._modelService.getModel(r.resource);if(!a)throw new Error("bad edit - model not found");if(typeof r.versionId=="number"&&a.getVersionId()!==r.versionId)throw new Error("bad state - model changed in the meantime");let l=i.get(a);l||(l=[],i.set(a,l)),l.push(yn.replaceMove(A.lift(r.textEdit.range),r.textEdit.text))}let s=0,o=0;for(const[r,a]of i)r.pushStackElement(),r.pushEditOperations([],a,()=>[]),r.pushStackElement(),o+=1,s+=a.length;return{ariaSummary:Qa(KM.bulkEditServiceSummary,s,o)}})}};AA=Xg([Oo(0,Nn)],AA);class Q2t{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}getUriBasenameLabel(e){return hl(e)}}let RA=class extends qM{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const s=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();s&&(t=s.getContainerDomNode())}return super.showContextView(e,t,i)}};RA=Xg([Oo(0,a2),Oo(1,Ei)],RA);class J2t{constructor(){this._neverEmitter=new J,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class ebt extends Pw{constructor(){super()}}class tbt extends Llt{constructor(){super(new Slt)}}let OA=class extends ZM{constructor(e,t,i,s,o){super(e,t,i,s,o),this.configure({blockMouse:!1})}};OA=Xg([Oo(0,Qc),Oo(1,os),Oo(2,N_),Oo(3,Ms),Oo(4,Qi)],OA);gi(Ci,Jne);gi(fP,NA);gi(Oee,MA);gi(Aw,jw);gi(xv,Q2t);gi(Qc,X2t);gi(jy,Y2t);gi(os,q5);gi(hd,Af);gi(In,ebt);gi(Da,k2t);gi(Ql,tbt);gi(Nn,gL);gi(CP,tA);gi(At,EA);gi(zie,G2t);gi(Yg,K5);gi(tc,I2t);gi(ml,JN);gi(Ky,AA);gi(nne,J2t);gi(Lr,IA);gi(jh,LA);gi(bl,gA);gi(ss,TA);gi(Ms,yL);gi(Gh,yA);gi(N_,RA);gi(_l,eA);gi(qh,kA);gi(Kh,OA);gi(k_,xA);var Dt;(function(n){const e=new k5;for(const[r,a]of zU())e.set(r,a);const t=new tB(e,!0);e.set(Bt,t);function i(r){const a=e.get(r);if(!a)throw new Error("Missing service "+r);return a instanceof Lu?t.invokeFunction(l=>l.get(r)):a}n.get=i;let s=!1;function o(r){if(s)return t;s=!0;for(const[a,l]of zU())e.get(a)||e.set(a,l);for(const a in r)if(r.hasOwnProperty(a)){const l=ui(a);e.get(l)instanceof Lu&&e.set(l,r[a])}return t}n.initialize=o})(Dt||(Dt={}));var iB=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},dn=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let ibt=0,eG=!1;function nbt(n){if(!n){if(eG)return;eG=!0}Xct(n||document.body)}let LL=class extends yv{constructor(e,t,i,s,o,r,a,l,c,u,d,h){const f=Object.assign({},t);f.ariaLabel=f.ariaLabel||aL.editorViewAccessibleLabel,f.ariaLabel=f.ariaLabel+";"+aL.accessibilityHelpMessage,super(e,f,{},i,s,o,r,l,c,u,d,h),a instanceof yL?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,nbt(f.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const s="DYNAMIC_"+ ++ibt,o=Xe.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(s,e,t,o),s}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),de.None;const t=e.id,i=e.label,s=Xe.and(Xe.equals("editorId",this.getId()),Xe.deserialize(e.precondition)),o=e.keybindings,r=Xe.and(s,Xe.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=(f,...p)=>Promise.resolve(e.run(this,...p)),u=new Ie,d=this.getId()+":"+t;if(u.add(pi.registerCommand(d,c)),a){const f={command:{id:d,title:i},when:s,group:a,order:l};u.add(jl.appendMenuItem(Y.EditorContext,f))}if(Array.isArray(o))for(const f of o)u.add(this._standaloneKeybindingService.addDynamicKeybinding(d,f,c,r));const h=new iie(d,i,i,s,c,this._contextKeyService);return this._actions[t]=h,u.add(jt(()=>{delete this._actions[t]})),u}_triggerCommand(e,t){if(this._codeEditorService instanceof tL)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};LL=iB([dn(2,Bt),dn(3,Ei),dn(4,ss),dn(5,At),dn(6,Ms),dn(7,Qi),dn(8,os),dn(9,jh),dn(10,Xn),dn(11,st)],LL);let PA=class extends LL{constructor(e,t,i,s,o,r,a,l,c,u,d,h,f,p,m){const b=Object.assign({},t);SL(u,b,!1);const w=l.registerEditorContainer(e);typeof b.theme=="string"&&l.setTheme(b.theme),typeof b.autoDetectHighContrast!="undefined"&&l.setAutoDetectHighContrast(Boolean(b.autoDetectHighContrast));const y=b.model;delete b.model,super(e,b,i,s,o,r,a,l,c,d,p,m),this._configurationService=u,this._standaloneThemeService=l,this._register(w);let L;if(typeof y=="undefined"){const D=f.getLanguageIdByMimeType(b.language)||b.language||ol;L=ese(h,f,b.value||"",D,void 0),this._ownsModel=!0}else L=y,this._ownsModel=!1;if(this._attachModel(L),L){const D={oldModelUrl:null,newModelUrl:L.uri};this._onDidChangeModel.fire(D)}}dispose(){super.dispose()}updateOptions(e){SL(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};PA=iB([dn(2,Bt),dn(3,Ei),dn(4,ss),dn(5,At),dn(6,Ms),dn(7,Da),dn(8,os),dn(9,Ci),dn(10,jh),dn(11,Nn),dn(12,In),dn(13,Xn),dn(14,st)],PA);let FA=class extends Mg{constructor(e,t,i,s,o,r,a,l,c,u,d,h){const f=Object.assign({},t);SL(c,f,!0);const p=a.registerEditorContainer(e);typeof f.theme=="string"&&a.setTheme(f.theme),typeof f.autoDetectHighContrast!="undefined"&&a.setAutoDetectHighContrast(Boolean(f.autoDetectHighContrast)),super(e,f,{},h,o,s,i,r,a,l,u,d),this._configurationService=c,this._standaloneThemeService=a,this._register(p)}dispose(){super.dispose()}updateOptions(e){SL(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(LL,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};FA=iB([dn(2,Bt),dn(3,At),dn(4,ml),dn(5,Ei),dn(6,Da),dn(7,os),dn(8,Ci),dn(9,Kh),dn(10,Yg),dn(11,qh)],FA);function ese(n,e,t,i,s){if(t=t||"",!i){const o=t.indexOf(`
`);let r=t;return o!==-1&&(r=t.substring(0,o)),tG(n,t,e.createByFilepathOrFirstLine(s||null,r),s)}return tG(n,t,e.createById(i),s)}function tG(n,e,t,i){return n.createModel(e,t,i)}function sbt(n,e,t){return Dt.initialize(t||{}).createInstance(PA,n,e)}function obt(n){return Dt.get(Ei).onCodeEditorAdd(t=>{n(t)})}function rbt(n){return Dt.get(Ei).onDiffEditorAdd(t=>{n(t)})}function abt(){return Dt.get(Ei).listCodeEditors()}function lbt(){return Dt.get(Ei).listDiffEditors()}function cbt(n,e,t){return Dt.initialize(t||{}).createInstance(FA,n,e)}function ubt(n,e){return new jrt(n,e)}function dbt(n,e,t){const i=Dt.get(In),s=i.getLanguageIdByMimeType(e)||e;return ese(Dt.get(Nn),i,n,s,t)}function hbt(n,e){const t=Dt.get(In);Dt.get(Nn).setMode(n,t.createById(e))}function fbt(n,e,t){n&&Dt.get(hd).changeOne(e,n.uri,t)}function gbt(n){Dt.get(hd).changeAll(n,[])}function pbt(n){return Dt.get(hd).read(n)}function mbt(n){return Dt.get(hd).onMarkerChanged(n)}function _bt(n){return Dt.get(Nn).getModel(n)}function vbt(){return Dt.get(Nn).getModels()}function bbt(n){return Dt.get(Nn).onModelAdded(n)}function Cbt(n){return Dt.get(Nn).onModelRemoved(n)}function wbt(n){return Dt.get(Nn).onModelLanguageChanged(t=>{n({model:t.model,oldLanguage:t.oldLanguageId})})}function ybt(n){return Ilt(Dt.get(Nn),Dt.get(Xn),n)}function Sbt(n,e){const t=Dt.get(In),i=Dt.get(Da);return i.registerEditorContainer(n),_P.colorizeElement(i,t,n,e)}function Lbt(n,e,t){const i=Dt.get(In);return Dt.get(Da).registerEditorContainer(document.body),_P.colorize(i,n,e,t)}function xbt(n,e,t=4){return Dt.get(Da).registerEditorContainer(document.body),_P.colorizeModelLine(n,e,t)}function Dbt(n){const e=Dn.get(n);return e||{getInitialState:()=>uv,tokenize:(t,i,s)=>rP(n,s)}}function kbt(n,e){Dn.getOrCreate(e);const t=Dbt(e),i=Ju(n),s=[];let o=t.getInitialState();for(let r=0,a=i.length;r<a;r++){const l=i[r],c=t.tokenize(l,!0,o);s[r]=c.tokens,o=c.endState}return s}function Ebt(n,e){Dt.get(Da).defineTheme(n,e)}function Ibt(n){Dt.get(Da).setTheme(n)}function Tbt(){$N.clearAllFontInfos()}function Nbt(n,e){return pi.registerCommand({id:n,handler:e})}function Mbt(){return{create:sbt,getEditors:abt,getDiffEditors:lbt,onDidCreateEditor:obt,onDidCreateDiffEditor:rbt,createDiffEditor:cbt,createDiffNavigator:ubt,createModel:dbt,setModelLanguage:hbt,setModelMarkers:fbt,getModelMarkers:pbt,removeAllMarkers:gbt,onDidChangeMarkers:mbt,getModels:vbt,getModel:_bt,onDidCreateModel:bbt,onWillDisposeModel:Cbt,onDidChangeModelLanguage:wbt,createWebWorker:ybt,colorizeElement:Sbt,colorize:Lbt,colorizeModelLine:xbt,tokenize:kbt,defineTheme:Ebt,setTheme:Ibt,remeasureFonts:Tbt,registerCommand:Nbt,AccessibilitySupport:tN,ContentWidgetPositionPreference:rN,CursorChangeReason:aN,DefaultEndOfLine:lN,EditorAutoIndentStrategy:uN,EditorOption:dN,EndOfLinePreference:hN,EndOfLineSequence:fN,MinimapPosition:wN,MouseTargetType:yN,OverlayWidgetPositionPreference:SN,OverviewRulerLane:LN,RenderLineNumbersType:DN,RenderMinimap:kN,ScrollbarVisibility:IN,ScrollType:EN,TextEditorCursorBlinkingStyle:RN,TextEditorCursorStyle:ON,TrackedRangeStickiness:PN,WrappingIndent:FN,InjectedTextCursorStops:pN,PositionAffinity:xN,ConfigurationChangedEvent:zJ,BareFontInfo:fm,FontInfo:HN,TextModelResolvedOptions:u6,FindMatch:iw,ApplyUpdateResult:nC,EditorType:My,EditorOptions:Xc}}function Abt(n,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!n(t))return!1;return!0}function _3(n,e){return typeof n=="boolean"?n:e}function iG(n,e){return typeof n=="string"?n:e}function Rbt(n){const e={};for(const t of n)e[t]=!0;return e}function nG(n,e=!1){e&&(n=n.map(function(i){return i.toLowerCase()}));const t=Rbt(n);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function BA(n,e){e=e.replace(/@@/g,"");let t=0,i;do i=!1,e=e.replace(/@(\w+)/g,function(o,r){i=!0;let a="";if(typeof n[r]=="string")a=n[r];else if(n[r]&&n[r]instanceof RegExp)a=n[r].source;else throw n[r]===void 0?sn(n,"language definition does not contain attribute '"+r+"', used at: "+e):sn(n,"attribute reference '"+r+"' must be a string, used at: "+e);return P0(a)?"":"(?:"+a+")"}),t++;while(i&&t<5);e=e.replace(/\x01/g,"@");const s=(n.ignoreCase?"i":"")+(n.unicode?"u":"");return new RegExp(e,s)}function Obt(n,e,t,i){if(i<0)return n;if(i<e.length)return e[i];if(i>=100){i=i-100;const s=t.split(".");if(s.unshift(t),i<s.length)return s[i]}return null}function Pbt(n,e,t,i){let s=-1,o=t,r=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);r&&(r[3]&&(s=parseInt(r[3]),r[2]&&(s=s+100)),o=r[4]);let a="~",l=o;!o||o.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(r=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),r&&(a=r[1],l=r[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){const u=nG(l.split("|"),n.ignoreCase);c=function(d){return a==="~"?u(d):!u(d)}}else if(a==="@"||a==="!@"){const u=n[l];if(!u)throw sn(n,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!Abt(function(h){return typeof h=="string"},u))throw sn(n,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);const d=nG(u,n.ignoreCase);c=function(h){return a==="@"?d(h):!d(h)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){const u=BA(n,"^"+l+"$");c=function(d){return a==="~"?u.test(d):!u.test(d)}}else c=function(u,d,h,f){return BA(n,"^"+Pf(n,l,d,h,f)+"$").test(u)};else if(l.indexOf("$")<0){const u=ag(n,l);c=function(d){return a==="=="?d===u:d!==u}}else{const u=ag(n,l);c=function(d,h,f,p,m){const b=Pf(n,u,h,f,p);return a==="=="?d===b:d!==b}}return s===-1?{name:t,value:i,test:function(u,d,h,f){return c(u,u,d,h,f)}}:{name:t,value:i,test:function(u,d,h,f){const p=Obt(u,d,h,s);return c(p||"",u,d,h,f)}}}function VA(n,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw sn(n,"a 'token' attribute must be of type string, in rule: "+e);{const i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw sn(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw sn(n,"the next state must be a string value in rule: "+e);{let s=t.next;if(!/^(@pop|@push|@popall)$/.test(s)&&(s[0]==="@"&&(s=s.substr(1)),s.indexOf("$")<0&&!Glt(n,Pf(n,s,"",[],""))))throw sn(n,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=s}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,n.usesEmbedded=!0),i}}else if(Array.isArray(t)){const i=[];for(let s=0,o=t.length;s<o;s++)i[s]=VA(n,e,t[s]);return{group:i}}else if(t.cases){const i=[];for(const o in t.cases)if(t.cases.hasOwnProperty(o)){const r=VA(n,e,t.cases[o]);o==="@default"||o==="@"||o===""?i.push({test:void 0,value:r,name:o}):o==="@eos"?i.push({test:function(a,l,c,u){return u},value:r,name:o}):i.push(Pbt(n,e,o,r))}const s=n.defaultToken;return{test:function(o,r,a,l){for(const c of i)if(!c.test||c.test(o,r,a,l))return c.value;return s}}}else throw sn(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}class Fbt{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw sn(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=BA(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=VA(e,this.name,t)}}function tse(n,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");const t={};t.languageId=n,t.includeLF=_3(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=_3(e.ignoreCase,!1),t.unicode=_3(e.unicode,!1),t.tokenPostfix=iG(e.tokenPostfix,"."+t.languageId),t.defaultToken=iG(e.defaultToken,"source"),t.usesEmbedded=!1;const i=e;i.languageId=n,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function s(r,a,l){for(const c of l){let u=c.include;if(u){if(typeof u!="string")throw sn(t,"an 'include' attribute must be a string at: "+r);if(u[0]==="@"&&(u=u.substr(1)),!e.tokenizer[u])throw sn(t,"include target '"+u+"' is not defined at: "+r);s(r+"."+u,a,e.tokenizer[u])}else{const d=new Fbt(r);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(d.setRegex(i,c[0]),c.length>=3)if(typeof c[1]=="string")d.setAction(i,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){const h=c[1];h.next=c[2],d.setAction(i,h)}else throw sn(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+r);else d.setAction(i,c[1]);else{if(!c.regex)throw sn(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+r);c.name&&typeof c.name=="string"&&(d.name=c.name),c.matchOnlyAtStart&&(d.matchOnlyAtLineStart=_3(c.matchOnlyAtLineStart,!1)),d.setRegex(i,c.regex),d.setAction(i,c.action)}a.push(d)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw sn(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(const r in e.tokenizer)if(e.tokenizer.hasOwnProperty(r)){t.start||(t.start=r);const a=e.tokenizer[r];t.tokenizer[r]=new Array,s("tokenizer."+r,t.tokenizer[r],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw sn(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const o=[];for(const r of e.brackets){let a=r;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw sn(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")o.push({token:a.token+t.tokenPostfix,open:ag(t,a.open),close:ag(t,a.close)});else throw sn(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=o,t.noThrow=!0,t}var Bbt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function Vbt(n){cv.registerLanguage(n)}function Wbt(){let n=[];return n=n.concat(cv.getLanguages()),n}function Hbt(n){return Dt.get(In).languageIdCodec.encodeLanguageId(n)}function $bt(n,e){const i=Dt.get(In).onDidEncounterLanguage(s=>{s===n&&(i.dispose(),e())});return i}function zbt(n,e){if(!Dt.get(In).isRegisteredLanguageId(n))throw new Error(`Cannot set configuration for unknown language ${n}`);return Dt.get(Xn).register(n,e,100)}class Ubt{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if(typeof this._actual.tokenize=="function")return Kw.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const s=this._actual.tokenizeEncoded(e,i);return new Vx(s.tokens,s.endState)}}class Kw{constructor(e,t,i,s){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=s}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let s=0;for(let o=0,r=e.length;o<r;o++){const a=e[o];let l=a.startIndex;o===0?l=0:l<s&&(l=s),i[o]=new XC(l,a.scopes,t),s=l}return i}static adaptTokenize(e,t,i,s){const o=t.tokenize(i,s),r=Kw._toClassicTokens(o.tokens,e);let a;return o.endState.equals(s)?a=s:a=o.endState,new UO(r,a)}tokenize(e,t,i){return Kw.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),s=this._standaloneThemeService.getColorTheme().tokenTheme,o=[];let r=0,a=0;for(let c=0,u=t.length;c<u;c++){const d=t[c],h=s.match(i,d.scopes);if(r>0&&o[r-1]===h)continue;let f=d.startIndex;c===0?f=0:f<a&&(f=a),o[r++]=f,o[r++]=h,a=f}const l=new Uint32Array(r);for(let c=0;c<r;c++)l[c]=o[c];return l}tokenizeEncoded(e,t,i){const s=this._actual.tokenize(e,i),o=this._toBinaryTokens(this._languageService.languageIdCodec,s.tokens);let r;return s.endState.equals(i)?r=i:r=s.endState,new Vx(o,r)}}function jbt(n){return typeof n.getInitialState=="function"}function Kbt(n){return"tokenizeEncoded"in n}function ise(n){return n&&typeof n.then=="function"}function qbt(n){const e=Dt.get(Da);if(n){const t=[null];for(let i=1,s=n.length;i<s;i++)t[i]=re.fromHex(n[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function nse(n,e){return Kbt(e)?new Ubt(n,e):new Kw(n,e,Dt.get(In),Dt.get(Da))}function nB(n,e){const t={createTokenizationSupport:()=>Bbt(this,void 0,void 0,function*(){const i=yield Promise.resolve(e.create());return i?jbt(i)?nse(n,i):new lw(Dt.get(In),Dt.get(Da),n,tse(n,i),Dt.get(Ci)):null})};return Dn.registerFactory(n,t)}function Gbt(n,e){if(!Dt.get(In).isRegisteredLanguageId(n))throw new Error(`Cannot set tokens provider for unknown language ${n}`);return ise(e)?nB(n,{create:()=>e}):Dn.register(n,nse(n,e))}function Ybt(n,e){const t=i=>new lw(Dt.get(In),Dt.get(Da),n,tse(n,i),Dt.get(Ci));return ise(e)?nB(n,{create:()=>e}):Dn.register(n,t(e))}function Zbt(n,e){return Dt.get(st).referenceProvider.register(n,e)}function Xbt(n,e){return Dt.get(st).renameProvider.register(n,e)}function Qbt(n,e){return Dt.get(st).signatureHelpProvider.register(n,e)}function Jbt(n,e){return Dt.get(st).hoverProvider.register(n,{provideHover:(i,s,o)=>{const r=i.getWordAtPosition(s);return Promise.resolve(e.provideHover(i,s,o)).then(a=>{if(!!a)return!a.range&&r&&(a.range=new A(s.lineNumber,r.startColumn,s.lineNumber,r.endColumn)),a.range||(a.range=new A(s.lineNumber,s.column,s.lineNumber,s.column)),a})}})}function eCt(n,e){return Dt.get(st).documentSymbolProvider.register(n,e)}function tCt(n,e){return Dt.get(st).documentHighlightProvider.register(n,e)}function iCt(n,e){return Dt.get(st).linkedEditingRangeProvider.register(n,e)}function nCt(n,e){return Dt.get(st).definitionProvider.register(n,e)}function sCt(n,e){return Dt.get(st).implementationProvider.register(n,e)}function oCt(n,e){return Dt.get(st).typeDefinitionProvider.register(n,e)}function rCt(n,e){return Dt.get(st).codeLensProvider.register(n,e)}function aCt(n,e,t){return Dt.get(st).codeActionProvider.register(n,{providedCodeActionKinds:t==null?void 0:t.providedCodeActionKinds,documentation:t==null?void 0:t.documentation,provideCodeActions:(s,o,r,a)=>{const c=Dt.get(hd).read({resource:s.uri}).filter(u=>A.areIntersectingOrTouching(u,o));return e.provideCodeActions(s,o,{markers:c,only:r.only,trigger:r.trigger},a)},resolveCodeAction:e.resolveCodeAction})}function lCt(n,e){return Dt.get(st).documentFormattingEditProvider.register(n,e)}function cCt(n,e){return Dt.get(st).documentRangeFormattingEditProvider.register(n,e)}function uCt(n,e){return Dt.get(st).onTypeFormattingEditProvider.register(n,e)}function dCt(n,e){return Dt.get(st).linkProvider.register(n,e)}function hCt(n,e){return Dt.get(st).completionProvider.register(n,e)}function fCt(n,e){return Dt.get(st).colorProvider.register(n,e)}function gCt(n,e){return Dt.get(st).foldingRangeProvider.register(n,e)}function pCt(n,e){return Dt.get(st).declarationProvider.register(n,e)}function mCt(n,e){return Dt.get(st).selectionRangeProvider.register(n,e)}function _Ct(n,e){return Dt.get(st).documentSemanticTokensProvider.register(n,e)}function vCt(n,e){return Dt.get(st).documentRangeSemanticTokensProvider.register(n,e)}function bCt(n,e){return Dt.get(st).inlineCompletionsProvider.register(n,e)}function CCt(n,e){return Dt.get(st).inlayHintsProvider.register(n,e)}function wCt(){return{register:Vbt,getLanguages:Wbt,onLanguage:$bt,getEncodedLanguageId:Hbt,setLanguageConfiguration:zbt,setColorMap:qbt,registerTokensProviderFactory:nB,setTokensProvider:Gbt,setMonarchTokensProvider:Ybt,registerReferenceProvider:Zbt,registerRenameProvider:Xbt,registerCompletionItemProvider:hCt,registerSignatureHelpProvider:Qbt,registerHoverProvider:Jbt,registerDocumentSymbolProvider:eCt,registerDocumentHighlightProvider:tCt,registerLinkedEditingRangeProvider:iCt,registerDefinitionProvider:nCt,registerImplementationProvider:sCt,registerTypeDefinitionProvider:oCt,registerCodeLensProvider:rCt,registerCodeActionProvider:aCt,registerDocumentFormattingEditProvider:lCt,registerDocumentRangeFormattingEditProvider:cCt,registerOnTypeFormattingEditProvider:uCt,registerLinkProvider:dCt,registerColorProvider:fCt,registerFoldingRangeProvider:gCt,registerDeclarationProvider:pCt,registerSelectionRangeProvider:mCt,registerDocumentSemanticTokensProvider:_Ct,registerDocumentRangeSemanticTokensProvider:vCt,registerInlineCompletionsProvider:bCt,registerInlayHintsProvider:CCt,DocumentHighlightKind:cN,CompletionItemKind:nN,CompletionItemTag:sN,CompletionItemInsertTextRule:d8,SymbolKind:MN,SymbolTag:AN,IndentAction:gN,CompletionTriggerKind:oN,SignatureHelpTriggerKind:NN,InlayHintKind:mN,InlineCompletionTriggerKind:_N,CodeActionTriggerType:iN,FoldingRangeKind:Wc}}const sB=ui("IEditorCancelService"),sse=new et("cancellableOperation",!1,v("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));gi(sB,class{constructor(){this._tokens=new WeakMap}add(n,e){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(s=>{const o=sse.bindTo(s.get(At)),r=new Yo;return{key:o,tokens:r}}),this._tokens.set(n,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(n){const e=this._tokens.get(n);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},!0);class yCt extends ro{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext(i=>i.get(sB).add(e,this))}dispose(){this._unregister(),super.dispose()}}Ae(new class extends Ys{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:sse})}runEditorCommand(n,e){n.get(sB).cancel(e)}});class qw{constructor(e,t){if(this.flags=t,(this.flags&1)!==0){const i=e.getModel();this.modelVersionId=i?Qa("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=e.getPosition():this.position=null,(this.flags&2)!==0?this.selection=e.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof qw))return!1;const t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(e){return this._equals(new qw(e,this.flags))}}class Xm extends yCt{constructor(e,t,i,s){super(e,s),this._listener=new Ie,t&4&&this._listener.add(e.onDidChangeCursorPosition(o=>{(!i||!A.containsPosition(i,o.position))&&this.cancel()})),t&2&&this._listener.add(e.onDidChangeCursorSelection(o=>{(!i||!A.containsRange(i,o.selection))&&this.cancel()})),t&8&&this._listener.add(e.onDidScrollChange(o=>this.cancel())),t&1&&(this._listener.add(e.onDidChangeModel(o=>this.cancel())),this._listener.add(e.onDidChangeModelContent(o=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class oB extends ro{constructor(e,t){super(t),this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}function Fh(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===My.ICodeEditor:!1}function ose(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===My.IDiffEditor:!1}function rse(n){return Fh(n)?n:ose(n)?n.getModifiedEditor():null}class Tv{static _handleEolEdits(e,t){let i;const s=[];for(const o of t)typeof o.eol=="number"&&(i=o.eol),o.range&&typeof o.text=="string"&&s.push(o);return typeof i=="number"&&e.hasModel()&&e.getModel().pushEOL(i),s}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel(),s=i.validateRange(t.range);return i.getFullModelRange().equalsRange(s)}static execute(e,t,i){i&&e.pushUndoStop();const s=Tv._handleEolEdits(e,t);s.length===1&&Tv._isFullModelReplaceEdit(e,s[0])?e.executeEdits("formatEditsCommand",s.map(o=>yn.replace(A.lift(o.range),o.text))):e.executeEdits("formatEditsCommand",s.map(o=>yn.replaceMove(A.lift(o.range),o.text))),i&&e.pushUndoStop()}}class nT{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}var jc=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function rB(n){if(n=n.filter(s=>s.range),!n.length)return;let{range:e}=n[0];for(let s=1;s<n.length;s++)e=A.plusRange(e,n[s].range);const{startLineNumber:t,endLineNumber:i}=e;t===i?n.length===1?no(v("hint11","Made 1 formatting edit on line {0}",t)):no(v("hintn1","Made {0} formatting edits on line {1}",n.length,t)):n.length===1?no(v("hint1n","Made 1 formatting edit between lines {0} and {1}",t,i)):no(v("hintnn","Made {0} formatting edits between lines {1} and {2}",n.length,t,i))}function ase(n,e,t){const i=[],s=new Set,o=n.ordered(t);for(const a of o)i.push(a),a.extensionId&&s.add(nT.toKey(a.extensionId));const r=e.ordered(t);for(const a of r){if(a.extensionId){if(s.has(nT.toKey(a.extensionId)))continue;s.add(nT.toKey(a.extensionId))}i.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits(l,c,u){return a.provideDocumentRangeFormattingEdits(l,l.getFullModelRange(),c,u)}})}return i}class Qm{static setFormatterSelector(e){return{dispose:Qm._selectors.unshift(e)}}static select(e,t,i){return jc(this,void 0,void 0,function*(){if(e.length===0)return;const s=ei.first(Qm._selectors);if(s)return yield s(e,t,i)})}}Qm._selectors=new Yo;function lse(n,e,t,i,s,o){return jc(this,void 0,void 0,function*(){const r=n.get(Bt),{documentRangeFormattingEditProvider:a}=n.get(st),l=Fh(e)?e.getModel():e,c=a.ordered(l),u=yield Qm.select(c,l,i);u&&(s.report(u),yield r.invokeFunction(SCt,u,e,t,o))})}function SCt(n,e,t,i,s){return jc(this,void 0,void 0,function*(){const o=n.get(ml);let r,a;Fh(t)?(r=t.getModel(),a=new Xm(t,5,void 0,s)):(r=t,a=new oB(t,s));const l=[];let c=0;for(const p of PO(i).sort(A.compareRangesUsingStarts))c>0&&A.areIntersectingOrTouching(l[c-1],p)?l[c-1]=A.fromPositions(l[c-1].getStartPosition(),p.getEndPosition()):c=l.push(p);const u=p=>jc(this,void 0,void 0,function*(){return(yield e.provideDocumentRangeFormattingEdits(r,p,r.getFormattingOptions(),a.token))||[]}),d=(p,m)=>{if(!p.length||!m.length)return!1;const b=p.reduce((w,y)=>A.plusRange(w,y.range),p[0].range);if(!m.some(w=>A.intersectRanges(b,w.range)))return!1;for(const w of p)for(const y of m)if(A.intersectRanges(w.range,y.range))return!0;return!1},h=[],f=[];try{for(const p of l){if(a.token.isCancellationRequested)return!0;f.push(yield u(p))}for(let p=0;p<l.length;++p)for(let m=p+1;m<l.length;++m){if(a.token.isCancellationRequested)return!0;if(d(f[p],f[m])){const b=A.plusRange(l[p],l[m]),w=yield u(b);l.splice(m,1),l.splice(p,1),l.push(b),f.splice(m,1),f.splice(p,1),f.push(w),p=0,m=0}}for(const p of f){if(a.token.isCancellationRequested)return!0;const m=yield o.computeMoreMinimalEdits(r.uri,p);m&&h.push(...m)}}finally{a.dispose()}if(h.length===0)return!1;if(Fh(t))Tv.execute(t,h,!0),rB(h),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{const[{range:p}]=h,m=new Ye(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn);r.pushEditOperations([m],h.map(b=>({text:b.text,range:A.lift(b.range),forceMoveMarkers:!0})),b=>{for(const{range:w}of b)if(A.areIntersectingOrTouching(w,m))return[new Ye(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn)];return null})}return!0})}function LCt(n,e,t,i,s){return jc(this,void 0,void 0,function*(){const o=n.get(Bt),r=n.get(st),a=Fh(e)?e.getModel():e,l=ase(r.documentFormattingEditProvider,r.documentRangeFormattingEditProvider,a),c=yield Qm.select(l,a,t);c&&(i.report(c),yield o.invokeFunction(xCt,c,e,t,s))})}function xCt(n,e,t,i,s){return jc(this,void 0,void 0,function*(){const o=n.get(ml);let r,a;Fh(t)?(r=t.getModel(),a=new Xm(t,5,void 0,s)):(r=t,a=new oB(t,s));let l;try{const c=yield e.provideDocumentFormattingEdits(r,r.getFormattingOptions(),a.token);if(l=yield o.computeMoreMinimalEdits(r.uri,c),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||l.length===0)return!1;if(Fh(t))Tv.execute(t,l,i!==2),i!==2&&(rB(l),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1));else{const[{range:c}]=l,u=new Ye(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn);r.pushEditOperations([u],l.map(d=>({text:d.text,range:A.lift(d.range),forceMoveMarkers:!0})),d=>{for(const{range:h}of d)if(A.areIntersectingOrTouching(h,u))return[new Ye(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn)];return null})}return!0})}function DCt(n,e,t,i,s,o){return jc(this,void 0,void 0,function*(){const r=e.documentRangeFormattingEditProvider.ordered(t);for(const a of r){const l=yield Promise.resolve(a.provideDocumentRangeFormattingEdits(t,i,s,o)).catch($s);if(vo(l))return yield n.computeMoreMinimalEdits(t.uri,l)}})}function kCt(n,e,t,i,s){return jc(this,void 0,void 0,function*(){const o=ase(e.documentFormattingEditProvider,e.documentRangeFormattingEditProvider,t);for(const r of o){const a=yield Promise.resolve(r.provideDocumentFormattingEdits(t,i,s)).catch($s);if(vo(a))return yield n.computeMoreMinimalEdits(t.uri,a)}})}function cse(n,e,t,i,s,o,r){const a=e.onTypeFormattingEditProvider.ordered(t);return a.length===0||a[0].autoFormatTriggerCharacters.indexOf(s)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,s,o,r)).catch($s).then(l=>n.computeMoreMinimalEdits(t.uri,l))}pi.registerCommand("_executeFormatRangeProvider",function(n,...e){return jc(this,void 0,void 0,function*(){const[t,i,s]=e;Vi(bt.isUri(t)),Vi(A.isIRange(i));const o=n.get(Lr),r=n.get(ml),a=n.get(st),l=yield o.createModelReference(t);try{return DCt(r,a,l.object.textEditorModel,A.lift(i),s,Yt.None)}finally{l.dispose()}})});pi.registerCommand("_executeFormatDocumentProvider",function(n,...e){return jc(this,void 0,void 0,function*(){const[t,i]=e;Vi(bt.isUri(t));const s=n.get(Lr),o=n.get(ml),r=n.get(st),a=yield s.createModelReference(t);try{return kCt(o,r,a.object.textEditorModel,i,Yt.None)}finally{a.dispose()}})});pi.registerCommand("_executeFormatOnTypeProvider",function(n,...e){return jc(this,void 0,void 0,function*(){const[t,i,s,o]=e;Vi(bt.isUri(t)),Vi(oe.isIPosition(i)),Vi(typeof s=="string");const r=n.get(Lr),a=n.get(ml),l=n.get(st),c=yield r.createModelReference(t);try{return cse(a,l,c.object.textEditorModel,oe.lift(i),s,o,Yt.None)}finally{c.dispose()}})});var sT;Xc.wrappingIndent.defaultValue=0;Xc.glyphMargin.defaultValue=!1;Xc.autoIndent.defaultValue=3;Xc.overviewRulerLanes.defaultValue=2;Qm.setFormatterSelector((n,e,t)=>Promise.resolve(n[0]));const ir=nee();ir.editor=Mbt();ir.languages=wCt();const ECt=ir.CancellationTokenSource,ICt=ir.Emitter,TCt=ir.KeyCode,NCt=ir.KeyMod,MCt=ir.Position,ACt=ir.Range,RCt=ir.Selection,OCt=ir.SelectionDirection,PCt=ir.MarkerSeverity,FCt=ir.MarkerTag,BCt=ir.Uri,VCt=ir.Token,use=ir.editor,WCt=ir.languages;(((sT=Yn.MonacoEnvironment)===null||sT===void 0?void 0:sT.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=ir);typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var Qy=Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:ECt,Emitter:ICt,KeyCode:TCt,KeyMod:NCt,Position:MCt,Range:ACt,Selection:RCt,SelectionDirection:OCt,MarkerSeverity:PCt,MarkerTag:FCt,Uri:BCt,Token:VCt,editor:use,languages:WCt},Symbol.toStringTag,{value:"Module"}));/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0(9d278685b078158491964f8fd7ac9628fffa0f30)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var HCt=Object.defineProperty,$Ct=Object.getOwnPropertyDescriptor,zCt=Object.getOwnPropertyNames,UCt=Object.prototype.hasOwnProperty,sG=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of zCt(e))!UCt.call(n,s)&&s!==t&&HCt(n,s,{get:()=>e[s],enumerable:!(i=$Ct(e,s))||i.enumerable});return n},jCt=(n,e,t)=>(sG(n,e,"default"),t&&sG(t,e,"default")),Vb={};jCt(Vb,Qy);var dse={},oT={},hse=class{constructor(n){On(this,"_languageId");On(this,"_loadingTriggered");On(this,"_lazyLoadPromise");On(this,"_lazyLoadPromiseResolve");On(this,"_lazyLoadPromiseReject");this._languageId=n,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}static getOrCreate(n){return oT[n]||(oT[n]=new hse(n)),oT[n]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,dse[this._languageId].loader().then(n=>this._lazyLoadPromiseResolve(n),n=>this._lazyLoadPromiseReject(n))),this._lazyLoadPromise}};function dt(n){const e=n.id;dse[e]=n,Vb.languages.register(n);const t=hse.getOrCreate(e);Vb.languages.registerTokensProviderFactory(e,{create:async()=>(await t.load()).language}),Vb.languages.onLanguage(e,async()=>{const i=await t.load();Vb.languages.setLanguageConfiguration(e,i.conf)})}dt({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>at(()=>import("./abap.cb146686.js"),[])});dt({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>at(()=>import("./apex.64a5deda.js"),[])});dt({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>at(()=>import("./azcli.4596305a.js"),[])});dt({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>at(()=>import("./bat.d925da83.js"),[])});dt({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>at(()=>import("./bicep.c23fb5aa.js"),[])});dt({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>at(()=>import("./cameligo.ab1d4003.js"),[])});dt({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>at(()=>import("./clojure.a4327248.js"),[])});dt({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>at(()=>import("./coffee.ad0ae610.js"),[])});dt({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>at(()=>import("./cpp.e6457f6d.js"),[])});dt({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>at(()=>import("./cpp.e6457f6d.js"),[])});dt({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>at(()=>import("./csharp.6ac5f127.js"),[])});dt({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>at(()=>import("./csp.158a213a.js"),[])});dt({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>at(()=>import("./css.3eb100b6.js"),[])});dt({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>at(()=>import("./cypher.d7048001.js"),[])});dt({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>at(()=>import("./dart.137068e8.js"),[])});dt({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>at(()=>import("./dockerfile.7ed77caa.js"),[])});dt({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>at(()=>import("./ecl.48807a73.js"),[])});dt({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>at(()=>import("./elixir.39ff2f85.js"),[])});dt({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>at(()=>import("./flow9.298204ab.js"),[])});dt({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>at(()=>import("./fsharp.fb7cf1ff.js"),[])});dt({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>at(()=>import("./freemarker2.416fde7f.js"),[]).then(n=>n.TagAutoInterpolationDollar)});dt({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>at(()=>import("./freemarker2.416fde7f.js"),[]).then(n=>n.TagAngleInterpolationDollar)});dt({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>at(()=>import("./freemarker2.416fde7f.js"),[]).then(n=>n.TagBracketInterpolationDollar)});dt({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>at(()=>import("./freemarker2.416fde7f.js"),[]).then(n=>n.TagAngleInterpolationBracket)});dt({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>at(()=>import("./freemarker2.416fde7f.js"),[]).then(n=>n.TagBracketInterpolationBracket)});dt({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>at(()=>import("./freemarker2.416fde7f.js"),[]).then(n=>n.TagAutoInterpolationDollar)});dt({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>at(()=>import("./freemarker2.416fde7f.js"),[]).then(n=>n.TagAutoInterpolationBracket)});dt({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>at(()=>import("./go.f46bf156.js"),[])});dt({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>at(()=>import("./graphql.cfdfe377.js"),[])});dt({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>at(()=>import("./handlebars.92055a40.js"),[])});dt({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>at(()=>import("./hcl.e48410e6.js"),[])});dt({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>at(()=>import("./html.1d295336.js"),[])});dt({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>at(()=>import("./ini.c7ac1a80.js"),[])});dt({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>at(()=>import("./java.009d454a.js"),[])});dt({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>at(()=>import("./javascript.ccc35735.js"),["assets/javascript.ccc35735.js","assets/typescript.b3c4cb42.js"])});dt({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>at(()=>import("./julia.5ab98398.js"),[])});dt({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>at(()=>import("./kotlin.5e7529c4.js"),[])});dt({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>at(()=>import("./less.eb482770.js"),[])});dt({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>at(()=>import("./lexon.eafedb96.js"),[])});dt({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>at(()=>import("./lua.a1236a6f.js"),[])});dt({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>at(()=>import("./liquid.19146682.js"),[])});dt({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>at(()=>import("./m3.f62b79b9.js"),[])});dt({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>at(()=>import("./markdown.2227f394.js"),[])});dt({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>at(()=>import("./mips.c8ff05de.js"),[])});dt({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>at(()=>import("./msdax.c6871bfb.js"),[])});dt({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>at(()=>import("./mysql.12a5bfe3.js"),[])});dt({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>at(()=>import("./objective-c.1bd60355.js"),[])});dt({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>at(()=>import("./pascal.2a0b83ad.js"),[])});dt({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>at(()=>import("./pascaligo.19b97aef.js"),[])});dt({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>at(()=>import("./perl.74896259.js"),[])});dt({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>at(()=>import("./pgsql.f35178ee.js"),[])});dt({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>at(()=>import("./php.ce1c99fd.js"),[])});dt({id:"pla",extensions:[".pla"],loader:()=>at(()=>import("./pla.651086ee.js"),[])});dt({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>at(()=>import("./postiats.571d9c5c.js"),[])});dt({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>at(()=>import("./powerquery.f8becdda.js"),[])});dt({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>at(()=>import("./powershell.29d83b01.js"),[])});dt({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>at(()=>import("./protobuf.a8862adb.js"),[])});dt({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>at(()=>import("./pug.81b654b5.js"),[])});dt({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>at(()=>import("./python.531edef9.js"),[])});dt({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>at(()=>import("./qsharp.95158213.js"),[])});dt({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>at(()=>import("./r.776a23b9.js"),[])});dt({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>at(()=>import("./razor.53c3dcd3.js"),[])});dt({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>at(()=>import("./redis.e9e28b47.js"),[])});dt({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>at(()=>import("./redshift.5c6676be.js"),[])});dt({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>at(()=>import("./restructuredtext.a29a061f.js"),[])});dt({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>at(()=>import("./ruby.085f9593.js"),[])});dt({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>at(()=>import("./rust.f1ed80d6.js"),[])});dt({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>at(()=>import("./sb.214279dd.js"),[])});dt({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>at(()=>import("./scala.f79356b3.js"),[])});dt({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>at(()=>import("./scheme.48411253.js"),[])});dt({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>at(()=>import("./scss.d54b8d39.js"),[])});dt({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>at(()=>import("./shell.f342d8f7.js"),[])});dt({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>at(()=>import("./solidity.1bfde356.js"),[])});dt({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>at(()=>import("./sophia.b0fb32da.js"),[])});dt({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>at(()=>import("./sparql.744c0d36.js"),[])});dt({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>at(()=>import("./sql.d22c60e3.js"),[])});dt({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>at(()=>import("./st.a44a96ad.js"),[])});dt({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>at(()=>import("./swift.a201858c.js"),[])});dt({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>at(()=>import("./systemverilog.c3fc98ea.js"),[])});dt({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>at(()=>import("./systemverilog.c3fc98ea.js"),[])});dt({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>at(()=>import("./tcl.7d220017.js"),[])});dt({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>at(()=>import("./twig.e562823c.js"),[])});dt({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>at(()=>import("./typescript.b3c4cb42.js"),[])});dt({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>at(()=>import("./vb.088dc576.js"),[])});dt({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>at(()=>import("./xml.3155df65.js"),[])});dt({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>at(()=>import("./yaml.70cf5ca7.js"),[])});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0(9d278685b078158491964f8fd7ac9628fffa0f30)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var KCt=Object.defineProperty,qCt=Object.getOwnPropertyDescriptor,GCt=Object.getOwnPropertyNames,YCt=Object.prototype.hasOwnProperty,oG=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of GCt(e))!YCt.call(n,s)&&s!==t&&KCt(n,s,{get:()=>e[s],enumerable:!(i=qCt(e,s))||i.enumerable});return n},ZCt=(n,e,t)=>(oG(n,e,"default"),t&&oG(t,e,"default")),c2={};ZCt(c2,Qy);var aB=class{constructor(n,e,t){On(this,"_onDidChange",new c2.Emitter);On(this,"_options");On(this,"_modeConfiguration");On(this,"_languageId");this._languageId=n,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},lB={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},cB={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},fse=new aB("css",lB,cB),gse=new aB("scss",lB,cB),pse=new aB("less",lB,cB);c2.languages.css={cssDefaults:fse,lessDefaults:pse,scssDefaults:gse};function uB(){return at(()=>import("./cssMode.83aad7fc.js"),[])}c2.languages.onLanguage("less",()=>{uB().then(n=>n.setupMode(pse))});c2.languages.onLanguage("scss",()=>{uB().then(n=>n.setupMode(gse))});c2.languages.onLanguage("css",()=>{uB().then(n=>n.setupMode(fse))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0(9d278685b078158491964f8fd7ac9628fffa0f30)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var XCt=Object.defineProperty,QCt=Object.getOwnPropertyDescriptor,JCt=Object.getOwnPropertyNames,ewt=Object.prototype.hasOwnProperty,rG=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of JCt(e))!ewt.call(n,s)&&s!==t&&XCt(n,s,{get:()=>e[s],enumerable:!(i=QCt(e,s))||i.enumerable});return n},twt=(n,e,t)=>(rG(n,e,"default"),t&&rG(t,e,"default")),G5={};twt(G5,Qy);var iwt=class{constructor(n,e,t){On(this,"_onDidChange",new G5.Emitter);On(this,"_options");On(this,"_modeConfiguration");On(this,"_languageId");this._languageId=n,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},nwt={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},Y5={format:nwt,suggest:{},data:{useDefaultDataProvider:!0}};function Z5(n){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:n===LC,documentFormattingEdits:n===LC,documentRangeFormattingEdits:n===LC}}var LC="html",aG="handlebars",lG="razor",mse=X5(LC,Y5,Z5(LC)),swt=mse.defaults,_se=X5(aG,Y5,Z5(aG)),owt=_se.defaults,vse=X5(lG,Y5,Z5(lG)),rwt=vse.defaults;G5.languages.html={htmlDefaults:swt,razorDefaults:rwt,handlebarDefaults:owt,htmlLanguageService:mse,handlebarLanguageService:_se,razorLanguageService:vse,registerHTMLLanguageService:X5};function awt(){return at(()=>import("./htmlMode.2e907a51.js"),[])}function X5(n,e=Y5,t=Z5(n)){const i=new iwt(n,e,t);let s;const o=G5.languages.onLanguage(n,async()=>{s=(await awt()).setupMode(i)});return{defaults:i,dispose(){o.dispose(),s==null||s.dispose(),s=void 0}}}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0(9d278685b078158491964f8fd7ac9628fffa0f30)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var lwt=Object.defineProperty,cwt=Object.getOwnPropertyDescriptor,uwt=Object.getOwnPropertyNames,dwt=Object.prototype.hasOwnProperty,cG=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of uwt(e))!dwt.call(n,s)&&s!==t&&lwt(n,s,{get:()=>e[s],enumerable:!(i=cwt(e,s))||i.enumerable});return n},hwt=(n,e,t)=>(cG(n,e,"default"),t&&cG(t,e,"default")),Jy={};hwt(Jy,Qy);var fwt=class{constructor(n,e,t){On(this,"_onDidChange",new Jy.Emitter);On(this,"_diagnosticsOptions");On(this,"_modeConfiguration");On(this,"_languageId");this._languageId=n,this.setDiagnosticsOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},gwt={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},pwt={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},bse=new fwt("json",gwt,pwt);Jy.languages.json={jsonDefaults:bse};function mwt(){return at(()=>import("./jsonMode.7620bce2.js"),[])}Jy.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});Jy.languages.onLanguage("json",()=>{mwt().then(n=>n.setupMode(bse))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0(9d278685b078158491964f8fd7ac9628fffa0f30)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var _wt=Object.defineProperty,vwt=Object.getOwnPropertyDescriptor,bwt=Object.getOwnPropertyNames,Cwt=Object.prototype.hasOwnProperty,uG=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of bwt(e))!Cwt.call(n,s)&&s!==t&&_wt(n,s,{get:()=>e[s],enumerable:!(i=vwt(e,s))||i.enumerable});return n},wwt=(n,e,t)=>(uG(n,e,"default"),t&&uG(t,e,"default")),ywt="4.5.5",Nv={};wwt(Nv,Qy);var Cse=(n=>(n[n.None=0]="None",n[n.CommonJS=1]="CommonJS",n[n.AMD=2]="AMD",n[n.UMD=3]="UMD",n[n.System=4]="System",n[n.ES2015=5]="ES2015",n[n.ESNext=99]="ESNext",n))(Cse||{}),wse=(n=>(n[n.None=0]="None",n[n.Preserve=1]="Preserve",n[n.React=2]="React",n[n.ReactNative=3]="ReactNative",n[n.ReactJSX=4]="ReactJSX",n[n.ReactJSXDev=5]="ReactJSXDev",n))(wse||{}),yse=(n=>(n[n.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",n[n.LineFeed=1]="LineFeed",n))(yse||{}),Sse=(n=>(n[n.ES3=0]="ES3",n[n.ES5=1]="ES5",n[n.ES2015=2]="ES2015",n[n.ES2016=3]="ES2016",n[n.ES2017=4]="ES2017",n[n.ES2018=5]="ES2018",n[n.ES2019=6]="ES2019",n[n.ES2020=7]="ES2020",n[n.ESNext=99]="ESNext",n[n.JSON=100]="JSON",n[n.Latest=99]="Latest",n))(Sse||{}),Lse=(n=>(n[n.Classic=1]="Classic",n[n.NodeJs=2]="NodeJs",n))(Lse||{}),xse=class{constructor(n,e,t,i){On(this,"_onDidChange",new Nv.Emitter);On(this,"_onDidExtraLibsChange",new Nv.Emitter);On(this,"_extraLibs");On(this,"_removedExtraLibs");On(this,"_eagerModelSync");On(this,"_compilerOptions");On(this,"_diagnosticsOptions");On(this,"_workerOptions");On(this,"_onDidExtraLibsChangeTimeout");On(this,"_inlayHintsOptions");this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(n),this.setDiagnosticsOptions(e),this.setWorkerOptions(t),this.setInlayHintsOptions(i),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(n,e){let t;if(typeof e=="undefined"?t=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:t=e,this._extraLibs[t]&&this._extraLibs[t].content===n)return{dispose:()=>{}};let i=1;return this._removedExtraLibs[t]&&(i=this._removedExtraLibs[t]+1),this._extraLibs[t]&&(i=this._extraLibs[t].version+1),this._extraLibs[t]={content:n,version:i},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let s=this._extraLibs[t];!s||s.version===i&&(delete this._extraLibs[t],this._removedExtraLibs[t]=i,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(n){for(const e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),n&&n.length>0)for(const e of n){const t=e.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,i=e.content;let s=1;this._removedExtraLibs[t]&&(s=this._removedExtraLibs[t]+1),this._extraLibs[t]={content:i,version:s}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(n){this._compilerOptions=n||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(n){this._workerOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(n){this._inlayHintsOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(n){}setEagerModelSync(n){this._eagerModelSync=n}getEagerModelSync(){return this._eagerModelSync}},Swt=ywt,Dse=new xse({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),kse=new xse({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),Lwt=()=>Q5().then(n=>n.getTypeScriptWorker()),xwt=()=>Q5().then(n=>n.getJavaScriptWorker());Nv.languages.typescript={ModuleKind:Cse,JsxEmit:wse,NewLineKind:yse,ScriptTarget:Sse,ModuleResolutionKind:Lse,typescriptVersion:Swt,typescriptDefaults:Dse,javascriptDefaults:kse,getTypeScriptWorker:Lwt,getJavaScriptWorker:xwt};function Q5(){return at(()=>import("./tsMode.93ae3e65.js"),[])}Nv.languages.onLanguage("typescript",()=>Q5().then(n=>n.setupTypeScript(Dse)));Nv.languages.onLanguage("javascript",()=>Q5().then(n=>n.setupJavaScript(kse)));var Dwt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},kwt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},J5=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const eD=new et("selectionAnchorSet",!1);let Bh=class Ese{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=eD.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(e){return e.getContribution(Ese.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition();this.editor.changeDecorations(t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(Ye.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new ur().appendText(v("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),no(v("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(Ye.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const e=this.decorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Bh.ID="editor.contrib.selectionAnchorController";Bh=Dwt([kwt(1,At)],Bh);class Ewt extends nt{constructor(){super({id:"editor.action.setSelectionAnchor",label:v("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2080),weight:100}})}run(e,t){var i;return J5(this,void 0,void 0,function*(){(i=Bh.get(t))===null||i===void 0||i.setSelectionAnchor()})}}class Iwt extends nt{constructor(){super({id:"editor.action.goToSelectionAnchor",label:v("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:eD})}run(e,t){var i;return J5(this,void 0,void 0,function*(){(i=Bh.get(t))===null||i===void 0||i.goToSelectionAnchor()})}}class Twt extends nt{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:v("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:eD,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2089),weight:100}})}run(e,t){var i;return J5(this,void 0,void 0,function*(){(i=Bh.get(t))===null||i===void 0||i.selectFromAnchorToCursor()})}}class Nwt extends nt{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:v("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:eD,kbOpts:{kbExpr:z.editorTextFocus,primary:9,weight:100}})}run(e,t){var i;return J5(this,void 0,void 0,function*(){(i=Bh.get(t))===null||i===void 0||i.cancelSelectionAnchor()})}}mi(Bh.ID,Bh);Pe(Ewt);Pe(Iwt);Pe(Twt);Pe(Nwt);const Mwt=U("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},v("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class Awt extends nt{constructor(){super({id:"editor.action.jumpToBracket",label:v("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:z.editorTextFocus,primary:3160,weight:100}})}run(e,t){var i;(i=Bc.get(t))===null||i===void 0||i.jumpToBracket()}}class Rwt extends nt{constructor(){super({id:"editor.action.selectToBracket",label:v("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var s;let o=!0;i&&i.selectBrackets===!1&&(o=!1),(s=Bc.get(t))===null||s===void 0||s.selectToBracket(o)}}class Owt{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class Bc extends de{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new Hi(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(Bc.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(i=>{const s=i.getStartPosition(),o=e.bracketPairs.matchBracket(s);let r=null;if(o)o[0].containsPosition(s)&&!o[1].containsPosition(s)?r=o[1].getStartPosition():o[1].containsPosition(s)&&(r=o[0].getStartPosition());else{const a=e.bracketPairs.findEnclosingBrackets(s);if(a)r=a[1].getStartPosition();else{const l=e.bracketPairs.findNextBracket(s);l&&l.range&&(r=l.range.getStartPosition())}}return r?new Ye(r.lineNumber,r.column,r.lineNumber,r.column):new Ye(s.lineNumber,s.column,s.lineNumber,s.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(s=>{const o=s.getStartPosition();let r=t.bracketPairs.matchBracket(o);if(!r&&(r=t.bracketPairs.findEnclosingBrackets(o),!r)){const c=t.bracketPairs.findNextBracket(o);c&&c.range&&(r=t.bracketPairs.matchBracket(c.range.getStartPosition()))}let a=null,l=null;if(r){r.sort(A.compareRangesUsingStarts);const[c,u]=r;if(a=e?c.getStartPosition():c.getEndPosition(),l=e?u.getEndPosition():u.getStartPosition(),u.containsPosition(o)){const d=a;a=l,l=d}}a&&l&&i.push(new Ye(a.lineNumber,a.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const e=[];let t=0;for(const i of this._lastBracketsData){const s=i.brackets;s&&(e[t++]={range:s[0],options:i.options},e[t++]={range:s[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getModel(),i=t.getVersionId();let s=[];this._lastVersionId===i&&(s=this._lastBracketsData);const o=[];let r=0;for(let d=0,h=e.length;d<h;d++){const f=e[d];f.isEmpty()&&(o[r++]=f.getStartPosition())}o.length>1&&o.sort(oe.compare);const a=[];let l=0,c=0;const u=s.length;for(let d=0,h=o.length;d<h;d++){const f=o[d];for(;c<u&&s[c].position.isBefore(f);)c++;if(c<u&&s[c].position.equals(f))a[l++]=s[c];else{let p=t.bracketPairs.matchBracket(f,20),m=Bc._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!p&&this._matchBrackets==="always"&&(p=t.bracketPairs.findEnclosingBrackets(f,20),m=Bc._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new Owt(f,p,m)}}this._lastBracketsData=a,this._lastVersionId=i}}Bc.ID="editor.contrib.bracketMatchingController";Bc._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Rt.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Vn(Mwt),position:ll.Center}});Bc._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Rt.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});mi(Bc.ID,Bc);Pe(Rwt);Pe(Awt);ln((n,e)=>{const t=n.getColor(Dht);t&&e.addRule(`.monaco-editor .bracket-match { background-color: ${t}; }`);const i=n.getColor(Fte);i&&e.addRule(`.monaco-editor .bracket-match { border: 1px solid ${i}; }`)});jl.appendMenuItem(Y.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:v({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class Pwt{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,s=this._selection.startColumn,o=this._selection.endColumn;if(!(this._isMovingLeft&&s===1)&&!(!this._isMovingLeft&&o===e.getLineMaxColumn(i)))if(this._isMovingLeft){const r=new A(i,s-1,i,s),a=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new A(i,o,i,o),a)}else{const r=new A(i,o,i,o+1),a=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new A(i,s,i,s),a)}}computeCursorState(e,t){return this._isMovingLeft?new Ye(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Ye(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class Ise extends nt{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const i=[],s=t.getSelections();for(const o of s)i.push(new Pwt(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class Fwt extends Ise{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:v("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:z.writable})}}class Bwt extends Ise{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:v("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:z.writable})}}Pe(Fwt);Pe(Bwt);class Vwt extends nt{constructor(){super({id:"editor.action.transposeLetters",label:v("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:z.writable,kbOpts:{kbExpr:z.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;const i=t.getModel(),s=[],o=t.getSelections();for(const r of o){if(!r.isEmpty())continue;const a=r.startLineNumber,l=r.startColumn,c=i.getLineMaxColumn(a);if(a===1&&(l===1||l===2&&c===2))continue;const u=l===c?r.getPosition():ki.rightPosition(i,r.getPosition().lineNumber,r.getPosition().column),d=ki.leftPosition(i,u),h=ki.leftPosition(i,d),f=i.getValueInRange(A.fromPositions(h,d)),p=i.getValueInRange(A.fromPositions(d,u)),m=A.fromPositions(h,u);s.push(new Zs(m,p+f))}s.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop())}}Pe(Vwt);var Wwt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const Jm="9_cutcopypaste",Hwt=Rc||document.queryCommandSupported("cut"),Tse=Rc||document.queryCommandSupported("copy"),$wt=typeof navigator.clipboard=="undefined"||wa?document.queryCommandSupported("paste"):!0;function dB(n){return n.register(),n}const zwt=Hwt?dB(new e2({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Rc?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:Y.MenubarEditMenu,group:"2_ccp",title:v({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:Y.EditorContext,group:Jm,title:v("actions.clipboard.cutLabel","Cut"),when:z.writable,order:1},{menuId:Y.CommandPalette,group:"",title:v("actions.clipboard.cutLabel","Cut"),order:1},{menuId:Y.SimpleEditorContext,group:Jm,title:v("actions.clipboard.cutLabel","Cut"),when:z.writable,order:1}]})):void 0,Uwt=Tse?dB(new e2({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Rc?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:Y.MenubarEditMenu,group:"2_ccp",title:v({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:Y.EditorContext,group:Jm,title:v("actions.clipboard.copyLabel","Copy"),order:2},{menuId:Y.CommandPalette,group:"",title:v("actions.clipboard.copyLabel","Copy"),order:1},{menuId:Y.SimpleEditorContext,group:Jm,title:v("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;jl.appendMenuItem(Y.MenubarEditMenu,{submenu:Y.MenubarCopy,title:{value:v("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});jl.appendMenuItem(Y.EditorContext,{submenu:Y.EditorContextCopy,title:{value:v("copy as","Copy As"),original:"Copy As"},group:Jm,order:3});jl.appendMenuItem(Y.EditorContext,{submenu:Y.EditorContextShare,title:{value:v("share","Share"),original:"Share"},group:"11_share",order:-1});const rT=$wt?dB(new e2({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Rc?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:Y.MenubarEditMenu,group:"2_ccp",title:v({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:Y.EditorContext,group:Jm,title:v("actions.clipboard.pasteLabel","Paste"),when:z.writable,order:4},{menuId:Y.CommandPalette,group:"",title:v("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:Y.SimpleEditorContext,group:Jm,title:v("actions.clipboard.pasteLabel","Paste"),when:z.writable,order:4}]})):void 0;class jwt extends nt{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:v("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:z.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(33)&&t.getSelection().isEmpty()||(gM.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),gM.forceCopyWithSyntaxHighlighting=!1)}}function Nse(n,e){!n||(n.addImplementation(1e4,"code-editor",(t,i)=>{const s=t.get(Ei).getFocusedCodeEditor();if(s&&s.hasTextFocus()){const o=s.getOption(33),r=s.getSelection();return r&&r.isEmpty()&&!o||document.execCommand(e),!0}return!1}),n.addImplementation(0,"generic-dom",(t,i)=>(document.execCommand(e),!0)))}Nse(zwt,"cut");Nse(Uwt,"copy");rT&&(rT.addImplementation(1e4,"code-editor",(n,e)=>{const t=n.get(Ei),i=n.get(qh),s=t.getFocusedCodeEditor();return s&&s.hasTextFocus()?!document.execCommand("paste")&&jg?(()=>Wwt(void 0,void 0,void 0,function*(){const r=yield i.readText();if(r!==""){const a=vw.INSTANCE.get(r);let l=!1,c=null,u=null;a&&(l=s.getOption(33)&&!!a.isFromEmptySelection,c=typeof a.multicursorText!="undefined"?a.multicursorText:null,u=a.mode),s.trigger("keyboard","paste",{text:r,pasteOnNewLine:l,multicursorText:c,mode:u})}}))():!0:!1}),rT.addImplementation(0,"generic-dom",(n,e)=>(document.execCommand("paste"),!0)));Tse&&Pe(jwt);class ci{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+ci.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new ci(this.value+ci.sep+e)}}ci.sep=".";ci.None=new ci("@@none@@");ci.Empty=new ci("");ci.QuickFix=new ci("quickfix");ci.Refactor=new ci("refactor");ci.Source=new ci("source");ci.SourceOrganizeImports=ci.Source.append("organizeImports");ci.SourceFixAll=ci.Source.append("fixAll");var Vo;(function(n){n.Refactor="refactor",n.RefactorPreview="refactor preview",n.Lightbulb="lightbulb",n.Default="other (default)",n.SourceAction="source action",n.QuickFix="quick fix action",n.FixAll="fix all",n.OrganizeImports="organize imports",n.AutoFix="auto fix",n.QuickFixHover="quick fix hover window",n.OnSave="save participants",n.ProblemsView="problems view"})(Vo||(Vo={}));function Kwt(n,e){return!(n.include&&!n.include.intersects(e)||n.excludes&&n.excludes.some(t=>Mse(e,t,n.include))||!n.includeSourceActions&&ci.Source.contains(e))}function qwt(n,e){const t=e.kind?new ci(e.kind):void 0;return!(n.include&&(!t||!n.include.contains(t))||n.excludes&&t&&n.excludes.some(i=>Mse(t,i,n.include))||!n.includeSourceActions&&t&&ci.Source.contains(t)||n.onlyIncludePreferredActions&&!e.isPreferred)}function Mse(n,e,t){return!(!e.contains(n)||t&&e.contains(t))}class Nu{constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}static fromUser(e,t){return!e||typeof e!="object"?new Nu(t.kind,t.apply,!1):new Nu(Nu.getKindFromUser(e,t.kind),Nu.getApplyFromUser(e,t.apply),Nu.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new ci(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}}var hB=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const Ase="editor.action.codeAction",Rse="editor.action.refactor",Gwt="editor.action.refactor.preview",Ose="editor.action.sourceAction",fB="editor.action.organizeImports",gB="editor.action.fixAll";class Pse{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return hB(this,void 0,void 0,function*(){if(((t=this.provider)===null||t===void 0?void 0:t.resolveCodeAction)&&!this.action.edit){let i;try{i=yield this.provider.resolveCodeAction(this.action,e)}catch(s){$s(s)}i&&(this.action.edit=i.edit)}return this})}}class pB extends de{constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(pB.codeActionsComparator),this.validActions=this.allActions.filter(({action:s})=>!s.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:vo(e.diagnostics)?vo(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:vo(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&ci.QuickFix.contains(new ci(e.kind))&&!!e.isPreferred)}}const dG={actions:[],documentation:void 0};function mB(n,e,t,i,s,o){var r;const a=i.filter||{},l={only:(r=a.include)===null||r===void 0?void 0:r.value,trigger:i.type},c=new oB(e,o),u=Ywt(n,e,a),d=new Ie,h=u.map(p=>hB(this,void 0,void 0,function*(){try{s.report(p);const m=yield p.provideCodeActions(e,t,l,c.token);if(m&&d.add(m),c.token.isCancellationRequested)return dG;const b=((m==null?void 0:m.actions)||[]).filter(y=>y&&qwt(a,y)),w=Zwt(p,b,a.include);return{actions:b.map(y=>new Pse(y,p)),documentation:w}}catch(m){if(cd(m))throw m;return $s(m),dG}})),f=n.onDidChange(()=>{const p=n.all(e);va(p,u)||c.cancel()});return Promise.all(h).then(p=>{const m=p.map(w=>w.actions).flat(),b=Iy(p.map(w=>w.documentation));return new pB(m,b,d)}).finally(()=>{f.dispose(),c.dispose()})}function Ywt(n,e,t){return n.all(e).filter(i=>i.providedCodeActionKinds?i.providedCodeActionKinds.some(s=>Kwt(t,new ci(s))):!0)}function Zwt(n,e,t){if(!n.documentation)return;const i=n.documentation.map(s=>({kind:new ci(s.kind),command:s.command}));if(t){let s;for(const o of i)o.kind.contains(t)&&(s?s.kind.contains(o.kind)&&(s=o):s=o);if(s)return s==null?void 0:s.command}for(const s of e)if(!!s.kind){for(const o of i)if(o.kind.contains(new ci(s.kind)))return o.command}}pi.registerCommand("_executeCodeActionProvider",function(n,e,t,i,s){return hB(this,void 0,void 0,function*(){if(!(e instanceof bt))throw Oc();const{codeActionProvider:o}=n.get(st),r=n.get(Nn).getModel(e);if(!r)throw Oc();const a=Ye.isISelection(t)?Ye.liftSelection(t):A.isIRange(t)?r.validateRange(t):void 0;if(!a)throw Oc();const l=typeof i=="string"?new ci(i):void 0,c=yield mB(o,r,a,{type:1,triggerAction:Vo.Default,filter:{includeSourceActions:!0,include:l}},M_.None,Yt.None),u=[],d=Math.min(c.validActions.length,typeof s=="number"?s:0);for(let h=0;h<d;h++)u.push(c.validActions[h].resolve(Yt.None));try{return yield Promise.all(u),c.validActions.map(h=>h.action)}finally{setTimeout(()=>c.dispose(),100)}})});var Xwt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Qwt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let jr=class WA{constructor(e,t){this._messageWidget=new Bo,this._messageListeners=new Ie,this._editor=e,this._visible=WA.MESSAGE_VISIBLE.bindTo(t)}static get(e){return e.getContribution(WA.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){no(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new hG(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new La(()=>this.closeMessage(),3e3));let i;this._messageListeners.add(this._editor.onMouseMove(s=>{!s.target.position||(i?i.containsPosition(s.target.position)||this.closeMessage():i=new A(t.lineNumber-3,1,s.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(hG.fadeOut(this._messageWidget.value))}};jr.ID="editor.contrib.messageController";jr.MESSAGE_VISIBLE=new et("messageVisible",!1,v("messageVisible","Whether the editor is currently showing an inline message"));jr=Xwt([Qwt(1,At)],jr);const Jwt=Ys.bindToContribution(jr.get);Ae(new Jwt({id:"leaveEditorMessage",precondition:jr.MESSAGE_VISIBLE,handler:n=>n.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class hG{constructor(e,{lineNumber:t,column:i},s){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const r=document.createElement("div");r.classList.add("message"),r.textContent=s,this._domNode.appendChild(r);const a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){const t=()=>{e.dispose(),clearTimeout(i),e.getDomNode().removeEventListener("animationend",t)},i=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",e===2)}}mi(jr.ID,jr);var Fse=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Bd=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},eyt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const u2={Visible:new et("CodeActionMenuVisible",!1,v("CodeActionMenuVisible","Whether the code action list widget is visible"))};class aT extends $r{constructor(e,t){super(e.command?e.command.id:e.title,tyt(e.title),void 0,!e.disabled,t),this.action=e}}function tyt(n){return n.replace(/\r\n|\r|\n/g," ")}const iyt="codeActionWidget",lT=26;let HA=class{constructor(e,t){this.acceptKeybindings=e,this.keybindingService=t}get templateId(){return iyt}renderTemplate(e){const t=Object.create(null);return t.disposables=[],t.root=e,t.text=document.createElement("span"),e.append(t.text),t}renderElement(e,t,i){const s=i,o=e.title,r=e.isEnabled,a=e.isSeparator,l=e.isDocumentation;s.text.textContent=o,r?s.root.classList.remove("option-disabled"):(s.root.classList.add("option-disabled"),s.root.style.backgroundColor="transparent !important"),a&&(s.root.classList.add("separator"),s.root.style.height="10px"),l||(()=>{var u,d;const[h,f]=this.acceptKeybindings;s.root.title=v({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",(u=this.keybindingService.lookupKeybinding(h))===null||u===void 0?void 0:u.getLabel(),(d=this.keybindingService.lookupKeybinding(f))===null||d===void 0?void 0:d.getLabel())})()}disposeTemplate(e){e.disposables=vi(e.disposables)}};HA=Fse([Bd(1,Ms)],HA);let xL=class $A extends de{constructor(e,t,i,s,o,r,a,l,c,u){super(),this._editor=e,this._delegate=t,this._contextMenuService=i,this._languageFeaturesService=o,this._telemetryService=r,this._configurationService=l,this._contextViewService=c,this._contextKeyService=u,this._showingActions=this._register(new Bo),this.codeActionList=this._register(new Bo),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new tD({getKeybindings:()=>s.getKeybindings()}),this._ctxMenuWidgetVisible=u2.Visible.bindTo(this._contextKeyService),this.listRenderer=new HA(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],s)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(e){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:e.uri})}_onListSelection(e){e.elements.length&&e.elements.forEach(t=>{t.isEnabled&&(t.action.run(),this.hideCodeActionWidget())})}_onListHover(e){var t,i,s,o;e.element?!((i=e.element)===null||i===void 0)&&i.isEnabled?((s=this.codeActionList.value)===null||s===void 0||s.setFocus([e.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(e.element),this.currSelectedItem=e.element.index):(this.currSelectedItem=void 0,(o=this.codeActionList.value)===null||o===void 0||o.setFocus([e.element.index])):(this.currSelectedItem=void 0,(t=this.codeActionList.value)===null||t===void 0||t.setFocus([]))}renderCodeActionMenuList(e,t){var i;const s=new Ie,o=document.createElement("div"),r=document.createElement("div");this.block=e.appendChild(r),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",s.add(xe(this.block,Qe.MOUSE_DOWN,h=>h.stopPropagation())),o.id="codeActionMenuWidget",o.classList.add("codeActionMenuWidget"),e.appendChild(o),this.codeActionList.value=new eu("codeActionWidget",o,{getHeight(h){return h.isSeparator?10:lT},getTemplateId(h){return"codeActionWidget"}},[this.listRenderer],{keyboardSupport:!1}),s.add(this.codeActionList.value.onMouseOver(h=>this._onListHover(h))),s.add(this.codeActionList.value.onDidChangeFocus(h=>{var f;return(f=this.codeActionList.value)===null||f===void 0?void 0:f.domFocus()})),s.add(this.codeActionList.value.onDidChangeSelection(h=>this._onListSelection(h))),s.add(this._editor.onDidLayoutChange(h=>this.hideCodeActionWidget())),t.forEach((h,f)=>{const p=h.class==="separator";let m=!1;h instanceof aT&&(m=h.action.kind===$A.documentationID),p&&(this.hasSeperator=!0);const b={title:h.label,detail:h.tooltip,action:t[f],isEnabled:h.enabled,isSeparator:p,index:f,isDocumentation:m};h.enabled&&this.viewItems.push(b),this.options.push(b)}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const a=this.hasSeperator?(t.length-1)*lT+10:t.length*lT;o.style.height=String(a)+"px",this.codeActionList.value.layout(a);const l=[];this.options.forEach((h,f)=>{var p,m;if(!this.codeActionList.value)return;const b=(m=document.getElementById((p=this.codeActionList.value)===null||p===void 0?void 0:p.getElementID(f)))===null||m===void 0?void 0:m.getElementsByTagName("span")[0].offsetWidth;l.push(Number(b))});const c=Math.max(...l);o.style.width=c+52+"px",(i=this.codeActionList.value)===null||i===void 0||i.layout(a,c),this.viewItems.length<1||this.viewItems.every(h=>h.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const u=Vm(e),d=u.onDidBlur(()=>{this.hideCodeActionWidget()});return s.add(d),s.add(u),this._ctxMenuWidgetVisible.set(!0),s}focusPrevious(){var e;if(typeof this.focusedEnabledItem=="undefined")this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const t=this.focusedEnabledItem;let i;do this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),i=this.viewItems[this.focusedEnabledItem],(e=this.codeActionList.value)===null||e===void 0||e.setFocus([i.index]),this.currSelectedItem=i.index;while(this.focusedEnabledItem!==t&&(!i.isEnabled||i.action.id===Co.ID));return!0}focusNext(){var e;if(typeof this.focusedEnabledItem=="undefined")this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const t=this.focusedEnabledItem;let i;do this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,i=this.viewItems[this.focusedEnabledItem],(e=this.codeActionList.value)===null||e===void 0||e.setFocus([i.index]),this.currSelectedItem=i.index;while(this.focusedEnabledItem!==t&&(!i.isEnabled||i.action.id===Co.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var e;typeof this.currSelectedItem=="number"&&((e=this.codeActionList.value)===null||e===void 0||e.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(e,t,i){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:e,validCodeActions:i.validActions.length,cancelled:t})}show(e,t,i,s){return eyt(this,void 0,void 0,function*(){const o=this._editor.getModel();if(!o)return;const r=s.includeDisabledActions?t.allActions:t.validActions;if(!r.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,KJ();this._visible=!0,this._showingActions.value=t;const a=this.getMenuActions(e,r,t.documentation),l=oe.isIPosition(i)?this._toCoords(i):i||{x:0,y:0},c=this._keybindingResolver.getResolver(),u=this._editor.getOption(117);this.isCodeActionWidgetEnabled(o)?this._contextViewService.showContextView({getAnchor:()=>l,render:d=>this.renderCodeActionMenuList(d,a),onHide:d=>{const h=s.fromLightbulb?Vo.Lightbulb:e.triggerAction;this.codeActionTelemetry(h,d,t),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:u?this._editor.getDomNode():void 0,getAnchor:()=>l,getActions:()=>a,onHide:d=>{const h=s.fromLightbulb?Vo.Lightbulb:e.triggerAction;this.codeActionTelemetry(h,d,t),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:d=>d instanceof aT?c(d.action):void 0})})}getMenuActions(e,t,i){var s,o;const r=u=>new aT(u.action,()=>this._delegate.onSelectCodeAction(u,e)),a=t.map(r),l=[...i],c=this._editor.getModel();if(c&&a.length)for(const u of this._languageFeaturesService.codeActionProvider.all(c))u._getAdditionalMenuItems&&l.push(...u._getAdditionalMenuItems({trigger:e.type,only:(o=(s=e.filter)===null||s===void 0?void 0:s.include)===null||o===void 0?void 0:o.value},t.map(d=>d.action)));return l.length&&a.push(new Co,...l.map(u=>r(new Pse({title:u.title,command:u,kind:$A.documentationID},void 0)))),a}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=mo(this._editor.getDomNode()),s=i.left+t.left,o=i.top+t.top+t.height;return{x:s,y:o}}};xL.documentationID="_documentation";xL=Fse([Bd(2,Kh),Bd(3,Ms),Bd(4,st),Bd(5,Qc),Bd(6,Qi),Bd(7,Ci),Bd(8,N_),Bd(9,At)],xL);class tD{constructor(e){this._keybindingProvider=e}getResolver(){const e=new rv(()=>this._keybindingProvider.getKeybindings().filter(t=>tD.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let i=t.commandArgs;return t.command===fB?i={kind:ci.SourceOrganizeImports.value}:t.command===gB&&(i={kind:ci.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},Nu.fromUser(i,{kind:ci.None,apply:"never"}))}));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.getValue());return i==null?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new ci(e.kind);return t.filter(s=>s.kind.contains(i)).filter(s=>s.preferred?e.isPreferred:!0).reduceRight((s,o)=>s?s.kind.contains(o.kind)?o:s:o,void 0)}}tD.codeActionCommands=[Rse,Ase,Ose,fB,gB];var nyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},syt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},xC;(function(n){n.Hidden={type:0};class e{constructor(i,s,o,r){this.actions=i,this.trigger=s,this.editorPosition=o,this.widgetPosition=r,this.type=1}}n.Showing=e})(xC||(xC={}));let DL=class Bse extends de{constructor(e,t,i,s){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=i,this._keybindingService=s,this._onClick=this._register(new J),this.onClick=this._onClick.event,this._state=xC.Hidden,this._domNode=document.createElement("div"),this._domNode.className=C.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{const r=this._editor.getModel();(this.state.type!==1||!r||this.state.editorPosition.lineNumber>=r.getLineCount())&&this.hide()})),Fi.ignoreTarget(this._domNode),this._register(Pct(this._domNode,o=>{if(this.state.type!==1)return;this._editor.focus(),o.preventDefault();const{top:r,height:a}=mo(this._domNode),l=this._editor.getOption(61);let c=Math.floor(l/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(c+=l),this._onClick.fire({x:o.posx,y:r+a+c,actions:this.state.actions,trigger:this.state.trigger})})),this._register(xe(this._domNode,"mouseenter",o=>{(o.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.hide();const s=this._editor.getOptions();if(!s.get(59).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:r,column:a}=o.validatePosition(i),l=o.getOptions().tabSize,c=s.get(46),u=o.getLineContent(r),d=S5(u,l),h=c.spaceWidth*d>22,f=m=>m>2&&this._editor.getTopForLineNumber(m)===this._editor.getTopForLineNumber(m-1);let p=r;if(!h){if(r>1&&!f(r-1))p-=1;else if(!f(r+1))p+=1;else if(a*c.spaceWidth<22)return this.hide()}this.state=new xC.Showing(e,t,i,{position:{lineNumber:p,column:1},preference:Bse._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=xC.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...C.lightBulb.classNamesArray),this._domNode.classList.add(...C.lightbulbAutofix.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t){this.title=v("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel());return}}this._domNode.classList.remove(...C.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...C.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);e?this.title=v("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):this.title=v("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};DL._posPref=[0];DL=nyt([syt(3,Ms)],DL);ln((n,e)=>{var t;const i=(t=n.getColor(Ss))===null||t===void 0?void 0:t.transparent(.7),s=n.getColor(Xut);s&&e.addRule(`
		.monaco-editor .contentWidgets ${C.lightBulb.cssSelector} {
			color: ${s};
			background-color: ${i};
		}`);const o=n.getColor(Qut);o&&e.addRule(`
		.monaco-editor .contentWidgets ${C.lightbulbAutofix.cssSelector} {
			color: ${o};
			background-color: ${i};
		}`)});var oyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ryt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},cT=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},ayt=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},lyt=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)},L6;let zA=class extends de{constructor(e,t,i,s,o){super(),this._editor=e,this.delegate=s,this._activeCodeActions=this._register(new Bo),this.previewOn=!1,L6.set(this,!1),this._codeActionWidget=new rv(()=>this._register(o.createInstance(xL,this._editor,{onSelectCodeAction:(r,a)=>cT(this,void 0,void 0,function*(){this.previewOn?this.delegate.applyCodeAction(r,!0,Boolean(this.previewOn)):this.delegate.applyCodeAction(r,!0,Boolean(a.preview)),this.previewOn=!1})}))),this._lightBulbWidget=new rv(()=>{const r=this._register(o.createInstance(DL,this._editor,t,i));return this._register(r.onClick(a=>this.showCodeActionList(a.trigger,a.actions,a,{includeDisabledActions:!1,fromLightbulb:!0}))),r})}dispose(){ayt(this,L6,!0,"f"),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(e){this._codeActionWidget.hasValue()&&(e?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(e){var t,i,s,o,r;return cT(this,void 0,void 0,function*(){if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let a;try{a=yield e.actions}catch(l){Ot(l);return}if(!lyt(this,L6,"f"))if(this._lightBulbWidget.getValue().update(a,e.trigger,e.position),e.trigger.type===1){if(!((i=e.trigger.filter)===null||i===void 0)&&i.include){const c=this.tryGetValidActionToApply(e.trigger,a);if(c){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(c,!1,!1)}finally{a.dispose()}return}if(e.trigger.context){const u=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,a);if(u&&u.action.disabled){(s=jr.get(this._editor))===null||s===void 0||s.showMessage(u.action.disabled,e.trigger.context.position),a.dispose();return}}}const l=!!(!((o=e.trigger.filter)===null||o===void 0)&&o.include);if(e.trigger.context&&(!a.allActions.length||!l&&!a.validActions.length)){(r=jr.get(this._editor))===null||r===void 0||r.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=a,a.dispose();return}this._activeCodeActions.value=a,this._codeActionWidget.getValue().show(e.trigger,a,e.position,{includeDisabledActions:l,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?a.dispose():this._activeCodeActions.value=a})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(!!t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(e,t){if(!!t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(e,t,i,s){return cT(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(e,t,i,s)})}};L6=new WeakMap;zA=oyt([ryt(4,Bt)],zA);var uT=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)},cyt=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},W0;const Vse=new et("supportedCodeAction","");class uyt extends de{constructor(e,t,i,s=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=s,this._autoTriggerTimer=this._register(new La),this._register(this._markerService.onMarkerChanged(o=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();!t||e.some(i=>hie(i,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:Vo.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:Vo.Default})},this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(!!t)for(const i of this._markerService.read({resource:t.uri})){const s=t.validateRange(i);if(A.intersectRanges(s,e))return A.lift(s)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&e.type===2){const{lineNumber:s,column:o}=i.getPosition(),r=t.getLineContent(s);if(r.length===0)return;if(o===1){if(/\s/.test(r[0]))return}else if(o===t.getLineMaxColumn(s)){if(/\s/.test(r[r.length-1]))return}else if(/\s/.test(r[o-2])&&/\s/.test(r[o-1]))return}return i}_createEventAndSignalChange(e,t){const i=this._editor.getModel();if(!t||!i){this._signalChange(void 0);return}const s=this._getRangeOfMarker(t),o=s?s.getStartPosition():t.getStartPosition(),r={trigger:e,selection:t,position:o};return this._signalChange(r),r}}var Up;(function(n){n.Empty={type:0};class e{constructor(i,s,o,r){this.trigger=i,this.rangeOrSelection=s,this.position=o,this._cancellablePromise=r,this.type=1,this.actions=r.catch(a=>{if(cd(a))return dyt;throw a})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=e})(Up||(Up={}));const dyt={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class hyt extends de{constructor(e,t,i,s,o){super(),this._editor=e,this._registry=t,this._markerService=i,this._progressService=o,this._codeActionOracle=this._register(new Bo),this._state=Up.Empty,this._onDidChangeState=this._register(new J),this.onDidChangeState=this._onDidChangeState.event,W0.set(this,!1),this._supportedCodeActions=Vse.bindTo(s),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){uT(this,W0,"f")||(cyt(this,W0,!0,"f"),super.dispose(),this.setState(Up.Empty,!0))}_update(){if(uT(this,W0,"f"))return;this._codeActionOracle.value=void 0,this.setState(Up.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(83)){const t=[];for(const i of this._registry.all(e))Array.isArray(i.providedCodeActionKinds)&&t.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new uyt(this._editor,this._markerService,i=>{var s;if(!i){this.setState(Up.Empty);return}const o=Ws(r=>mB(this._registry,e,i.selection,i.trigger,M_.None,r));i.trigger.type===1&&((s=this._progressService)===null||s===void 0||s.showWhile(o,250)),this.setState(new Up.Triggered(i.trigger,i.selection,i.position,o))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:Vo.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;(t=this._codeActionOracle.value)===null||t===void 0||t.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!uT(this,W0,"f")&&this._onDidChangeState.fire(e))}}W0=new WeakMap;var fyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},cb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Wse=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function e4(n){return Xe.regex(Vse.keys()[0],new RegExp("(\\s|^)"+Ca(n.value)+"\\b"))}function Hse(n,e,t,i){const s=Nu.fromUser(e,{kind:ci.Refactor,apply:"never"});return P_(n,typeof(e==null?void 0:e.kind)=="string"?s.preferred?v("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",e.kind):v("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",e.kind):s.preferred?v("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):v("editor.action.refactor.noneMessage","No refactorings available"),{include:ci.Refactor.contains(s.kind)?s.kind:ci.None,onlyIncludePreferredActions:s.preferred},s.apply,t,i)}const iD={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:v("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:v("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[v("args.schema.apply.first","Always apply the first returned code action."),v("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),v("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:v("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Rg=class $se extends de{constructor(e,t,i,s,o,r){super(),this._instantiationService=o,this._editor=e,this._model=this._register(new hyt(this._editor,r.codeActionProvider,t,i,s)),this._register(this._model.onDidChangeState(a=>this.update(a))),this._ui=new rv(()=>this._register(new zA(e,d2.Id,t4.Id,{applyCodeAction:(a,l,c)=>Wse(this,void 0,void 0,function*(){try{yield this._applyCodeAction(a,c)}finally{l&&this._trigger({type:2,triggerAction:Vo.QuickFix,filter:{}})}})},this._instantiationService)))}static get(e){return e.getContribution($se.ID)}update(e){this._ui.getValue().update(e)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(e){this._ui.hasValue()&&this._ui.getValue().navigateList(e)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(e,t,i){return this._ui.getValue().showCodeActionList(e,t,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,i,s,o){var r;if(!this._editor.hasModel())return;(r=jr.get(this._editor))===null||r===void 0||r.closeMessage();const a=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:i,autoApply:s,context:{notAvailableMessage:e,position:a},preview:o})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e,t){return this._instantiationService.invokeFunction(gyt,e,UA.FromCodeActions,{preview:t,editor:this._editor})}};Rg.ID="editor.contrib.quickFixController";Rg=fyt([cb(1,hd),cb(2,At),cb(3,Yg),cb(4,Bt),cb(5,st)],Rg);var UA;(function(n){n.OnSave="onSave",n.FromProblemsView="fromProblemsView",n.FromCodeActions="fromCodeActions"})(UA||(UA={}));function gyt(n,e,t,i){return Wse(this,void 0,void 0,function*(){const s=n.get(Ky),o=n.get(ss),r=n.get(Qc),a=n.get(os);if(r.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred,reason:t}),yield e.resolve(Yt.None),e.action.edit&&(yield s.apply(l2.convert(e.action.edit),{editor:i==null?void 0:i.editor,label:e.action.title,quotableLabel:e.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:i==null?void 0:i.preview})),e.action.command)try{yield o.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(l){const c=pyt(l);a.error(typeof c=="string"?c:v("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function pyt(n){return typeof n=="string"?n:n instanceof Error&&typeof n.message=="string"?n.message:void 0}function P_(n,e,t,i,s=!1,o=Vo.Default){if(n.hasModel()){const r=Rg.get(n);r==null||r.manualTriggerAtCurrentPosition(e,o,t,i,s)}}class d2 extends nt{constructor(){super({id:d2.Id,label:v("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Xe.and(z.writable,z.hasCodeActionsProvider),kbOpts:{kbExpr:z.editorTextFocus,primary:2132,weight:100}})}run(e,t){return P_(t,v("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,Vo.QuickFix)}}d2.Id="editor.action.quickFix";class myt extends Ys{constructor(){super({id:Ase,precondition:Xe.and(z.writable,z.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:iD}]}})}runEditorCommand(e,t,i){const s=Nu.fromUser(i,{kind:ci.Empty,apply:"ifSingle"});return P_(t,typeof(i==null?void 0:i.kind)=="string"?s.preferred?v("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):v("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):s.preferred?v("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):v("editor.action.codeAction.noneMessage","No code actions available"),{include:s.kind,includeSourceActions:!0,onlyIncludePreferredActions:s.preferred},s.apply)}}class _yt extends nt{constructor(){super({id:Rse,label:v("refactor.label","Refactor..."),alias:"Refactor...",precondition:Xe.and(z.writable,z.hasCodeActionsProvider),kbOpts:{kbExpr:z.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Xe.and(z.writable,e4(ci.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:iD}]}})}run(e,t,i){return Hse(t,i,!1,Vo.Refactor)}}class vyt extends nt{constructor(){super({id:Gwt,label:v("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:Xe.and(z.writable,z.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:iD}]}})}run(e,t,i){return Hse(t,i,!0,Vo.RefactorPreview)}}class byt extends nt{constructor(){super({id:Ose,label:v("source.label","Source Action..."),alias:"Source Action...",precondition:Xe.and(z.writable,z.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Xe.and(z.writable,e4(ci.Source))},description:{description:"Source Action...",args:[{name:"args",schema:iD}]}})}run(e,t,i){const s=Nu.fromUser(i,{kind:ci.Source,apply:"never"});return P_(t,typeof(i==null?void 0:i.kind)=="string"?s.preferred?v("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):v("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):s.preferred?v("editor.action.source.noneMessage.preferred","No preferred source actions available"):v("editor.action.source.noneMessage","No source actions available"),{include:ci.Source.contains(s.kind)?s.kind:ci.None,includeSourceActions:!0,onlyIncludePreferredActions:s.preferred},s.apply,void 0,Vo.SourceAction)}}class Cyt extends nt{constructor(){super({id:fB,label:v("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Xe.and(z.writable,e4(ci.SourceOrganizeImports)),kbOpts:{kbExpr:z.editorTextFocus,primary:1581,weight:100}})}run(e,t){return P_(t,v("editor.action.organize.noneMessage","No organize imports action available"),{include:ci.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,Vo.OrganizeImports)}}class wyt extends nt{constructor(){super({id:gB,label:v("fixAll.label","Fix All"),alias:"Fix All",precondition:Xe.and(z.writable,e4(ci.SourceFixAll))})}run(e,t){return P_(t,v("fixAll.noneMessage","No fix all action available"),{include:ci.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,Vo.FixAll)}}class t4 extends nt{constructor(){super({id:t4.Id,label:v("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Xe.and(z.writable,e4(ci.QuickFix)),kbOpts:{kbExpr:z.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return P_(t,v("editor.action.autoFix.noneMessage","No auto fixes available"),{include:ci.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,Vo.AutoFix)}}t4.Id="editor.action.autoFix";const i4=Ys.bindToContribution(Rg.get),n4=100+90;Ae(new i4({id:"hideCodeActionMenuWidget",precondition:u2.Visible,handler(n){n.hideCodeActionMenu()},kbOpts:{weight:n4,primary:9,secondary:[1033]}}));Ae(new i4({id:"focusPreviousCodeAction",precondition:u2.Visible,handler(n){n.navigateCodeActionList(!0)},kbOpts:{weight:n4+1e5,primary:16,secondary:[2064]}}));Ae(new i4({id:"focusNextCodeAction",precondition:u2.Visible,handler(n){n.navigateCodeActionList(!1)},kbOpts:{weight:n4+1e5,primary:18,secondary:[2066]}}));Ae(new i4({id:"onEnterSelectCodeAction",precondition:u2.Visible,handler(n){n.selectedOption()},kbOpts:{weight:n4+1e5,primary:3,secondary:[1026]}}));Ae(new i4({id:"onEnterSelectCodeActionWithPreview",precondition:u2.Visible,handler(n){n.selectedOptionWithPreview()},kbOpts:{weight:n4+1e5,primary:2051}}));Tn.as(Uh.Configuration).registerConfiguration(Object.assign(Object.assign({},yF),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:v("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}}));mi(Rg.ID,Rg);Pe(d2);Pe(_yt);Pe(vyt);Pe(byt);Pe(Cyt);Pe(t4);Pe(wyt);Ae(new myt);var fG=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class jA{constructor(){this.lenses=[],this._disposables=new Ie}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}function zse(n,e,t){return fG(this,void 0,void 0,function*(){const i=n.ordered(e),s=new Map,o=new jA,r=i.map((a,l)=>fG(this,void 0,void 0,function*(){s.set(a,l);try{const c=yield Promise.resolve(a.provideCodeLenses(e,t));c&&o.add(c,a)}catch(c){$s(c)}}));return yield Promise.all(r),o.lenses=o.lenses.sort((a,l)=>a.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:s.get(a.provider)<s.get(l.provider)?-1:s.get(a.provider)>s.get(l.provider)?1:a.symbol.range.startColumn<l.symbol.range.startColumn?-1:a.symbol.range.startColumn>l.symbol.range.startColumn?1:0),o})}pi.registerCommand("_executeCodeLensProvider",function(n,...e){let[t,i]=e;Vi(bt.isUri(t)),Vi(typeof i=="number"||!i);const{codeLensProvider:s}=n.get(st),o=n.get(Nn).getModel(t);if(!o)throw Oc();const r=[],a=new Ie;return zse(s,o,Yt.None).then(l=>{a.add(l);const c=[];for(const u of l.lenses)i==null||Boolean(u.symbol.command)?r.push(u.symbol):i-- >0&&u.provider.resolveCodeLens&&c.push(Promise.resolve(u.provider.resolveCodeLens(o,u.symbol,Yt.None)).then(d=>r.push(d||u.symbol)));return Promise.all(c)}).then(()=>r).finally(()=>{setTimeout(()=>a.dispose(),100)})});var yyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Syt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const Use=ui("ICodeLensCache");class gG{constructor(e,t){this.lineCount=e,this.data=t}}let KA=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Gg(20,.75);const t="codelens/cache";ow(()=>e.remove(t,1));const i="codelens/cache2",s=e.get(i,1,"{}");this._deserialize(s),Mh(e.onWillSaveState)(o=>{o.reason===CL.SHUTDOWN&&e.store(i,this._serialize(),1,1)})}put(e,t){const i=t.lenses.map(r=>{var a;return{range:r.symbol.range,command:r.symbol.command&&{id:"",title:(a=r.symbol.command)===null||a===void 0?void 0:a.title}}}),s=new jA;s.add({lenses:i,dispose:()=>{}},this._fakeProvider);const o=new gG(e.getLineCount(),s);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const s=new Set;for(const o of i.data.lenses)s.add(o.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...s.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const i in t){const s=t[i],o=[];for(const a of s.lines)o.push({range:new A(a,1,a,11)});const r=new jA;r.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(i,new gG(s.lineCount,r))}}catch{}}};KA=yyt([Syt(0,tc)],KA);gi(Use,KA);class Lyt{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class nD{constructor(e,t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${nD._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();const i=[];let s=!1;for(let o=0;o<e.length;o++){const r=e[o];if(!!r&&(s=!0,r.command)){const a=bm(r.command.title.trim());r.command.id?(i.push(Ne("a",{id:String(o),title:r.command.tooltip,role:"button"},...a)),this._commands.set(String(o),r.command)):i.push(Ne("span",{title:r.command.tooltip},...a)),o+1<e.length&&i.push(Ne("span",void 0,"\xA0|\xA0"))}}s?(xg(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):xg(this._domNode,Ne("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}nD._idPool=0;class dT{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){const t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,s=t.length;i<s;i++)this._addDecorationsCallbacks[i](t[i])}}class pG{constructor(e,t,i,s,o,r,a){this._isDisposed=!1,this._editor=t,this._className=i,this._data=e,this._decorationIds=[];let l;const c=[];this._data.forEach((u,d)=>{u.symbol.command&&c.push(u.symbol),s.addDecoration({range:u.symbol.range,options:Rt.EMPTY},h=>this._decorationIds[d]=h),l?l=A.plusRange(l,u.symbol.range):l=A.lift(u.symbol.range)}),this._viewZone=new Lyt(l.startLineNumber-1,r,a),this._viewZoneId=o.addZone(this._viewZone),c.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new nD(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t==null||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),s=this._data[t].symbol;return!!(i&&A.isEmpty(s.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((i,s)=>{t.addDecoration({range:i.symbol.range,options:Rt.EMPTY},o=>this._decorationIds[s]=o)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:s}=this._data[t];s.command=i.command||s.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var xyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ub=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Dyt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let Mv=class{constructor(e,t,i,s,o,r){this._editor=e,this._languageFeaturesService=t,this._commandService=s,this._notificationService=o,this._codeLensCache=r,this._disposables=new Ie,this._localToDispose=new Ie,this._lenses=[],this._oldCodeLensModels=new Ie,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new Hi(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{(a.hasChanged(46)||a.hasChanged(16)||a.hasChanged(15))&&this._updateLensStyle(),a.hasChanged(14)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+cP(this._editor.getId()).toString(16),this._styleElement=ul(uw(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){const e=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48));let t=this._editor.getOption(16);return(!t||t<5)&&(t=this._editor.getOption(48)*.9|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(15),s=this._editor.getOption(46),o=`--codelens-font-family${this._styleClassName}`,r=`--codelens-font-features${this._styleClassName}`;let a=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(t*.5)}px; font-feature-settings: var(${r}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }
		`;i&&(a+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${o}), ${Hr.fontFamily}}`),this._styleElement.textContent=a,this._editor.getContainerDomNode().style.setProperty(o,i!=null?i:"inherit"),this._editor.getContainerDomNode().style.setProperty(r,s.fontFeatureSettings),this._editor.changeViewZones(l=>{for(const c of this._lenses)c.updateHeight(e,l)})}_localDispose(){var e,t,i;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(14))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&this._localToDispose.add(Pm(()=>{const s=this._codeLensCache.get(e);t===s&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3));return}for(const s of this._languageFeaturesService.codeLensProvider.all(e))if(typeof s.onDidChange=="function"){const o=s.onDidChange(()=>i.schedule());this._localToDispose.add(o)}const i=new Hi(()=>{var s;const o=Date.now();(s=this._getCodeLensModelPromise)===null||s===void 0||s.cancel(),this._getCodeLensModelPromise=Ws(r=>zse(this._languageFeaturesService.codeLensProvider,e,r)),this._getCodeLensModelPromise.then(r=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=r,this._codeLensCache.put(e,r);const a=this._provideCodeLensDebounce.update(e,Date.now()-o);i.delay=a,this._renderCodeLensSymbols(r),this._resolveCodeLensesInViewportSoon()},Ot)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add(jt(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(s=>{this._editor.changeViewZones(o=>{const r=[];let a=-1;this._lenses.forEach(c=>{!c.isValid()||a===c.getLineNumber()?r.push(c):(c.update(o),a=c.getLineNumber())});const l=new dT;r.forEach(c=>{c.dispose(l,o),this._lenses.splice(this._lenses.indexOf(c),1)}),l.commit(s)})}),i.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(s=>{s.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(jt(()=>{if(this._editor.getModel()){const s=Ng.capture(this._editor);this._editor.changeDecorations(o=>{this._editor.changeViewZones(r=>{this._disposeAllLenses(o,r)})}),s.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(s=>{if(s.target.type!==9)return;let o=s.target.element;if((o==null?void 0:o.tagName)==="SPAN"&&(o=o.parentElement),(o==null?void 0:o.tagName)==="A")for(const r of this._lenses){const a=r.getCommand(o);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(e,t){const i=new dT;for(const s of this._lenses)s.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;const t=this._editor.getModel().getLineCount(),i=[];let s;for(const a of e.lenses){const l=a.symbol.range.startLineNumber;l<1||l>t||(s&&s[s.length-1].symbol.range.startLineNumber===l?s.push(a):(s=[a],i.push(s)))}const o=Ng.capture(this._editor),r=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(l=>{const c=new dT;let u=0,d=0;for(;d<i.length&&u<this._lenses.length;){const h=i[d][0].symbol.range.startLineNumber,f=this._lenses[u].getLineNumber();f<h?(this._lenses[u].dispose(c,l),this._lenses.splice(u,1)):f===h?(this._lenses[u].updateCodeLensSymbols(i[d],c),d++,u++):(this._lenses.splice(u,0,new pG(i[d],this._editor,this._styleClassName,c,l,r.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),u++,d++)}for(;u<this._lenses.length;)this._lenses[u].dispose(c,l),this._lenses.splice(u,1);for(;d<i.length;)this._lenses.push(new pG(i[d],this._editor,this._styleClassName,c,l,r.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++;c.commit(a)})}),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const i=[],s=[];if(this._lenses.forEach(a=>{const l=a.computeIfNecessary(t);l&&(i.push(l),s.push(a))}),i.length===0)return;const o=Date.now(),r=Ws(a=>{const l=i.map((c,u)=>{const d=new Array(c.length),h=c.map((f,p)=>!f.symbol.command&&typeof f.provider.resolveCodeLens=="function"?Promise.resolve(f.provider.resolveCodeLens(t,f.symbol,a)).then(m=>{d[p]=m},$s):(d[p]=f.symbol,Promise.resolve(void 0)));return Promise.all(h).then(()=>{!a.isCancellationRequested&&!s[u].isDisposed()&&s[u].updateCommands(d)})});return Promise.all(l)});this._resolveCodeLensesPromise=r,this._resolveCodeLensesPromise.then(()=>{const a=this._resolveCodeLensesDebounce.update(t,Date.now()-o);this._resolveCodeLensesScheduler.delay=a,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},a=>{Ot(a),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};Mv.ID="css.editor.codeLens";Mv=xyt([ub(1,st),ub(2,vl),ub(3,ss),ub(4,os),ub(5,Use)],Mv);mi(Mv.ID,Mv);Pe(class extends nt{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:z.hasCodeLensProvider,label:v("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return Dyt(this,void 0,void 0,function*(){if(!t.hasModel())return;const i=e.get(Gh),s=e.get(ss),o=e.get(os),r=t.getSelection().positionLineNumber,a=t.getContribution(Mv.ID);if(!a)return;const l=a.getModel();if(!l)return;const c=[];for(const d of l.lenses)d.symbol.command&&d.symbol.range.startLineNumber===r&&c.push({label:d.symbol.command.title,command:d.symbol.command});if(c.length===0)return;const u=yield i.pick(c,{canPickMany:!1});if(!!u){if(l.isDisposed)return yield s.executeCommand(this.id);try{yield s.executeCommand(u.command.id,...u.command.arguments||[])}catch(d){o.error(d)}}})}});function kyt(n,e,t){const i=[],o=n.ordered(e).reverse().map(r=>Promise.resolve(r.provideDocumentColors(e,t)).then(a=>{if(Array.isArray(a))for(const l of a)i.push({colorInfo:l,provider:r})}));return Promise.all(o).then(()=>i)}function mG(n,e,t,i){return Promise.resolve(t.provideColorPresentations(n,e,i))}pi.registerCommand("_executeDocumentColorProvider",function(n,...e){const[t]=e;if(!(t instanceof bt))throw Oc();const{colorProvider:i}=n.get(st),s=n.get(Nn).getModel(t);if(!s)throw Oc();const o=[],a=i.ordered(s).reverse().map(l=>Promise.resolve(l.provideDocumentColors(s,Yt.None)).then(c=>{if(Array.isArray(c))for(const u of c)o.push({range:u.range,color:[u.color.red,u.color.green,u.color.blue,u.color.alpha]})}));return Promise.all(a).then(()=>o)});pi.registerCommand("_executeColorPresentationProvider",function(n,...e){const[t,i]=e,{uri:s,range:o}=i;if(!(s instanceof bt)||!Array.isArray(t)||t.length!==4||!A.isIRange(o))throw Oc();const[r,a,l,c]=t,{colorProvider:u}=n.get(st),d=n.get(Nn).getModel(s);if(!d)throw Oc();const h={range:o,color:{red:r,green:a,blue:l,alpha:c}},f=[],m=u.ordered(d).reverse().map(b=>Promise.resolve(b.provideColorPresentations(d,h,Yt.None)).then(w=>{Array.isArray(w)&&f.push(...w)}));return Promise.all(m).then(()=>f)});var Eyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},hT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Iyt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const jse=Object.create({}),Tyt=500;let e_=class Kse extends de{constructor(e,t,i,s){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=i,this._localToDispose=this._register(new Ie),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new Fy(this._editor),this._colorDecorationClassRefs=this._register(new Ie),this._debounceInformation=s.for(i.colorProvider,"Document Colors",{min:Kse.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(i.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{const o=this._isEnabled;this._isEnabled=this.isEnabled(),o!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&typeof i=="object"){const s=i.colorDecorators;if(s&&s.enable!==void 0&&!s.enable)return s.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new La,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}beginCompute(){this._computePromise=Ws(e=>Iyt(this,void 0,void 0,function*(){const t=this._editor.getModel();if(!t)return Promise.resolve([]);const i=new yr(!1),s=yield kyt(this._languageFeaturesService.colorProvider,t,e);return this._debounceInformation.update(t,i.elapsed()),s})),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},Ot)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:Rt.EMPTY}));this._editor.changeDecorations(i=>{this._decorationsIds=i.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((s,o)=>this._colorDatas.set(s,e[o]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();const t=[];for(let i=0;i<e.length&&t.length<Tyt;i++){const{red:s,green:o,blue:r,alpha:a}=e[i].colorInfo.color,l=new ri(Math.round(s*255),Math.round(o*255),Math.round(r*255),a),c=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`,u=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:c}));t.push({range:{startLineNumber:e[i].colorInfo.range.startLineNumber,startColumn:e[i].colorInfo.range.startColumn,endLineNumber:e[i].colorInfo.range.endLineNumber,endColumn:e[i].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Mrt,inlineClassName:`${u.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:jse}}})}this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(A.fromPositions(e,e)).filter(s=>this._colorDatas.has(s.id));return i.length===0?null:this._colorDatas.get(i[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};e_.ID="editor.contrib.colorDetector";e_.RECOMPUTE_TIME=1e3;e_=Eyt([hT(1,Ci),hT(2,st),hT(3,vl)],e_);mi(e_.ID,e_);class Nyt{constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new J,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new J,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new J,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let i=0;i<this.colorPresentations.length;i++)if(t.toLowerCase()===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}const Nc=Ne;class Myt extends de{constructor(e,t,i){super(),this.model=t,this.domNode=Nc(".colorpicker-header"),Le(e,this.domNode),this.pickedColorNode=Le(this.domNode,Nc(".picked-color"));const s=v("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",s);const o=Le(this.domNode,Nc(".original-color"));o.style.backgroundColor=re.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor($m)||re.white,this._register(ln((r,a)=>{this.backgroundColor=r.getColor($m)||re.white})),this._register(xe(this.pickedColorNode,Qe.CLICK,()=>this.model.selectNextColorPresentation())),this._register(xe(o,Qe.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=re.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=re.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Nc(".codicon.codicon-color-mode"))}}class Ayt extends de{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this.domNode=Nc(".colorpicker-body"),Le(e,this.domNode),this.saturationBox=new Ryt(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new Oyt(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Pyt(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new re(new Fu(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new re(new Fu(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=(1-e)*360;this.model.color=new re(new Fu(i===360?0:i,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Ryt extends de{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new J,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new J,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Nc(".saturation-wrap"),Le(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",Le(this.domNode,this.canvas),this.selection=Nc(".saturation-selection"),Le(this.domNode,this.selection),this.layout(),this._register(xe(this.domNode,Qe.POINTER_DOWN,s=>this.onPointerDown(s))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this.monitor=this._register(new i2);const t=mo(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>this.onDidChangePosition(s.pageX-t.left,s.pageY-t.top),()=>null);const i=xe(document,Qe.POINTER_UP,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),s=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,s),this._onDidChange.fire({s:i,v:s})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new re(new Fu(e.h,1,1,1)),i=this.canvas.getContext("2d"),s=i.createLinearGradient(0,0,this.canvas.width,0);s.addColorStop(0,"rgba(255, 255, 255, 1)"),s.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),s.addColorStop(1,"rgba(255, 255, 255, 0)");const o=i.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=re.Format.CSS.format(t),i.fill(),i.fillStyle=s,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class qse extends de{constructor(e,t){super(),this.model=t,this._onDidChange=new J,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new J,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Le(e,Nc(".strip")),this.overlay=Le(this.domNode,Nc(".overlay")),this.slider=Le(this.domNode,Nc(".slider")),this.slider.style.top="0px",this._register(xe(this.domNode,Qe.POINTER_DOWN,i=>this.onPointerDown(i))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._register(new i2),i=mo(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,o=>this.onDidChangeTop(o.pageY-i.top),()=>null);const s=xe(document,Qe.POINTER_UP,()=>{this._onColorFlushed.fire(),s.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}}class Oyt extends qse{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:i,b:s}=e.rgba,o=new re(new ri(t,i,s,1)),r=new re(new ri(t,i,s,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${r} 100%)`}getValue(e){return e.hsva.a}}class Pyt extends qse{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class Fyt extends Jl{constructor(e,t,i,s){super(),this.model=t,this.pixelRatio=i,this._register(lv.onDidChange(()=>this.layout()));const o=Nc(".colorpicker-widget");e.appendChild(o);const r=new Myt(o,this.model,s);this.body=new Ayt(o,this.model,this.pixelRatio),this._register(r),this._register(this.body)}layout(){this.body.layout()}}var Byt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Vyt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},_G=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class Wyt{constructor(e,t,i,s){this.owner=e,this.range=t,this.model=i,this.provider=s,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let qA=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=1}computeSync(e,t){return[]}computeAsync(e,t,i){return ts.fromPromise(this._computeAsync(e,t,i))}_computeAsync(e,t,i){return _G(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const s=e_.get(this._editor);if(!s)return[];for(const o of t){if(!s.isColorDecoration(o))continue;const r=s.getColorData(o.range.getStartPosition());if(r)return[yield this._createColorHover(this._editor.getModel(),r.colorInfo,r.provider)]}return[]})}_createColorHover(e,t,i){return _G(this,void 0,void 0,function*(){const s=e.getValueInRange(t.range),{red:o,green:r,blue:a,alpha:l}=t.color,c=new ri(Math.round(o*255),Math.round(r*255),Math.round(a*255),l),u=new re(c),d=yield mG(e,t,i,Yt.None),h=new Nyt(u,[],0);return h.colorPresentations=d||[],h.guessColorPresentation(u,s),new Wyt(this,A.lift(t.range),h,i)})}renderHoverParts(e,t){if(t.length===0||!this._editor.hasModel())return de.None;const i=new Ie,s=t[0],o=this._editor.getModel(),r=s.model,a=i.add(new Fyt(e.fragment,r,this._editor.getOption(131),this._themeService));e.setColorPicker(a);let l=new A(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);const c=()=>{let d,h;if(r.presentation.textEdit){d=[r.presentation.textEdit],h=new A(r.presentation.textEdit.range.startLineNumber,r.presentation.textEdit.range.startColumn,r.presentation.textEdit.range.endLineNumber,r.presentation.textEdit.range.endColumn);const f=this._editor.getModel()._setTrackedRange(null,h,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",d),h=this._editor.getModel()._getTrackedRange(f)||h}else d=[{range:l,text:r.presentation.label,forceMoveMarkers:!1}],h=l.setEndPosition(l.endLineNumber,l.startColumn+r.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",d);r.presentation.additionalTextEdits&&(d=[...r.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",d),e.hide()),this._editor.pushUndoStop(),l=h},u=d=>mG(o,{range:l,color:{red:d.rgba.r/255,green:d.rgba.g/255,blue:d.rgba.b/255,alpha:d.rgba.a}},s.provider,Yt.None).then(h=>{r.colorPresentations=h||[]});return i.add(r.onColorFlushed(d=>{u(d).then(c)})),i.add(r.onDidChangeColor(u)),i}};qA=Byt([Vyt(1,Qi)],qA);function GA(n,e){return!!n[e]}class fT{constructor(e,t){this.target=e.target,this.hasTriggerModifier=GA(e.event,t.triggerModifier),this.hasSideBySideModifier=GA(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class vG{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=GA(e,t.triggerModifier)}}class v3{constructor(e,t,i,s){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=s}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function bG(n){return n==="altKey"?ai?new v3(57,"metaKey",6,"altKey"):new v3(5,"ctrlKey",6,"altKey"):ai?new v3(6,"altKey",57,"metaKey"):new v3(6,"altKey",5,"ctrlKey")}class _B extends de{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new J),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new J),this.onExecute=this._onExecute.event,this._onCancel=this._register(new J),this.onCancel=this._onCancel.event,this._editor=e,this._opts=bG(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(72)){const i=bG(this._editor.getOption(72));if(this._opts.equals(i))return;this._opts=i,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new fT(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new fT(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new fT(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new vG(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new vG(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var Hyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Rd=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let t_=class extends yv{constructor(e,t,i,s,o,r,a,l,c,u,d,h){super(e,Object.assign(Object.assign({},i.getRawOptions()),{overflowWidgetsDomNode:i.getOverflowWidgetsDomNode()}),{},s,o,r,a,l,c,u,d,h),this._parentEditor=i,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(i.onDidChangeConfiguration(f=>this._onParentConfigurationChanged(f)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){ld(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};t_=Hyt([Rd(3,Bt),Rd(4,Ei),Rd(5,ss),Rd(6,At),Rd(7,Qi),Rd(8,os),Rd(9,jh),Rd(10,Xn),Rd(11,st)],t_);const CG=new re(new ri(0,122,204)),$yt={showArrow:!0,showFrame:!0,className:"",frameColor:CG,arrowColor:CG,keepEditorSelection:!1},zyt="vs.editor.contrib.zoneWidget";class Uyt{constructor(e,t,i,s,o,r){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=s,this._onDomNodeTop=o,this._onComputedHeight=r}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class jyt{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class sD{constructor(e){this._editor=e,this._ruleName=sD._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),xj(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){xj(this._ruleName),sM(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:A.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}sD._IdGenerator=new NF(".arrow-decoration-");class Kyt{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new Ie,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=qd(t),ld(this.options,$yt,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{const s=this._getWidth(i);this.domNode.style.width=s+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(s)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new sD(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){const t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(!!e)return e.getStartPosition()}show(e,t){const i=A.isIRange(e)?A.lift(e):A.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:Rt.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const e=this.editor.getOption(61);let t=0;if(this.options.showArrow){const i=Math.round(e/3);t+=2*i}if(this.options.showFrame){const i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){const i=e.getStartPosition(),s=this.editor.getLayoutInfo(),o=this._getWidth(s);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(s)+"px";const r=document.createElement("div");r.style.overflow="hidden";const a=this.editor.getOption(61),l=Math.max(12,this.editor.getLayoutInfo().height/a*.8);t=Math.min(t,l);let c=0,u=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(a/3),this._arrow.height=c,this._arrow.show(i)),this.options.showFrame&&(u=Math.round(a/9)),this.editor.changeViewZones(f=>{this._viewZone&&f.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new Uyt(r,i.lineNumber,i.column,t,p=>this._onViewZoneTop(p),p=>this._onViewZoneHeight(p)),this._viewZone.id=f.addZone(this._viewZone),this._overlayWidget=new jyt(zyt+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const f=this.options.frameWidth?this.options.frameWidth:u;this.container.style.borderTopWidth=f+"px",this.container.style.borderBottomWidth=f+"px"}const d=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,o),this.options.keepEditorSelection||this.editor.setSelection(e);const h=this.editor.getModel();if(h){const f=e.endLineNumber+1;f<=h.getLineCount()?this.revealLine(f,!1):this.revealLine(h.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new fo(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){const i=(t.currentY-e.startY)/this.editor.getOption(61),s=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+s;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}class qyt extends hv{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new J),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Le(e,Ne(".monaco-dropdown")),this._label=Le(this._element,Ne(".dropdown-label"));let i=t.labelRenderer;i||(i=o=>(o.textContent=t.label||"",null));for(const o of[Qe.CLICK,Qe.MOUSE_DOWN,rn.Tap])this._register(xe(this.element,o,r=>Oi.stop(r,!0)));for(const o of[Qe.MOUSE_DOWN,rn.Tap])this._register(xe(this._label,o,r=>{r instanceof MouseEvent&&(r.detail>1||r.button!==0)||(this.visible?this.hide():this.show())}));this._register(xe(this._label,Qe.KEY_UP,o=>{const r=new gn(o);(r.equals(3)||r.equals(10))&&(Oi.stop(o,!0),this.visible?this.hide():this.show())}));const s=i(this._label);s&&this._register(s),this._register(Fi.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class Gyt extends qyt{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class Gse extends Du{constructor(e,t,i,s=Object.create(null)){super(null,e,s),this.actionItem=null,this._onDidChangeVisibility=this._register(new J),this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=o=>{this.element=Le(o,Ne("a.action-label"));let r=[];return typeof this.options.classNames=="string"?r=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(r=this.options.classNames),r.find(a=>a==="icon")||r.push("codicon"),this.element.classList.add(...r),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new Gyt(e,s)),this._register(this.dropdownMenu.onDidChangeVisibility(o=>{var r;(r=this.element)===null||r===void 0||r.setAttribute("aria-expanded",`${o}`),this._onDidChangeVisibility.fire(o)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const o=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return o.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.getAction().tooltip?e=this.getAction().tooltip:this.getAction().label&&(e=this.getAction().label),e!=null?e:void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const i=!this.getAction().enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",i),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",i)}}var vB=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},$a=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Yse=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function Yyt(n,e,t,i,s,o,r){const a=n.getActions(e);return Xyt(a,t,!1,typeof i=="string"?c=>c===i:i,s,o,r),Zyt(a)}function Zyt(n){const e=new Ie;for(const[,t]of n)for(const i of t)e.add(i);return e}function Xyt(n,e,t,i=a=>a==="navigation",s=Number.MAX_SAFE_INTEGER,o=()=>!1,r=!1){let a,l;Array.isArray(e)?(a=e,l=e):(a=e.primary,l=e.secondary);const c=new Set;for(const[u,d]of n){let h;i(u)?(h=a,h.length>0&&r&&h.push(new Co)):(h=l,h.length>0&&h.push(new Co));for(let f of d){t&&(f=f instanceof kg&&f.alt?f.alt:f);const p=h.push(f);f instanceof fw&&c.add({group:u,action:f,index:p-1})}}for(const{group:u,action:d,index:h}of c){const f=i(u)?a:l,p=d.actions;(p.length<=1||f.length+p.length-2<=s)&&o(d,u,f.length)&&f.splice(h,1,...p)}if(a!==l&&a.length>s){const u=a.splice(s,a.length-s);l.unshift(...u,new Co)}}let Av=class extends Tw{constructor(e,t,i,s,o,r,a){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable,keybinding:t==null?void 0:t.keybinding,hoverDelegate:t==null?void 0:t.hoverDelegate}),this._keybindingService=i,this._notificationService=s,this._contextKeyService=o,this._themeService=r,this._contextMenuService=a,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Bo),this._altKey=jf.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return Yse(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(oo||So)&&this._altKey.keyStatus.shiftKey;const s=()=>{var o;const r=t&&i&&!!(!((o=this._commandAction.alt)===null||o===void 0)&&o.enabled);r!==this._wantsAltCommand&&(this._wantsAltCommand=r,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(o=>{i=o.altKey||(oo||So)&&o.shiftKey,s()})),this._register(xe(e,"mouseleave",o=>{t=!1,s()})),this._register(xe(e,"mouseenter",o=>{t=!0,s()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),i=t&&t.getLabel(),s=this._commandAction.tooltip||this._commandAction.label;let o=i?v("titleAndKb","{0} ({1})",s,i):s;if(!this._wantsAltCommand&&((e=this._menuItemAction.alt)===null||e===void 0?void 0:e.enabled)){const r=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,a=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),l=a&&a.getLabel(),c=l?v("titleAndKb","{0} ({1})",r,l):r;o=v("titleAndKbAndAlt",`{0}
[{1}] {2}`,o,SF.modifierLabels[Ka].altKey,c)}return o}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:i,label:s}=this;if(!i||!s)return;const o=this._commandAction.checked&&((t=e.toggled)===null||t===void 0?void 0:t.icon)?e.toggled.icon:e.icon;if(!!o)if(Li.isThemeIcon(o)){const r=Li.asClassNameArray(o);s.classList.add(...r),this._itemClassDispose.value=jt(()=>{s.classList.remove(...r)})}else s.style.backgroundImage=gw(this._themeService.getColorTheme().type)?Wm(o.dark):Wm(o.light),s.classList.add("icon"),this._itemClassDispose.value=$u(jt(()=>{s.style.backgroundImage="",s.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};Av=vB([$a(2,Ms),$a(3,os),$a(4,At),$a(5,Qi),$a(6,Kh)],Av);let YA=class extends Gse{constructor(e,t,i,s){var o,r;const a=Object.assign({},t!=null?t:Object.create(null),{menuAsChild:(o=t==null?void 0:t.menuAsChild)!==null&&o!==void 0?o:!1,classNames:(r=t==null?void 0:t.classNames)!==null&&r!==void 0?r:Li.isThemeIcon(e.item.icon)?Li.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},i,a),this._contextMenuService=i,this._themeService=s}render(e){super.render(e),Vi(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!Li.isThemeIcon(i)){this.element.classList.add("icon");const s=()=>{this.element&&(this.element.style.backgroundImage=gw(this._themeService.getColorTheme().type)?Wm(i.dark):Wm(i.light))};s(),this._register(this._themeService.onDidColorThemeChange(()=>{s()}))}}};YA=vB([$a(2,Kh),$a(3,Qi)],YA);let ZA=class extends Du{constructor(e,t,i,s,o,r,a,l){var c,u,d;super(null,e),this._keybindingService=i,this._notificationService=s,this._contextMenuService=o,this._menuService=r,this._instaService=a,this._storageService=l,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;let h;const f=l.get(this._storageKey,1);f&&(h=e.actions.find(m=>f===m.id)),h||(h=e.actions[0]),this._defaultAction=this._instaService.createInstance(Av,h,{keybinding:this._getDefaultActionKeybindingLabel(h)});const p=Object.assign({},t!=null?t:Object.create(null),{menuAsChild:(c=t==null?void 0:t.menuAsChild)!==null&&c!==void 0?c:!0,classNames:(u=t==null?void 0:t.classNames)!==null&&u!==void 0?u:["codicon","codicon-chevron-down"],actionRunner:(d=t==null?void 0:t.actionRunner)!==null&&d!==void 0?d:new hv});this._dropdown=new Gse(e,e.actions,this._contextMenuService,p),this._dropdown.actionRunner.onDidRun(m=>{m.action instanceof kg&&this.update(m.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Av,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends hv{runAction(t,i){return Yse(this,void 0,void 0,function*(){yield t.run(void 0)})}},this._container&&this._defaultAction.render(jct(this._container,Ne(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let i;if(!((t=this._options)===null||t===void 0)&&t.renderKeybindingWithDefaultActionLabel){const s=this._keybindingService.lookupKeybinding(e.id);s&&(i=`(${s.getLabel()})`)}return i}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=Ne(".action-container");this._defaultAction.render(Le(this._container,t)),this._register(xe(t,Qe.KEY_DOWN,s=>{const o=new gn(s);o.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),o.stopPropagation())}));const i=Ne(".dropdown-action-container");this._dropdown.render(Le(this._container,i)),this._register(xe(i,Qe.KEY_DOWN,s=>{var o;const r=new gn(s);r.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(o=this._defaultAction.element)===null||o===void 0||o.focus(),r.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};ZA=vB([$a(2,Ms),$a(3,os),$a(4,Kh),$a(5,k_),$a(6,Bt),$a(7,tc)],ZA);function Qyt(n,e,t){return e instanceof kg?n.createInstance(Av,e,t):e instanceof yP?e.item.rememberDefaultAction?n.createInstance(ZA,e,t):n.createInstance(YA,e,t):void 0}var Zse=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Xse=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const Qse=ui("IPeekViewService");gi(Qse,class{constructor(){this._widgets=new Map}addExclusiveWidget(n,e){const t=this._widgets.get(n);t&&(t.listener.dispose(),t.widget.dispose());const i=()=>{const s=this._widgets.get(n);s&&s.widget===e&&(s.listener.dispose(),this._widgets.delete(n))};this._widgets.set(n,{widget:e,listener:e.onDidClose(i)})}});var Sr;(function(n){n.inPeekEditor=new et("inReferenceSearchEditor",!0,v("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),n.notInPeekEditor=n.inPeekEditor.toNegated()})(Sr||(Sr={}));let Gw=class{constructor(e,t){e instanceof t_&&Sr.inPeekEditor.bindTo(t)}dispose(){}};Gw.ID="editor.contrib.referenceController";Gw=Zse([Xse(1,At)],Gw);mi(Gw.ID,Gw);function Jyt(n){const e=n.get(Ei).getFocusedCodeEditor();return e instanceof t_?e.getParentEditor():e}const e4t={headerBackgroundColor:re.white,primaryHeadingColor:re.fromHex("#333333"),secondaryHeadingColor:re.fromHex("#6c6c6cb3")};let kL=class extends Kyt{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new J,this.onDidClose=this._onDidClose.event,ld(this.options,e4t,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){const t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();const e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=Ne(".head"),this._bodyElement=Ne(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const i=Ne(".peekview-title");this.options.supportOnTitleClick&&(i.classList.add("clickable"),Ns(i,"click",r=>this._onTitleClick(r))),Le(this._headElement,i),this._fillTitleIcon(i),this._primaryHeading=Ne("span.filename"),this._secondaryHeading=Ne("span.dirname"),this._metaHeading=Ne("span.meta"),Le(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);const s=Ne(".peekview-actions");Le(this._headElement,s);const o=this._getActionBarOptions();this._actionbarWidget=new nd(s,o),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new $r("peekview.close",v("label.close","Close"),C.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:Qyt.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:xs(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,da(this._metaHeading)):cr(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}const i=Math.ceil(this.editor.getOption(61)*1.2),s=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(s,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};kL=Zse([Xse(2,Bt)],kL);const t4t=U("peekViewTitle.background",{dark:ut(mr,.1),light:ut(mr,.1),hcDark:null,hcLight:null},v("peekViewTitleBackground","Background color of the peek view title area.")),Jse=U("peekViewTitleLabel.foreground",{dark:re.white,light:re.black,hcDark:re.white,hcLight:fa},v("peekViewTitleForeground","Color of the peek view title.")),eoe=U("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},v("peekViewTitleInfoForeground","Color of the peek view title info.")),i4t=U("peekView.border",{dark:mr,light:mr,hcDark:Kt,hcLight:Kt},v("peekViewBorder","Color of the peek view borders and arrow.")),n4t=U("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:re.black,hcLight:re.white},v("peekViewResultsBackground","Background color of the peek view result list."));U("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:re.white,hcLight:fa},v("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list."));U("peekViewResult.fileForeground",{dark:re.white,light:"#1E1E1E",hcDark:re.white,hcLight:fa},v("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list."));U("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},v("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list."));U("peekViewResult.selectionForeground",{dark:re.white,light:"#6C6C6C",hcDark:re.white,hcLight:fa},v("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list."));const b3=U("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:re.black,hcLight:re.white},v("peekViewEditorBackground","Background color of the peek view editor."));U("peekViewEditorGutter.background",{dark:b3,light:b3,hcDark:b3,hcLight:b3},v("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor."));U("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},v("peekViewResultsMatchHighlight","Match highlight color in the peek view result list."));U("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},v("peekViewEditorMatchHighlight","Match highlight color in the peek view editor."));U("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:mn,hcLight:mn},v("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var s4t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class Og{constructor(e,t,i,s){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=s,this.id=gne.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?v({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",hl(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):v("aria.oneReference","symbol in {0} on line {1} at column {2}",hl(this.uri),this.range.startLineNumber,this.range.startColumn)}}class o4t{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:s,startColumn:o,endLineNumber:r,endColumn:a}=e,l=i.getWordUntilPosition({lineNumber:s,column:o-t}),c=new A(s,l.startColumn,s,o),u=new A(r,a,r,1073741824),d=i.getValueInRange(c).replace(/^\s+/,""),h=i.getValueInRange(e),f=i.getValueInRange(u).replace(/\s+$/,"");return{value:d+h+f,highlight:{start:d.length,end:d.length+h.length}}}}class Yw{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new Fo}dispose(){vi(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?v("aria.fileReferences.1","1 symbol in {0}, full path {1}",hl(this.uri),this.uri.fsPath):v("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,hl(this.uri),this.uri.fsPath)}resolve(e){return s4t(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const t of this.children)if(!this._previews.has(t.uri))try{const i=yield e.createModelReference(t.uri);this._previews.set(t.uri,new o4t(i))}catch(i){Ot(i)}return this})}}class zr{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new J,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;e.sort(zr._compareReferences);let s;for(const o of e)if((!s||!an.isEqual(s.uri,o.uri,!0))&&(s=new Yw(this,o.uri),this.groups.push(s)),s.children.length===0||zr._compareReferences(o,s.children[s.children.length-1])!==0){const r=new Og(i===o,s,o,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(r),s.children.push(r)}}dispose(){vi(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new zr(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?v("aria.result.0","No results found"):this.references.length===1?v("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?v("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):v("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){const{parent:i}=e;let s=i.children.indexOf(e);const o=i.children.length,r=i.parent.groups.length;return r===1||t&&s+1<o||!t&&s>0?(t?s=(s+1)%o:s=(s+o-1)%o,i.children[s]):(s=i.parent.groups.indexOf(i),t?(s=(s+1)%r,i.parent.groups[s].children[0]):(s=(s+r-1)%r,i.parent.groups[s].children[i.parent.groups[s].children.length-1]))}nearestReference(e,t){const i=this.references.map((s,o)=>({idx:o,prefixLen:Rm(s.uri.toString(),e.toString()),offsetDist:Math.abs(s.range.startLineNumber-t.lineNumber)*100+Math.abs(s.range.startColumn-t.column)})).sort((s,o)=>s.prefixLen>o.prefixLen?-1:s.prefixLen<o.prefixLen?1:s.offsetDist<o.offsetDist?-1:s.offsetDist>o.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&A.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return an.compare(e.uri,t.uri)||A.compareRangesUsingStarts(e.range,t.range)}}var oD=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Zw=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let XA=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof zr||e instanceof Yw}getChildren(e){if(e instanceof zr)return e.groups;if(e instanceof Yw)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};XA=oD([Zw(0,Lr)],XA);class r4t{getHeight(){return 23}getTemplateId(e){return e instanceof Yw?Xw.id:s4.id}}let QA=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof Og){const i=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(i)return i.value}return hl(e.uri)}};QA=oD([Zw(0,Ms)],QA);class a4t{getId(e){return e instanceof Og?e.id:e.uri}}let JA=class extends de{constructor(e,t,i){super(),this._labelService=t;const s=document.createElement("div");s.classList.add("reference-file"),this.file=this._register(new pL(s,{supportHighlights:!0})),this.badge=new oA(Le(s,Ne(".count"))),this._register(G0t(this.badge,i)),e.appendChild(s)}set(e,t){const i=x5(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});const s=e.children.length;this.badge.setCount(s),s>1?this.badge.setTitleFormat(v("referencesCount","{0} references",s)):this.badge.setTitleFormat(v("referenceCount","{0} reference",s))}};JA=oD([Zw(1,xv),Zw(2,Qi)],JA);let Xw=class toe{constructor(e){this._instantiationService=e,this.templateId=toe.id}renderTemplate(e){return this._instantiationService.createInstance(JA,e)}renderElement(e,t,i){i.set(e.element,T5(e.filterData))}disposeTemplate(e){e.dispose()}};Xw.id="FileReferencesRenderer";Xw=oD([Zw(0,Bt)],Xw);class l4t{constructor(e){this.label=new Gm(e)}set(e,t){var i;const s=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(!s||!s.value)this.label.set(`${hl(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{const{value:o,highlight:r}=s;t&&!Fc.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,T5(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[r]))}}}class s4{constructor(){this.templateId=s4.id}renderTemplate(e){return new l4t(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}s4.id="OneReferenceRenderer";class c4t{getWidgetAriaLabel(){return v("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var u4t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Od=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},wG=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class rD{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Ie,this._callOnModelChange=new Ie,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(!!e){for(const t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],i=[];for(let s=0,o=e.children.length;s<o;s++){const r=e.children[s];this._decorationIgnoreSet.has(r.id)||r.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:r.range,options:rD.DecorationOptions}),i.push(s))}this._editor.changeDecorations(s=>{const o=s.deltaDecorations([],t);for(let r=0;r<o.length;r++)this._decorations.set(o[r],e.children[i[r]])})}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(!!t){for(const[i,s]of this._decorations){const o=t.getDecorationRange(i);if(!o)continue;let r=!1;if(!A.equalsRange(o,s.range)){if(A.spansMultipleLines(o))r=!0;else{const a=s.range.endColumn-s.range.startColumn,l=o.endColumn-o.startColumn;a!==l&&(r=!0)}r?(this._decorationIgnoreSet.add(s.id),e.push(i)):s.range=o}}for(let i=0,s=e.length;i<s;i++)this._decorations.delete(e[i]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}rD.DecorationOptions=Rt.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class d4t{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const s=JSON.parse(e);t=s.ratio,i=s.heightInLines}catch{}return{ratio:t||.7,heightInLines:i||18}}}class h4t extends _A{}let e7=class extends kL{constructor(e,t,i,s,o,r,a,l,c,u,d,h){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},r),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=r,this._peekViewService=a,this._uriLabel=l,this._undoRedoService=c,this._keybindingService=u,this._languageService=d,this._languageConfigurationService=h,this._disposeOnNewModel=new Ie,this._callOnDispose=new Ie,this._onDidSelectReference=new J,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new Zi(0,0),this._applyTheme(s.getColorTheme()),this._callOnDispose.add(s.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),vi(this._preview),vi(this._previewNotAvailableMessage),vi(this._tree),vi(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(i4t)||re.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(t4t)||re.transparent,primaryHeadingColor:e.getColor(Jse),secondaryHeadingColor:e.getColor(eoe)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=Le(e,Ne("div.messages")),cr(this._messageContainer),this._splitView=new kne(e,{orientation:1}),this._previewContainer=Le(e,Ne("div.preview.inline"));const t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(t_,this._previewContainer,t,this.editor),cr(this._previewContainer),this._previewNotAvailableMessage=new Ph(v("missingPreviewMessage","no preview available"),ol,Ph.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=Le(e,Ne("div.ref-tree.inline"));const i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new c4t,keyboardNavigationLabelProvider:this._instantiationService.createInstance(QA),identityProvider:new a4t,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:n4t}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(Ns(this._treeContainer,"keydown",o=>{o.equals(9)&&(this._keybindingService.dispatchEvent(o,o.target),o.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(h4t,"ReferencesWidget",this._treeContainer,new r4t,[this._instantiationService.createInstance(Xw),this._instantiationService.createInstance(s4)],this._instantiationService.createInstance(XA),i),this._splitView.addView({onDidChange:ct.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:o=>{this._preview.layout({height:this._dim.height,width:o})}},_L.Distribute),this._splitView.addView({onDidChange:ct.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:o=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${o}px`,this._tree.layout(this._dim.height,o)}},_L.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const s=(o,r)=>{o instanceof Og&&(r==="show"&&this._revealReference(o,!1),this._onDidSelectReference.fire({element:o,kind:r,source:"tree"}))};this._tree.onDidOpen(o=>{o.sideBySide?s(o.element,"side"):o.editorOptions.pinned?s(o.element,"goto"):s(o.element,"show")}),cr(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new Zi(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{!this._model||(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=v("noResults","No results"),da(this._messageContainer),Promise.resolve(void 0)):(cr(this._messageContainer),this._decorationsManager=new rD(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:i}=e;if(t.detail!==2)return;const s=this._getFocusedReference();!s||this._onDidSelectReference.fire({element:{uri:s.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),da(this._treeContainer),da(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();if(e instanceof Og)return e;if(e instanceof Yw&&e.children.length>0)return e.children[0]}revealReference(e){return wG(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return wG(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==Vt.inMemory?this.setTitle(bpt(e.uri),this._uriLabel.getUriLabel(x5(e.uri))):this.setTitle(v("peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent),this._tree.reveal(e));const s=yield i;if(!this._model){s.dispose();return}vi(this._previewModelReference);const o=s.object;if(o){const r=this._preview.getModel()===o.textEditorModel?0:1,a=A.lift(e.range).collapseToStart();this._previewModelReference=s,this._preview.setModel(o.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,r)}else this._preview.setModel(this._previewNotAvailableMessage),s.dispose()})}};e7=u4t([Od(3,Qi),Od(4,Lr),Od(5,Bt),Od(6,Qse),Od(7,xv),Od(8,D5),Od(9,Ms),Od(10,In),Od(11,Xn)],e7);var f4t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},w0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},yG=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const F_=new et("referenceSearchVisible",!1,v("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Pg=class t7{constructor(e,t,i,s,o,r,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=s,this._notificationService=o,this._instantiationService=r,this._storageService=a,this._configurationService=l,this._disposables=new Ie,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=F_.bindTo(i)}static get(e){return e.getContribution(t7.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let s;if(this._widget&&(s=this._widget.position),this.closeWidget(),!!s&&e.containsPosition(s))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const o="peekViewLayout",r=d4t.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(e7,this._editor,this._defaultTreeKeyboardSupport,r),this._widget.setTitle(v("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(l=>{const{element:c,kind:u}=l;if(!!c)switch(u){case"open":(l.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(c,!1,!1);break;case"side":this.openReference(c,!0,!1);break;case"goto":i?this._gotoReference(c):this.openReference(c,!1,!0);break}}));const a=++this._requestIdPool;t.then(l=>{var c;if(a!==this._requestIdPool||!this._widget){l.dispose();return}return(c=this._model)===null||c===void 0||c.dispose(),this._model=l,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(v("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const u=this._editor.getModel().uri,d=new oe(e.startLineNumber,e.startColumn),h=this._model.nearestReference(u,d);if(h)return this._widget.setSelection(h).then(()=>{this._widget&&this._editor.getOption(79)==="editor"&&this._widget.focusOnPreviewEditor()})}})},l=>{this._notificationService.error(l)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return yG(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const s=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),r=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(s),yield this._gotoReference(s),o?this._editor.focus():this._widget&&r&&this._widget.focusOnPreviewEditor()})}revealReference(e){return yG(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,i;(t=this._widget)===null||t===void 0||t.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const t=A.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:t,selectionSource:"code.jump"}},this._editor).then(i=>{var s;if(this._ignoreModelChangeEvent=!1,!i||!this._widget){this.closeWidget();return}if(this._editor===i)this._widget.show(t),this._widget.focusOnReferenceTree();else{const o=t7.get(i),r=this._model.clone();this.closeWidget(),i.focus(),o==null||o.toggleWidget(t,Ws(a=>Promise.resolve(r)),(s=this._peekMode)!==null&&s!==void 0?s:!1)}},i=>{this._ignoreModelChangeEvent=!1,Ot(i)})}openReference(e,t,i){t||this.closeWidget();const{uri:s,range:o}=e;this._editorService.openCodeEditor({resource:s,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor,t)}};Pg.ID="editor.contrib.referencesController";Pg=f4t([w0(2,At),w0(3,Ei),w0(4,os),w0(5,Bt),w0(6,tc),w0(7,Ci)],Pg);function B_(n,e){const t=Jyt(n);if(!t)return;const i=Pg.get(t);i&&e(i)}qr.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:ks(2089,60),when:Xe.or(F_,Sr.inPeekEditor),handler(n){B_(n,e=>{e.changeFocusBetweenPreviewAndReferences()})}});qr.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:Xe.or(F_,Sr.inPeekEditor),handler(n){B_(n,e=>{e.goToNextOrPreviousReference(!0)})}});qr.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:Xe.or(F_,Sr.inPeekEditor),handler(n){B_(n,e=>{e.goToNextOrPreviousReference(!1)})}});pi.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");pi.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");pi.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");pi.registerCommand("closeReferenceSearch",n=>B_(n,e=>e.closeWidget()));qr.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:Xe.and(Sr.inPeekEditor,Xe.not("config.editor.stablePeek"))});qr.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:Xe.and(F_,Xe.not("config.editor.stablePeek"))});qr.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Xe.and(F_,Vne,KF.negate(),qF.negate()),handler(n){var e;const i=(e=n.get(bl).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Og&&B_(n,s=>s.revealReference(i[0]))}});qr.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Xe.and(F_,Vne,KF.negate(),qF.negate()),handler(n){var e;const i=(e=n.get(bl).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Og&&B_(n,s=>s.openReference(i[0],!0,!0))}});pi.registerCommand("openReference",n=>{var e;const i=(e=n.get(bl).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Og&&B_(n,s=>s.openReference(i[0],!1,!0))});var ioe=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Wb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const bB=new et("hasSymbols",!1,v("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),aD=ui("ISymbolNavigationService");let i7=class{constructor(e,t,i,s){this._editorService=t,this._notificationService=i,this._keybindingService=s,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=bB.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new n7(this._editorService),s=i.onDidChange(o=>{if(this._ignoreEditorChange)return;const r=this._editorService.getActiveCodeEditor();if(!r)return;const a=r.getModel(),l=r.getPosition();if(!a||!l)return;let c=!1,u=!1;for(const d of t.references)if(hie(d.uri,a.uri))c=!0,u=u||A.containsPosition(d.range,l);else if(c)break;(!c||!u)&&this.reset()});this._currentState=$u(i,s)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:A.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?v("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):v("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};i7=ioe([Wb(0,At),Wb(1,Ei),Wb(2,os),Wb(3,Ms)],i7);gi(aD,i7,!0);Ae(new class extends Ys{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:bB,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,e){return n.get(aD).revealNext(e)}});qr.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:bB,primary:9,handler(n){n.get(aD).reset()}});let n7=class{constructor(e){this._listener=new Map,this._disposables=new Ie,this._onDidChange=new J,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),vi(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,$u(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};n7=ioe([Wb(0,Ei)],n7);var noe=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function o4(n,e,t,i){const o=t.ordered(n).map(r=>Promise.resolve(i(r,n,e)).then(void 0,a=>{$s(a)}));return Promise.all(o).then(r=>{const a=[];for(const l of r)Array.isArray(l)?a.push(...l):l&&a.push(l);return a})}function CB(n,e,t,i){return o4(e,t,n,(s,o,r)=>s.provideDefinition(o,r,i))}function soe(n,e,t,i){return o4(e,t,n,(s,o,r)=>s.provideDeclaration(o,r,i))}function ooe(n,e,t,i){return o4(e,t,n,(s,o,r)=>s.provideImplementation(o,r,i))}function roe(n,e,t,i){return o4(e,t,n,(s,o,r)=>s.provideTypeDefinition(o,r,i))}function lD(n,e,t,i,s){return o4(e,t,n,(o,r,a)=>noe(this,void 0,void 0,function*(){const l=yield o.provideReferences(r,a,{includeDeclaration:!0},s);if(!i||!l||l.length!==2)return l;const c=yield o.provideReferences(r,a,{includeDeclaration:!1},s);return c&&c.length===1?c:l}))}function r4(n){return noe(this,void 0,void 0,function*(){const e=yield n(),t=new zr(e,""),i=t.references.map(s=>s.link);return t.dispose(),i})}dd("_executeDefinitionProvider",(n,e,t)=>{const i=n.get(st),s=CB(i.definitionProvider,e,t,Yt.None);return r4(()=>s)});dd("_executeTypeDefinitionProvider",(n,e,t)=>{const i=n.get(st),s=roe(i.typeDefinitionProvider,e,t,Yt.None);return r4(()=>s)});dd("_executeDeclarationProvider",(n,e,t)=>{const i=n.get(st),s=soe(i.declarationProvider,e,t,Yt.None);return r4(()=>s)});dd("_executeReferenceProvider",(n,e,t)=>{const i=n.get(st),s=lD(i.referenceProvider,e,t,!1,Yt.None);return r4(()=>s)});dd("_executeImplementationProvider",(n,e,t)=>{const i=n.get(st),s=ooe(i.implementationProvider,e,t,Yt.None);return r4(()=>s)});var Kl=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},gT,pT,mT,_T,vT,bT,CT,wT;jl.appendMenuItem(Y.EditorContext,{submenu:Y.EditorContextPeek,title:v("peek.submenu","Peek"),group:"navigation",order:100});const aoe=new Set;function tu(n){const e=new n;return pte(e),aoe.add(e.id),e}class Qw{constructor(e,t){this.model=e,this.position=t}static is(e){return!e||typeof e!="object"?!1:!!(e instanceof Qw||oe.isIPosition(e.position)&&e.model)}}class ql extends nt{constructor(e,t){super(t),this.configuration=e}run(e,t,i){if(!t.hasModel())return Promise.resolve(void 0);const s=e.get(os),o=e.get(Ei),r=e.get(Yg),a=e.get(aD),l=e.get(st),c=t.getModel(),u=t.getPosition(),d=Qw.is(i)?i:new Qw(c,u),h=new Xm(t,5),f=aP(this._getLocationModel(l,d.model,d.position,h.token),h.token).then(p=>Kl(this,void 0,void 0,function*(){var m;if(!p||h.token.isCancellationRequested)return;no(p.ariaMessage);let b;if(p.referenceAt(c.uri,u)){const y=this._getAlternativeCommand(t);!ql._activeAlternativeCommands.has(y)&&aoe.has(y)&&(b=t.getAction(y))}const w=p.references.length;if(w===0){if(!this.configuration.muteMessage){const y=c.getWordAtPosition(u);(m=jr.get(t))===null||m===void 0||m.showMessage(this._getNoResultFoundMessage(y),u)}}else if(w===1&&b)ql._activeAlternativeCommands.add(this.id),b.run().finally(()=>{ql._activeAlternativeCommands.delete(this.id)});else return this._onResult(o,a,t,p)}),p=>{s.error(p)}).finally(()=>{h.dispose()});return r.showWhile(f,250),f}_onResult(e,t,i,s){return Kl(this,void 0,void 0,function*(){const o=this._getGoToPreference(i);if(!(i instanceof t_)&&(this.configuration.openInPeek||o==="peek"&&s.references.length>1))this._openInPeek(i,s);else{const r=s.firstReference(),a=s.references.length>1&&o==="gotoAndPeek",l=yield this._openReference(i,e,r,this.configuration.openToSide,!a);a&&l?this._openInPeek(l,s):s.dispose(),o==="goto"&&t.put(r)}})}_openReference(e,t,i,s,o){return Kl(this,void 0,void 0,function*(){let r;if(prt(i)&&(r=i.targetSelectionRange),r||(r=i.range),!r)return;const a=yield t.openCodeEditor({resource:i.uri,options:{selection:A.collapseToStart(r),selectionRevealType:3,selectionSource:"code.jump"}},e,s);if(!!a){if(o){const l=a.getModel(),c=a.createDecorationsCollection([{range:r,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===l&&c.clear()},350)}return a}})}_openInPeek(e,t){const i=Pg.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),Ws(s=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}ql._activeAlternativeCommands=new Set;class a4 extends ql{_getLocationModel(e,t,i,s){return Kl(this,void 0,void 0,function*(){return new zr(yield CB(e.definitionProvider,t,i,s),v("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?v("noResultWord","No definition found for '{0}'",e.word):v("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(53).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(53).multipleDefinitions}}const loe=jg&&!iP()?2118:70;tu((gT=class s7 extends a4{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:s7.id,label:v("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Xe.and(z.hasDefinitionProvider,z.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:z.editorTextFocus,primary:loe,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),pi.registerCommandAlias("editor.action.goToDeclaration",s7.id)}},gT.id="editor.action.revealDefinition",gT));tu((pT=class o7 extends a4{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:o7.id,label:v("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Xe.and(z.hasDefinitionProvider,z.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,loe),weight:100}}),pi.registerCommandAlias("editor.action.openDeclarationToTheSide",o7.id)}},pT.id="editor.action.revealDefinitionAside",pT));tu((mT=class r7 extends a4{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:r7.id,label:v("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Xe.and(z.hasDefinitionProvider,Sr.notInPeekEditor,z.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:z.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Y.EditorContextPeek,group:"peek",order:2}}),pi.registerCommandAlias("editor.action.previewDeclaration",r7.id)}},mT.id="editor.action.peekDefinition",mT));class coe extends ql{_getLocationModel(e,t,i,s){return Kl(this,void 0,void 0,function*(){return new zr(yield soe(e.declarationProvider,t,i,s),v("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?v("decl.noResultWord","No declaration found for '{0}'",e.word):v("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(53).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(53).multipleDeclarations}}tu((_T=class uoe extends coe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:uoe.id,label:v("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Xe.and(z.hasDeclarationProvider,z.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?v("decl.noResultWord","No declaration found for '{0}'",e.word):v("decl.generic.noResults","No declaration found")}},_T.id="editor.action.revealDeclaration",_T));tu(class extends coe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:v("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Xe.and(z.hasDeclarationProvider,Sr.notInPeekEditor,z.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Y.EditorContextPeek,group:"peek",order:3}})}});class doe extends ql{_getLocationModel(e,t,i,s){return Kl(this,void 0,void 0,function*(){return new zr(yield roe(e.typeDefinitionProvider,t,i,s),v("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?v("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):v("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(53).multipleTypeDefinitions}}tu((vT=class hoe extends doe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:hoe.ID,label:v("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Xe.and(z.hasTypeDefinitionProvider,z.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:z.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},vT.ID="editor.action.goToTypeDefinition",vT));tu((bT=class foe extends doe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:foe.ID,label:v("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Xe.and(z.hasTypeDefinitionProvider,Sr.notInPeekEditor,z.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Y.EditorContextPeek,group:"peek",order:4}})}},bT.ID="editor.action.peekTypeDefinition",bT));class goe extends ql{_getLocationModel(e,t,i,s){return Kl(this,void 0,void 0,function*(){return new zr(yield ooe(e.implementationProvider,t,i,s),v("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?v("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):v("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(53).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(53).multipleImplementations}}tu((CT=class poe extends goe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:poe.ID,label:v("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Xe.and(z.hasImplementationProvider,z.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:z.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},CT.ID="editor.action.goToImplementation",CT));tu((wT=class moe extends goe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:moe.ID,label:v("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Xe.and(z.hasImplementationProvider,Sr.notInPeekEditor,z.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:z.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Y.EditorContextPeek,group:"peek",order:5}})}},wT.ID="editor.action.peekImplementation",wT));class _oe extends ql{_getNoResultFoundMessage(e){return e?v("references.no","No references found for '{0}'",e.word):v("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(53).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(53).multipleReferences}}tu(class extends _oe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:v("goToReferences.label","Go to References"),alias:"Go to References",precondition:Xe.and(z.hasReferenceProvider,Sr.notInPeekEditor,z.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:z.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,i,s){return Kl(this,void 0,void 0,function*(){return new zr(yield lD(e.referenceProvider,t,i,!0,s),v("ref.title","References"))})}});tu(class extends _oe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:v("references.action.label","Peek References"),alias:"Peek References",precondition:Xe.and(z.hasReferenceProvider,Sr.notInPeekEditor,z.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Y.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i,s){return Kl(this,void 0,void 0,function*(){return new zr(yield lD(e.referenceProvider,t,i,!1,s),v("ref.title","References"))})}});class g4t extends ql{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",label:v("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:Xe.and(Sr.notInPeekEditor,z.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i,s){return Kl(this,void 0,void 0,function*(){return new zr(this._references,v("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&v("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(53).multipleReferences}_getAlternativeCommand(){return""}}pi.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:bt},{name:"position",description:"The position at which to start",constraint:oe.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(n,e,t,i,s,o,r)=>Kl(void 0,void 0,void 0,function*(){Vi(bt.isUri(e)),Vi(oe.isIPosition(t)),Vi(Array.isArray(i)),Vi(typeof s=="undefined"||typeof s=="string"),Vi(typeof r=="undefined"||typeof r=="boolean");const a=n.get(Ei),l=yield a.openCodeEditor({resource:e},a.getFocusedCodeEditor());if(Fh(l))return l.setPosition(t),l.revealPositionInCenterIfOutsideViewport(t,0),l.invokeWithinContext(c=>{const u=new class extends g4t{_getNoResultFoundMessage(d){return o||super._getNoResultFoundMessage(d)}}({muteMessage:!Boolean(o),openInPeek:Boolean(r),openToSide:!1},i,s);c.get(Bt).invokeFunction(u.run.bind(u),l)})})});pi.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:bt},{name:"position",description:"The position at which to start",constraint:oe.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(n,e,t,i,s)=>Kl(void 0,void 0,void 0,function*(){n.get(ss).executeCommand("editor.action.goToLocations",e,t,i,s,void 0,!0)})});pi.registerCommand({id:"editor.action.findReferences",handler:(n,e,t)=>{Vi(bt.isUri(e)),Vi(oe.isIPosition(t));const i=n.get(st),s=n.get(Ei);return s.openCodeEditor({resource:e},s.getFocusedCodeEditor()).then(o=>{if(!Fh(o)||!o.hasModel())return;const r=Pg.get(o);if(!r)return;const a=Ws(c=>lD(i.referenceProvider,o.getModel(),oe.lift(t),!1,c).then(u=>new zr(u,v("ref.title","References")))),l=new A(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(r.toggleWidget(l,a,!1))})}});pi.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");jl.appendMenuItems([{id:Y.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:v({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Y.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:v({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Y.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:v({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Y.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:v({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Y.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:v({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var p4t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},yT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let i_=class x6{constructor(e,t,i,s){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=s,this.toUnhook=new Ie,this.toUnhookForKeyboard=new Ie,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const o=new _B(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(([r,a])=>{this.startFindDefinitionFromMouse(r,hr(a))})),this.toUnhook.add(o.onExecute(r=>{this.isEnabled(r)&&this.gotoDefinition(r.target.position,r.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},a=>{this.removeLinkDecorations(),Ot(a)})})),this.toUnhook.add(o.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(x6.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const i=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return Promise.resolve(0);this.currentWordAtPosition=i;const s=new qw(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Ws(o=>this.findDefinition(e,o)),this.previousPromise.then(o=>{if(!o||!o.length||!s.validate(this.editor)){this.removeLinkDecorations();return}if(o.length>1)this.addDecoration(new A(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),new ur().appendText(v("multipleResults","Click to show {0} definitions.",o.length)));else{const r=o[0];if(!r.uri)return;this.textModelResolverService.createModelReference(r.uri).then(a=>{if(!a.object||!a.object.textEditorModel){a.dispose();return}const{object:{textEditorModel:l}}=a,{startLineNumber:c}=r.range;if(c<1||c>l.getLineCount()){a.dispose();return}const u=this.getPreviewValue(l,c,r);let d;r.originSelectionRange?d=A.lift(r.originSelectionRange):d=new A(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);const h=this.languageService.guessLanguageIdByFilepathOrFirstLine(l.uri);this.addDecoration(d,new ur().appendCodeblock(h||"",u)),a.dispose()})}}).then(void 0,Ot)}getPreviewValue(e,t,i){let s=i.range;return s.endLineNumber-s.startLineNumber>=x6.MAX_SOURCE_PREVIEW_LINES&&(s=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,s)}stripIndentationFromPreviewRange(e,t,i){let o=e.getLineFirstNonWhitespaceColumn(t);for(let a=t+1;a<i.endLineNumber;a++){const l=e.getLineFirstNonWhitespaceColumn(a);o=Math.min(o,l)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${o-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const i=e.getLineFirstNonWhitespaceColumn(t),s=Math.min(e.getLineCount(),t+x6.MAX_SOURCE_PREVIEW_LINES);let o=t+1;for(;o<s;o++){const r=e.getLineFirstNonWhitespaceColumn(o);if(i===r)break}return new A(t,1,o+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([i])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&e.target.type===6&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?CB(this.languageFeaturesService.definitionProvider,i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(i=>{const s=!t&&this.editor.getOption(80)&&!this.isInPeekEditor(i);return new a4({openToSide:t,openInPeek:s,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(i,this.editor)})}isInPeekEditor(e){const t=e.get(At);return Sr.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};i_.ID="editor.contrib.gotodefinitionatposition";i_.MAX_SOURCE_PREVIEW_LINES=8;i_=p4t([yT(1,Lr),yT(2,In),yT(3,st)],i_);mi(i_.ID,i_);ln((n,e)=>{const t=n.getColor(PP);t&&e.addRule(`.monaco-editor .goto-definition-link { color: ${t} !important; }`)});const C3=Ne;class voe extends de{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new $y(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class wB extends de{constructor(e,t,i){super(),this.actionContainer=Le(e,C3("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=Le(this.actionContainer,C3("a.action")),this.action.setAttribute("role","button"),t.iconClass&&Le(this.action,C3(`span.icon.${t.iconClass}`));const s=Le(this.action,C3("span"));s.textContent=i?`${t.label} (${i})`:t.label,this._register(xe(this.actionContainer,Qe.CLICK,o=>{o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer)})),this._register(xe(this.actionContainer,Qe.KEY_UP,o=>{new gn(o).equals(3)&&(o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}static render(e,t,i){return new wB(e,t,i)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var m4t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},_4t=globalThis&&globalThis.__asyncValues||function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(r){return new Promise(function(a,l){r=n[o](r),s(a,l,r.done,r.value)})}}function s(o,r,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},r)}};class v4t{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}}class boe extends de{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new J),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new Hi(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new Hi(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new Hi(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=Vat(e=>this._computer.computeAsync(e)),m4t(this,void 0,void 0,function*(){var e,t;try{try{for(var i=_4t(this._asyncIterable),s;s=yield i.next(),!s.done;){const o=s.value;o&&(this._result.push(o),this._fireResult())}}catch(o){e={error:o}}finally{try{s&&!s.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(o){Ot(o)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const e=this._state===0,t=this._state===4;this._onResult.fire(new v4t(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class ST{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class D6{constructor(e,t,i){this.priority=e,this.owner=t,this.range=i,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}const V_=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};class Ol{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const e=this.pos;let t=0,i=this.value.charCodeAt(e),s;if(s=Ol._table[i],typeof s=="number")return this.pos+=1,{type:s,pos:e,len:1};if(Ol.isDigitCharacter(i)){s=8;do t+=1,i=this.value.charCodeAt(e+t);while(Ol.isDigitCharacter(i));return this.pos+=t,{type:s,pos:e,len:t}}if(Ol.isVariableCharacter(i)){s=9;do i=this.value.charCodeAt(e+ ++t);while(Ol.isVariableCharacter(i)||Ol.isDigitCharacter(i));return this.pos+=t,{type:s,pos:e,len:t}}s=10;do t+=1,i=this.value.charCodeAt(e+t);while(!isNaN(i)&&typeof Ol._table[i]=="undefined"&&!Ol.isDigitCharacter(i)&&!Ol.isVariableCharacter(i));return this.pos+=t,{type:s,pos:e,len:t}}}Ol._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class h2{constructor(){this._children=[]}appendChild(e){return e instanceof dr&&this._children[this._children.length-1]instanceof dr?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,s=i.children.indexOf(e),o=i.children.slice(0);o.splice(s,1,...t),i._children=o,function r(a,l){for(const c of a)c.parent=l,r(c.children,c)}(t,i)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof l4)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class dr extends h2{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new dr(this.value)}}class Coe extends h2{}class Bl extends Coe{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof f2?this._children[0]:void 0}clone(){const e=new Bl(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class f2 extends h2{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof dr&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const e=new f2;return this.options.forEach(e.appendChild,e),e}}class yB extends h2{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,s=e.replace(this.regexp,function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(o=>o instanceof bc&&Boolean(o.elseValue))&&(s=this._replace([])),s}_replace(e){let t="";for(const i of this._children)if(i instanceof bc){let s=e[i.index]||"";s=i.resolve(s),t+=s}else t+=i.toString();return t}toString(){return""}clone(){const e=new yB;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class bc extends h2{constructor(e,t,i,s){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=s}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":Boolean(e)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(e)&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(i=>i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((i,s)=>s===0?i.charAt(0).toLowerCase()+i.substr(1):i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}clone(){return new bc(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class Jw extends Coe{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new dr(t)],!0):!1}clone(){const e=new Jw(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function SG(n,e){const t=[...n];for(;t.length>0;){const i=t.shift();if(!e(i))break;t.unshift(...i.children)}}class l4 extends h2{get placeholderInfo(){if(!this._placeholders){const e=[];let t;this.walk(function(i){return i instanceof Bl&&(e.push(i),t=!t||t.index<i.index?i:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(s=>s===e?(i=!0,!1):(t+=s.len(),!0)),i?t:-1}fullLen(e){let t=0;return SG([e],i=>(t+=i.len(),!0)),t}enclosingPlaceholders(e){const t=[];let{parent:i}=e;for(;i;)i instanceof Bl&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof Jw&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){const e=new l4;return this._children=this.children.map(t=>t.clone()),e}walk(e){SG(this.children,e)}}class Fg{constructor(){this._scanner=new Ol,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){const s=new l4;return this.parseFragment(e,s),this.ensureFinalTabstop(s,i!=null?i:!1,t!=null?t:!1),s}parseFragment(e,t){const i=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););const s=new Map,o=[];t.walk(r=>(r instanceof Bl&&(r.isFinalTabstop?s.set(0,void 0):!s.has(r.index)&&r.children.length>0?s.set(r.index,r.children):o.push(r)),!0));for(const r of o){const a=s.get(r.index);if(a){const l=new Bl(r.index);l.transform=r.transform;for(const c of a)l.appendChild(c.clone());t.replace(r,[l])}}return t.children.slice(i)}ensureFinalTabstop(e,t,i){(t||i&&e.placeholders.length>0)&&(e.placeholders.find(o=>o.index===0)||e.appendChild(new Bl(0)))}_accept(e,t){if(e===void 0||this._token.type===e){const i=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const s=this._scanner.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new dr(t)),!0):!1}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Bl(Number(t)):new Jw(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const o=new Bl(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new dr("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7)){const r=new f2;for(;;){if(this._parseChoiceElement(r)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(r),this._accept(4)))return e.appendChild(o),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseChoiceElement(e){const t=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let s;if((s=this._accept(5,!0))?s=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:s=this._accept(void 0,!0),!s)return this._backTo(t),!1;i.push(s)}return i.length===0?(this._backTo(t),!1):(e.appendChild(new dr(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const o=new Jw(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new dr("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseTransform(e){const t=new yB;let i="",s="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,i+=o;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new dr(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(i,s)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);const s=this._accept(8,!0);if(s)if(i){if(this._accept(4))return e.appendChild(new bc(Number(s))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new bc(Number(s))),!0;else return this._backTo(t),!1;if(this._accept(6)){const o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new bc(Number(s),o)),!0)}else if(this._accept(11)){const o=this._until(4);if(o)return e.appendChild(new bc(Number(s),void 0,o,void 0)),!0}else if(this._accept(12)){const o=this._until(4);if(o)return e.appendChild(new bc(Number(s),void 0,void 0,o)),!0}else if(this._accept(13)){const o=this._until(1);if(o){const r=this._until(4);if(r)return e.appendChild(new bc(Number(s),void 0,o,r)),!0}}else{const o=this._until(4);if(o)return e.appendChild(new bc(Number(s),void 0,void 0,o)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new dr(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}const b4t=v("defaultLabel","input"),C4t=v("label.preserveCaseToggle","Preserve Case");class w4t extends Zy{constructor(e){super({icon:C.preserveCase,title:C4t+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class y4t extends Jl{constructor(e,t,i,s){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new J),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new J),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new J),this._onInput=this._register(new J),this._onKeyUp=this._register(new J),this._onPreserveCaseKeyDown=this._register(new J),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||b4t,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const o=s.appendPreserveCaseLabel||"",r=s.history||[],a=!!s.flexibleHeight,l=!!s.flexibleWidth,c=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new vne(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:r,showHistoryHint:s.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c})),this.preserveCase=this._register(new w4t({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(h=>{this._onPreserveCaseKeyDown.fire(h)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const u=[this.preserveCase.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){const f=u.indexOf(document.activeElement);if(f>=0){let p=-1;h.equals(17)?p=(f+1)%u.length:h.equals(15)&&(f===0?p=u.length-1:p=f-1),h.equals(9)?(u[f].blur(),this.inputBox.focus()):p>=0&&u[p].focus(),Oi.stop(h,!0)}}});const d=document.createElement("div");d.className="controls",d.style.display=this._showOptionButtons?"block":"none",d.appendChild(this.preserveCase.domNode),this.domNode.appendChild(d),e==null||e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var woe=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},yoe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const SB=new et("suggestWidgetVisible",!1,v("suggestWidgetVisible","Whether suggestion are visible")),LB="historyNavigationWidgetFocus",Soe="historyNavigationForwardsEnabled",Loe="historyNavigationBackwardsEnabled";let ym;const w3=[];function xoe(n,e){if(w3.includes(e))throw new Error("Cannot register the same widget multiple times");w3.push(e);const t=new Ie,i=t.add(n.createScoped(e.element)),s=new et(LB,!1).bindTo(i),o=new et(Soe,!0).bindTo(i),r=new et(Loe,!0).bindTo(i),a=()=>{s.set(!0),ym=e},l=()=>{s.set(!1),ym===e&&(ym=void 0)};return e.element===document.activeElement&&a(),t.add(e.onDidFocus(()=>a())),t.add(e.onDidBlur(()=>l())),t.add(jt(()=>{w3.splice(w3.indexOf(e),1),l()})),{scopedContextKeyService:i,historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:r,dispose(){t.dispose()}}}let a7=class extends Dvt{constructor(e,t,i,s,o=!1){super(e,t,o,i),this._register(xoe(s,this.inputBox))}};a7=woe([yoe(3,At)],a7);let l7=class extends y4t{constructor(e,t,i,s,o=!1){super(e,t,o,i),this._register(xoe(s,this.inputBox))}};l7=woe([yoe(3,At)],l7);qr.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Xe.and(Xe.has(LB),Xe.equals(Loe,!0),SB.isEqualTo(!1)),primary:16,secondary:[528],handler:n=>{ym&&ym.showPreviousValue()}});qr.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Xe.and(Xe.has(LB),Xe.equals(Soe,!0),SB.isEqualTo(!1)),primary:18,secondary:[530],handler:n=>{ym&&ym.showNextValue()}});var DC=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const si={Visible:SB,HasFocusedSuggestion:new et("suggestWidgetHasFocusedSuggestion",!1,v("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new et("suggestWidgetDetailsVisible",!1,v("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new et("suggestWidgetMultipleSuggestions",!1,v("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new et("suggestionMakesTextEdit",!0,v("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new et("acceptSuggestionOnEnter",!0,v("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new et("suggestionHasInsertAndReplaceRange",!1,v("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new et("suggestionInsertMode",void 0,{type:"string",description:v("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new et("suggestionCanResolve",!1,v("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},hg=new Y("suggestWidgetStatusBar");class S4t{constructor(e,t,i,s){this.position=e,this.completion=t,this.container=i,this.provider=s,this.isInvalid=!1,this.score=Fc.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,A.isIRange(t.range)?(this.editStart=new oe(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new oe(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new oe(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||A.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new oe(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new oe(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new oe(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||A.spansMultipleLines(t.range.insert)||A.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof s.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return DC(this,void 0,void 0,function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(i=>{Object.assign(this.completion,i),this._isResolved=!0,t.dispose()},i=>{cd(i)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class ey{constructor(e=2,t=new Set,i=new Set,s=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.showDeprecated=s}}ey.default=new ey;let L4t;function x4t(){return L4t}class D4t{constructor(e,t,i,s){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=s}}function xB(n,e,t,i=ey.default,s={triggerKind:0},o=Yt.None){return DC(this,void 0,void 0,function*(){const r=new yr(!0);t=t.clone();const a=e.getWordAtPosition(t),l=a?new A(t.lineNumber,a.startColumn,t.lineNumber,a.endColumn):A.fromPositions(t),c={replace:l,insert:l.setEndPosition(t.lineNumber,t.column)},u=[],d=new Ie,h=[];let f=!1;const p=(b,w,y)=>{var L,D,E;let T=!1;if(!w)return T;for(const x of w.suggestions)if(!i.kindFilter.has(x.kind)){if(!i.showDeprecated&&((L=x==null?void 0:x.tags)===null||L===void 0?void 0:L.includes(1)))continue;x.range||(x.range=c),x.sortText||(x.sortText=typeof x.label=="string"?x.label:x.label.label),!f&&x.insertTextRules&&x.insertTextRules&4&&(f=Fg.guessNeedsClipboard(x.insertText)),u.push(new S4t(t,x,w,b)),T=!0}return VO(w)&&d.add(w),h.push({providerName:(D=b._debugDisplayName)!==null&&D!==void 0?D:"unknown_provider",elapsedProvider:(E=w.duration)!==null&&E!==void 0?E:-1,elapsedOverall:y.elapsed()}),T},m=(()=>DC(this,void 0,void 0,function*(){}))();for(const b of n.orderedGroups(e)){let w=!1;if(yield Promise.all(b.map(y=>DC(this,void 0,void 0,function*(){if(!(i.providerFilter.size>0&&!i.providerFilter.has(y)))try{const L=new yr(!0),D=yield y.provideCompletionItems(e,t,s,o);w=p(y,D,L)||w}catch(L){$s(L)}}))),w||o.isCancellationRequested)break}return yield m,o.isCancellationRequested?(d.dispose(),Promise.reject(new Kg)):new D4t(u.sort(Doe(i.snippetSortOrder)),f,{entries:h,elapsed:r.elapsed()},d)})}function DB(n,e){if(n.sortTextLow&&e.sortTextLow){if(n.sortTextLow<e.sortTextLow)return-1;if(n.sortTextLow>e.sortTextLow)return 1}return n.textLabel<e.textLabel?-1:n.textLabel>e.textLabel?1:n.completion.kind-e.completion.kind}function k4t(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return DB(n,e)}function E4t(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return DB(n,e)}const cD=new Map;cD.set(0,k4t);cD.set(2,E4t);cD.set(1,DB);function Doe(n){return cD.get(n)}pi.registerCommand("_executeCompletionItemProvider",(n,...e)=>DC(void 0,void 0,void 0,function*(){const[t,i,s,o]=e;Vi(bt.isUri(t)),Vi(oe.isIPosition(i)),Vi(typeof s=="string"||!s),Vi(typeof o=="number"||!o);const{completionProvider:r}=n.get(st),a=yield n.get(Lr).createModelReference(t);try{const l={incomplete:!1,suggestions:[]},c=[],u=yield xB(r,a.object.textEditorModel,oe.lift(i),void 0,{triggerCharacter:s,triggerKind:s?1:0});for(const d of u.items)c.length<(o!=null?o:0)&&c.push(d.resolve(Yt.None)),l.incomplete=l.incomplete||d.container.incomplete,l.suggestions.push(d.completion);try{return yield Promise.all(c),l}finally{setTimeout(()=>u.disposable.dispose(),100)}}finally{a.dispose()}}));function I4t(n,e){var t;(t=n.getContribution("editor.contrib.suggestController"))===null||t===void 0||t.triggerSuggest(new Set().add(e),void 0,!0)}class d1{static isAllOff(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}static isAllOn(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}var kB=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},EL=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const LG=Ne;let IL=class c7 extends de{constructor(e,t,i){super(),this._editor=e,this._instantiationService=t,this._keybindingService=i,this._widget=this._register(this._instantiationService.createInstance(Sm,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const s of V_.getAll())this._participants.push(this._instantiationService.createInstance(s,this._editor));this._participants.sort((s,o)=>s.hoverOrdinal-o.hoverOrdinal),this._computer=new TL(this._editor,this._participants),this._hoverOperation=this._register(new boe(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value,s.isComplete,s.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(Ns(this._widget.getDomNode(),"keydown",s=>{s.equals(9)&&this.hide()})),this._register(Dn.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(e){const t=[];for(const s of this._participants)if(s.suggestHoverAnchor){const o=s.suggestHoverAnchor(e);o&&t.push(o)}const i=e.target;if(i.type===6&&t.push(new ST(0,i.range)),i.type===7){const s=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<s&&t.push(new ST(0,i.range))}return t.length===0?!1:(t.sort((s,o)=>o.priority-s.priority),this._startShowingAt(t[0],0,!1),!0)}startShowingAtRange(e,t,i){this._startShowingAt(new ST(0,e),t,i)}_startShowingAt(e,t,i){if(!(this._computer.anchor&&this._computer.anchor.equals(e))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!e.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const s=this._messages.filter(o=>o.isValidForHoverAnchor(e));if(s.length===0)this.hide();else{if(s.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,s)}}this._computer.anchor=e,this._computer.shouldFocus=i,this._hoverOperation.start(t)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(e){return this._widget.getDomNode().contains(e)}_addLoadingMessage(e){if(this._computer.anchor){for(const t of this._participants)if(t.createLoadingMessage){const i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}}return e}_withResult(e,t,i){this._messages=i?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}_renderMessages(e,t){const{showAtPosition:i,showAtRange:s,highlightRange:o}=c7.computeHoverRanges(e.range,t),r=new Ie,a=r.add(new u7(this._keybindingService)),l=document.createDocumentFragment();let c=null;const u={fragment:l,statusBar:a,setColorPicker:d=>c=d,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const d of this._participants){const h=t.filter(f=>f.owner===d);h.length>0&&r.add(d.renderHoverParts(u,h))}if(a.hasContent&&l.appendChild(a.hoverElement),l.hasChildNodes()){if(o){const d=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,d.set([{range:o,options:c7._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}r.add(jt(()=>{try{this._isChangingDecorations=!0,d.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(l,new T4t(c,i,s,this._editor.getOption(55).above,this._computer.shouldFocus,r))}else r.dispose()}static computeHoverRanges(e,t){const i=e.startLineNumber;let s=e.startColumn,o=e.endColumn,r=t[0].range,a=null;for(const l of t)r=A.plusRange(r,l.range),l.range.startLineNumber===i&&l.range.endLineNumber===i&&(s=Math.min(s,l.range.startColumn),o=Math.max(o,l.range.endColumn)),l.forceShowAtRange&&(a=l.range);return{showAtPosition:a?a.getStartPosition():new oe(e.startLineNumber,s),showAtRange:a||new A(i,s,i,o),highlightRange:r}}};IL._DECORATION_OPTIONS=Rt.register({description:"content-hover-highlight",className:"hoverHighlight"});IL=kB([EL(1,Bt),EL(2,Ms)],IL);class T4t{constructor(e,t,i,s,o,r){this.colorPicker=e,this.showAtPosition=t,this.showAtRange=i,this.preferAbove=s,this.stoleFocus=o,this.disposables=r}}let Sm=class koe extends de{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this.allowEditorOverflow=!0,this._hoverVisibleKey=z.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new voe),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(46)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var e,t;return(t=(e=this._visibleData)===null||e===void 0?void 0:e.showAtPosition)!==null&&t!==void 0?t:null}get isColorPickerVisible(){var e;return Boolean((e=this._visibleData)===null||e===void 0?void 0:e.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return koe.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(si.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}_setVisibleData(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${i/t}`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}showAt(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}hide(){if(this._visibleData){const e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){const i=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==i&&(this._hover.contentsDomNode.style.paddingBottom=i,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Sm.ID="editor.contrib.contentHoverWidget";Sm=kB([EL(1,At)],Sm);let u7=class extends de{constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=LG("div.hover-row.status-bar"),this.actionsElement=Le(this.hoverElement,LG("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(wB.render(this.actionsElement,e,i))}append(e){const t=Le(this.actionsElement,e);return this._hasContent=!0,t}};u7=kB([EL(0,Ms)],u7);class TL{constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}static _getLineDecorations(e,t){if(t.type!==1)return[];const i=e.getModel(),s=t.range.startLineNumber;if(s>i.getLineCount())return[];const o=i.getLineMaxColumn(s);return e.getLineDecorations(s).filter(r=>{if(r.options.isWholeLine)return!0;const a=r.range.startLineNumber===s?r.range.startColumn:1,l=r.range.endLineNumber===s?r.range.endColumn:o;if(r.options.showIfCollapsed){if(a>t.range.startColumn+1||t.range.endColumn-1>l)return!1}else if(a>t.range.startColumn||t.range.endColumn>l)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return ts.EMPTY;const i=TL._getLineDecorations(this._editor,t);return ts.merge(this._participants.map(s=>s.computeAsync?s.computeAsync(t,i,e):ts.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=TL._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return Iy(t)}}let Eoe={};(function(){function n(e,t){t(Eoe)}n.amd=!0,function(e,t){typeof exports=="object"&&typeof module!="undefined"?t(exports):typeof n=="function"&&n.amd?n(["exports"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,t(e.marked={}))}(this,function(e){function t(ie,X){for(var Q=0;Q<X.length;Q++){var P=X[Q];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(ie,P.key,P)}}function i(ie,X,Q){return X&&t(ie.prototype,X),Q&&t(ie,Q),Object.defineProperty(ie,"prototype",{writable:!1}),ie}function s(ie,X){if(!!ie){if(typeof ie=="string")return o(ie,X);var Q=Object.prototype.toString.call(ie).slice(8,-1);if(Q==="Object"&&ie.constructor&&(Q=ie.constructor.name),Q==="Map"||Q==="Set")return Array.from(ie);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return o(ie,X)}}function o(ie,X){(X==null||X>ie.length)&&(X=ie.length);for(var Q=0,P=new Array(X);Q<X;Q++)P[Q]=ie[Q];return P}function r(ie,X){var Q=typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Q)return(Q=Q.call(ie)).next.bind(Q);if(Array.isArray(ie)||(Q=s(ie))||X&&ie&&typeof ie.length=="number"){Q&&(ie=Q);var P=0;return function(){return P>=ie.length?{done:!0}:{done:!1,value:ie[P++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=a();function l(ie){e.defaults=ie}var c=/[&<>"']/,u=/[&<>"']/g,d=/[<>"']|&(?!#?\w+;)/,h=/[<>"']|&(?!#?\w+;)/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p=function(X){return f[X]};function m(ie,X){if(X){if(c.test(ie))return ie.replace(u,p)}else if(d.test(ie))return ie.replace(h,p);return ie}var b=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function w(ie){return ie.replace(b,function(X,Q){return Q=Q.toLowerCase(),Q==="colon"?":":Q.charAt(0)==="#"?Q.charAt(1)==="x"?String.fromCharCode(parseInt(Q.substring(2),16)):String.fromCharCode(+Q.substring(1)):""})}var y=/(^|[^\[])\^/g;function L(ie,X){ie=typeof ie=="string"?ie:ie.source,X=X||"";var Q={replace:function(R,j){return j=j.source||j,j=j.replace(y,"$1"),ie=ie.replace(R,j),Q},getRegex:function(){return new RegExp(ie,X)}};return Q}var D=/[^\w:]/g,E=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function T(ie,X,Q){if(ie){var P;try{P=decodeURIComponent(w(Q)).replace(D,"").toLowerCase()}catch{return null}if(P.indexOf("javascript:")===0||P.indexOf("vbscript:")===0||P.indexOf("data:")===0)return null}X&&!E.test(Q)&&(Q=H(X,Q));try{Q=encodeURI(Q).replace(/%25/g,"%")}catch{return null}return Q}var x={},k=/^[^:]+:\/*[^/]*$/,N=/^([^:]+:)[\s\S]*$/,V=/^([^:]+:\/*[^/]*)[\s\S]*$/;function H(ie,X){x[" "+ie]||(k.test(ie)?x[" "+ie]=ie+"/":x[" "+ie]=me(ie,"/",!0)),ie=x[" "+ie];var Q=ie.indexOf(":")===-1;return X.substring(0,2)==="//"?Q?X:ie.replace(N,"$1")+X:X.charAt(0)==="/"?Q?X:ie.replace(V,"$1")+X:ie+X}var G={exec:function(){}};function te(ie){for(var X=1,Q,P;X<arguments.length;X++){Q=arguments[X];for(P in Q)Object.prototype.hasOwnProperty.call(Q,P)&&(ie[P]=Q[P])}return ie}function ae(ie,X){var Q=ie.replace(/\|/g,function(j,q,ue){for(var ve=!1,Ze=q;--Ze>=0&&ue[Ze]==="\\";)ve=!ve;return ve?"|":" |"}),P=Q.split(/ \|/),R=0;if(P[0].trim()||P.shift(),P.length>0&&!P[P.length-1].trim()&&P.pop(),P.length>X)P.splice(X);else for(;P.length<X;)P.push("");for(;R<P.length;R++)P[R]=P[R].trim().replace(/\\\|/g,"|");return P}function me(ie,X,Q){var P=ie.length;if(P===0)return"";for(var R=0;R<P;){var j=ie.charAt(P-R-1);if(j===X&&!Q)R++;else if(j!==X&&Q)R++;else break}return ie.slice(0,P-R)}function we(ie,X){if(ie.indexOf(X[1])===-1)return-1;for(var Q=ie.length,P=0,R=0;R<Q;R++)if(ie[R]==="\\")R++;else if(ie[R]===X[0])P++;else if(ie[R]===X[1]&&(P--,P<0))return R;return-1}function be(ie){ie&&ie.sanitize&&!ie.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Me(ie,X){if(X<1)return"";for(var Q="";X>1;)X&1&&(Q+=ie),X>>=1,ie+=ie;return Q+ie}function He(ie,X,Q,P){var R=X.href,j=X.title?m(X.title):null,q=ie[1].replace(/\\([\[\]])/g,"$1");if(ie[0].charAt(0)!=="!"){P.state.inLink=!0;var ue={type:"link",raw:Q,href:R,title:j,text:q,tokens:P.inlineTokens(q,[])};return P.state.inLink=!1,ue}return{type:"image",raw:Q,href:R,title:j,text:m(q)}}function mt(ie,X){var Q=ie.match(/^(\s+)(?:```)/);if(Q===null)return X;var P=Q[1];return X.split(`
`).map(function(R){var j=R.match(/^\s+/);if(j===null)return R;var q=j[0];return q.length>=P.length?R.slice(P.length):R}).join(`
`)}var ot=function(){function ie(Q){this.options=Q||e.defaults}var X=ie.prototype;return X.space=function(P){var R=this.rules.block.newline.exec(P);if(R&&R[0].length>0)return{type:"space",raw:R[0]}},X.code=function(P){var R=this.rules.block.code.exec(P);if(R){var j=R[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:R[0],codeBlockStyle:"indented",text:this.options.pedantic?j:me(j,`
`)}}},X.fences=function(P){var R=this.rules.block.fences.exec(P);if(R){var j=R[0],q=mt(j,R[3]||"");return{type:"code",raw:j,lang:R[2]?R[2].trim():R[2],text:q}}},X.heading=function(P){var R=this.rules.block.heading.exec(P);if(R){var j=R[2].trim();if(/#$/.test(j)){var q=me(j,"#");(this.options.pedantic||!q||/ $/.test(q))&&(j=q.trim())}var ue={type:"heading",raw:R[0],depth:R[1].length,text:j,tokens:[]};return this.lexer.inline(ue.text,ue.tokens),ue}},X.hr=function(P){var R=this.rules.block.hr.exec(P);if(R)return{type:"hr",raw:R[0]}},X.blockquote=function(P){var R=this.rules.block.blockquote.exec(P);if(R){var j=R[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:R[0],tokens:this.lexer.blockTokens(j,[]),text:j}}},X.list=function(P){var R=this.rules.block.list.exec(P);if(R){var j,q,ue,ve,Ze,ne,ke,Ke,Ct,kt,pt,Qt,Zt=R[1].trim(),vn=Zt.length>1,wi={type:"list",raw:"",ordered:vn,start:vn?+Zt.slice(0,-1):"",loose:!1,items:[]};Zt=vn?"\\d{1,9}\\"+Zt.slice(-1):"\\"+Zt,this.options.pedantic&&(Zt=vn?Zt:"[*+-]");for(var bn=new RegExp("^( {0,3}"+Zt+")((?:[	 ][^\\n]*)?(?:\\n|$))");P&&(Qt=!1,!(!(R=bn.exec(P))||this.rules.block.hr.test(P)));){if(j=R[0],P=P.substring(j.length),Ke=R[2].split(`
`,1)[0],Ct=P.split(`
`,1)[0],this.options.pedantic?(ve=2,pt=Ke.trimLeft()):(ve=R[2].search(/[^ ]/),ve=ve>4?1:ve,pt=Ke.slice(ve),ve+=R[1].length),ne=!1,!Ke&&/^ *$/.test(Ct)&&(j+=Ct+`
`,P=P.substring(Ct.length+1),Qt=!0),!Qt)for(var su=new RegExp("^ {0,"+Math.min(3,ve-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ho=new RegExp("^ {0,"+Math.min(3,ve-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");P&&(kt=P.split(`
`,1)[0],Ke=kt,this.options.pedantic&&(Ke=Ke.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(su.test(Ke)||Ho.test(P)));){if(Ke.search(/[^ ]/)>=ve||!Ke.trim())pt+=`
`+Ke.slice(ve);else if(!ne)pt+=`
`+Ke;else break;!ne&&!Ke.trim()&&(ne=!0),j+=kt+`
`,P=P.substring(kt.length+1)}wi.loose||(ke?wi.loose=!0:/\n *\n *$/.test(j)&&(ke=!0)),this.options.gfm&&(q=/^\[[ xX]\] /.exec(pt),q&&(ue=q[0]!=="[ ] ",pt=pt.replace(/^\[[ xX]\] +/,""))),wi.items.push({type:"list_item",raw:j,task:!!q,checked:ue,loose:!1,text:pt}),wi.raw+=j}wi.items[wi.items.length-1].raw=j.trimRight(),wi.items[wi.items.length-1].text=pt.trimRight(),wi.raw=wi.raw.trimRight();var wl=wi.items.length;for(Ze=0;Ze<wl;Ze++){this.lexer.state.top=!1,wi.items[Ze].tokens=this.lexer.blockTokens(wi.items[Ze].text,[]);var sc=wi.items[Ze].tokens.filter(function(ou){return ou.type==="space"}),md=sc.every(function(ou){for(var ru=ou.raw.split(""),Yr=0,H_=r(ru),np;!(np=H_()).done;){var Xh=np.value;if(Xh===`
`&&(Yr+=1),Yr>1)return!0}return!1});!wi.loose&&sc.length&&md&&(wi.loose=!0,wi.items[Ze].loose=!0)}return wi}},X.html=function(P){var R=this.rules.block.html.exec(P);if(R){var j={type:"html",raw:R[0],pre:!this.options.sanitizer&&(R[1]==="pre"||R[1]==="script"||R[1]==="style"),text:R[0]};return this.options.sanitize&&(j.type="paragraph",j.text=this.options.sanitizer?this.options.sanitizer(R[0]):m(R[0]),j.tokens=[],this.lexer.inline(j.text,j.tokens)),j}},X.def=function(P){var R=this.rules.block.def.exec(P);if(R){R[3]&&(R[3]=R[3].substring(1,R[3].length-1));var j=R[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:j,raw:R[0],href:R[2],title:R[3]}}},X.table=function(P){var R=this.rules.block.table.exec(P);if(R){var j={type:"table",header:ae(R[1]).map(function(ke){return{text:ke}}),align:R[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:R[3]&&R[3].trim()?R[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(j.header.length===j.align.length){j.raw=R[0];var q=j.align.length,ue,ve,Ze,ne;for(ue=0;ue<q;ue++)/^ *-+: *$/.test(j.align[ue])?j.align[ue]="right":/^ *:-+: *$/.test(j.align[ue])?j.align[ue]="center":/^ *:-+ *$/.test(j.align[ue])?j.align[ue]="left":j.align[ue]=null;for(q=j.rows.length,ue=0;ue<q;ue++)j.rows[ue]=ae(j.rows[ue],j.header.length).map(function(ke){return{text:ke}});for(q=j.header.length,ve=0;ve<q;ve++)j.header[ve].tokens=[],this.lexer.inline(j.header[ve].text,j.header[ve].tokens);for(q=j.rows.length,ve=0;ve<q;ve++)for(ne=j.rows[ve],Ze=0;Ze<ne.length;Ze++)ne[Ze].tokens=[],this.lexer.inline(ne[Ze].text,ne[Ze].tokens);return j}}},X.lheading=function(P){var R=this.rules.block.lheading.exec(P);if(R){var j={type:"heading",raw:R[0],depth:R[2].charAt(0)==="="?1:2,text:R[1],tokens:[]};return this.lexer.inline(j.text,j.tokens),j}},X.paragraph=function(P){var R=this.rules.block.paragraph.exec(P);if(R){var j={type:"paragraph",raw:R[0],text:R[1].charAt(R[1].length-1)===`
`?R[1].slice(0,-1):R[1],tokens:[]};return this.lexer.inline(j.text,j.tokens),j}},X.text=function(P){var R=this.rules.block.text.exec(P);if(R){var j={type:"text",raw:R[0],text:R[0],tokens:[]};return this.lexer.inline(j.text,j.tokens),j}},X.escape=function(P){var R=this.rules.inline.escape.exec(P);if(R)return{type:"escape",raw:R[0],text:m(R[1])}},X.tag=function(P){var R=this.rules.inline.tag.exec(P);if(R)return!this.lexer.state.inLink&&/^<a /i.test(R[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(R[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(R[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(R[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:R[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(R[0]):m(R[0]):R[0]}},X.link=function(P){var R=this.rules.inline.link.exec(P);if(R){var j=R[2].trim();if(!this.options.pedantic&&/^</.test(j)){if(!/>$/.test(j))return;var q=me(j.slice(0,-1),"\\");if((j.length-q.length)%2===0)return}else{var ue=we(R[2],"()");if(ue>-1){var ve=R[0].indexOf("!")===0?5:4,Ze=ve+R[1].length+ue;R[2]=R[2].substring(0,ue),R[0]=R[0].substring(0,Ze).trim(),R[3]=""}}var ne=R[2],ke="";if(this.options.pedantic){var Ke=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ne);Ke&&(ne=Ke[1],ke=Ke[3])}else ke=R[3]?R[3].slice(1,-1):"";return ne=ne.trim(),/^</.test(ne)&&(this.options.pedantic&&!/>$/.test(j)?ne=ne.slice(1):ne=ne.slice(1,-1)),He(R,{href:ne&&ne.replace(this.rules.inline._escapes,"$1"),title:ke&&ke.replace(this.rules.inline._escapes,"$1")},R[0],this.lexer)}},X.reflink=function(P,R){var j;if((j=this.rules.inline.reflink.exec(P))||(j=this.rules.inline.nolink.exec(P))){var q=(j[2]||j[1]).replace(/\s+/g," ");if(q=R[q.toLowerCase()],!q||!q.href){var ue=j[0].charAt(0);return{type:"text",raw:ue,text:ue}}return He(j,q,j[0],this.lexer)}},X.emStrong=function(P,R,j){j===void 0&&(j="");var q=this.rules.inline.emStrong.lDelim.exec(P);if(!!q&&!(q[3]&&j.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ue=q[1]||q[2]||"";if(!ue||ue&&(j===""||this.rules.inline.punctuation.exec(j))){var ve=q[0].length-1,Ze,ne,ke=ve,Ke=0,Ct=q[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ct.lastIndex=0,R=R.slice(-1*P.length+ve);(q=Ct.exec(R))!=null;)if(Ze=q[1]||q[2]||q[3]||q[4]||q[5]||q[6],!!Ze){if(ne=Ze.length,q[3]||q[4]){ke+=ne;continue}else if((q[5]||q[6])&&ve%3&&!((ve+ne)%3)){Ke+=ne;continue}if(ke-=ne,!(ke>0)){if(ne=Math.min(ne,ne+ke+Ke),Math.min(ve,ne)%2){var kt=P.slice(1,ve+q.index+ne);return{type:"em",raw:P.slice(0,ve+q.index+ne+1),text:kt,tokens:this.lexer.inlineTokens(kt,[])}}var pt=P.slice(2,ve+q.index+ne-1);return{type:"strong",raw:P.slice(0,ve+q.index+ne+1),text:pt,tokens:this.lexer.inlineTokens(pt,[])}}}}}},X.codespan=function(P){var R=this.rules.inline.code.exec(P);if(R){var j=R[2].replace(/\n/g," "),q=/[^ ]/.test(j),ue=/^ /.test(j)&&/ $/.test(j);return q&&ue&&(j=j.substring(1,j.length-1)),j=m(j,!0),{type:"codespan",raw:R[0],text:j}}},X.br=function(P){var R=this.rules.inline.br.exec(P);if(R)return{type:"br",raw:R[0]}},X.del=function(P){var R=this.rules.inline.del.exec(P);if(R)return{type:"del",raw:R[0],text:R[2],tokens:this.lexer.inlineTokens(R[2],[])}},X.autolink=function(P,R){var j=this.rules.inline.autolink.exec(P);if(j){var q,ue;return j[2]==="@"?(q=m(this.options.mangle?R(j[1]):j[1]),ue="mailto:"+q):(q=m(j[1]),ue=q),{type:"link",raw:j[0],text:q,href:ue,tokens:[{type:"text",raw:q,text:q}]}}},X.url=function(P,R){var j;if(j=this.rules.inline.url.exec(P)){var q,ue;if(j[2]==="@")q=m(this.options.mangle?R(j[0]):j[0]),ue="mailto:"+q;else{var ve;do ve=j[0],j[0]=this.rules.inline._backpedal.exec(j[0])[0];while(ve!==j[0]);q=m(j[0]),j[1]==="www."?ue="http://"+q:ue=q}return{type:"link",raw:j[0],text:q,href:ue,tokens:[{type:"text",raw:q,text:q}]}}},X.inlineText=function(P,R){var j=this.rules.inline.text.exec(P);if(j){var q;return this.lexer.state.inRawBlock?q=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(j[0]):m(j[0]):j[0]:q=m(this.options.smartypants?R(j[0]):j[0]),{type:"text",raw:j[0],text:q}}},ie}(),De={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:G,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};De._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,De._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,De.def=L(De.def).replace("label",De._label).replace("title",De._title).getRegex(),De.bullet=/(?:[*+-]|\d{1,9}[.)])/,De.listItemStart=L(/^( *)(bull) */).replace("bull",De.bullet).getRegex(),De.list=L(De.list).replace(/bull/g,De.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+De.def.source+")").getRegex(),De._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",De._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,De.html=L(De.html,"i").replace("comment",De._comment).replace("tag",De._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),De.paragraph=L(De._paragraph).replace("hr",De.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",De._tag).getRegex(),De.blockquote=L(De.blockquote).replace("paragraph",De.paragraph).getRegex(),De.normal=te({},De),De.gfm=te({},De.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),De.gfm.table=L(De.gfm.table).replace("hr",De.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",De._tag).getRegex(),De.gfm.paragraph=L(De._paragraph).replace("hr",De.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",De.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",De._tag).getRegex(),De.pedantic=te({},De.normal,{html:L(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",De._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:G,paragraph:L(De.normal._paragraph).replace("hr",De.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",De.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var pe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:G,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:G,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};pe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",pe.punctuation=L(pe.punctuation).replace(/punctuation/g,pe._punctuation).getRegex(),pe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,pe.escapedEmSt=/\\\*|\\_/g,pe._comment=L(De._comment).replace("(?:-->|$)","-->").getRegex(),pe.emStrong.lDelim=L(pe.emStrong.lDelim).replace(/punct/g,pe._punctuation).getRegex(),pe.emStrong.rDelimAst=L(pe.emStrong.rDelimAst,"g").replace(/punct/g,pe._punctuation).getRegex(),pe.emStrong.rDelimUnd=L(pe.emStrong.rDelimUnd,"g").replace(/punct/g,pe._punctuation).getRegex(),pe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,pe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,pe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,pe.autolink=L(pe.autolink).replace("scheme",pe._scheme).replace("email",pe._email).getRegex(),pe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,pe.tag=L(pe.tag).replace("comment",pe._comment).replace("attribute",pe._attribute).getRegex(),pe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,pe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,pe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,pe.link=L(pe.link).replace("label",pe._label).replace("href",pe._href).replace("title",pe._title).getRegex(),pe.reflink=L(pe.reflink).replace("label",pe._label).replace("ref",De._label).getRegex(),pe.nolink=L(pe.nolink).replace("ref",De._label).getRegex(),pe.reflinkSearch=L(pe.reflinkSearch,"g").replace("reflink",pe.reflink).replace("nolink",pe.nolink).getRegex(),pe.normal=te({},pe),pe.pedantic=te({},pe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:L(/^!?\[(label)\]\((.*?)\)/).replace("label",pe._label).getRegex(),reflink:L(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",pe._label).getRegex()}),pe.gfm=te({},pe.normal,{escape:L(pe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),pe.gfm.url=L(pe.gfm.url,"i").replace("email",pe.gfm._extended_email).getRegex(),pe.breaks=te({},pe.gfm,{br:L(pe.br).replace("{2,}","*").getRegex(),text:L(pe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function _t(ie){return ie.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function _e(ie){var X="",Q,P,R=ie.length;for(Q=0;Q<R;Q++)P=ie.charCodeAt(Q),Math.random()>.5&&(P="x"+P.toString(16)),X+="&#"+P+";";return X}var Ge=function(){function ie(Q){this.tokens=[],this.tokens.links=Object.create(null),this.options=Q||e.defaults,this.options.tokenizer=this.options.tokenizer||new ot,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var P={block:De.normal,inline:pe.normal};this.options.pedantic?(P.block=De.pedantic,P.inline=pe.pedantic):this.options.gfm&&(P.block=De.gfm,this.options.breaks?P.inline=pe.breaks:P.inline=pe.gfm),this.tokenizer.rules=P}ie.lex=function(P,R){var j=new ie(R);return j.lex(P)},ie.lexInline=function(P,R){var j=new ie(R);return j.inlineTokens(P)};var X=ie.prototype;return X.lex=function(P){P=P.replace(/\r\n|\r/g,`
`),this.blockTokens(P,this.tokens);for(var R;R=this.inlineQueue.shift();)this.inlineTokens(R.src,R.tokens);return this.tokens},X.blockTokens=function(P,R){var j=this;R===void 0&&(R=[]),this.options.pedantic?P=P.replace(/\t/g,"    ").replace(/^ +$/gm,""):P=P.replace(/^( *)(\t+)/gm,function(ke,Ke,Ct){return Ke+"    ".repeat(Ct.length)});for(var q,ue,ve,Ze;P;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ke){return(q=ke.call({lexer:j},P,R))?(P=P.substring(q.raw.length),R.push(q),!0):!1}))){if(q=this.tokenizer.space(P)){P=P.substring(q.raw.length),q.raw.length===1&&R.length>0?R[R.length-1].raw+=`
`:R.push(q);continue}if(q=this.tokenizer.code(P)){P=P.substring(q.raw.length),ue=R[R.length-1],ue&&(ue.type==="paragraph"||ue.type==="text")?(ue.raw+=`
`+q.raw,ue.text+=`
`+q.text,this.inlineQueue[this.inlineQueue.length-1].src=ue.text):R.push(q);continue}if(q=this.tokenizer.fences(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.heading(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.hr(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.blockquote(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.list(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.html(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.def(P)){P=P.substring(q.raw.length),ue=R[R.length-1],ue&&(ue.type==="paragraph"||ue.type==="text")?(ue.raw+=`
`+q.raw,ue.text+=`
`+q.raw,this.inlineQueue[this.inlineQueue.length-1].src=ue.text):this.tokens.links[q.tag]||(this.tokens.links[q.tag]={href:q.href,title:q.title});continue}if(q=this.tokenizer.table(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.lheading(P)){P=P.substring(q.raw.length),R.push(q);continue}if(ve=P,this.options.extensions&&this.options.extensions.startBlock&&function(){var ke=1/0,Ke=P.slice(1),Ct=void 0;j.options.extensions.startBlock.forEach(function(kt){Ct=kt.call({lexer:this},Ke),typeof Ct=="number"&&Ct>=0&&(ke=Math.min(ke,Ct))}),ke<1/0&&ke>=0&&(ve=P.substring(0,ke+1))}(),this.state.top&&(q=this.tokenizer.paragraph(ve))){ue=R[R.length-1],Ze&&ue.type==="paragraph"?(ue.raw+=`
`+q.raw,ue.text+=`
`+q.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ue.text):R.push(q),Ze=ve.length!==P.length,P=P.substring(q.raw.length);continue}if(q=this.tokenizer.text(P)){P=P.substring(q.raw.length),ue=R[R.length-1],ue&&ue.type==="text"?(ue.raw+=`
`+q.raw,ue.text+=`
`+q.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ue.text):R.push(q);continue}if(P){var ne="Infinite loop on byte: "+P.charCodeAt(0);if(this.options.silent){console.error(ne);break}else throw new Error(ne)}}return this.state.top=!0,R},X.inline=function(P,R){this.inlineQueue.push({src:P,tokens:R})},X.inlineTokens=function(P,R){var j=this;R===void 0&&(R=[]);var q,ue,ve,Ze=P,ne,ke,Ke;if(this.tokens.links){var Ct=Object.keys(this.tokens.links);if(Ct.length>0)for(;(ne=this.tokenizer.rules.inline.reflinkSearch.exec(Ze))!=null;)Ct.includes(ne[0].slice(ne[0].lastIndexOf("[")+1,-1))&&(Ze=Ze.slice(0,ne.index)+"["+Me("a",ne[0].length-2)+"]"+Ze.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ne=this.tokenizer.rules.inline.blockSkip.exec(Ze))!=null;)Ze=Ze.slice(0,ne.index)+"["+Me("a",ne[0].length-2)+"]"+Ze.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ne=this.tokenizer.rules.inline.escapedEmSt.exec(Ze))!=null;)Ze=Ze.slice(0,ne.index)+"++"+Ze.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;P;)if(ke||(Ke=""),ke=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(pt){return(q=pt.call({lexer:j},P,R))?(P=P.substring(q.raw.length),R.push(q),!0):!1}))){if(q=this.tokenizer.escape(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.tag(P)){P=P.substring(q.raw.length),ue=R[R.length-1],ue&&q.type==="text"&&ue.type==="text"?(ue.raw+=q.raw,ue.text+=q.text):R.push(q);continue}if(q=this.tokenizer.link(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.reflink(P,this.tokens.links)){P=P.substring(q.raw.length),ue=R[R.length-1],ue&&q.type==="text"&&ue.type==="text"?(ue.raw+=q.raw,ue.text+=q.text):R.push(q);continue}if(q=this.tokenizer.emStrong(P,Ze,Ke)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.codespan(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.br(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.del(P)){P=P.substring(q.raw.length),R.push(q);continue}if(q=this.tokenizer.autolink(P,_e)){P=P.substring(q.raw.length),R.push(q);continue}if(!this.state.inLink&&(q=this.tokenizer.url(P,_e))){P=P.substring(q.raw.length),R.push(q);continue}if(ve=P,this.options.extensions&&this.options.extensions.startInline&&function(){var pt=1/0,Qt=P.slice(1),Zt=void 0;j.options.extensions.startInline.forEach(function(vn){Zt=vn.call({lexer:this},Qt),typeof Zt=="number"&&Zt>=0&&(pt=Math.min(pt,Zt))}),pt<1/0&&pt>=0&&(ve=P.substring(0,pt+1))}(),q=this.tokenizer.inlineText(ve,_t)){P=P.substring(q.raw.length),q.raw.slice(-1)!=="_"&&(Ke=q.raw.slice(-1)),ke=!0,ue=R[R.length-1],ue&&ue.type==="text"?(ue.raw+=q.raw,ue.text+=q.text):R.push(q);continue}if(P){var kt="Infinite loop on byte: "+P.charCodeAt(0);if(this.options.silent){console.error(kt);break}else throw new Error(kt)}}return R},i(ie,null,[{key:"rules",get:function(){return{block:De,inline:pe}}}]),ie}(),ye=function(){function ie(Q){this.options=Q||e.defaults}var X=ie.prototype;return X.code=function(P,R,j){var q=(R||"").match(/\S*/)[0];if(this.options.highlight){var ue=this.options.highlight(P,q);ue!=null&&ue!==P&&(j=!0,P=ue)}return P=P.replace(/\n$/,"")+`
`,q?'<pre><code class="'+this.options.langPrefix+m(q,!0)+'">'+(j?P:m(P,!0))+`</code></pre>
`:"<pre><code>"+(j?P:m(P,!0))+`</code></pre>
`},X.blockquote=function(P){return`<blockquote>
`+P+`</blockquote>
`},X.html=function(P){return P},X.heading=function(P,R,j,q){if(this.options.headerIds){var ue=this.options.headerPrefix+q.slug(j);return"<h"+R+' id="'+ue+'">'+P+"</h"+R+`>
`}return"<h"+R+">"+P+"</h"+R+`>
`},X.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},X.list=function(P,R,j){var q=R?"ol":"ul",ue=R&&j!==1?' start="'+j+'"':"";return"<"+q+ue+`>
`+P+"</"+q+`>
`},X.listitem=function(P){return"<li>"+P+`</li>
`},X.checkbox=function(P){return"<input "+(P?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},X.paragraph=function(P){return"<p>"+P+`</p>
`},X.table=function(P,R){return R&&(R="<tbody>"+R+"</tbody>"),`<table>
<thead>
`+P+`</thead>
`+R+`</table>
`},X.tablerow=function(P){return`<tr>
`+P+`</tr>
`},X.tablecell=function(P,R){var j=R.header?"th":"td",q=R.align?"<"+j+' align="'+R.align+'">':"<"+j+">";return q+P+("</"+j+`>
`)},X.strong=function(P){return"<strong>"+P+"</strong>"},X.em=function(P){return"<em>"+P+"</em>"},X.codespan=function(P){return"<code>"+P+"</code>"},X.br=function(){return this.options.xhtml?"<br/>":"<br>"},X.del=function(P){return"<del>"+P+"</del>"},X.link=function(P,R,j){if(P=T(this.options.sanitize,this.options.baseUrl,P),P===null)return j;var q='<a href="'+m(P)+'"';return R&&(q+=' title="'+R+'"'),q+=">"+j+"</a>",q},X.image=function(P,R,j){if(P=T(this.options.sanitize,this.options.baseUrl,P),P===null)return j;var q='<img src="'+P+'" alt="'+j+'"';return R&&(q+=' title="'+R+'"'),q+=this.options.xhtml?"/>":">",q},X.text=function(P){return P},ie}(),We=function(){function ie(){}var X=ie.prototype;return X.strong=function(P){return P},X.em=function(P){return P},X.codespan=function(P){return P},X.del=function(P){return P},X.html=function(P){return P},X.text=function(P){return P},X.link=function(P,R,j){return""+j},X.image=function(P,R,j){return""+j},X.br=function(){return""},ie}(),gt=function(){function ie(){this.seen={}}var X=ie.prototype;return X.serialize=function(P){return P.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},X.getNextSafeSlug=function(P,R){var j=P,q=0;if(this.seen.hasOwnProperty(j)){q=this.seen[P];do q++,j=P+"-"+q;while(this.seen.hasOwnProperty(j))}return R||(this.seen[P]=q,this.seen[j]=0),j},X.slug=function(P,R){R===void 0&&(R={});var j=this.serialize(P);return this.getNextSafeSlug(j,R.dryrun)},ie}(),rt=function(){function ie(Q){this.options=Q||e.defaults,this.options.renderer=this.options.renderer||new ye,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new We,this.slugger=new gt}ie.parse=function(P,R){var j=new ie(R);return j.parse(P)},ie.parseInline=function(P,R){var j=new ie(R);return j.parseInline(P)};var X=ie.prototype;return X.parse=function(P,R){R===void 0&&(R=!0);var j="",q,ue,ve,Ze,ne,ke,Ke,Ct,kt,pt,Qt,Zt,vn,wi,bn,su,Ho,wl,sc,md=P.length;for(q=0;q<md;q++){if(pt=P[q],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[pt.type]&&(sc=this.options.extensions.renderers[pt.type].call({parser:this},pt),sc!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(pt.type))){j+=sc||"";continue}switch(pt.type){case"space":continue;case"hr":{j+=this.renderer.hr();continue}case"heading":{j+=this.renderer.heading(this.parseInline(pt.tokens),pt.depth,w(this.parseInline(pt.tokens,this.textRenderer)),this.slugger);continue}case"code":{j+=this.renderer.code(pt.text,pt.lang,pt.escaped);continue}case"table":{for(Ct="",Ke="",Ze=pt.header.length,ue=0;ue<Ze;ue++)Ke+=this.renderer.tablecell(this.parseInline(pt.header[ue].tokens),{header:!0,align:pt.align[ue]});for(Ct+=this.renderer.tablerow(Ke),kt="",Ze=pt.rows.length,ue=0;ue<Ze;ue++){for(ke=pt.rows[ue],Ke="",ne=ke.length,ve=0;ve<ne;ve++)Ke+=this.renderer.tablecell(this.parseInline(ke[ve].tokens),{header:!1,align:pt.align[ve]});kt+=this.renderer.tablerow(Ke)}j+=this.renderer.table(Ct,kt);continue}case"blockquote":{kt=this.parse(pt.tokens),j+=this.renderer.blockquote(kt);continue}case"list":{for(Qt=pt.ordered,Zt=pt.start,vn=pt.loose,Ze=pt.items.length,kt="",ue=0;ue<Ze;ue++)bn=pt.items[ue],su=bn.checked,Ho=bn.task,wi="",bn.task&&(wl=this.renderer.checkbox(su),vn?bn.tokens.length>0&&bn.tokens[0].type==="paragraph"?(bn.tokens[0].text=wl+" "+bn.tokens[0].text,bn.tokens[0].tokens&&bn.tokens[0].tokens.length>0&&bn.tokens[0].tokens[0].type==="text"&&(bn.tokens[0].tokens[0].text=wl+" "+bn.tokens[0].tokens[0].text)):bn.tokens.unshift({type:"text",text:wl}):wi+=wl),wi+=this.parse(bn.tokens,vn),kt+=this.renderer.listitem(wi,Ho,su);j+=this.renderer.list(kt,Qt,Zt);continue}case"html":{j+=this.renderer.html(pt.text);continue}case"paragraph":{j+=this.renderer.paragraph(this.parseInline(pt.tokens));continue}case"text":{for(kt=pt.tokens?this.parseInline(pt.tokens):pt.text;q+1<md&&P[q+1].type==="text";)pt=P[++q],kt+=`
`+(pt.tokens?this.parseInline(pt.tokens):pt.text);j+=R?this.renderer.paragraph(kt):kt;continue}default:{var ou='Token with "'+pt.type+'" type was not found.';if(this.options.silent){console.error(ou);return}else throw new Error(ou)}}}return j},X.parseInline=function(P,R){R=R||this.renderer;var j="",q,ue,ve,Ze=P.length;for(q=0;q<Ze;q++){if(ue=P[q],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ue.type]&&(ve=this.options.extensions.renderers[ue.type].call({parser:this},ue),ve!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ue.type))){j+=ve||"";continue}switch(ue.type){case"escape":{j+=R.text(ue.text);break}case"html":{j+=R.html(ue.text);break}case"link":{j+=R.link(ue.href,ue.title,this.parseInline(ue.tokens,R));break}case"image":{j+=R.image(ue.href,ue.title,ue.text);break}case"strong":{j+=R.strong(this.parseInline(ue.tokens,R));break}case"em":{j+=R.em(this.parseInline(ue.tokens,R));break}case"codespan":{j+=R.codespan(ue.text);break}case"br":{j+=R.br();break}case"del":{j+=R.del(this.parseInline(ue.tokens,R));break}case"text":{j+=R.text(ue.text);break}default:{var ne='Token with "'+ue.type+'" type was not found.';if(this.options.silent){console.error(ne);return}else throw new Error(ne)}}}return j},ie}();function Fe(ie,X,Q){if(typeof ie=="undefined"||ie===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ie!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ie)+", string expected");if(typeof X=="function"&&(Q=X,X=null),X=te({},Fe.defaults,X||{}),be(X),Q){var P=X.highlight,R;try{R=Ge.lex(ie,X)}catch(ve){return Q(ve)}var j=function(Ze){var ne;if(!Ze)try{X.walkTokens&&Fe.walkTokens(R,X.walkTokens),ne=rt.parse(R,X)}catch(ke){Ze=ke}return X.highlight=P,Ze?Q(Ze):Q(null,ne)};if(!P||P.length<3||(delete X.highlight,!R.length))return j();var q=0;Fe.walkTokens(R,function(ve){ve.type==="code"&&(q++,setTimeout(function(){P(ve.text,ve.lang,function(Ze,ne){if(Ze)return j(Ze);ne!=null&&ne!==ve.text&&(ve.text=ne,ve.escaped=!0),q--,q===0&&j()})},0))}),q===0&&j();return}try{var ue=Ge.lex(ie,X);return X.walkTokens&&Fe.walkTokens(ue,X.walkTokens),rt.parse(ue,X)}catch(ve){if(ve.message+=`
Please report this to https://github.com/markedjs/marked.`,X.silent)return"<p>An error occurred:</p><pre>"+m(ve.message+"",!0)+"</pre>";throw ve}}Fe.options=Fe.setOptions=function(ie){return te(Fe.defaults,ie),l(Fe.defaults),Fe},Fe.getDefaults=a,Fe.defaults=e.defaults,Fe.use=function(){for(var ie=arguments.length,X=new Array(ie),Q=0;Q<ie;Q++)X[Q]=arguments[Q];var P=te.apply(void 0,[{}].concat(X)),R=Fe.defaults.extensions||{renderers:{},childTokens:{}},j;X.forEach(function(q){if(q.extensions&&(j=!0,q.extensions.forEach(function(ve){if(!ve.name)throw new Error("extension name required");if(ve.renderer){var Ze=R.renderers?R.renderers[ve.name]:null;Ze?R.renderers[ve.name]=function(){for(var ne=arguments.length,ke=new Array(ne),Ke=0;Ke<ne;Ke++)ke[Ke]=arguments[Ke];var Ct=ve.renderer.apply(this,ke);return Ct===!1&&(Ct=Ze.apply(this,ke)),Ct}:R.renderers[ve.name]=ve.renderer}if(ve.tokenizer){if(!ve.level||ve.level!=="block"&&ve.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");R[ve.level]?R[ve.level].unshift(ve.tokenizer):R[ve.level]=[ve.tokenizer],ve.start&&(ve.level==="block"?R.startBlock?R.startBlock.push(ve.start):R.startBlock=[ve.start]:ve.level==="inline"&&(R.startInline?R.startInline.push(ve.start):R.startInline=[ve.start]))}ve.childTokens&&(R.childTokens[ve.name]=ve.childTokens)})),q.renderer&&function(){var ve=Fe.defaults.renderer||new ye,Ze=function(Ke){var Ct=ve[Ke];ve[Ke]=function(){for(var kt=arguments.length,pt=new Array(kt),Qt=0;Qt<kt;Qt++)pt[Qt]=arguments[Qt];var Zt=q.renderer[Ke].apply(ve,pt);return Zt===!1&&(Zt=Ct.apply(ve,pt)),Zt}};for(var ne in q.renderer)Ze(ne);P.renderer=ve}(),q.tokenizer&&function(){var ve=Fe.defaults.tokenizer||new ot,Ze=function(Ke){var Ct=ve[Ke];ve[Ke]=function(){for(var kt=arguments.length,pt=new Array(kt),Qt=0;Qt<kt;Qt++)pt[Qt]=arguments[Qt];var Zt=q.tokenizer[Ke].apply(ve,pt);return Zt===!1&&(Zt=Ct.apply(ve,pt)),Zt}};for(var ne in q.tokenizer)Ze(ne);P.tokenizer=ve}(),q.walkTokens){var ue=Fe.defaults.walkTokens;P.walkTokens=function(ve){q.walkTokens.call(this,ve),ue&&ue.call(this,ve)}}j&&(P.extensions=R),Fe.setOptions(P)})},Fe.walkTokens=function(ie,X){for(var Q=function(){var q=R.value;switch(X.call(Fe,q),q.type){case"table":{for(var ue=r(q.header),ve;!(ve=ue()).done;){var Ze=ve.value;Fe.walkTokens(Ze.tokens,X)}for(var ne=r(q.rows),ke;!(ke=ne()).done;)for(var Ke=ke.value,Ct=r(Ke),kt;!(kt=Ct()).done;){var pt=kt.value;Fe.walkTokens(pt.tokens,X)}break}case"list":{Fe.walkTokens(q.items,X);break}default:Fe.defaults.extensions&&Fe.defaults.extensions.childTokens&&Fe.defaults.extensions.childTokens[q.type]?Fe.defaults.extensions.childTokens[q.type].forEach(function(Qt){Fe.walkTokens(q[Qt],X)}):q.tokens&&Fe.walkTokens(q.tokens,X)}},P=r(ie),R;!(R=P()).done;)Q()},Fe.parseInline=function(ie,X){if(typeof ie=="undefined"||ie===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ie!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ie)+", string expected");X=te({},Fe.defaults,X||{}),be(X);try{var Q=Ge.lexInline(ie,X);return X.walkTokens&&Fe.walkTokens(Q,X.walkTokens),rt.parseInline(Q,X)}catch(P){if(P.message+=`
Please report this to https://github.com/markedjs/marked.`,X.silent)return"<p>An error occurred:</p><pre>"+m(P.message+"",!0)+"</pre>";throw P}},Fe.Parser=rt,Fe.parser=rt.parse,Fe.Renderer=ye,Fe.TextRenderer=We,Fe.Lexer=Ge,Fe.lexer=Ge.lex,Fe.Tokenizer=ot,Fe.Slugger=gt,Fe.parse=Fe;var ht=Fe.options,ee=Fe.setOptions,le=Fe.use,Ce=Fe.walkTokens,$e=Fe.parseInline,Be=Fe,tt=rt.parse,ft=Ge.lex;e.Lexer=Ge,e.Parser=rt,e.Renderer=ye,e.Slugger=gt,e.TextRenderer=We,e.Tokenizer=ot,e.getDefaults=a,e.lexer=ft,e.marked=Fe,e.options=ht,e.parse=Be,e.parseInline=$e,e.parser=tt,e.setOptions=ee,e.use=le,e.walkTokens=Ce,Object.defineProperty(e,"__esModule",{value:!0})})})();var xG=Eoe||exports;function N4t(n,e={},t={}){var i;const s=new Ie;let o=!1;const r=MF(e),a=function(m){let b;try{b=cL(decodeURIComponent(m))}catch{}return b?(b=$J(b,w=>{if(n.uris&&n.uris[w])return bt.revive(n.uris[w])}),encodeURIComponent(JSON.stringify(b))):m},l=function(m,b){const w=n.uris&&n.uris[m];let y=bt.revive(w);return b?m.startsWith(Vt.data+":")?m:(y||(y=bt.parse(m)),Yee.asBrowserUri(y).toString(!0)):!y||bt.parse(m).toString()===y.toString()?m:(y.query&&(y=y.with({query:a(y.query)})),y.toString())},c=new xG.Renderer;c.image=(m,b,w)=>{let y=[],L=[];return m&&({href:m,dimensions:y}=x_t(m),L.push(`src="${s3(m)}"`)),w&&L.push(`alt="${s3(w)}"`),b&&L.push(`title="${s3(b)}"`),y.length&&(L=L.concat(y)),"<img "+L.join(" ")+">"},c.link=(m,b,w)=>typeof m!="string"?"":(m===w&&(w=OI(w)),b=typeof b=="string"?s3(OI(b)):"",m=OI(m),m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${m}" title="${b||m}">${w}</a>`),c.paragraph=m=>`<p>${m}</p>`;const u=[];if(e.codeBlockRenderer&&(c.code=(m,b)=>{const w=gne.nextId(),y=e.codeBlockRenderer(b!=null?b:"",m);return u.push(y.then(L=>[w,L])),`<div class="code" data-code="${w}">${jO(m)}</div>`}),e.actionHandler){const m=e.actionHandler.disposables.add(new Yi(r,"click")),b=e.actionHandler.disposables.add(new Yi(r,"auxclick"));e.actionHandler.disposables.add(ct.any(m.event,b.event)(w=>{const y=new Pu(w);if(!y.leftButton&&!y.middleButton)return;let L=y.target;if(!(L.tagName!=="A"&&(L=L.parentElement,!L||L.tagName!=="A")))try{let D=L.dataset.href;D&&(n.baseUri&&(D=LT(bt.from(n.baseUri),D)),e.actionHandler.callback(D,y))}catch(D){Ot(D)}finally{y.preventDefault()}}))}n.supportHtml||(t.sanitizer=m=>(n.isTrusted?m.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?m:"",t.sanitize=!0,t.silent=!0),t.renderer=c;let d=(i=n.value)!==null&&i!==void 0?i:"";d.length>1e5&&(d=`${d.substr(0,1e5)}\u2026`),n.supportThemeIcons&&(d=w_t(d));let h=xG.parse(d,t);n.supportThemeIcons&&(h=bm(h).map(b=>typeof b=="string"?b:b.outerHTML).join(""));const p=new DOMParser().parseFromString(DG(n,h),"text/html");if(p.body.querySelectorAll("img").forEach(m=>{const b=m.getAttribute("src");if(b){let w=b;try{n.baseUri&&(w=LT(bt.from(n.baseUri),w))}catch{}m.src=l(w,!0)}}),p.body.querySelectorAll("a").forEach(m=>{const b=m.getAttribute("href");if(m.setAttribute("href",""),!b||/^data:|javascript:/i.test(b)||/^command:/i.test(b)&&!n.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(b))m.replaceWith(...m.childNodes);else{let w=l(b,!1);n.baseUri&&(w=LT(bt.from(n.baseUri),b)),m.dataset.href=w}}),r.innerHTML=DG(n,p.body.innerHTML),u.length>0&&Promise.all(u).then(m=>{var b,w;if(o)return;const y=new Map(m),L=r.querySelectorAll("div[data-code]");for(const D of L){const E=y.get((b=D.dataset.code)!==null&&b!==void 0?b:"");E&&xg(D,E)}(w=e.asyncRenderCallback)===null||w===void 0||w.call(e)}),e.asyncRenderCallback)for(const m of r.getElementsByTagName("img")){const b=s.add(xe(m,"load",()=>{b.dispose(),e.asyncRenderCallback()}))}return{element:r,dispose:()=>{o=!0,s.dispose()}}}function LT(n,e){return/^\w[\w\d+.-]*:/.test(e)?e:n.path.endsWith("/")?gK(n,e).toString():gK(x5(n),e).toString()}function DG(n,e){const{config:t,allowedSchemes:i}=M4t(n);Kee("uponSanitizeAttribute",(o,r)=>{if(r.attrName==="style"||r.attrName==="class"){if(o.tagName==="SPAN"){if(r.attrName==="style"){r.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(r.attrValue);return}else if(r.attrName==="class"){r.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(r.attrValue);return}}r.keepAttr=!1;return}});const s=Yct(i);try{return Mct(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{qee("uponSanitizeAttribute"),s.dispose()}}function M4t(n){const e=[Vt.http,Vt.https,Vt.mailto,Vt.data,Vt.file,Vt.vscodeFileResource,Vt.vscodeRemote,Vt.vscodeRemoteResource];return n.isTrusted&&e.push(Vt.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}var A4t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},kG=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},R4t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},xT;let Vh=class Ioe{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new J,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const s=new Ie;return{element:s.add(N4t(e,Object.assign(Object.assign({},this._getRenderOptions(e,s)),t),i)).element,dispose:()=>s.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:(i,s)=>R4t(this,void 0,void 0,function*(){var o,r,a;let l;i?l=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(l=(o=this._options.editor.getModel())===null||o===void 0?void 0:o.getLanguageId()),l||(l=ol);const c=yield lmt(this._languageService,s,l),u=document.createElement("span");if(u.innerHTML=(a=(r=Ioe._ttpTokenizer)===null||r===void 0?void 0:r.createHTML(c))!==null&&a!==void 0?a:c,this._options.editor){const d=this._options.editor.getOption(46);bo(u,d)}else this._options.codeBlockFontFamily&&(u.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(u.style.fontSize=this._options.codeBlockFontSize),u}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>this._openerService.open(i,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(Ot),disposables:t}}}};Vh._ttpTokenizer=(xT=window.trustedTypes)===null||xT===void 0?void 0:xT.createPolicy("tokenizeToString",{createHTML(n){return n}});Vh=A4t([kG(1,In),kG(2,_l)],Vh);const EG=Ne;class B1 extends de{constructor(e,t,i=s0t){super(),this._renderDisposeables=this._register(new Ie),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new voe),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Vh({editor:this._editor},t,i)),this._computer=new O4t(this._editor),this._hoverOperation=this._register(new boe(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(46)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return B1.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const s of t){const o=EG("div.hover-row.markdown-hover"),r=Le(o,EG("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(s.value));r.appendChild(a.element),i.appendChild(o)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),s=this._editor.getScrollTop(),o=this._editor.getOption(61),r=this._hover.containerDomNode.clientHeight,a=i-s-(r-o)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(a),0)}px`}}B1.ID="editor.contrib.modesGlyphHoverWidget";class O4t{constructor(e){this._editor=e,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}computeSync(){const e=s=>({value:s}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(const s of t){if(!s.options.glyphMarginClassName)continue;const o=s.options.glyphMarginHoverMessage;!o||Lv(o)||i.push(...PO(o).map(e))}return i}}var P4t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class F4t{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}}function B4t(n,e,t,i,s){return P4t(this,void 0,void 0,function*(){try{const o=yield Promise.resolve(n.provideHover(t,i,s));if(o&&W4t(o))return new F4t(n,o,e)}catch(o){$s(o)}})}function EB(n,e,t,i){const o=n.ordered(e).map((r,a)=>B4t(r,a,e,t,i));return ts.fromPromises(o).coalesce()}function V4t(n,e,t,i){return EB(n,e,t,i).map(s=>s.hover).toPromise()}dd("_executeHoverProvider",(n,e,t)=>{const i=n.get(st);return V4t(i.hoverProvider,e,t,Yt.None)});function W4t(n){const e=typeof n.range!="undefined",t=typeof n.contents!="undefined"&&n.contents&&n.contents.length>0;return e&&t}var H4t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},y3=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const IG=Ne;class Mu{constructor(e,t,i,s){this.owner=e,this.range=t,this.contents=i,this.ordinal=s}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let NL=class{constructor(e,t,i,s,o){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=s,this._languageFeaturesService=o,this.hoverOrdinal=2}createLoadingMessage(e){return new Mu(this,e.range,[new ur().appendText(v("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),s=e.range.startLineNumber,o=i.getLineMaxColumn(s),r=[];let a=1e3;const l=i.getLineLength(s),c=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),u=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:c});typeof u=="number"&&l>=u&&r.push(new Mu(this,e.range,[{value:v("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],a++));for(const d of t){const h=d.range.startLineNumber===s?d.range.startColumn:1,f=d.range.endLineNumber===s?d.range.endColumn:o,p=d.options.hoverMessage;if(!p||Lv(p))continue;const m=new A(e.range.startLineNumber,h,e.range.startLineNumber,f);r.push(new Mu(this,m,PO(p),a++))}return r}computeAsync(e,t,i){if(!this._editor.hasModel()||e.type!==1)return ts.EMPTY;const s=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(s))return ts.EMPTY;const o=new oe(e.range.startLineNumber,e.range.startColumn);return EB(this._languageFeaturesService.hoverProvider,s,o,i).filter(r=>!Lv(r.hover.contents)).map(r=>{const a=r.hover.range?A.lift(r.hover.range):e.range;return new Mu(this,a,r.hover.contents,r.ordinal)})}renderHoverParts(e,t){return Toe(e,t,this._editor,this._languageService,this._openerService)}};NL=H4t([y3(1,In),y3(2,_l),y3(3,Ci),y3(4,st)],NL);function Toe(n,e,t,i,s){e.sort((r,a)=>r.ordinal-a.ordinal);const o=new Ie;for(const r of e)for(const a of r.contents){if(Lv(a))continue;const l=IG("div.hover-row.markdown-hover"),c=Le(l,IG("div.hover-contents")),u=o.add(new Vh({editor:t},i,s));o.add(u.onDidRenderAsync(()=>{c.className="hover-contents code-hover-contents",n.onContentsChanged()}));const d=o.add(u.render(a));c.appendChild(d.element),n.fragment.appendChild(l)}return o}var Noe=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ML=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class TG{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let d7=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new J,this.onDidChange=this._onDidChange.event,this._dispoables=new Ie,this._markers=[],this._nextIdx=-1,bt.isUri(e)?this._resourceFilter=a=>a.toString()===e.toString():e&&(this._resourceFilter=e);const s=this._configService.getValue("problems.sortOrder"),o=(a,l)=>{let c=ew(a.resource.toString(),l.resource.toString());return c===0&&(s==="position"?c=A.compareRangesUsingStarts(a,l)||En.compare(a.severity,l.severity):c=En.compare(a.severity,l.severity)||A.compareRangesUsingStarts(a,l)),c},r=()=>{this._markers=this._markerService.read({resource:bt.isUri(e)?e:void 0,severities:En.Error|En.Warning|En.Info}),typeof e=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(o)};r(),this._dispoables.add(t.onMarkerChanged(a=>{(!this._resourceFilter||a.some(l=>this._resourceFilter(l)))&&(r(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new TG(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let s=!1,o=this._markers.findIndex(r=>r.resource.toString()===e.uri.toString());o<0&&(o=OO(this._markers,{resource:e.uri},(r,a)=>ew(r.resource.toString(),a.resource.toString())),o<0&&(o=~o));for(let r=o;r<this._markers.length;r++){let a=A.lift(this._markers[r]);if(a.isEmpty()){const l=e.getWordAtPosition(a.getStartPosition());l&&(a=new A(a.startLineNumber,l.startColumn,a.startLineNumber,l.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=r,s=!0;break}if(this._markers[r].resource.toString()!==e.uri.toString())break}s||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(this._markers.length===0)return!1;const s=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),s!==this._nextIdx}find(e,t){let i=this._markers.findIndex(s=>s.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(A.containsPosition(this._markers[i],t))return new TG(this._markers[i],i+1,this._markers.length)}}};d7=Noe([ML(1,hd),ML(2,Ci)],d7);const Moe=ui("IMarkerNavigationService");let h7=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new Yo}getMarkerList(e){for(const t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new d7(e,this._markerService,this._configService)}};h7=Noe([ML(0,hd),ML(1,Ci)],h7);gi(Moe,h7,!0);var f7;(function(n){function e(t){switch(t){case xn.Ignore:return"severity-ignore "+C.info.classNames;case xn.Info:return C.info.classNames;case xn.Warning:return C.warning.classNames;case xn.Error:return C.error.classNames;default:return""}}n.className=e})(f7||(f7={}));ln((n,e)=>{const t=n.getColor($dt);if(t){const o=C.error.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.text-search-provider-messages .providerMessage ${o},
			.extensions-viewlet > .extensions ${o} {
				color: ${t};
			}
		`)}const i=n.getColor(zdt);if(i){const o=C.warning.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.extension-editor ${o},
			.text-search-provider-messages .providerMessage ${o},
			.preferences-editor ${o} {
				color: ${i};
			}
		`)}const s=n.getColor(Udt);if(s){const o=C.info.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.text-search-provider-messages .providerMessage ${o},
			.extension-editor ${o} {
				color: ${s};
			}
		`)}});var $4t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},y0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class z4t{constructor(e,t,i,s,o){this._openerService=s,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Ie,this._editor=t;const r=document.createElement("div");r.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),r.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),r.appendChild(this._relatedBlock),this._disposables.add(Ns(this._relatedBlock,"click",a=>{a.preventDefault();const l=this._relatedDiagnostics.get(a.target);l&&i(l)})),this._scrollable=new Xte(r,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{r.style.left=`-${a.scrollLeft}px`,r.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){vi(this._disposables)}update(e){const{source:t,message:i,relatedInformation:s,code:o}=e;let r=((t==null?void 0:t.length)||0)+2;o&&(typeof o=="string"?r+=o.length:r+=o.value.length);const a=Ju(i);this._lines=a.length,this._longestLineLength=0;for(const h of a)this._longestLineLength=Math.max(h.length+r,this._longestLineLength);xs(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(const h of a)l=document.createElement("div"),l.innerText=h,h===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(t||o){const h=document.createElement("span");if(h.classList.add("details"),l.appendChild(h),t){const f=document.createElement("span");f.innerText=t,f.classList.add("source"),h.appendChild(f)}if(o)if(typeof o=="string"){const f=document.createElement("span");f.innerText=`(${o})`,f.classList.add("code"),h.appendChild(f)}else{this._codeLink=Ne("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=p=>{this._openerService.open(o.target,{allowCommands:!0}),p.preventDefault(),p.stopPropagation()};const f=Le(this._codeLink,Ne("span"));f.innerText=o.value,h.appendChild(this._codeLink)}}if(xs(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),vo(s)){const h=this._relatedBlock.appendChild(document.createElement("div"));h.style.paddingTop=`${Math.floor(this._editor.getOption(61)*.66)}px`,this._lines+=1;for(const f of s){const p=document.createElement("div"),m=document.createElement("a");m.classList.add("filename"),m.innerText=`${this._labelService.getUriBasenameLabel(f.resource)}(${f.startLineNumber}, ${f.startColumn}): `,m.title=this._labelService.getUriLabel(f.resource),this._relatedDiagnostics.set(m,f);const b=document.createElement("span");b.innerText=f.message,p.appendChild(m),p.appendChild(b),this._lines+=1,h.appendChild(p)}}const c=this._editor.getOption(46),u=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),d=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:u,scrollHeight:d})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case En.Error:t=v("Error","Error");break;case En.Warning:t=v("Warning","Warning");break;case En.Info:t=v("Info","Info");break;case En.Hint:t=v("Hint","Hint");break}let i=v("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const s=this._editor.getModel();return s&&e.startLineNumber<=s.getLineCount()&&e.startLineNumber>=1&&(i=`${s.getLineContent(e.startLineNumber)}, ${i}`),i}}let Rv=class Aoe extends kL{constructor(e,t,i,s,o,r,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o),this._themeService=t,this._openerService=i,this._menuService=s,this._contextKeyService=r,this._labelService=a,this._callOnDispose=new Ie,this._onDidSelectRelatedInformation=new J,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=En.Warning,this._backgroundColor=re.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(q4t);let t=g7,i=U4t;this._severity===En.Warning?(t=k6,i=j4t):this._severity===En.Info&&(t=p7,i=K4t);const s=e.getColor(t),o=e.getColor(i);this.style({arrowColor:s,frameColor:s,headerBackgroundColor:o,primaryHeadingColor:e.getColor(Jse),secondaryHeadingColor:e.getColor(eoe)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(s=>this.editor.focus()));const t=[],i=this._menuService.createMenu(Aoe.TitleMenu,this._contextKeyService);Yyt(i,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=Le(e,Ne(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new z4t(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const s=A.lift(e),o=this.editor.getPosition(),r=o&&s.containsPosition(o)?o:s.getStartPosition();super.show(r,this.computeRequiredHeight());const a=this.editor.getModel();if(a){const l=i>1?v("problems","{0} of {1} problems",t,i):v("change","{0} of {1} problem",t,i);this.setTitle(hl(a.uri),l)}this._icon.className=`codicon ${f7.className(En.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(r,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Rv.TitleMenu=new Y("gotoErrorTitleMenu");Rv=$4t([y0(1,Qi),y0(2,_l),y0(3,k_),y0(4,Bt),y0(5,At),y0(6,xv)],Rv);const NG=mw(Bu,yte),MG=mw(ha,gv),AG=mw(mr,M8),g7=U("editorMarkerNavigationError.background",{dark:NG,light:NG,hcDark:Kt,hcLight:Kt},v("editorMarkerNavigationError","Editor marker navigation widget error color.")),U4t=U("editorMarkerNavigationError.headerBackground",{dark:ut(g7,.1),light:ut(g7,.1),hcDark:null,hcLight:null},v("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),k6=U("editorMarkerNavigationWarning.background",{dark:MG,light:MG,hcDark:Kt,hcLight:Kt},v("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),j4t=U("editorMarkerNavigationWarning.headerBackground",{dark:ut(k6,.1),light:ut(k6,.1),hcDark:"#0C141F",hcLight:ut(k6,.2)},v("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),p7=U("editorMarkerNavigationInfo.background",{dark:AG,light:AG,hcDark:Kt,hcLight:Kt},v("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),K4t=U("editorMarkerNavigationInfo.headerBackground",{dark:ut(p7,.1),light:ut(p7,.1),hcDark:null,hcLight:null},v("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),q4t=U("editorMarkerNavigation.background",{dark:Ss,light:Ss,hcDark:Ss,hcLight:Ss},v("editorMarkerNavigationBackground","Editor marker navigation widget background."));var G4t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},S3=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Roe=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let Bg=class E6{constructor(e,t,i,s,o){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=s,this._instantiationService=o,this._sessionDispoables=new Ie,this._editor=e,this._widgetVisible=Ooe.bindTo(this._contextKeyService)}static get(e){return e.getContribution(E6.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Rv,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(i=>{var s,o,r;(!(!((s=this._model)===null||s===void 0)&&s.selected)||!A.containsPosition((o=this._model)===null||o===void 0?void 0:o.selected.marker,i.position))&&((r=this._model)===null||r===void 0||r.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const i=this._model.find(this._editor.getModel().uri,this._widget.position);i?this._widget.updateMarker(i.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(i=>{this._editorService.openCodeEditor({resource:i.resource,options:{pinned:!0,revealIfOpened:!0,selection:A.lift(i).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new oe(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){var i,s;return Roe(this,void 0,void 0,function*(){if(this._editor.hasModel()){const o=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(o.move(e,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const r=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);r&&((i=E6.get(r))===null||i===void 0||i.close(),(s=E6.get(r))===null||s===void 0||s.nagivate(e,t))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}})}};Bg.ID="editor.contrib.markerController";Bg=G4t([S3(1,Moe),S3(2,At),S3(3,Ei),S3(4,Bt)],Bg);class uD extends nt{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}run(e,t){var i;return Roe(this,void 0,void 0,function*(){t.hasModel()&&((i=Bg.get(t))===null||i===void 0||i.nagivate(this._next,this._multiFile))})}}class fg extends uD{constructor(){super(!0,!1,{id:fg.ID,label:fg.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:578,weight:100},menuOpts:{menuId:Rv.TitleMenu,title:fg.LABEL,icon:ms("marker-navigation-next",C.arrowDown,v("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}fg.ID="editor.action.marker.next";fg.LABEL=v("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Lm extends uD{constructor(){super(!1,!1,{id:Lm.ID,label:Lm.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:1602,weight:100},menuOpts:{menuId:Rv.TitleMenu,title:Lm.LABEL,icon:ms("marker-navigation-previous",C.arrowUp,v("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Lm.ID="editor.action.marker.prev";Lm.LABEL=v("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class Y4t extends uD{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:v("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:66,weight:100},menuOpts:{menuId:Y.MenubarGoMenu,title:v({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class Z4t extends uD{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:v("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:1090,weight:100},menuOpts:{menuId:Y.MenubarGoMenu,title:v({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}mi(Bg.ID,Bg);Pe(fg);Pe(Lm);Pe(Y4t);Pe(Z4t);const Ooe=new et("markersNavigationVisible",!1),X4t=Ys.bindToContribution(Bg.get);Ae(new X4t({id:"closeMarkersNavigation",precondition:Ooe,handler:n=>n.close(),kbOpts:{weight:100+50,kbExpr:z.focus,primary:9,secondary:[1033]}}));var Q4t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},DT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const Ml=Ne;class J4t{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const RG={type:1,filter:{include:ci.QuickFix},triggerAction:Vo.QuickFixHover};let m7=class{constructor(e,t,i,s){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=s,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),s=e.range.startLineNumber,o=i.getLineMaxColumn(s),r=[];for(const a of t){const l=a.range.startLineNumber===s?a.range.startColumn:1,c=a.range.endLineNumber===s?a.range.endColumn:o,u=this._markerDecorationsService.getMarker(i.uri,a);if(!u)continue;const d=new A(e.range.startLineNumber,l,e.range.startLineNumber,c);r.push(new J4t(this,d,u))}return r}renderHoverParts(e,t){if(!t.length)return de.None;const i=new Ie;t.forEach(o=>e.fragment.appendChild(this.renderMarkerHover(o,i)));const s=t.length===1?t[0]:t.sort((o,r)=>En.compare(o.marker.severity,r.marker.severity))[0];return this.renderMarkerStatusbar(e,s,i),i}renderMarkerHover(e,t){const i=Ml("div.hover-row"),s=Le(i,Ml("div.marker.hover-contents")),{source:o,message:r,code:a,relatedInformation:l}=e.marker;this._editor.applyFontInfo(s);const c=Le(s,Ml("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=r,o||a)if(a&&typeof a!="string"){const u=Ml("span");if(o){const p=Le(u,Ml("span"));p.innerText=o}const d=Le(u,Ml("a.code-link"));d.setAttribute("href",a.target.toString()),t.add(xe(d,"click",p=>{this._openerService.open(a.target,{allowCommands:!0}),p.preventDefault(),p.stopPropagation()}));const h=Le(d,Ml("span"));h.innerText=a.value;const f=Le(s,u);f.style.opacity="0.6",f.style.paddingLeft="6px"}else{const u=Le(s,Ml("span"));u.style.opacity="0.6",u.style.paddingLeft="6px",u.innerText=o&&a?`${o}(${a})`:o||`(${a})`}if(vo(l))for(const{message:u,resource:d,startLineNumber:h,startColumn:f}of l){const p=Le(s,Ml("div"));p.style.marginTop="8px";const m=Le(p,Ml("a"));m.innerText=`${hl(d)}(${h}, ${f}): `,m.style.cursor="pointer",t.add(xe(m,"click",w=>{w.stopPropagation(),w.preventDefault(),this._openerService&&this._openerService.open(d,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:h,startColumn:f}}}).catch(Ot)}));const b=Le(p,Ml("span"));b.innerText=u,this._editor.applyFontInfo(b)}return i}renderMarkerStatusbar(e,t,i){if((t.marker.severity===En.Error||t.marker.severity===En.Warning||t.marker.severity===En.Info)&&e.statusBar.addAction({label:v("view problem","View Problem"),commandId:fg.ID,run:()=>{var s;e.hide(),(s=Bg.get(this._editor))===null||s===void 0||s.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(83)){const s=e.statusBar.append(Ml("div"));this.recentMarkerCodeActionsInfo&&(hL.makeKey(this.recentMarkerCodeActionsInfo.marker)===hL.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(s.textContent=v("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?de.None:i.add(Pm(()=>s.textContent=v("checkingForQuickFixes","Checking for quick fixes..."),200));s.textContent||(s.textContent=String.fromCharCode(160));const r=this.getCodeActions(t.marker);i.add(jt(()=>r.cancel())),r.then(a=>{if(o.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),s.textContent=v("noQuickFixes","No quick fixes available");return}s.style.display="none";let l=!1;i.add(jt(()=>{l||a.dispose()})),e.statusBar.addAction({label:v("quick fixes","Quick Fix..."),commandId:d2.Id,run:c=>{l=!0;const u=Rg.get(this._editor),d=mo(c);e.hide(),u==null||u.showCodeActions(RG,a,{x:d.left+6,y:d.top+d.height+6,width:d.width,height:d.height})}})},Ot)}}getCodeActions(e){return Ws(t=>mB(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new A(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),RG,M_.None,t))}};m7=Q4t([DT(1,CP),DT(2,_l),DT(3,st)],m7);ln((n,e)=>{const t=n.getColor(h5);t&&e.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${t}; }`);const i=n.getColor(f5);i&&e.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${i}; }`)});var eSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},L3=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let Vg=class Poe{constructor(e,t,i,s,o){this._editor=e,this._instantiationService=t,this._openerService=i,this._languageService=s,this._toUnhook=new Ie,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(r=>{r.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())})}static get(e){return e.getContribution(Poe.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(55);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(i=>this._onEditorMouseDown(i))),this._toUnhook.add(this._editor.onMouseUp(i=>this._onEditorMouseUp(i))),this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))):(this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))),this._toUnhook.add(this._editor.onMouseLeave(i=>this._onEditorMouseLeave(i))),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(i=>this._onEditorScrollChanged(i)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target;if(t.type===9&&t.detail===Sm.ID){this._hoverClicked=!0;return}t.type===12&&t.detail===B1.ID||(t.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseLeave(e){var t;const i=e.event.browserEvent.relatedTarget;!((t=this._contentWidget)===null||t===void 0)&&t.containsNode(i)||this._hideWidgets()}_onEditorMouseMove(e){var t,i,s,o,r;const a=e.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&a.type===9&&a.detail===Sm.ID||this._isHoverSticky&&!(!((i=(t=e.event.browserEvent.view)===null||t===void 0?void 0:t.getSelection())===null||i===void 0)&&i.isCollapsed)||!this._isHoverSticky&&a.type===9&&a.detail===Sm.ID&&((s=this._contentWidget)===null||s===void 0?void 0:s.isColorPickerVisible())||this._isHoverSticky&&a.type===12&&a.detail===B1.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(e)){(o=this._glyphWidget)===null||o===void 0||o.hide();return}if(a.type===2&&a.position){(r=this._contentWidget)===null||r===void 0||r.hide(),this._glyphWidget||(this._glyphWidget=new B1(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(a.position.lineNumber);return}this._hideWidgets()}_onKeyDown(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var e,t,i;this._isMouseDown&&this._hoverClicked&&((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(i=this._contentWidget)===null||i===void 0||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(IL,this._editor)),this._contentWidget}isColorPickerVisible(){var e;return((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,i)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};Vg.ID="editor.contrib.hover";Vg=eSt([L3(1,Bt),L3(2,_l),L3(3,In),L3(4,At)],Vg);class tSt extends nt{constructor(){super({id:"editor.action.showHover",label:v({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;const i=Vg.get(t);if(!i)return;const s=t.getPosition(),o=new A(s.lineNumber,s.column,s.lineNumber,s.column),r=t.getOption(2)===2;i.showContentHover(o,1,r)}}class iSt extends nt{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:v({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const i=Vg.get(t);if(!i)return;const s=t.getPosition();if(!s)return;const o=new A(s.lineNumber,s.column,s.lineNumber,s.column),r=i_.get(t);if(!r)return;r.startFindDefinitionFromCursor(s).then(()=>{i.showContentHover(o,1,!0)})}}mi(Vg.ID,Vg);Pe(tSt);Pe(iSt);V_.register(NL);V_.register(m7);ln((n,e)=>{const t=n.getColor(jut);t&&e.addRule(`.monaco-editor .hoverHighlight { background-color: ${t}; }`);const i=n.getColor($m);i&&e.addRule(`.monaco-editor .monaco-hover { background-color: ${i}; }`);const s=n.getColor(OP);s&&(e.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${s.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${s.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${s.transparent(.5)}; }`));const o=n.getColor(h5);o&&e.addRule(`.monaco-editor .monaco-hover a { color: ${o}; }`);const r=n.getColor(f5);r&&e.addRule(`.monaco-editor .monaco-hover a:hover { color: ${r}; }`);const a=n.getColor(RP);a&&e.addRule(`.monaco-editor .monaco-hover { color: ${a}; }`);const l=n.getColor(Kut);l&&e.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${l}; }`);const c=n.getColor(wte);c&&e.addRule(`.monaco-editor .monaco-hover code { background-color: ${c}; }`)});class _7 extends de{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){const t=e.target;if(t.type!==6||!t.detail.injectedText||t.detail.injectedText.options.attachedData!==jse||!t.range)return;const i=this._editor.getContribution(Vg.ID);if(!!i&&!i.isColorPickerVisible()){const s=new A(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);i.showContentHover(s,1,!1)}}}_7.ID="editor.contrib.colorContribution";mi(_7.ID,_7);V_.register(qA);var Foe=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function IB(n){return{asString:()=>Foe(this,void 0,void 0,function*(){return n}),asFile:()=>{},value:typeof n=="string"?n:void 0}}function nSt(n,e,t){return{asString:()=>Foe(this,void 0,void 0,function*(){return""}),asFile:()=>({name:n,uri:e,data:t}),value:void 0}}class Boe{constructor(){this._entries=new Map}get size(){return this._entries.size}has(e){return this._entries.has(this.toKey(e))}get(e){var t;return(t=this._entries.get(this.toKey(e)))===null||t===void 0?void 0:t[0]}append(e,t){const i=this._entries.get(e);i?i.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*entries(){for(const[e,t]of this._entries.entries())for(const i of t)yield[e,i]}values(){return Array.from(this._entries.values()).flat()}forEach(e){for(const[t,i]of this.entries())e(i,t)}toKey(e){return e.toLowerCase()}}const Voe=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let n;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?n=crypto.getRandomValues.bind(crypto):n=function(i){for(let s=0;s<i.length;s++)i[s]=Math.floor(Math.random()*256);return i};const e=new Uint8Array(16),t=[];for(let i=0;i<256;i++)t.push(i.toString(16).padStart(2,"0"));return function(){n(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let s=0,o="";return o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o}}(),AL={EDITORS:"CodeEditors",FILES:"CodeFiles"};function sSt(n){var e;const t=[];if(n.dataTransfer&&n.dataTransfer.types.length>0){const i=n.dataTransfer.getData(AL.EDITORS);if(i)try{t.push(...cL(i))}catch{}else try{const r=n.dataTransfer.getData(Uy.RESOURCES);t.push(...oSt(r))}catch{}if(!((e=n.dataTransfer)===null||e===void 0)&&e.files)for(let r=0;r<n.dataTransfer.files.length;r++){const a=n.dataTransfer.files[r];if(a&&a.path)try{t.push({resource:bt.file(a.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const s=n.dataTransfer.getData(AL.FILES);if(s)try{const r=JSON.parse(s);for(const a of r)t.push({resource:bt.file(a),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const o=Tn.as(Woe.DragAndDropContribution).getAll();for(const r of o){const a=n.dataTransfer.getData(r.dataFormatKey);if(a)try{t.push(...r.getEditorInputs(a))}catch{}}}return t}function oSt(n){const e=[];if(n){const t=JSON.parse(n);for(const i of t)if(i.indexOf(":")>0){const{selection:s,uri:o}=tne(bt.parse(i));e.push({resource:o,options:{selection:s}})}}return e}class rSt{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}const Woe={DragAndDropContribution:"workbench.contributions.dragAndDrop"};Tn.add(Woe.DragAndDropContribution,new rSt);var aSt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function v7(n){const e=new Boe;for(const t of n.items){const i=t.type;if(t.kind==="string"){const s=new Promise(o=>t.getAsString(o));e.append(i,IB(s))}else if(t.kind==="file"){const s=t.getAsFile();s&&e.append(i,lSt(s))}}return e}function lSt(n){const e=n.path?bt.parse(n.path):void 0;return nSt(n.name,e,()=>aSt(this,void 0,void 0,function*(){return new Uint8Array(yield n.arrayBuffer())}))}const cSt=Object.freeze([AL.EDITORS,AL.FILES,Uy.RESOURCES]);function uSt(n,e,t=!1){var i;if(e.dataTransfer&&(t||!n.has(fr.uriList))){const s=sSt(e).filter(o=>o.resource).map(o=>o.resource.toString());for(const o of(i=e.dataTransfer)===null||i===void 0?void 0:i.items){const r=o.getAsFile();r&&s.push(r.path?bt.file(r.path).toString():r.name)}s.length&&n.replace(fr.uriList,IB(TB.create(s)))}for(const s of cSt)n.delete(s)}const TB=Object.freeze({create:n=>Nh(n.map(e=>e.toString())).join(`\r
`),parse:n=>n.split(`\r
`).filter(e=>!e.startsWith("#"))});function OG(n,e=oo){return vpt(n,e)?n.charAt(0).toUpperCase()+n.slice(1):n}var dSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},hSt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class PG{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){const i=t.resolve(e);if(i!==void 0)return i}}}class FG{constructor(e,t,i,s){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=s}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,s=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){const o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(i=o.value,s=o.multiline)}if(i&&s&&e.snippet){const o=this._model.getLineContent(this._selection.startLineNumber),r=zi(o,0,this._selection.startColumn-1);let a=r;e.snippet.walk(c=>c===e?!1:(c instanceof dr&&(a=zi(Ju(c.value).pop())),!0));const l=Rm(a,r);i=i.replace(/(\r\n|\r|\n)(.*)/g,(c,u,d)=>`${u}${a.substr(l)}${d}`)}return i}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(t==="CURSOR_INDEX")return String(this._selectionIdx);if(t==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class BG{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return hm(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const i=hm(this._model.uri.fsPath),s=i.lastIndexOf(".");return s<=0?i:i.slice(0,s)}else{if(t==="TM_DIRECTORY")return JJ(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(x5(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class VG{constructor(e,t,i,s){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=s}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(!!t){if(this._spread){const i=t.split(/\r\n|\n|\r/).filter(s=>!oee(s));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}}let RL=class{constructor(e,t,i){this._model=e,this._selection=t,this._languageConfigurationService=i}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),s=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(!!s){if(t==="LINE_COMMENT")return s.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return s.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return s.blockCommentEndToken||void 0}}};RL=dSt([hSt(2,Xn)],RL);class Mc{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return Mc.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return Mc.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return Mc.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return Mc.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}Mc.dayNames=[v("Sunday","Sunday"),v("Monday","Monday"),v("Tuesday","Tuesday"),v("Wednesday","Wednesday"),v("Thursday","Thursday"),v("Friday","Friday"),v("Saturday","Saturday")];Mc.dayNamesShort=[v("SundayShort","Sun"),v("MondayShort","Mon"),v("TuesdayShort","Tue"),v("WednesdayShort","Wed"),v("ThursdayShort","Thu"),v("FridayShort","Fri"),v("SaturdayShort","Sat")];Mc.monthNames=[v("January","January"),v("February","February"),v("March","March"),v("April","April"),v("May","May"),v("June","June"),v("July","July"),v("August","August"),v("September","September"),v("October","October"),v("November","November"),v("December","December")];Mc.monthNamesShort=[v("JanuaryShort","Jan"),v("FebruaryShort","Feb"),v("MarchShort","Mar"),v("AprilShort","Apr"),v("MayShort","May"),v("JuneShort","Jun"),v("JulyShort","Jul"),v("AugustShort","Aug"),v("SeptemberShort","Sep"),v("OctoberShort","Oct"),v("NovemberShort","Nov"),v("DecemberShort","Dec")];class WG{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=b0t(this._workspaceService.getWorkspace());if(!!t){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(lq(e))return hm(e.uri.path);let t=hm(e.configPath.path);return t.endsWith($M)&&(t=t.substr(0,t.length-$M.length-1)),t}_resoveWorkspacePath(e){if(lq(e))return OG(e.uri.fsPath);const t=hm(e.configPath.path);let i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?OG(i):"/"}}class HG{resolve(e){const{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return Voe()}}var fSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},gSt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class Ba{constructor(e,t,i){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=xU(t.placeholders,Bl.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const i of this._snippet.placeholders){const s=this._snippet.offset(i),o=this._snippet.fullLen(i),r=A.fromPositions(e.getPositionAt(this._offset+s),e.getPositionAt(this._offset+s+o)),a=i.isFinalTabstop?Ba._decor.inactiveFinal:Ba._decor.inactive,l=t.addDecoration(r,a);this._placeholderDecorations.set(i,l)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const s=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx])if(o.transform){const r=this._placeholderDecorations.get(o),a=this._editor.getModel().getDecorationRange(r),l=this._editor.getModel().getValueInRange(a),c=o.transform.resolve(l).split(/\r\n|\r|\n/);for(let u=1;u<c.length;u++)c[u]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+c[u]);s.push(yn.replace(a,c.join(this._editor.getModel().getEOL())))}s.length>0&&this._editor.executeEdits("snippet.placeholderTransform",s)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations(s=>{const o=new Set,r=[];for(const a of this._placeholderGroups[this._placeholderGroupsIdx]){const l=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(l);r.push(new Ye(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(a),s.changeDecorationOptions(l,a.isFinalTabstop?Ba._decor.activeFinal:Ba._decor.active),o.add(a);for(const u of this._snippet.enclosingPlaceholders(a)){const d=this._placeholderDecorations.get(u);s.changeDecorationOptions(d,u.isFinalTabstop?Ba._decor.activeFinal:Ba._decor.active),o.add(u)}}for(const[a,l]of this._placeholderDecorations)o.has(a)||s.changeDecorationOptions(l,a.isFinalTabstop?Ba._decor.inactiveFinal:Ba._decor.inactive);return r});return t?this.move(e):i!=null?i:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof Bl){const i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const s of t){if(s.isFinalTabstop)break;i||(i=[],e.set(s.index,i));const o=this._placeholderDecorations.get(s),r=this._editor.getModel().getDecorationRange(o);if(!r){e.delete(s.index);break}i.push(r)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;const e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(e!=null&&e.choice))return;const t=this._placeholderDecorations.get(e);if(!t)return;const i=this._editor.getModel().getDecorationRange(t);if(!!i)return{range:i,choice:e.choice}}get hasChoice(){let e=!1;return this._snippet.walk(t=>(e=t instanceof f2,!e)),e}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(const s of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(o._offset!==-1),console.assert(!o._placeholderDecorations);const r=o._snippet.placeholderInfo.last.index;for(const l of o._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=s.index+(r+1)/this._nestingLevel:l.index=s.index+l.index/this._nestingLevel;this._snippet.replace(s,o._snippet.children);const a=this._placeholderDecorations.get(s);i.removeDecoration(a),this._placeholderDecorations.delete(s);for(const l of o._snippet.placeholders){const c=o._snippet.offset(l),u=o._snippet.fullLen(l),d=A.fromPositions(t.getPositionAt(o._offset+c),t.getPositionAt(o._offset+c+u)),h=i.addDecoration(d,Ba._decor.inactive);this._placeholderDecorations.set(l,h)}}this._placeholderGroups=xU(this._snippet.placeholders,Bl.compareByIndex)})}}Ba._decor={active:Rt.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Rt.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Rt.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Rt.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const $G={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let OL=class Vd{constructor(e,t,i=$G,s){this._editor=e,this._template=t,this._options=i,this._languageConfigurationService=s,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(e,t,i,s,o){const r=e.getLineContent(t.lineNumber),a=zi(r,0,t.column-1);let l;return i.walk(c=>{if(!(c instanceof dr)||c.parent instanceof f2)return!0;const u=c.value.split(/\r\n|\r|\n/);if(s){const h=i.offset(c);if(h===0)u[0]=e.normalizeIndentation(u[0]);else{l=l!=null?l:i.toString();const f=l.charCodeAt(h-1);(f===10||f===13)&&(u[0]=e.normalizeIndentation(a+u[0]))}for(let f=1;f<u.length;f++)u[f]=e.normalizeIndentation(a+u[f])}const d=u.join(e.getEOL());return d!==c.value&&(c.parent.replace(c,[new dr(d)]),l=void 0),!0}),a}static adjustSelection(e,t,i,s){if(i!==0||s!==0){const{positionLineNumber:o,positionColumn:r}=t,a=r-i,l=r+s,c=e.validateRange({startLineNumber:o,startColumn:a,endLineNumber:o,endColumn:l});t=Ye.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(e,t,i,s,o,r,a,l,c){const u=[],d=[];if(!e.hasModel())return{edits:u,snippets:d};const h=e.getModel(),f=e.invokeWithinContext(D=>D.get(Aw)),p=e.invokeWithinContext(D=>new BG(D.get(xv),h)),m=()=>a,b=h.getValueInRange(Vd.adjustSelection(h,e.getSelection(),i,0)),w=h.getValueInRange(Vd.adjustSelection(h,e.getSelection(),0,s)),y=h.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),L=e.getSelections().map((D,E)=>({selection:D,idx:E})).sort((D,E)=>A.compareRangesUsingStarts(D.selection,E.selection));for(const{selection:D,idx:E}of L){let T=Vd.adjustSelection(h,D,i,0),x=Vd.adjustSelection(h,D,0,s);b!==h.getValueInRange(T)&&(T=D),w!==h.getValueInRange(x)&&(x=D);const k=D.setStartPosition(T.startLineNumber,T.startColumn).setEndPosition(x.endLineNumber,x.endColumn),N=new Fg().parse(t,!0,o),V=k.getStartPosition(),H=Vd.adjustWhitespace(h,V,N,r||E>0&&y!==h.getLineFirstNonWhitespaceColumn(D.positionLineNumber),!0);N.resolveVariables(new PG([p,new VG(m,E,L.length,e.getOption(73)==="spread"),new FG(h,D,E,l),new RL(h,D,c),new Mc,new WG(f),new HG])),u[E]=yn.replace(k,N.toString()),u[E].identifier={major:E,minor:0},u[E]._isTracked=!0,d[E]=new Ba(e,N,H)}return{edits:u,snippets:d}}static createEditsAndSnippetsFromEdits(e,t,i,s,o,r,a){if(!e.hasModel()||t.length===0)return{edits:[],snippets:[]};const l=[],c=e.getModel(),u=new Fg,d=new l4,h=new PG([e.invokeWithinContext(p=>new BG(p.get(xv),c)),new VG(()=>o,0,e.getSelections().length,e.getOption(73)==="spread"),new FG(c,e.getSelection(),0,r),new RL(c,e.getSelection(),a),new Mc,new WG(e.invokeWithinContext(p=>p.get(Aw))),new HG]);t=t.sort((p,m)=>A.compareRangesUsingStarts(p.range,m.range));let f=0;for(let p=0;p<t.length;p++){const{range:m,template:b}=t[p];if(p>0){const D=t[p-1].range,E=A.fromPositions(D.getEndPosition(),m.getStartPosition()),T=new dr(c.getValueInRange(E));d.appendChild(T),f+=T.value.length}u.parseFragment(b,d),d.resolveVariables(h);const w=d.toString(),y=w.slice(f);f=w.length;const L=yn.replace(m,y);L.identifier={major:p,minor:0},L._isTracked=!0,l.push(L)}return u.ensureFinalTabstop(d,i,!0),{edits:l,snippets:[new Ba(e,d,"")]}}dispose(){vi(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=typeof this._template=="string"?Vd.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):Vd.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=t,this._editor.executeEdits("snippet",e,i=>{const s=i.filter(o=>!!o.identifier);for(let o=0;o<t.length;o++)t[o].initialize(s[o].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):s.map(o=>Ye.fromPositions(o.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=$G){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:s}=Vd.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",i,o=>{const r=o.filter(l=>!!l.identifier);for(let l=0;l<s.length;l++)s[l].initialize(r[l].textChange);const a=s[0].isTrivialSnippet;if(!a){for(const l of this._snippets)l.merge(s);console.assert(s.length===0)}return this._snippets[0].hasPlaceholder&&!a?this._move(void 0):r.map(l=>Ye.fromPositions(l.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const s=i.move(e);t.push(...s)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;const t=new Map;for(const i of this._snippets){const s=i.computePossibleSelections();if(t.size===0)for(const[o,r]of s){r.sort(A.compareRangesUsingStarts);for(const a of e)if(r[0].containsRange(a)){t.set(o,[]);break}}if(t.size===0)return!1;t.forEach((o,r)=>{o.push(...s.get(r))})}e.sort(A.compareRangesUsingStarts);for(const[i,s]of t){if(s.length!==e.length){t.delete(i);continue}s.sort(A.compareRangesUsingStarts);for(let o=0;o<s.length;o++)if(!s[o].containsRange(e[o])){t.delete(i);continue}}return t.size>0}};OL=fSt([gSt(3,Xn)],OL);var pSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},x3=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const D3={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Hs=class Hb{constructor(e,t,i,s,o){this._editor=e,this._logService=t,this._languageFeaturesService=i,this._languageConfigurationService=o,this._snippetListener=new Ie,this._modelVersionId=-1,this._inSnippet=Hb.InSnippetMode.bindTo(s),this._hasNextTabstop=Hb.HasNextTabstop.bindTo(s),this._hasPrevTabstop=Hb.HasPrevTabstop.bindTo(s)}static get(e){return e.getContribution(Hb.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}apply(e,t){try{this._doInsert(e,typeof t=="undefined"?D3:Object.assign(Object.assign({},D3),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_edits=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(e,t){try{this._doInsert(e,typeof t=="undefined"?D3:Object.assign(Object.assign({},D3),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){var i;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?(Vi(typeof e=="string"),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new OL(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),!((i=this._session)===null||i===void 0)&&i.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(o,r)=>{if(!this._session||o!==this._editor.getModel()||!oe.equals(this._editor.getPosition(),r))return;const{activeChoice:a}=this._session;if(!a||a.choice.options.length===0)return;const l=o.getValueInRange(a.range),c=Boolean(a.choice.options.find(d=>d.value===l)),u=[];for(let d=0;d<a.choice.options.length;d++){const h=a.choice.options[d];u.push({kind:13,label:h.value,insertText:h.value,sortText:"a".repeat(d+1),range:a.range,filterText:c?`${l}_${h.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:v("next","Go to next placeholder...")}})}return{suggestions:u}}};const s=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(s)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(s=>s.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:e}=this._session;if(!e||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==e.choice&&(this._currentChoice=e.choice,queueMicrotask(()=>{I4t(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};Hs.ID="snippetController2";Hs.InSnippetMode=new et("inSnippetMode",!1,v("inSnippetMode","Whether the editor in current in snippet mode"));Hs.HasNextTabstop=new et("hasNextTabstop",!1,v("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));Hs.HasPrevTabstop=new et("hasPrevTabstop",!1,v("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));Hs=pSt([x3(1,Ql),x3(2,st),x3(3,At),x3(4,Xn)],Hs);mi(Hs.ID,Hs);const dD=Ys.bindToContribution(Hs.get);Ae(new dD({id:"jumpToNextSnippetPlaceholder",precondition:Xe.and(Hs.InSnippetMode,Hs.HasNextTabstop),handler:n=>n.next(),kbOpts:{weight:100+30,kbExpr:z.editorTextFocus,primary:2}}));Ae(new dD({id:"jumpToPrevSnippetPlaceholder",precondition:Xe.and(Hs.InSnippetMode,Hs.HasPrevTabstop),handler:n=>n.prev(),kbOpts:{weight:100+30,kbExpr:z.editorTextFocus,primary:1026}}));Ae(new dD({id:"leaveSnippet",precondition:Hs.InSnippetMode,handler:n=>n.cancel(!0),kbOpts:{weight:100+30,kbExpr:z.editorTextFocus,primary:9,secondary:[1033]}}));Ae(new dD({id:"acceptSnippet",precondition:Hs.InSnippetMode,handler:n=>n.finish()}));function Hoe(n,e,t){const i=Hs.get(n);return i?(n.focus(),i.apply(t.map(s=>({range:Ye.liftSelection(s),template:e}))),i.isInSnippet()):!1}var mSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},k3=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},zG=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const kT="application/vnd.code.copyMetadata";let ty=class extends de{constructor(e,t,i,s,o){super(),this._bulkEditService=t,this._clipboardService=i,this._configurationService=s,this._languageFeaturesService=o,this._editor=e;const r=e.getContainerDomNode();this._register(xe(r,"copy",a=>this.handleCopy(a))),this._register(xe(r,"cut",a=>this.handleCopy(a))),this._register(xe(r,"paste",a=>this.handlePaste(a),!0))}arePasteActionsEnabled(e){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:e.uri})}handleCopy(e){var t;if(!e.clipboardData||!this._editor.hasTextFocus())return;const i=this._editor.getModel(),s=this._editor.getSelections();if(!i||!(s!=null&&s.length)||!this.arePasteActionsEnabled(i))return;const o=[...s],r=s[0],a=r.isEmpty();if(a){if(!this._editor.getOption(33))return;o[0]=new A(r.startLineNumber,0,r.startLineNumber,i.getLineLength(r.startLineNumber))}const l=this._languageFeaturesService.documentPasteEditProvider.ordered(i).filter(h=>!!h.prepareDocumentPaste);if(!l.length){this.setCopyMetadata(e.clipboardData,{wasFromEmptySelection:a});return}const c=v7(e.clipboardData),u=Voe();this.setCopyMetadata(e.clipboardData,{id:u,wasFromEmptySelection:a});const d=Ws(h=>zG(this,void 0,void 0,function*(){const f=yield Promise.all(l.map(p=>p.prepareDocumentPaste(i,o,c,h)));for(const p of f)p==null||p.forEach((m,b)=>{c.replace(b,m)});return c}));(t=this._currentClipboardItem)===null||t===void 0||t.dataTransferPromise.cancel(),this._currentClipboardItem={handle:u,dataTransferPromise:d}}setCopyMetadata(e,t){e.setData(kT,JSON.stringify(t))}handlePaste(e){var t,i,s;return zG(this,void 0,void 0,function*(){if(!e.clipboardData||!this._editor.hasTextFocus())return;const o=this._editor.getSelections();if(!(o!=null&&o.length)||!this._editor.hasModel())return;const r=this._editor.getModel();if(!this.arePasteActionsEnabled(r))return;let a;const l=(t=e.clipboardData)===null||t===void 0?void 0:t.getData(kT);l&&typeof l=="string"&&(a=JSON.parse(l));const c=this._languageFeaturesService.documentPasteEditProvider.ordered(r);if(!c.length)return;e.preventDefault(),e.stopImmediatePropagation();const u=r.getVersionId(),d=new Xm(this._editor,3);try{const h=v7(e.clipboardData);if((a==null?void 0:a.id)&&((i=this._currentClipboardItem)===null||i===void 0?void 0:i.handle)===a.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach((b,w)=>{h.replace(w,b)}),!h.has(fr.uriList)){const m=yield this._clipboardService.readResources();m.length&&h.append(fr.uriList,IB(TB.create(m)))}h.delete(kT);for(const m of c){if(!m.pasteMimeTypes.some(w=>w.toLowerCase()===Uy.FILES.toLowerCase()?[...h.values()].some(y=>y.asFile()):h.has(w)))continue;const b=yield m.provideDocumentPasteEdits(r,o,h,d.token);if(u!==r.getVersionId())return;if(b){Hoe(this._editor,typeof b.insertText=="string"?Fg.escape(b.insertText):b.insertText.snippet,o),b.additionalEdit&&(yield this._bulkEditService.apply(l2.convert(b.additionalEdit),{editor:this._editor}));return}}const f=(s=h.get(fr.text))!==null&&s!==void 0?s:h.get("text");if(!f)return;const p=yield f.asString();if(u!==r.getVersionId())return;this._editor.trigger("keyboard","paste",{text:p,pasteOnNewLine:a==null?void 0:a.wasFromEmptySelection,multicursorText:null})}finally{d.dispose()}})}};ty.ID="editor.contrib.copyPasteActionController";ty=mSt([k3(1,Ky),k3(2,qh),k3(3,Ci),k3(4,st)],ty);mi(ty.ID,ty);Tn.as(Uh.Configuration).registerConfiguration(Object.assign(Object.assign({},yF),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:v("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}));class Zf{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const s=t.length,o=e.length;if(i+s>o)return!1;for(let r=0;r<s;r++){const a=e.charCodeAt(i+r),l=t.charCodeAt(r);if(a!==l&&!(a>=65&&a<=90&&a+32===l)&&!(l>=65&&l<=90&&l+32===a))return!1}return!0}_createOperationsForBlockComment(e,t,i,s,o,r){const a=e.startLineNumber,l=e.startColumn,c=e.endLineNumber,u=e.endColumn,d=o.getLineContent(a),h=o.getLineContent(c);let f=d.lastIndexOf(t,l-1+t.length),p=h.indexOf(i,u-1-i.length);if(f!==-1&&p!==-1)if(a===c)d.substring(f+t.length,p).indexOf(i)>=0&&(f=-1,p=-1);else{const b=d.substring(f+t.length),w=h.substring(0,p);(b.indexOf(i)>=0||w.indexOf(i)>=0)&&(f=-1,p=-1)}let m;f!==-1&&p!==-1?(s&&f+t.length<d.length&&d.charCodeAt(f+t.length)===32&&(t=t+" "),s&&p>0&&h.charCodeAt(p-1)===32&&(i=" "+i,p-=1),m=Zf._createRemoveBlockCommentOperations(new A(a,f+t.length+1,c,p+1),t,i)):(m=Zf._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=m.length===1?i:null);for(const b of m)r.addTrackedEditOperation(b.range,b.text)}static _createRemoveBlockCommentOperations(e,t,i){const s=[];return A.isEmpty(e)?s.push(yn.delete(new A(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(s.push(yn.delete(new A(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),s.push(yn.delete(new A(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),s}static _createAddBlockCommentOperations(e,t,i,s){const o=[];return A.isEmpty(e)?o.push(yn.replace(new A(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(yn.insert(new oe(e.startLineNumber,e.startColumn),t+(s?" ":""))),o.push(yn.insert(new oe(e.endLineNumber,e.endColumn),(s?" ":"")+i))),o}getEditOperations(e,t){const i=this._selection.startLineNumber,s=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);const o=e.getLanguageIdAtPosition(i,s),r=this.languageConfigurationService.getLanguageConfiguration(o).comments;!r||!r.blockCommentStartToken||!r.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(i.length===2){const s=i[0],o=i[1];return new Ye(s.range.endLineNumber,s.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{const s=i[0].range,o=this._usedEndToken?-this._usedEndToken.length-1:0;return new Ye(s.endLineNumber,s.endColumn+o,s.endLineNumber,s.endColumn+o)}}}class jd{constructor(e,t,i,s,o,r,a){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=s,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=a||!1}static _gatherPreflightCommentStrings(e,t,i,s){e.tokenization.tokenizeIfCheap(t);const o=e.getLanguageIdAtPosition(t,1),r=s.getLanguageConfiguration(o).comments,a=r?r.lineCommentToken:null;if(!a)return null;const l=[];for(let c=0,u=i-t+1;c<u;c++)l[c]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return l}static _analyzeLines(e,t,i,s,o,r,a,l){let c=!0,u;e===0?u=!0:e===1?u=!1:u=!0;for(let d=0,h=s.length;d<h;d++){const f=s[d],p=o+d;if(p===o&&a){f.ignore=!0;continue}const m=i.getLineContent(p),b=Qo(m);if(b===-1){f.ignore=r,f.commentStrOffset=m.length;continue}if(c=!1,f.ignore=!1,f.commentStrOffset=b,u&&!Zf._haystackHasNeedleAtOffset(m,f.commentStr,b)&&(e===0?u=!1:e===1||(f.ignore=!0)),u&&t){const w=b+f.commentStrLength;w<m.length&&m.charCodeAt(w)===32&&(f.commentStrLength+=1)}}if(e===0&&c){u=!1;for(let d=0,h=s.length;d<h;d++)s[d].ignore=!1}return{supported:!0,shouldRemoveComments:u,lines:s}}static _gatherPreflightData(e,t,i,s,o,r,a,l){const c=jd._gatherPreflightCommentStrings(i,s,o,l);return c===null?{supported:!1}:jd._analyzeLines(e,t,i,c,s,r,a,l)}_executeLineComments(e,t,i,s){let o;i.shouldRemoveComments?o=jd._createRemoveLineCommentsOperations(i.lines,s.startLineNumber):(jd._normalizeInsertionPoint(e,i.lines,s.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,s.startLineNumber));const r=new oe(s.positionLineNumber,s.positionColumn);for(let a=0,l=o.length;a<l;a++)t.addEditOperation(o[a].range,o[a].text),A.isEmpty(o[a].range)&&A.getStartPosition(o[a].range).equals(r)&&e.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(o[a].text||"").length);this._selectionId=t.trackSelection(s)}_attemptRemoveBlockComment(e,t,i,s){let o=t.startLineNumber,r=t.endLineNumber;const a=s.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let l=e.getLineContent(o).lastIndexOf(i,a-1),c=e.getLineContent(r).indexOf(s,t.endColumn-1-i.length);return l!==-1&&c===-1&&(c=e.getLineContent(o).indexOf(s,l+i.length),r=o),l===-1&&c!==-1&&(l=e.getLineContent(r).lastIndexOf(i,c),o=r),t.isEmpty()&&(l===-1||c===-1)&&(l=e.getLineContent(o).indexOf(i),l!==-1&&(c=e.getLineContent(o).indexOf(s,l+i.length))),l!==-1&&e.getLineContent(o).charCodeAt(l+i.length)===32&&(i+=" "),c!==-1&&e.getLineContent(r).charCodeAt(c-1)===32&&(s=" "+s,c-=1),l!==-1&&c!==-1?Zf._createRemoveBlockCommentOperations(new A(o,l+i.length+1,r,c+1),i,s):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);const s=e.getLanguageIdAtPosition(i.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(s).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const r=o.blockCommentStartToken,a=o.blockCommentEndToken;let l=this._attemptRemoveBlockComment(e,i,r,a);if(!l){if(i.isEmpty()){const c=e.getLineContent(i.startLineNumber);let u=Qo(c);u===-1&&(u=c.length),l=Zf._createAddBlockCommentOperations(new A(i.startLineNumber,u+1,i.startLineNumber,c.length+1),r,a,this._insertSpace)}else l=Zf._createAddBlockCommentOperations(new A(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),r,a,this._insertSpace);l.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=t.trackSelection(i);for(const c of l)t.addEditOperation(c.range,c.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new A(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const s=jd._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return s.supported?this._executeLineComments(e,t,s,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new Ye(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){const i=[];for(let s=0,o=e.length;s<o;s++){const r=e[s];r.ignore||i.push(yn.delete(new A(t+s,r.commentStrOffset+1,t+s,r.commentStrOffset+r.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){const i=[],s=this._insertSpace?" ":"";for(let o=0,r=e.length;o<r;o++){const a=e[o];a.ignore||i.push(yn.insert(new oe(t+o,a.commentStrOffset+1),a.commentStr+s))}return i}static nextVisibleColumn(e,t,i,s){return i?e+(t-e%t):e+s}static _normalizeInsertionPoint(e,t,i,s){let o=1073741824,r,a;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;const u=e.getLineContent(i+l);let d=0;for(let h=0,f=t[l].commentStrOffset;d<o&&h<f;h++)d=jd.nextVisibleColumn(d,s,u.charCodeAt(h)===9,1);d<o&&(o=d)}o=Math.floor(o/s)*s;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;const u=e.getLineContent(i+l);let d=0;for(r=0,a=t[l].commentStrOffset;d<o&&r<a;r++)d=jd.nextVisibleColumn(d,s,u.charCodeAt(r)===9,1);d>o?t[l].commentStrOffset=r-1:t[l].commentStrOffset=r}}}class NB extends nt{constructor(e,t){super(t),this._type=e}run(e,t){const i=e.get(Xn);if(!t.hasModel())return;const s=t.getModel(),o=[],r=s.getOptions(),a=t.getOption(19),l=t.getSelections().map((u,d)=>({selection:u,index:d,ignoreFirstLine:!1}));l.sort((u,d)=>A.compareRangesUsingStarts(u.selection,d.selection));let c=l[0];for(let u=1;u<l.length;u++){const d=l[u];c.selection.endLineNumber===d.selection.startLineNumber&&(c.index<d.index?d.ignoreFirstLine=!0:(c.ignoreFirstLine=!0,c=d))}for(const u of l)o.push(new jd(i,u.selection,r.tabSize,this._type,a.insertSpace,a.ignoreEmptyLines,u.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class _St extends NB{constructor(){super(0,{id:"editor.action.commentLine",label:v("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:Y.MenubarEditMenu,group:"5_insert",title:v({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class vSt extends NB{constructor(){super(1,{id:"editor.action.addCommentLine",label:v("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2081),weight:100}})}}class bSt extends NB{constructor(){super(2,{id:"editor.action.removeCommentLine",label:v("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2099),weight:100}})}}class CSt extends nt{constructor(){super({id:"editor.action.blockComment",label:v("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:Y.MenubarEditMenu,group:"5_insert",title:v({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const i=e.get(Xn);if(!t.hasModel())return;const s=t.getOption(19),o=[],r=t.getSelections();for(const a of r)o.push(new Zf(a,s.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}Pe(_St);Pe(vSt);Pe(bSt);Pe(CSt);var wSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},S0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let Ov=class $oe{constructor(e,t,i,s,o,r,a){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=s,this._keybindingService=o,this._menuService=r,this._configurationService=a,this._toDispose=new Ie,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(l=>this._onContextMenu(l))),this._toDispose.add(this._editor.onMouseWheel(l=>{if(this._contextMenuIsBeingShownCount>0){const c=this._contextViewService.getContextViewElement(),u=l.srcElement;u.shadowRoot&&Bm(c)===u.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(l=>{!this._editor.getOption(20)||l.keyCode===58&&(l.preventDefault(),l.stopPropagation(),this.showContextMenu())}))}static get(e){return e.getContribution($oe.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu({x:e.event.posx-1,width:2,y:e.event.posy-1,height:2});if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let i=!1;for(const s of this._editor.getSelections())if(s.containsPosition(e.target.position)){i=!0;break}i||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?Y.SimpleEditorContext:Y.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],s=this._menuService.createMenu(t,this._contextKeyService),o=s.getActions({arg:e.uri});s.dispose();for(const r of o){const[,a]=r;let l=0;for(const c of a)if(c instanceof yP){const u=this._getMenuActions(e,c.item.submenu);u.length>0&&(i.push(new fw(c.id,c.label,u)),l++)}else i.push(c),l++;l&&i.push(new Co)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),r=mo(this._editor.getDomNode()),a=r.left+o.left,l=r.top+o.top+o.height;t={x:a,y:l}}const s=this._editor.getOption(117)&&!Xu;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:s?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:o=>{const r=this._keybindingFor(o);if(r)return new Tw(o,o,{label:!0,keybinding:r.getLabel(),isMenu:!0});const a=o;return typeof a.getActionViewItem=="function"?a.getActionViewItem():new Tw(o,o,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:o=>this._keybindingFor(o),onHide:o=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:i})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel())return;const t=this._editor.getOption(67);let i=0;const s=c=>({id:`menu-action-${++i}`,label:c.label,tooltip:"",class:void 0,enabled:typeof c.enabled=="undefined"?!0:c.enabled,checked:c.checked,run:c.run,dispose:()=>null}),o=(c,u)=>new fw(`menu-action-${++i}`,c,u,void 0),r=(c,u,d,h,f)=>{if(!u)return s({label:c,enabled:u,run:()=>{}});const p=b=>()=>{this._configurationService.updateValue(d,b)},m=[];for(const b of f)m.push(s({label:b.label,checked:h===b.value,run:p(b.value)}));return o(c,m)},a=[];a.push(s({label:v("context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),a.push(new Co),a.push(s({label:v("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),a.push(r(v("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:v("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:v("context.minimap.size.fill","Fill"),value:"fill"},{label:v("context.minimap.size.fit","Fit"),value:"fit"}])),a.push(r(v("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:v("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:v("context.minimap.slider.always","Always"),value:"always"}]));const l=this._editor.getOption(117)&&!Xu;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>a,onHide:c=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};Ov.ID="editor.contrib.contextmenu";Ov=wSt([S0(1,Kh),S0(2,N_),S0(3,At),S0(4,Ms),S0(5,k_),S0(6,Ci)],Ov);class ySt extends nt{constructor(){super({id:"editor.action.showContextMenu",label:v("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:z.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;(i=Ov.get(t))===null||i===void 0||i.showContextMenu()}}mi(Ov.ID,Ov);Pe(ySt);class ET{constructor(e){this.selections=e}equals(e){const t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let s=0;s<t;s++)if(!this.selections[s].equalsSelection(e.selections[s]))return!1;return!0}}class IT{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class n_ extends de{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const i=new ET(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new IT(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(n_.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new IT(new ET(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new IT(new ET(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}n_.ID="editor.contrib.cursorUndoRedoController";class SSt extends nt{constructor(){super({id:"cursorUndo",label:v("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:z.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var s;(s=n_.get(t))===null||s===void 0||s.cursorUndo()}}class LSt extends nt{constructor(){super({id:"cursorRedo",label:v("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var s;(s=n_.get(t))===null||s===void 0||s.cursorRedo()}}mi(n_.ID,n_);Pe(SSt);Pe(LSt);class xSt{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){const i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new A(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Ye(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Ye(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Ye(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Ye(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Ye(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function L0(n){return ai?n.altKey:n.ctrlKey}class Lh extends de{constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(31)||this._editor.getOption(18)||(L0(e)&&(this._modifierPressed=!0),this._mouseDown&&L0(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(31)||this._editor.getOption(18)||(L0(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===Lh.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(this._dragSelection===null){const s=(this._editor.getSelections()||[]).filter(o=>t.position&&o.containsPosition(t.position));if(s.length===1)this._dragSelection=s[0];else return}L0(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new oe(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let i=null;if(e.event.shiftKey){const s=this._editor.getSelection();if(s){const{selectionStartLineNumber:o,selectionStartColumn:r}=s;i=[new Ye(o,r,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(s=>s.containsPosition(t)?new Ye(t.lineNumber,t.column,t.lineNumber,t.column):s);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(L0(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Lh.ID,new xSt(this._dragSelection,t,L0(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new A(e.lineNumber,e.column,e.lineNumber,e.column),options:Lh._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Lh.ID="editor.contrib.dragAndDrop";Lh.TRIGGER_KEY_VALUE=ai?6:5;Lh._DECORATION_OPTIONS=Rt.register({description:"dnd-target",className:"dnd-target"});mi(Lh.ID,Lh);var zoe=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},$b=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},I6=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let iy=class extends de{constructor(e,t,i,s,o){super(),this._bulkEditService=t,this._languageFeaturesService=i,this._progressService=s,this._register(e.onDropIntoEditor(r=>this.onDropIntoEditor(e,r.position,r.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new b7(o))}onDropIntoEditor(e,t,i){return I6(this,void 0,void 0,function*(){if(!i.dataTransfer||!e.hasModel())return;const s=e.getModel(),o=s.getVersionId(),r=yield this.extractDataTransferData(i);if(r.size===0||e.getModel().getVersionId()!==o)return;const a=new Xm(e,1);try{const l=this._languageFeaturesService.documentOnDropEditProvider.ordered(s),c=yield this._progressService.withProgress({location:15,delay:750,title:v("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>aP((()=>I6(this,void 0,void 0,function*(){for(const u of l){const d=yield u.provideDocumentOnDropEdits(s,t,r,a.token);if(a.token.isCancellationRequested)return;if(d)return d}}))(),a.token),()=>{a.cancel()});if(a.token.isCancellationRequested||e.getModel().getVersionId()!==o)return;if(c){const u=new A(t.lineNumber,t.column,t.lineNumber,t.column);Hoe(e,typeof c.insertText=="string"?Fg.escape(c.insertText):c.insertText.snippet,[Ye.fromRange(u,0)]),c.additionalEdit&&(yield this._bulkEditService.apply(l2.convert(c.additionalEdit),{editor:e}));return}}finally{a.dispose()}})}extractDataTransferData(e){return I6(this,void 0,void 0,function*(){if(!e.dataTransfer)return new Boe;const t=v7(e.dataTransfer);return uSt(t,e),t})}};iy.ID="editor.contrib.dropIntoEditorController";iy=zoe([$b(1,Ky),$b(2,st),$b(3,zie),$b(4,Aw)],iy);let b7=class{constructor(e){this._workspaceContextService=e}provideDocumentOnDropEdits(e,t,i,s){var o;return I6(this,void 0,void 0,function*(){const r=i.get(fr.uriList);if(r){const l=yield r.asString(),c=this.getUriListInsertText(l);if(c)return{insertText:c}}const a=(o=i.get("text"))!==null&&o!==void 0?o:i.get(fr.text);if(a)return{insertText:yield a.asString()}})}getUriListInsertText(e){const t=[];for(const i of TB.parse(e))try{t.push(bt.parse(i))}catch{}if(!!t.length)return t.map(i=>{const s=this._workspaceContextService.getWorkspaceFolder(i);if(s){const o=Spt(s.uri,i);if(o)return o}return i.fsPath}).join(" ")}};b7=zoe([$b(0,Aw)],b7);mi(iy.ID,iy);class Ro{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){const t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const s=i.options;if(s===Ro._FIND_MATCH_DECORATION||s===Ro._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let s=0,o=this._decorations.length;s<o;s++){const r=this._editor.getModel().getDecorationRange(this._decorations[s]);if(e.equalsRange(r)){t=this._decorations[s],i=s+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(s=>{if(this._highlightedDecorationId!==null&&(s.changeDecorationOptions(this._highlightedDecorationId,Ro._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,s.changeDecorationOptions(this._highlightedDecorationId,Ro._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let o=this._editor.getModel().getDecorationRange(t);if(o.startLineNumber!==o.endLineNumber&&o.endColumn===1){const r=o.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(r);o=new A(o.startLineNumber,o.startColumn,r,a)}this._rangeHighlightDecorationId=s.addDecoration(o,Ro._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let s=Ro._FIND_MATCH_DECORATION;const o=[];if(e.length>1e3){s=Ro._FIND_MATCH_NO_OVERVIEW_DECORATION;const a=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/a,u=Math.max(2,Math.ceil(3/c));let d=e[0].range.startLineNumber,h=e[0].range.endLineNumber;for(let f=1,p=e.length;f<p;f++){const m=e[f].range;h+u>=m.startLineNumber?m.endLineNumber>h&&(h=m.endLineNumber):(o.push({range:new A(d,1,h,1),options:Ro._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),d=m.startLineNumber,h=m.endLineNumber)}o.push({range:new A(d,1,h,1),options:Ro._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const r=new Array(e.length);for(let a=0,l=e.length;a<l;a++)r[a]={range:e[a].range,options:s};this._decorations=i.deltaDecorations(this._decorations,r),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),t!=null&&t.length&&(this._findScopeDecorationIds=t.map(a=>i.addDecoration(a,Ro._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){const i=this._decorations[t],s=this._editor.getModel().getDecorationRange(i);if(!(!s||s.endLineNumber>e.lineNumber)){if(s.endLineNumber<e.lineNumber)return s;if(!(s.endColumn>e.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){const s=this._decorations[t],o=this._editor.getModel().getDecorationRange(s);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}Ro._CURRENT_FIND_MATCH_DECORATION=Rt.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Vn(FP),position:ll.Center},minimap:{color:Vn(n1),position:sl.Inline}});Ro._FIND_MATCH_DECORATION=Rt.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Vn(FP),position:ll.Center},minimap:{color:Vn(n1),position:sl.Inline}});Ro._FIND_MATCH_NO_OVERVIEW_DECORATION=Rt.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});Ro._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Rt.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Vn(FP),position:ll.Center}});Ro._RANGE_HIGHLIGHT_DECORATION=Rt.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});Ro._FIND_SCOPE_DECORATION=Rt.register({description:"find-scope",className:"findScope",isWholeLine:!0});class DSt{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){const i=[];for(let r=0;r<this._ranges.length;r++)i.push({range:this._ranges[r],text:this._replaceStrings[r]});i.sort((r,a)=>A.compareRangesUsingStarts(r.range,a.range));const s=[];let o=i[0];for(let r=1;r<i.length;r++)o.range.endLineNumber===i[r].range.startLineNumber&&o.range.endColumn===i[r].range.startColumn?(o.range=o.range.plusRange(i[r].range),o.text=o.text+i[r].text):(s.push(o),o=i[r]);s.push(o);for(const r of s)t.addEditOperation(r.range,r.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function Uoe(n,e){if(n&&n[0]!==""){const t=UG(n,e,"-"),i=UG(n,e,"_");return t&&!i?jG(n,e,"-"):!t&&i?jG(n,e,"_"):n[0].toUpperCase()===n[0]?e.toUpperCase():n[0].toLowerCase()===n[0]?e.toLowerCase():krt(n[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):n[0][0].toUpperCase()!==n[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function UG(n,e,t){return n[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&n[0].split(t).length===e.split(t).length}function jG(n,e,t){const i=e.split(t),s=n[0].split(t);let o="";return i.forEach((r,a)=>{o+=Uoe([s[a]],r)+t}),o.slice(0,-1)}class KG{constructor(e){this.staticValue=e,this.kind=0}}class kSt{constructor(e){this.pieces=e,this.kind=1}}class Pv{constructor(e){!e||e.length===0?this._state=new KG(""):e.length===1&&e[0].staticValue!==null?this._state=new KG(e[0].staticValue):this._state=new kSt(e)}static fromStaticValue(e){return new Pv([xm.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(e,t){if(this._state.kind===0)return t?Uoe(e,this._state.staticValue):this._state.staticValue;let i="";for(let s=0,o=this._state.pieces.length;s<o;s++){const r=this._state.pieces[s];if(r.staticValue!==null){i+=r.staticValue;continue}let a=Pv._substitute(r.matchIndex,e);if(r.caseOps!==null&&r.caseOps.length>0){const l=[],c=r.caseOps.length;let u=0;for(let d=0,h=a.length;d<h;d++){if(u>=c){l.push(a.slice(d));break}switch(r.caseOps[u]){case"U":l.push(a[d].toUpperCase());break;case"u":l.push(a[d].toUpperCase()),u++;break;case"L":l.push(a[d].toLowerCase());break;case"l":l.push(a[d].toLowerCase()),u++;break;default:l.push(a[d])}}a=l.join("")}i+=a}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class xm{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}static staticValue(e){return new xm(e,-1,null)}static caseOps(e,t){return new xm(null,e,t)}}class ESt{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=xm.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=xm.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=xm.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Pv(this._result)}}function ISt(n){if(!n||n.length===0)return new Pv(null);const e=[],t=new ESt(n);for(let i=0,s=n.length;i<s;i++){const o=n.charCodeAt(i);if(o===92){if(i++,i>=s)break;const r=n.charCodeAt(i);switch(r){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(r));break}continue}if(o===36){if(i++,i>=s)break;const r=n.charCodeAt(i);if(r===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(r===48||r===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=r&&r<=57){let a=r-48;if(i+1<s){const l=n.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}}return t.finalize()}const Qg=new et("findWidgetVisible",!1);Qg.toNegated();const hD=new et("findInputFocussed",!1),MB=new et("replaceInputFocussed",!1),E3={primary:545,mac:{primary:2593}},I3={primary:565,mac:{primary:2613}},T3={primary:560,mac:{primary:2608}},N3={primary:554,mac:{primary:2602}},M3={primary:558,mac:{primary:2606}},on={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Xf=19999,TSt=240;class kC{constructor(e,t){this._toDispose=new Ie,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new La,this._decorations=new Ro(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Hi(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,vi(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||!this._editor.hasModel()||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},TSt)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t!="undefined"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new A(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));const s=this._findMatches(i,!1,Xf);this._decorations.set(s,i);const o=this._editor.getSelection();let r=this._decorations.getCurrentMatchesPosition(o);if(r===0&&s.length>0){const a=AJ(s.map(l=>l.range),l=>A.compareRangesUsingStarts(l,o)>=0);r=a>0?a-1+1:r}this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),e&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){const t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:s}=e;const o=this._editor.getModel();return t||s===1?(i===1?i=o.getLineCount():i--,s=o.getLineMaxColumn(i)):s--,new oe(i,s)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const u=this._decorations.matchAfterPosition(e);u&&this._setCurrentFindMatch(u);return}if(this._decorations.getCount()<Xf){let u=this._decorations.matchBeforePosition(e);u&&u.isEmpty()&&u.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),u=this._decorations.matchBeforePosition(e)),u&&this._setCurrentFindMatch(u);return}if(this._cannotFind())return;const i=this._decorations.getFindScope(),s=kC._getSearchRange(this._editor.getModel(),i);s.getEndPosition().isBefore(e)&&(e=s.getEndPosition()),e.isBefore(s.getStartPosition())&&(e=s.getEndPosition());const{lineNumber:o,column:r}=e,a=this._editor.getModel();let l=new oe(o,r),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),!!c){if(!t&&!s.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:s}=e;const o=this._editor.getModel();return t||s===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,s=1):s++,new oe(i,s)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<Xf){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}const t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,s=!1){if(this._cannotFind())return null;const o=this._decorations.getFindScope(),r=kC._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());const{lineNumber:a,column:l}=e,c=this._editor.getModel();let u=new oe(a,l),d=c.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t);return i&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(u)&&(u=this._nextSearchPosition(u),d=c.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t)),d?!s&&!r.containsRange(d.range)?this._getNextMatch(d.range.getEndPosition(),t,i,!0):d:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?ISt(this._state.replaceString):Pv.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){const s=e.buildReplaceString(i.matches,this._state.preserveCase),o=new Zs(t,s);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new oe(t.startLineNumber,t.startColumn+s.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const s=(e||[null]).map(o=>kC._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=Xf?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new Ep(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let d="mu";i.ignoreCase&&(d+="i"),i.global&&(d+="g"),i=new RegExp(i.source,d)}const s=this._editor.getModel(),o=s.getValue(1),r=s.getFullModelRange(),a=this._getReplacePattern();let l;const c=this._state.preserveCase;a.hasReplacementPatterns||c?l=o.replace(i,function(){return a.buildReplaceString(arguments,c)}):l=o.replace(i,a.buildReplaceString(null,c));const u=new HP(r,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",u)}_regularReplaceAll(e){const t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),s=[];for(let r=0,a=i.length;r<a;r++)s[r]=t.buildReplaceString(i[r].matches,this._state.preserveCase);const o=new DSt(this._editor.getSelection(),i.map(r=>r.range),s);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();let i=this._findMatches(e,!1,1073741824).map(o=>new Ye(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn));const s=this._editor.getSelection();for(let o=0,r=i.length;o<r;o++)if(i[o].equalsRange(s)){i=[s].concat(i.slice(0,o)).concat(i.slice(o+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}class fD extends Jl{constructor(e,t,i,s){super(),this._hideSoon=this._register(new Hi(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const o=s.getColorTheme().getColor(I8),r=s.getColorTheme().getColor(N8),a=s.getColorTheme().getColor(T8);this.caseSensitive=this._register(new Ene({appendTitle:this._keybindingLabelFor(on.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:o,inputActiveOptionForeground:r,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Ine({appendTitle:this._keybindingLabelFor(on.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:o,inputActiveOptionForeground:r,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Tne({appendTitle:this._keybindingLabelFor(on.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:o,inputActiveOptionForeground:r,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(l=>{let c=!1;l.isRegex&&(this.regex.checked=this._state.isRegex,c=!0),l.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,c=!0),l.matchCase&&(this.caseSensitive.checked=this._state.matchCase,c=!0),!this._state.isRevealed&&c&&this._revealTemporarily()})),this._register(xe(this._domNode,Qe.MOUSE_LEAVE,l=>this._onMouseLeave())),this._register(xe(this._domNode,"mouseover",l=>this._onMouseOver())),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return fD.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){const t={inputActiveOptionBorder:e.getColor(I8),inputActiveOptionForeground:e.getColor(N8),inputActiveOptionBackground:e.getColor(T8)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}fD.ID="editor.contrib.findOptionsWidget";ln((n,e)=>{const t=n.getColor(ns);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);const i=n.getColor(Tc);i&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${i}; }`);const s=n.getColor(Ic);s&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${s}; }`);const o=n.getColor(Kt);o&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${o}; }`)});function A3(n,e){return n===1?!0:n===2?!1:e}class NSt extends de{constructor(){super(),this._onFindReplaceStateChange=this._register(new J),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return A3(this._isRegexOverride,this._isRegex)}get wholeWord(){return A3(this._wholeWordOverride,this._wholeWord)}get matchCase(){return A3(this._matchCaseOverride,this._matchCase)}get preserveCase(){return A3(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){const s={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,s.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,s.matchesCount=!0,o=!0),typeof i!="undefined"&&(A.equalsRange(this._currentMatch,i)||(this._currentMatch=i,s.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(s)}change(e,t,i=!0){var s;const o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let r=!1;const a=this.isRegex,l=this.wholeWord,c=this.matchCase,u=this.preserveCase;typeof e.searchString!="undefined"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,r=!0),typeof e.replaceString!="undefined"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,r=!0),typeof e.isRevealed!="undefined"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,r=!0),typeof e.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,r=!0),typeof e.isRegex!="undefined"&&(this._isRegex=e.isRegex),typeof e.wholeWord!="undefined"&&(this._wholeWord=e.wholeWord),typeof e.matchCase!="undefined"&&(this._matchCase=e.matchCase),typeof e.preserveCase!="undefined"&&(this._preserveCase=e.preserveCase),typeof e.searchScope!="undefined"&&(!((s=e.searchScope)===null||s===void 0)&&s.every(d=>{var h;return(h=this._searchScope)===null||h===void 0?void 0:h.some(f=>!A.equalsRange(f,d))})||(this._searchScope=e.searchScope,o.searchScope=!0,r=!0)),typeof e.loop!="undefined"&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,r=!0),typeof e.isSearching!="undefined"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,r=!0),typeof e.filters!="undefined"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,r=!0),this._isRegexOverride=typeof e.isRegexOverride!="undefined"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride!="undefined"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride!="undefined"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride!="undefined"?e.preserveCaseOverride:0,a!==this.isRegex&&(r=!0,o.isRegex=!0),l!==this.wholeWord&&(r=!0,o.wholeWord=!0),c!==this.matchCase&&(r=!0,o.matchCase=!0),u!==this.preserveCase&&(r=!0,o.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Xf}}function qG(n){var e,t;return((e=n.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=n.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}var MSt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const ASt=ms("find-selection",C.selection,v("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),GG=ms("find-collapsed",C.chevronRight,v("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),YG=ms("find-expanded",C.chevronDown,v("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),RSt=ms("find-replace",C.replace,v("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),OSt=ms("find-replace-all",C.replaceAll,v("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),PSt=ms("find-previous-match",C.arrowUp,v("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),FSt=ms("find-next-match",C.arrowDown,v("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),BSt=v("label.find","Find"),VSt=v("placeholder.find","Find"),WSt=v("label.previousMatchButton","Previous Match"),HSt=v("label.nextMatchButton","Next Match"),$St=v("label.toggleSelectionFind","Find in Selection"),zSt=v("label.closeButton","Close"),USt=v("label.replace","Replace"),jSt=v("placeholder.replace","Replace"),KSt=v("label.replaceButton","Replace"),qSt=v("label.replaceAllButton","Replace All"),GSt=v("label.toggleReplaceButton","Toggle Replace"),YSt=v("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Xf),ZSt=v("label.matchesLocation","{0} of {1}"),ZG=v("label.noResults","No results"),gu=419,XSt=275,QSt=XSt-54;let db=69;const JSt=33,XG="ctrlEnterReplaceAll.windows.donotask",QG=ai?256:2048;class TT{constructor(e){this.afterLineNumber=e,this.heightInPx=JSt,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function JG(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){n.stopPropagation();return}}function eY(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){n.stopPropagation();return}}class gD extends Jl{constructor(e,t,i,s,o,r,a,l,c){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=s,this._keybindingService=o,this._contextKeyService=r,this._storageService=l,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(XG,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new ed(500),this._register(jt(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(u=>this._onStateChanged(u))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(u=>{if(u.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),u.hasChanged(133)&&this._tryUpdateWidgetWidth(),u.hasChanged(2)&&this.updateAccessibilitySupport(),u.hasChanged(37)){const d=this._codeEditor.getOption(37).addExtraSpaceOnTop;d&&!this._viewZone&&(this._viewZone=new TT(0),this._showViewZone()),!d&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>MSt(this,void 0,void 0,function*(){if(this._isVisible){const u=yield this._controller.getGlobalBufferTerm();u&&u!==this._state.searchString&&(this._state.change({searchString:u},!1),this._findInput.select())}}))),this._findInputFocused=hD.bindTo(r),this._findFocusTracker=this._register(Vm(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=MB.bindTo(r),this._replaceFocusTracker=this._register(Vm(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new TT(0)),this._applyTheme(a.getColorTheme()),this._register(a.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(u=>{if(u.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return gD.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(83)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Rl(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){const t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Ot)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=db+"px",this._state.matchesCount>=Xf?this._matchesCount.title=YSt:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=Xf&&(t+="+");let i=String(this._state.matchesPosition);i==="0"&&(i="?"),e=Qa(ZSt,i,t)}else e=ZG;this._matchesCount.appendChild(document.createTextNode(e)),no(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),db=Math.max(db,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===ZG)return i===""?v("ariaSearchNoResultEmpty","{0} found",e):v("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const s=v("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${s}`:s}return v("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){const e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const i=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const s=mo(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),r=s.left+(o?o.left:0),a=o?o.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const l=Jee(this._domNode).left;r>l&&(t=!1);const c=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());s.left+(c?c.left:0)>l&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(s=>{i.heightInPx=this._getHeight(),this._viewZoneId=s.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new TT(0));const i=this._viewZone;this._codeEditor.changeViewZones(s=>{if(this._viewZoneId!==void 0){const o=this._getHeight();if(o===i.heightInPx)return;const r=o-i.heightInPx;i.heightInPx=o,s.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+r);return}else{let o=this._getHeight();if(o-=this._codeEditor.getOption(77).top,o<=0)return;i.heightInPx=o,this._viewZoneId=s.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){const t={inputActiveOptionBorder:e.getColor(I8),inputActiveOptionBackground:e.getColor(T8),inputActiveOptionForeground:e.getColor(N8),inputBackground:e.getColor(g5),inputForeground:e.getColor(p5),inputBorder:e.getColor(m5),inputValidationInfoBackground:e.getColor(SP),inputValidationInfoForeground:e.getColor(LP),inputValidationInfoBorder:e.getColor(xP),inputValidationWarningBackground:e.getColor(DP),inputValidationWarningForeground:e.getColor(kP),inputValidationWarningBorder:e.getColor(EP),inputValidationErrorBackground:e.getColor(IP),inputValidationErrorForeground:e.getColor(TP),inputValidationErrorBorder:e.getColor(NP)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible||!bP(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const i=e.width,s=e.minimap.minimapWidth;let o=!1,r=!1,a=!1;if(this._resized&&Rl(this._domNode)>gu){this._domNode.style.maxWidth=`${i-28-s-15}px`,this._replaceInput.width=Rl(this._findInput.domNode);return}if(gu+28+s>=i&&(r=!0),gu+28+s-db>=i&&(a=!0),gu+28+s-db>=i+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",a),this._domNode.classList.toggle("reduced-find-widget",r),!a&&!o&&(this._domNode.style.maxWidth=`${i-28-s-15}px`),this._resized){this._findInput.inputBox.layout();const l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=Rl(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!A.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(QG|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return JG(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return eY(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(QG|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{oo&&Rc&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(v("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(XG,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return JG(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return eY(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new a7(null,this._contextViewProvider,{width:QSt,label:BSt,placeholder:VSt,appendCaseSensitiveLabel:this._keybindingLabelFor(on.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(on.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(on.ToggleRegexCommand),validation:l=>{if(l.length===0||!this._findInput.getRegex())return null;try{return new RegExp(l,"gu"),null}catch(c){return{content:c.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>qG(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(l=>this._onFindInputKeyDown(l))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(l=>{l.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),l.preventDefault())})),this._register(this._findInput.onRegexKeyDown(l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),l.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(l=>{this._tryUpdateHeight()&&this._showViewZone()})),So&&this._register(this._findInput.onMouseDown(l=>this._onFindInputMouseDown(l))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new x0({label:WSt+this._keybindingLabelFor(on.PreviousMatchFindAction),icon:PSt,onTrigger:()=>{this._codeEditor.getAction(on.PreviousMatchFindAction).run().then(void 0,Ot)}})),this._nextBtn=this._register(new x0({label:HSt+this._keybindingLabelFor(on.NextMatchFindAction),icon:FSt,onTrigger:()=>{this._codeEditor.getAction(on.NextMatchFindAction).run().then(void 0,Ot)}}));const i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);const s=document.createElement("div");s.className="find-actions",i.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Zy({icon:ASt,title:$St+this._keybindingLabelFor(on.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const l=this._codeEditor.getSelections();l.map(c=>(c.endColumn===1&&c.endLineNumber>c.startLineNumber&&(c=c.setEndPosition(c.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(c.endLineNumber-1))),c.isEmpty()?null:c)).filter(c=>!!c),l.length&&this._state.change({searchScope:l},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new x0({label:zSt+this._keybindingLabelFor(on.CloseFindWidgetCommand),icon:Hie,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),l.preventDefault())}})),s.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new l7(null,void 0,{label:USt,placeholder:jSt,appendPreserveCaseLabel:this._keybindingLabelFor(on.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>qG(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(l=>this._onReplaceInputKeyDown(l))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(l=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(l=>{l.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),l.preventDefault())})),this._replaceBtn=this._register(new x0({label:KSt+this._keybindingLabelFor(on.ReplaceOneAction),icon:RSt,onTrigger:()=>{this._controller.replace()},onKeyDown:l=>{l.equals(1026)&&(this._closeBtn.focus(),l.preventDefault())}})),this._replaceAllBtn=this._register(new x0({label:qSt+this._keybindingLabelFor(on.ReplaceAllAction),icon:OSt,onTrigger:()=>{this._controller.replaceAll()}}));const o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);const r=document.createElement("div");r.className="replace-actions",o.appendChild(r),r.appendChild(this._replaceBtn.domNode),r.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new x0({label:GSt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Rl(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${gu}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(o),this._resizeSash=new fo(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let a=gu;this._register(this._resizeSash.onDidStart(()=>{a=Rl(this._domNode)})),this._register(this._resizeSash.onDidChange(l=>{this._resized=!0;const c=a+l.startX-l.currentX;if(c<gu)return;const u=parseFloat(Jx(this._domNode).maxWidth)||0;c>u||(this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=Rl(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const l=Rl(this._domNode);if(l<gu)return;let c=gu;if(!this._resized||l===gu){const u=this._codeEditor.getLayoutInfo();c=u.width-28-u.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=Rl(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}gD.ID="editor.contrib.findWidget";class x0 extends Jl{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+Li.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,i=>{this._opts.onTrigger(),i.preventDefault()}),this.onkeydown(this._domNode,i=>{var s,o;if(i.equals(10)||i.equals(3)){this._opts.onTrigger(),i.preventDefault();return}(o=(s=this._opts).onKeyDown)===null||o===void 0||o.call(s,i)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Li.asClassNameArray(GG)),this._domNode.classList.add(...Li.asClassNameArray(YG))):(this._domNode.classList.remove(...Li.asClassNameArray(YG)),this._domNode.classList.add(...Li.asClassNameArray(GG)))}}ln((n,e)=>{const t=(p,m)=>{m&&e.addRule(`.monaco-editor ${p} { background-color: ${m}; }`)};t(".findMatch",n.getColor(dh)),t(".currentFindMatch",n.getColor(Hut)),t(".findScope",n.getColor($ut));const i=n.getColor(ns);t(".find-widget",i);const s=n.getColor(Ic);s&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${s}; }`);const o=n.getColor(tm);o&&e.addRule(`.monaco-editor .findMatch { border: 1px ${wo(n.type)?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const r=n.getColor(zut);r&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${r}; padding: 1px; box-sizing: border-box; }`);const a=n.getColor(Uut);a&&e.addRule(`.monaco-editor .findScope { border: 1px ${wo(n.type)?"dashed":"solid"} ${a}; }`);const l=n.getColor(Kt);l&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${l}; }`);const c=n.getColor(Tc);c&&e.addRule(`.monaco-editor .find-widget { color: ${c}; }`);const u=n.getColor(yut);u&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${u}; }`);const d=n.getColor(Tut);if(d)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${d}; }`);else{const p=n.getColor(ch);p&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${p}; }`)}const h=n.getColor(hM);h&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${h} !important;
		}
	`);const f=n.getColor(el);f&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${f}; }`)});var joe=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},wu=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},s_=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const e3t=524288;function C7(n,e="single",t=!1){if(!n.hasModel())return null;const i=n.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){const s=n.getConfiguredWordAtPosition(i.getStartPosition());if(s&&t===!1)return s.word}else if(n.getModel().getValueLengthInRange(i)<e3t)return n.getModel().getValueInRange(i)}return null}let Kr=class Koe extends de{constructor(e,t,i,s){super(),this._editor=e,this._findWidgetVisible=Qg.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=s,this._updateHistoryDelayer=new ed(500),this._state=this._register(new NSt),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(o=>this._onStateChanged(o))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const o=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),o&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(Koe.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!hD.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=Ca(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return s_(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const i=Object.assign(Object.assign({},t),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){const s=C7(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);s&&(this._state.isRegex?i.searchString=Ca(s):i.searchString=s)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){const s=C7(this._editor,e.seedSearchStringFromSelection);s&&(i.searchString=s)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){const s=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;s&&(i.searchString=s)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){const s=this._editor.getSelections();s.some(o=>!o.isEmpty())&&(i.searchScope=s)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new kC(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return s_(this,void 0,void 0,function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Kr.ID="editor.contrib.findController";Kr=joe([wu(1,At),wu(2,tc),wu(3,qh)],Kr);let w7=class extends Kr{constructor(e,t,i,s,o,r,a,l){super(e,i,a,l),this._contextViewService=t,this._keybindingService=s,this._themeService=o,this._notificationService=r,this._widget=null,this._findOptionsWidget=null}_start(e,t){const i=Object.create(null,{_start:{get:()=>super._start}});return s_(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const s=this._editor.getSelection();let o=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":{o=!!s&&s.startLineNumber!==s.endLineNumber;break}}e.updateSearchScope=e.updateSearchScope||o,yield i._start.call(this,e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new gD(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new fD(this._editor,this._state,this._keybindingService,this._themeService))}};w7=joe([wu(1,N_),wu(2,At),wu(3,Ms),wu(4,Qi),wu(5,os),wu(6,tc),wu(7,qh)],w7);const t3t=gte(new fte({id:on.StartFindAction,label:v("startFindAction","Find"),alias:"Find",precondition:Xe.or(z.focus,Xe.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Y.MenubarEditMenu,group:"3_find",title:v({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));t3t.addImplementation(0,(n,e,t)=>{const i=Kr.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(37).loop}):!1});const i3t={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:v("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:v("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:v("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:v("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class n3t extends nt{constructor(){super({id:on.StartFindWithArgs,label:v("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:i3t})}run(e,t,i){return s_(this,void 0,void 0,function*(){const s=Kr.get(t);if(s){const o=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield s.start({forceRevealReplace:!1,seedSearchStringFromSelection:s.getState().searchString.length===0&&t.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(i==null?void 0:i.findInSelection)||!1,loop:t.getOption(37).loop},o),s.setGlobalBufferTerm(s.getState().searchString)}})}}class s3t extends nt{constructor(){super({id:on.StartFindWithSelection,label:v("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return s_(this,void 0,void 0,function*(){const i=Kr.get(t);i&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),i.setGlobalBufferTerm(i.getState().searchString))})}}class qoe extends nt{run(e,t){return s_(this,void 0,void 0,function*(){const i=Kr.get(t);i&&!this._run(i)&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),this._run(i))})}}class o3t extends qoe{constructor(){super({id:on.NextMatchFindAction,label:v("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:z.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Xe.and(z.focus,hD),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class r3t extends qoe{constructor(){super({id:on.PreviousMatchFindAction,label:v("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:z.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Xe.and(z.focus,hD),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class Goe extends nt{run(e,t){return s_(this,void 0,void 0,function*(){const i=Kr.get(t);if(!i)return;const s=t.getOption(37).seedSearchStringFromSelection==="selection";let o=null;t.getOption(37).seedSearchStringFromSelection!=="never"&&(o=C7(t,"single",s)),o&&i.setSearchString(o),this._run(i)||(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:s,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),this._run(i))})}}class a3t extends Goe{constructor(){super({id:on.NextSelectionMatchFindAction,label:v("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class l3t extends Goe{constructor(){super({id:on.PreviousSelectionMatchFindAction,label:v("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const c3t=gte(new fte({id:on.StartFindReplaceAction,label:v("startReplace","Replace"),alias:"Replace",precondition:Xe.or(z.focus,Xe.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Y.MenubarEditMenu,group:"3_find",title:v({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));c3t.addImplementation(0,(n,e,t)=>{if(!e.hasModel()||e.getOption(83))return!1;const i=Kr.get(e);if(!i)return!1;const s=e.getSelection(),o=i.isFindInputFocused(),r=!s.isEmpty()&&s.startLineNumber===s.endLineNumber&&e.getOption(37).seedSearchStringFromSelection!=="never"&&!o,a=o||r?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:r?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(37).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(37).loop})});mi(Kr.ID,w7);Pe(n3t);Pe(s3t);Pe(o3t);Pe(r3t);Pe(a3t);Pe(l3t);const iu=Ys.bindToContribution(Kr.get);Ae(new iu({id:on.CloseFindWidgetCommand,precondition:Qg,handler:n=>n.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:Xe.and(z.focus,Xe.not("isComposing")),primary:9,secondary:[1033]}}));Ae(new iu({id:on.ToggleCaseSensitiveCommand,precondition:void 0,handler:n=>n.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:z.focus,primary:E3.primary,mac:E3.mac,win:E3.win,linux:E3.linux}}));Ae(new iu({id:on.ToggleWholeWordCommand,precondition:void 0,handler:n=>n.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:z.focus,primary:I3.primary,mac:I3.mac,win:I3.win,linux:I3.linux}}));Ae(new iu({id:on.ToggleRegexCommand,precondition:void 0,handler:n=>n.toggleRegex(),kbOpts:{weight:100+5,kbExpr:z.focus,primary:T3.primary,mac:T3.mac,win:T3.win,linux:T3.linux}}));Ae(new iu({id:on.ToggleSearchScopeCommand,precondition:void 0,handler:n=>n.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:z.focus,primary:N3.primary,mac:N3.mac,win:N3.win,linux:N3.linux}}));Ae(new iu({id:on.TogglePreserveCaseCommand,precondition:void 0,handler:n=>n.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:z.focus,primary:M3.primary,mac:M3.mac,win:M3.win,linux:M3.linux}}));Ae(new iu({id:on.ReplaceOneAction,precondition:Qg,handler:n=>n.replace(),kbOpts:{weight:100+5,kbExpr:z.focus,primary:3094}}));Ae(new iu({id:on.ReplaceOneAction,precondition:Qg,handler:n=>n.replace(),kbOpts:{weight:100+5,kbExpr:Xe.and(z.focus,MB),primary:3}}));Ae(new iu({id:on.ReplaceAllAction,precondition:Qg,handler:n=>n.replaceAll(),kbOpts:{weight:100+5,kbExpr:z.focus,primary:2563}}));Ae(new iu({id:on.ReplaceAllAction,precondition:Qg,handler:n=>n.replaceAll(),kbOpts:{weight:100+5,kbExpr:Xe.and(z.focus,MB),primary:void 0,mac:{primary:2051}}}));Ae(new iu({id:on.SelectAllMatchesAction,precondition:Qg,handler:n=>n.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:z.focus,primary:515}}));const tY=65535,Cc=16777215,iY=4278190080;class NT{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){const t=e/32|0,i=e%32;return(this._states[t]&1<<i)!==0}set(e,t){const i=e/32|0,s=e%32,o=this._states[i];t?this._states[i]=o|1<<s:this._states[i]=o&~(1<<s)}}class la{constructor(e,t,i){if(this.sourceAbbr={[0]:" ",[1]:"u",[2]:"r"},e.length!==t.length||e.length>tY)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new NT(e.length),this._userDefinedStates=new NT(e.length),this._recoveredStates=new NT(e.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const e=[],t=(i,s)=>{const o=e[e.length-1];return this.getStartLineNumber(o)<=i&&this.getEndLineNumber(o)>=s};for(let i=0,s=this._startIndexes.length;i<s;i++){const o=this._startIndexes[i],r=this._endIndexes[i];if(o>Cc||r>Cc)throw new Error("startLineNumber or endLineNumber must not exceed "+Cc);for(;e.length>0&&!t(o,r);)e.pop();const a=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=o+((a&255)<<24),this._endIndexes[i]=r+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&Cc}getEndLineNumber(e){return this._endIndexes[e]&Cc}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){t===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let s=0;s<this._types.length;s++)this._types[s]===e&&(this.setCollapsed(s,t),i=!0);return i}toRegion(e){return new u3t(this,e)}getParentIndex(e){this.ensureParentIndices();const t=((this._startIndexes[e]&iY)>>>24)+((this._endIndexes[e]&iY)>>>16);return t===tY?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(i===0)return-1;for(;t<i;){const s=Math.floor((t+i)/2);e<this.getStartLineNumber(s)?i=s:t=s+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){const e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.sourceAbbr[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&Cc,endLineNumber:this._endIndexes[e]&Cc,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){const t=e.length,i=new Uint32Array(t),s=new Uint32Array(t);let o=[],r=!1;for(let l=0;l<t;l++){const c=e[l];i[l]=c.startLineNumber,s[l]=c.endLineNumber,o.push(c.type),c.type&&(r=!0)}r||(o=void 0);const a=new la(i,s,o);for(let l=0;l<t;l++)e[l].isCollapsed&&a.setCollapsed(l,!0),a.setSource(l,e[l].source);return a}static sanitizeAndMerge(e,t,i){i=i!=null?i:Number.MAX_VALUE;const s=(m,b)=>Array.isArray(m)?w=>w<b?m[w]:void 0:w=>w<b?m.toFoldRange(w):void 0,o=s(e,e.length),r=s(t,t.length);let a=0,l=0,c=o(0),u=r(0);const d=[];let h,f=0;const p=[];for(;c||u;){let m;if(u&&(!c||c.startLineNumber>=u.startLineNumber))c&&c.startLineNumber===u.startLineNumber?(u.source===1?m=u:(m=c,m.isCollapsed=u.isCollapsed&&c.endLineNumber===u.endLineNumber,m.source=0),c=o(++a)):(m=u,u.isCollapsed&&u.source===0&&(m.source=2)),u=r(++l);else{let b=l,w=u;for(;;){if(!w||w.startLineNumber>c.endLineNumber){m=c;break}if(w.source===1&&w.endLineNumber>c.endLineNumber)break;w=r(++b)}c=o(++a)}if(m){for(;h&&h.endLineNumber<m.startLineNumber;)h=d.pop();m.endLineNumber>m.startLineNumber&&m.startLineNumber>f&&m.endLineNumber<=i&&(!h||h.endLineNumber>=m.endLineNumber)&&(p.push(m),f=m.startLineNumber,h&&d.push(h),h=m)}}return p}}class u3t{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class d3t{constructor(e,t){this._updateEventEmitter=new J,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new la(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(e){if(!e.length)return;e=e.sort((i,s)=>i.regionIndex-s.regionIndex);const t={};this._decorationProvider.changeDecorations(i=>{let s=0,o=-1,r=-1;const a=l=>{for(;s<l;){const c=this._regions.getEndLineNumber(s),u=this._regions.isCollapsed(s);if(c<=o){const d=this.regions.getSource(s)!==0;i.changeDecorationOptions(this._editorDecorationIds[s],this._decorationProvider.getDecorationOption(u,c<=r,d))}u&&c>r&&(r=c),s++}};for(const l of e){const c=l.regionIndex,u=this._editorDecorationIds[c];if(u&&!t[u]){t[u]=!0,a(c);const d=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,d),o=Math.max(o,this._regions.getEndLineNumber(c))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){const t=new Array,i=s=>{for(const o of e)if(!(o.startLineNumber>s.endLineNumber||s.startLineNumber>o.endLineNumber))return!0;return!1};for(let s=0;s<this._regions.length;s++){const o=this._regions.toFoldRange(s);(o.source===0||!i(o))&&t.push(o)}this.updatePost(la.fromFoldRanges(t))}update(e,t=[]){const i=this._currentFoldedOrManualRanges(t),s=la.sanitizeAndMerge(e,i,this._textModel.getLineCount());this.updatePost(la.fromFoldRanges(s))}updatePost(e){const t=[];let i=-1;for(let s=0,o=e.length;s<o;s++){const r=e.getStartLineNumber(s),a=e.getEndLineNumber(s),l=e.isCollapsed(s),c=e.getSource(s)!==0,u={startLineNumber:r,startColumn:this._textModel.getLineMaxColumn(r),endLineNumber:a,endColumn:this._textModel.getLineMaxColumn(a)+1};t.push({range:u,options:this._decorationProvider.getDecorationOption(l,a<=i,c)}),l&&a>i&&(i=a)}this._decorationProvider.changeDecorations(s=>this._editorDecorationIds=s.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e=[]){const t=(s,o)=>{for(const r of e)if(s<r&&r<=o)return!0;return!1},i=[];for(let s=0,o=this._regions.length;s<o;s++){let r=this.regions.isCollapsed(s);const a=this.regions.getSource(s);if(r||a!==0){const l=this._regions.toFoldRange(s),c=this._textModel.getDecorationRange(this._editorDecorationIds[s]);c&&(r&&(t(c.startLineNumber,c.endLineNumber)||c.endLineNumber-c.startLineNumber!==l.endLineNumber-l.startLineNumber)&&(r=!1),i.push({startLineNumber:c.startLineNumber,endLineNumber:c.endLineNumber,type:l.type,isCollapsed:r,source:a}))}}return i}getMemento(){const e=this._currentFoldedOrManualRanges(),t=[];for(let i=0,s=e.length;i<s;i++){const o=e[i],r=this._getLinesChecksum(o.startLineNumber+1,o.endLineNumber);t.push({startLineNumber:o.startLineNumber,endLineNumber:o.endLineNumber,isCollapsed:o.isCollapsed,source:o.source,checksum:r})}return t.length>0?t:void 0}applyMemento(e){var t,i;if(!Array.isArray(e))return;const s=[],o=this._textModel.getLineCount();for(const a of e){if(a.startLineNumber>=a.endLineNumber||a.startLineNumber<1||a.endLineNumber>o)continue;const l=this._getLinesChecksum(a.startLineNumber+1,a.endLineNumber);(!a.checksum||l===a.checksum)&&s.push({startLineNumber:a.startLineNumber,endLineNumber:a.endLineNumber,type:void 0,isCollapsed:(t=a.isCollapsed)!==null&&t!==void 0?t:!0,source:(i=a.source)!==null&&i!==void 0?i:0})}const r=la.sanitizeAndMerge(this._regions,s,o);this.updatePost(la.fromFoldRanges(r))}_getLinesChecksum(e,t){return cP(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){const i=[];if(this._regions){let s=this._regions.findRange(e),o=1;for(;s>=0;){const r=this._regions.toRegion(s);(!t||t(r,o))&&i.push(r),o++,s=r.parentIndex}}return i}getRegionAtLine(e){if(this._regions){const t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){const i=[],s=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const r=[];for(let a=s,l=this._regions.length;a<l;a++){const c=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<o){for(;r.length>0&&!c.containedBy(r[r.length-1]);)r.pop();r.push(c),t(c,r.length)&&i.push(c)}else break}}else for(let r=s,a=this._regions.length;r<a;r++){const l=this._regions.toRegion(r);if(this._regions.getStartLineNumber(r)<o)(!t||t(l))&&i.push(l);else break}return i}}function h3t(n,e,t){const i=[];for(const s of t){const o=n.getRegionAtLine(s);if(o){const r=!o.isCollapsed;if(i.push(o),e>1){const a=n.getRegionsInside(o,(l,c)=>l.isCollapsed!==r&&c<e);i.push(...a)}}}n.toggleCollapseState(i)}function g2(n,e,t=Number.MAX_VALUE,i){const s=[];if(i&&i.length>0)for(const o of i){const r=n.getRegionAtLine(o);if(r&&(r.isCollapsed!==e&&s.push(r),t>1)){const a=n.getRegionsInside(r,(l,c)=>l.isCollapsed!==e&&c<t);s.push(...a)}}else{const o=n.getRegionsInside(null,(r,a)=>r.isCollapsed!==e&&a<t);s.push(...o)}n.toggleCollapseState(s)}function Yoe(n,e,t,i){const s=[];for(const o of i){const r=n.getAllRegionsAtLine(o,(a,l)=>a.isCollapsed!==e&&l<=t);s.push(...r)}n.toggleCollapseState(s)}function f3t(n,e,t){const i=[];for(const s of t){const o=n.getAllRegionsAtLine(s,r=>r.isCollapsed!==e);o.length>0&&i.push(o[0])}n.toggleCollapseState(i)}function g3t(n,e,t,i){const s=(r,a)=>a===e&&r.isCollapsed!==t&&!i.some(l=>r.containsLine(l)),o=n.getRegionsInside(null,s);n.toggleCollapseState(o)}function Zoe(n,e,t){const i=[];for(const r of t){const a=n.getAllRegionsAtLine(r,void 0);a.length>0&&i.push(a[0])}const s=r=>i.every(a=>!a.containedBy(r)&&!r.containedBy(a))&&r.isCollapsed!==e,o=n.getRegionsInside(null,s);n.toggleCollapseState(o)}function AB(n,e,t){const i=n.textModel,s=n.regions,o=[];for(let r=s.length-1;r>=0;r--)if(t!==s.isCollapsed(r)){const a=s.getStartLineNumber(r);e.test(i.getLineContent(a))&&o.push(s.toRegion(r))}n.toggleCollapseState(o)}function RB(n,e,t){const i=n.regions,s=[];for(let o=i.length-1;o>=0;o--)t!==i.isCollapsed(o)&&e===i.getType(o)&&s.push(i.toRegion(o));n.toggleCollapseState(s)}function p3t(n,e){let t=null;const i=e.getRegionAtLine(n);if(i!==null&&(t=i.startLineNumber,n===t)){const s=i.parentIndex;s!==-1?t=e.regions.getStartLineNumber(s):t=null}return t}function m3t(n,e){let t=e.getRegionAtLine(n);if(t!==null&&t.startLineNumber===n){if(n!==t.startLineNumber)return t.startLineNumber;{const i=t.parentIndex;let s=0;for(i!==-1&&(s=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=s)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<n)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function _3t(n,e){let t=e.getRegionAtLine(n);if(t!==null&&t.startLineNumber===n){const i=t.parentIndex;let s=0;if(i!==-1)s=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;s=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=s)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>n)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}class v3t{constructor(e){this._updateEventEmitter=new J,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||jm(t.text)[0]!==0))}updateHiddenRanges(){let e=!1;const t=[];let i=0,s=0,o=Number.MAX_VALUE,r=-1;const a=this._foldingModel.regions;for(;i<a.length;i++){if(!a.isCollapsed(i))continue;const l=a.getStartLineNumber(i)+1,c=a.getEndLineNumber(i);o<=l&&c<=r||(!e&&s<this._hiddenRanges.length&&this._hiddenRanges[s].startLineNumber===l&&this._hiddenRanges[s].endLineNumber===c?(t.push(this._hiddenRanges[s]),s++):(e=!0,t.push(new A(l,1,c,1))),o=l,r=c)}(this._hasLineChanges||e||s<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return nY(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1;const i=this._foldingModel.textModel;let s=null;const o=r=>((!s||!b3t(r,s))&&(s=nY(this._hiddenRanges,r)),s?s.startLineNumber-1:null);for(let r=0,a=e.length;r<a;r++){let l=e[r];const c=o(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),t=!0);const u=o(l.endLineNumber);u&&(l=l.setEndPosition(u,i.getLineMaxColumn(u)),t=!0),e[r]=l}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function b3t(n,e){return n>=e.startLineNumber&&n<=e.endLineNumber}function nY(n,e){const t=AJ(n,i=>e<i.startLineNumber)-1;return t>=0&&n[t].endLineNumber>=e?n[t]:null}const C3t=5e3,w3t="indent";class y3t{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.maxFoldingRegions=i,this.id=w3t}dispose(){}compute(e,t){const i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,s=i&&!!i.offSide,o=i&&i.markers;return Promise.resolve(L3t(this.editorModel,s,o,this.maxFoldingRegions,t))}}class S3t{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>Cc||t>Cc)return;const s=this._length;this._startIndexes[s]=e,this._endIndexes[s]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){var t;if(this._length<=this._foldingRangesLimit){const i=new Uint32Array(this._length),s=new Uint32Array(this._length);for(let o=this._length-1,r=0;o>=0;o--,r++)i[r]=this._startIndexes[o],s[r]=this._endIndexes[o];return new la(i,s)}else{(t=this._notifyTooManyRegions)===null||t===void 0||t.call(this,this._foldingRangesLimit);let i=0,s=this._indentOccurrences.length;for(let l=0;l<this._indentOccurrences.length;l++){const c=this._indentOccurrences[l];if(c){if(c+i>this._foldingRangesLimit){s=l;break}i+=c}}const o=e.getOptions().tabSize,r=new Uint32Array(this._foldingRangesLimit),a=new Uint32Array(this._foldingRangesLimit);for(let l=this._length-1,c=0;l>=0;l--){const u=this._startIndexes[l],d=e.getLineContent(u),h=S5(d,o);(h<s||h===s&&i++<this._foldingRangesLimit)&&(r[c]=u,a[c]=this._endIndexes[l],c++)}return new la(r,a)}}}function L3t(n,e,t,i,s){const o=n.getOptions().tabSize;i=i!=null?i:C3t;const r=new S3t(i,s);let a;t&&(a=new RegExp(`(${t.start.source})|(?:${t.end.source})`));const l=[],c=n.getLineCount()+1;l.push({indent:-1,endAbove:c,line:c});for(let u=n.getLineCount();u>0;u--){const d=n.getLineContent(u),h=S5(d,o);let f=l[l.length-1];if(h===-1){e&&(f.endAbove=u);continue}let p;if(a&&(p=d.match(a)))if(p[1]){let m=l.length-1;for(;m>0&&l[m].indent!==-2;)m--;if(m>0){l.length=m+1,f=l[m],r.insertFirst(u,f.line,h),f.line=u,f.indent=h,f.endAbove=u;continue}}else{l.push({indent:-2,endAbove:u,line:u});continue}if(f.indent>h){do l.pop(),f=l[l.length-1];while(f.indent>h);const m=f.endAbove-1;m-u>=1&&r.insertFirst(u,m,h)}f.indent===h?f.endAbove=u:l.push({indent:h,endAbove:u,line:u})}return r.toIndentRanges(n)}const c4=ms("folding-expanded",C.chevronDown,v("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),pD=ms("folding-collapsed",C.chevronRight,v("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),Xoe=ms("folding-manual-collapsed",pD,v("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),OB=ms("folding-manual-expanded",c4,v("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin."));class Js{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t||this.showFoldingControls==="never"?Js.HIDDEN_RANGE_DECORATION:e?i?this.showFoldingHighlights?Js.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Js.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?Js.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Js.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?i?Js.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Js.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?Js.MANUALLY_EXPANDED_VISUAL_DECORATION:Js.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}Js.COLLAPSED_VISUAL_DECORATION=Rt.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Li.asClassName(pD)});Js.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Rt.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Li.asClassName(pD)});Js.MANUALLY_COLLAPSED_VISUAL_DECORATION=Rt.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Li.asClassName(c4)});Js.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Rt.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Li.asClassName(Xoe)});Js.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Rt.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Li.asClassName(c4)});Js.EXPANDED_VISUAL_DECORATION=Rt.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Li.asClassName(c4)});Js.MANUALLY_EXPANDED_VISUAL_DECORATION=Rt.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Li.asClassName(OB)});Js.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Rt.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Li.asClassName(OB)});Js.HIDDEN_RANGE_DECORATION=Rt.register({description:"folding-hidden-range-decoration",stickiness:1});const x3t={},D3t="syntax";class k3t{constructor(e,t,i,s){this.editorModel=e,this.providers=t,this.limit=s,this.id=D3t;for(const o of t)typeof o.onDidChange=="function"&&(this.disposables||(this.disposables=new Ie),this.disposables.add(o.onDidChange(i)))}compute(e,t){return E3t(this.providers,this.editorModel,e).then(i=>i?T3t(i,this.limit,t):null)}dispose(){var e;(e=this.disposables)===null||e===void 0||e.dispose()}}function E3t(n,e,t){let i=null;const s=n.map((o,r)=>Promise.resolve(o.provideFoldingRanges(e,x3t,t)).then(a=>{if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(i)||(i=[]);const l=e.getLineCount();for(const c of a)c.start>0&&c.end>c.start&&c.end<=l&&i.push({start:c.start,end:c.end,rank:r,kind:c.kind})}},$s));return Promise.all(s).then(o=>i)}class I3t{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,s){if(e>Cc||t>Cc)return;const o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=s,this._types[o]=i,this._length++,s<30&&(this._nestingLevelCounts[s]=(this._nestingLevelCounts[s]||0)+1)}toIndentRanges(){var e;if(this._length<=this._foldingRangesLimit){const t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let s=0;s<this._length;s++)t[s]=this._startIndexes[s],i[s]=this._endIndexes[s];return new la(t,i,this._types)}else{(e=this._notifyTooManyRegions)===null||e===void 0||e.call(this,this._foldingRangesLimit);let t=0,i=this._nestingLevelCounts.length;for(let a=0;a<this._nestingLevelCounts.length;a++){const l=this._nestingLevelCounts[a];if(l){if(l+t>this._foldingRangesLimit){i=a;break}t+=l}}const s=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit),r=[];for(let a=0,l=0;a<this._length;a++){const c=this._nestingLevels[a];(c<i||c===i&&t++<this._foldingRangesLimit)&&(s[l]=this._startIndexes[a],o[l]=this._endIndexes[a],r[l]=this._types[a],l++)}return new la(s,o,r)}}}function T3t(n,e,t){const i=n.sort((a,l)=>{let c=a.start-l.start;return c===0&&(c=a.rank-l.rank),c}),s=new I3t(e,t);let o;const r=[];for(const a of i)if(!o)o=a,s.add(a.start,a.end,a.kind&&a.kind.value,r.length);else if(a.start>o.start)if(a.end<=o.end)r.push(o),o=a,s.add(a.start,a.end,a.kind&&a.kind.value,r.length);else{if(a.start>o.end){do o=r.pop();while(o&&a.start>o.end);o&&r.push(o),o=a}s.add(a.start,a.end,a.kind&&a.kind.value,r.length)}return s.toIndentRanges()}var N3t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},hb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const ko=new et("foldingEnabled",!1);let Fv=class Qoe extends de{constructor(e,t,i,s,o,r){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=r,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new Ie),this.editor=e;const a=this.editor.getOptions();this._isEnabled=a.get(39),this._useFoldingProviders=a.get(40)!=="indentation",this._unfoldOnClickAfterEndOfLine=a.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=a.get(42),this._maxFoldingRegions=a.get(43),this.updateDebounceInfo=o.for(r.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Js(e),this.foldingDecorationProvider.showFoldingControls=a.get(101),this.foldingDecorationProvider.showFoldingHighlights=a.get(41),this.foldingEnabled=ko.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=l=>{this._tooManyRegionsNotified||(s.notify({severity:xn.Warning,sticky:!0,message:v("maximum fold ranges",`The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?["editor.foldingMaximumRegions"]) to enable more.`,l)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(l=>{if(l.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),l.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),l.hasChanged(101)||l.hasChanged(41)){const c=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=c.get(101),this.foldingDecorationProvider.showFoldingHighlights=c.get(41),this.triggerFoldingModelChanged()}l.hasChanged(40)&&(this._useFoldingProviders=this.editor.getOptions().get(40)!=="indentation",this.onFoldingStrategyChanged()),l.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),l.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))})),this.onModelChanged()}static get(e){return e.getContribution(Qoe.ID)}saveViewState(){const e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){const t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){const t=this.editor.getModel();if(!(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!e||e.lineCount!==t.getLineCount())&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new d3t(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new v3t(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new ed(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new Hi(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new y3t(e,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const t=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);t.length>0&&(this.rangeProvider=new k3t(e,t,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new yr(!0),i=this.getRangeProvider(e.textModel),s=this.foldingRegionPromise=Ws(o=>i.compute(o,this._notifyTooManyRegions));return s.then(o=>{if(o&&s===this.foldingRegionPromise){let r;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const u=o.setCollapsedAllOfType(Wc.Imports.value,!0);u&&(r=Ng.capture(this.editor),this._currentModelHasFoldedImports=u)}const a=this.editor.getSelections(),l=a?a.map(u=>u.startLineNumber):[];e.update(o,l),r==null||r.restore(this.editor);const c=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=c)}return e})}).then(void 0,e=>(Ot(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){const t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();!e||e.then(t=>{if(t){const i=this.editor.getSelections();if(i&&i.length>0){const s=[];for(const o of i){const r=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(r)&&s.push(...t.getAllRegionsAtLine(r,a=>a.isCollapsed&&r>a.startLineNumber))}s.length&&(t.toggleCollapseState(s),this.reveal(i[0].getPosition()))}}}).then(void 0,Ot)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:{const s=e.target.detail,o=e.target.element.offsetLeft;if(s.offsetX-o<5)return;i=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const s=this.editor.getModel();if(s&&t.startColumn===s.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;const i=this.mouseDownInfo.lineNumber,s=this.mouseDownInfo.iconClicked,o=e.target.range;if(!o||o.startLineNumber!==i)return;if(s){if(e.target.type!==4)return}else{const a=this.editor.getModel();if(!a||o.startColumn!==a.getLineMaxColumn(i))return}const r=t.getRegionAtLine(i);if(r&&r.startLineNumber===i){const a=r.isCollapsed;if(s||a){const l=e.event.altKey;let c=[];if(l){const u=h=>!h.containedBy(r)&&!r.containedBy(h),d=t.getRegionsInside(null,u);for(const h of d)h.isCollapsed&&c.push(h);c.length===0&&(c=d)}else{const u=e.event.middleButton||e.event.shiftKey;if(u)for(const d of t.getRegionsInside(r))d.isCollapsed===a&&c.push(d);(a||!u||c.length===0)&&c.push(r)}t.toggleCollapseState(c),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};Fv.ID="editor.contrib.folding";Fv=N3t([hb(1,At),hb(2,Xn),hb(3,os),hb(4,vl),hb(5,st)],Fv);class Wo extends nt{runEditorCommand(e,t,i){const s=e.get(Xn),o=Fv.get(t);if(!o)return;const r=o.getFoldingModel();if(r)return this.reportTelemetry(e,t),r.then(a=>{if(a){this.invoke(o,a,t,i,s);const l=t.getSelection();l&&o.reveal(l.getStartPosition())}})}getSelectedLines(e){const t=e.getSelections();return t?t.map(i=>i.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(i=>i+1):this.getSelectedLines(t)}run(e,t){}}function Joe(n){if(!Br(n)){if(!pr(n))return!1;const e=n;if(!Br(e.levels)&&!wg(e.levels)||!Br(e.direction)&&!br(e.direction)||!Br(e.selectionLines)&&(!VJ(e.selectionLines)||!e.selectionLines.every(wg)))return!1}return!0}class M3t extends Wo{constructor(){super({id:"editor.unfold",label:v("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:Joe,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,s){const o=s&&s.levels||1,r=this.getLineNumbers(s,i);s&&s.direction==="up"?Yoe(t,!1,o,r):g2(t,!1,o,r)}}class A3t extends Wo{constructor(){super({id:"editor.unfoldRecursively",label:v("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2137),weight:100}})}invoke(e,t,i,s){g2(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}class R3t extends Wo{constructor(){super({id:"editor.fold",label:v("foldAction.label","Fold"),alias:"Fold",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:Joe,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,s){const o=this.getLineNumbers(s,i),r=s&&s.levels,a=s&&s.direction;typeof r!="number"&&typeof a!="string"?f3t(t,!0,o):a==="up"?Yoe(t,!0,r||1,o):g2(t,!0,r||1,o)}}class O3t extends Wo{constructor(){super({id:"editor.toggleFold",label:v("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2090),weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);h3t(t,1,s)}}class P3t extends Wo{constructor(){super({id:"editor.foldRecursively",label:v("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2135),weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);g2(t,!0,Number.MAX_VALUE,s)}}class F3t extends Wo{constructor(){super({id:"editor.foldAllBlockComments",label:v("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2133),weight:100}})}invoke(e,t,i,s,o){if(t.regions.hasTypes())RB(t,Wc.Comment.value,!0);else{const r=i.getModel();if(!r)return;const a=o.getLanguageConfiguration(r.getLanguageId()).comments;if(a&&a.blockCommentStartToken){const l=new RegExp("^\\s*"+Ca(a.blockCommentStartToken));AB(t,l,!0)}}}}class B3t extends Wo{constructor(){super({id:"editor.foldAllMarkerRegions",label:v("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2077),weight:100}})}invoke(e,t,i,s,o){if(t.regions.hasTypes())RB(t,Wc.Region.value,!0);else{const r=i.getModel();if(!r)return;const a=o.getLanguageConfiguration(r.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){const l=new RegExp(a.markers.start);AB(t,l,!0)}}}}class V3t extends Wo{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:v("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2078),weight:100}})}invoke(e,t,i,s,o){if(t.regions.hasTypes())RB(t,Wc.Region.value,!1);else{const r=i.getModel();if(!r)return;const a=o.getLanguageConfiguration(r.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){const l=new RegExp(a.markers.start);AB(t,l,!1)}}}}class W3t extends Wo{constructor(){super({id:"editor.foldAllExcept",label:v("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2131),weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);Zoe(t,!0,s)}}class H3t extends Wo{constructor(){super({id:"editor.unfoldAllExcept",label:v("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2129),weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);Zoe(t,!1,s)}}class $3t extends Wo{constructor(){super({id:"editor.foldAll",label:v("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2069),weight:100}})}invoke(e,t,i){g2(t,!0)}}class z3t extends Wo{constructor(){super({id:"editor.unfoldAll",label:v("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2088),weight:100}})}invoke(e,t,i){g2(t,!1)}}class o_ extends Wo{getFoldingLevel(){return parseInt(this.id.substr(o_.ID_PREFIX.length))}invoke(e,t,i){g3t(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}o_.ID_PREFIX="editor.foldLevel";o_.ID=n=>o_.ID_PREFIX+n;class U3t extends Wo{constructor(){super({id:"editor.gotoParentFold",label:v("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);if(s.length>0){const o=p3t(s[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class j3t extends Wo{constructor(){super({id:"editor.gotoPreviousFold",label:v("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);if(s.length>0){const o=m3t(s[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class K3t extends Wo{constructor(){super({id:"editor.gotoNextFold",label:v("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);if(s.length>0){const o=_3t(s[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class q3t extends Wo{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:v("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2130),weight:100}})}invoke(e,t,i){var s;const o=[],r=i.getSelections();if(r){for(const a of r){let l=a.endLineNumber;a.endColumn===1&&--l,l>a.startLineNumber&&(o.push({startLineNumber:a.startLineNumber,endLineNumber:l,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:a.startLineNumber,startColumn:1,endLineNumber:a.startLineNumber,endColumn:1}))}if(o.length>0){o.sort((l,c)=>l.startLineNumber-c.startLineNumber);const a=la.sanitizeAndMerge(t.regions,o,(s=i.getModel())===null||s===void 0?void 0:s.getLineCount());t.updatePost(la.fromFoldRanges(a))}}}}class G3t extends Wo{constructor(){super({id:"editor.removeManualFoldingRanges",label:v("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2132),weight:100}})}invoke(e,t,i){const s=i.getSelections();if(s){const o=[];for(const r of s){const{startLineNumber:a,endLineNumber:l}=r;o.push(l>=a?{startLineNumber:a,endLineNumber:l}:{endLineNumber:l,startLineNumber:a})}t.removeManualRanges(o),e.triggerFoldingModelChanged()}}}mi(Fv.ID,Fv);Pe(M3t);Pe(A3t);Pe(R3t);Pe(P3t);Pe($3t);Pe(z3t);Pe(F3t);Pe(B3t);Pe(V3t);Pe(W3t);Pe(H3t);Pe(O3t);Pe(U3t);Pe(j3t);Pe(K3t);Pe(q3t);Pe(G3t);for(let n=1;n<=7;n++)pte(new o_({id:o_.ID(n),label:v("foldLevelAction.label","Fold Level {0}",n),alias:`Fold Level ${n}`,precondition:ko,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2048|21+n),weight:100}}));const Y3t=U("editor.foldBackground",{light:ut(uh,.3),dark:ut(uh,.3),hcDark:null,hcLight:null},v("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Z3t=U("editorGutter.foldingControlForeground",{dark:OS,light:OS,hcDark:OS,hcLight:OS},v("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));ln((n,e)=>{const t=n.getColor(Y3t);t&&e.addRule(`.monaco-editor .folded-background { background-color: ${t}; }`);const i=n.getColor(Z3t);i&&e.addRule(`
		.monaco-editor .cldr${Li.asCSSSelector(c4)},
		.monaco-editor .cldr${Li.asCSSSelector(pD)},
		.monaco-editor .cldr${Li.asCSSSelector(OB)},
		.monaco-editor .cldr${Li.asCSSSelector(Xoe)} {
			color: ${i} !important;
		}
		`)});class X3t extends nt{constructor(){super({id:"editor.action.fontZoomIn",label:v("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Rh.setZoomLevel(Rh.getZoomLevel()+1)}}class Q3t extends nt{constructor(){super({id:"editor.action.fontZoomOut",label:v("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Rh.setZoomLevel(Rh.getZoomLevel()-1)}}class J3t extends nt{constructor(){super({id:"editor.action.fontZoomReset",label:v("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Rh.setZoomLevel(0)}}Pe(X3t);Pe(Q3t);Pe(J3t);var ere=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},PL=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},PB=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let ny=class{constructor(e,t,i){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._disposables=new Ie,this._sessionDisposables=new Ie,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(s=>{s.hasChanged(51)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const i=new G0;for(const s of t.autoFormatTriggerCharacters)i.add(s.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(s=>{const o=s.charCodeAt(s.length-1);i.has(o)&&this._trigger(String.fromCharCode(o))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),i=this._editor.getPosition(),s=new ro,o=this._editor.onDidChangeModelContent(r=>{if(r.isFlush){s.cancel(),o.dispose();return}for(let a=0,l=r.changes.length;a<l;a++)if(r.changes[a].range.endLineNumber<=i.lineNumber){s.cancel(),o.dispose();return}});cse(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),s.token).then(r=>{s.token.isCancellationRequested||vo(r)&&(Tv.execute(this._editor,r,!0),rB(r))}).finally(()=>{o.dispose()})}};ny.ID="editor.contrib.autoFormat";ny=ere([PL(1,st),PL(2,ml)],ny);let sy=class{constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new Ie,this._callOnModel=new Ie,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e))))}_trigger(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(lse,this.editor,e,2,M_.None,Yt.None).catch(Ot)}};sy.ID="editor.contrib.formatOnPaste";sy=ere([PL(1,st),PL(2,Bt)],sy);class e6t extends nt{constructor(){super({id:"editor.action.formatDocument",label:v("formatDocument.label","Format Document"),alias:"Format Document",precondition:Xe.and(z.notInCompositeEditor,z.writable,z.hasDocumentFormattingProvider),kbOpts:{kbExpr:z.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return PB(this,void 0,void 0,function*(){if(t.hasModel()){const i=e.get(Bt);yield e.get(Yg).showWhile(i.invokeFunction(LCt,t,1,M_.None,Yt.None),250)}})}}class t6t extends nt{constructor(){super({id:"editor.action.formatSelection",label:v("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Xe.and(z.writable,z.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2084),weight:100},contextMenuOpts:{when:z.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return PB(this,void 0,void 0,function*(){if(!t.hasModel())return;const i=e.get(Bt),s=t.getModel(),o=t.getSelections().map(a=>a.isEmpty()?new A(a.startLineNumber,1,a.startLineNumber,s.getLineMaxColumn(a.startLineNumber)):a);yield e.get(Yg).showWhile(i.invokeFunction(lse,t,o,1,M_.None,Yt.None),250)})}}mi(ny.ID,ny);mi(sy.ID,sy);Pe(e6t);Pe(t6t);pi.registerCommand("editor.action.format",n=>PB(void 0,void 0,void 0,function*(){const e=n.get(Ei).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=n.get(ss);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}));var i6t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},MT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},n6t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class h1{remove(){var e;(e=this.parent)===null||e===void 0||e.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let s=i;for(let o=0;t.children.get(s)!==void 0;o++)s=`${i}_${o}`;return s}static empty(e){return e.children.size===0}}class FL extends h1{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class s6t extends h1{constructor(e,t,i,s){super(),this.id=e,this.parent=t,this.label=i,this.order=s,this.children=new Map}}class Qd extends h1{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t,i){const s=new ro(i),o=new Qd(t.uri),r=e.ordered(t),a=r.map((c,u)=>{var d;const h=h1.findId(`provider_${u}`,o),f=new s6t(h,o,(d=c.displayName)!==null&&d!==void 0?d:"Unknown Outline Provider",u);return Promise.resolve(c.provideDocumentSymbols(t,s.token)).then(p=>{for(const m of p||[])Qd._makeOutlineElement(m,f);return f},p=>($s(p),f)).then(p=>{h1.empty(p)?p.remove():o._groups.set(h,p)})}),l=e.onDidChange(()=>{const c=e.ordered(t);va(c,r)||s.cancel()});return Promise.all(a).then(()=>s.token.isCancellationRequested&&!i.isCancellationRequested?Qd.create(e,t,i):o._compact()).finally(()=>{l.dispose()})}static _makeOutlineElement(e,t){const i=h1.findId(e,t),s=new FL(i,t,e);if(e.children)for(const o of e.children)Qd._makeOutlineElement(o,s);t.children.set(s.id,s)}_compact(){let e=0;for(const[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{const t=ei.first(this._groups.values());for(const[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof FL?e.push(t.symbol):e.push(...ei.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>A.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return Qd._flattenDocumentSymbols(t,e,""),t.sort((i,s)=>oe.compare(A.getStartPosition(i.range),A.getStartPosition(s.range))||oe.compare(A.getEndPosition(s.range),A.getEndPosition(i.range)))}static _flattenDocumentSymbols(e,t,i){for(const s of t)e.push({kind:s.kind,tags:s.tags,name:s.name,detail:s.detail,containerName:s.containerName||i,range:s.range,selectionRange:s.selectionRange,children:void 0}),s.children&&Qd._flattenDocumentSymbols(e,s.children,s.name)}}const mD=ui("IOutlineModelService");let y7=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new Ie,this._cache=new Gg(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(s=>{this._cache.delete(s.id)}))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return n6t(this,void 0,void 0,function*(){const i=this._languageFeaturesService.documentSymbolProvider,s=i.ordered(e);let o=this._cache.get(e.id);if(!o||o.versionId!==e.getVersionId()||!va(o.provider,s)){const a=new ro;o={versionId:e.getVersionId(),provider:s,promiseCnt:0,source:a,promise:Qd.create(i,e,a.token),model:void 0},this._cache.set(e.id,o);const l=Date.now();o.promise.then(c=>{o.model=c,this._debounceInformation.update(e,Date.now()-l)}).catch(c=>{this._cache.delete(e.id)})}if(o.model)return o.model;o.promiseCnt+=1;const r=t.onCancellationRequested(()=>{--o.promiseCnt===0&&(o.source.cancel(),this._cache.delete(e.id))});try{return yield o.promise}finally{r.dispose()}})}};y7=i6t([MT(0,st),MT(1,vl),MT(2,Nn)],y7);gi(mD,y7,!0);var o6t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};pi.registerCommand("_executeDocumentSymbolProvider",function(n,...e){return o6t(this,void 0,void 0,function*(){const[t]=e;Vi(bt.isUri(t));const i=n.get(mD),o=yield n.get(Lr).createModelReference(t);try{return(yield i.getOrCreate(o.object.textEditorModel,Yt.None)).getTopLevelSymbols()}finally{o.dispose()}})});const BL="editor.action.inlineSuggest.commit";function r6t(n,e){return{object:n,dispose:()=>e==null?void 0:e.dispose()}}function a6t(n,e){const t=new l6t(n),i=e.map(s=>{const o=A.lift(s.range);return{startOffset:t.getOffset(o.getStartPosition()),endOffset:t.getOffset(o.getEndPosition()),text:s.text}});i.sort((s,o)=>o.startOffset-s.startOffset);for(const s of i)n=n.substring(0,s.startOffset)+s.text+n.substring(s.endOffset);return n}class l6t{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}const c6t=[];function u6t(){return c6t}class tre{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1);return a6t(i,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(e=>e.lines.length===0)}}class S7{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}}class ire{constructor(e,t,i,s,o=0){this.lineNumber=e,this.columnStart=t,this.length=i,this.newLines=s,this.additionalReservedLineCount=o,this.parts=[new S7(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(e){return this.newLines.join(`
`)}}class nre extends de{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new J,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(108)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}function VL(n,e){if(!e)return e;const t=n.getValueInRange(e.range),i=Rm(t,e.insertText),s=n.getOffsetAt(e.range.getStartPosition())+i,o=n.getPositionAt(s),r=t.substr(i),a=tw(r,e.insertText),l=n.getPositionAt(Math.max(s,n.getOffsetAt(e.range.getEndPosition())-a));return{range:A.fromPositions(o,l),insertText:e.insertText.substr(i,e.insertText.length-i-a),snippetInfo:e.snippetInfo,filterText:e.filterText,additionalTextEdits:e.additionalTextEdits}}function d6t(n,e){return n===e?!0:!n||!e?!1:n.range.equalsRange(e.range)&&n.insertText===e.insertText&&n.command===e.command}function sre(n,e,t,i,s=0){if(n.range.startLineNumber!==n.range.endLineNumber)return;const o=e.getLineContent(n.range.startLineNumber),r=zi(o).length;if(n.range.startColumn-1<=r){const f=zi(n.insertText).length,p=o.substring(n.range.startColumn-1,r),m=A.fromPositions(n.range.getStartPosition().delta(0,p.length),n.range.getEndPosition()),b=n.insertText.startsWith(p)?n.insertText.substring(p.length):n.insertText.substring(f);n={range:m,insertText:b,command:n.command,snippetInfo:void 0,filterText:n.filterText,additionalTextEdits:n.additionalTextEdits}}const l=e.getValueInRange(n.range),c=h6t(l,n.insertText);if(!c)return;const u=n.range.startLineNumber,d=new Array;if(t==="prefix"){const f=c.filter(p=>p.originalLength===0);if(f.length>1||f.length===1&&f[0].originalStart!==l.length)return}const h=n.insertText.length-s;for(const f of c){const p=n.range.startColumn+f.originalStart+f.originalLength;if(t==="subwordSmart"&&i&&i.lineNumber===n.range.startLineNumber&&p<i.column||f.originalLength>0)return;if(f.modifiedLength===0)continue;const m=f.modifiedStart+f.modifiedLength,b=Math.max(f.modifiedStart,Math.min(m,h)),w=n.insertText.substring(f.modifiedStart,b),y=n.insertText.substring(b,Math.max(f.modifiedStart,m));if(w.length>0){const L=Ju(w);d.push(new S7(p,L,!1))}if(y.length>0){const L=Ju(y);d.push(new S7(p,L,!0))}}return new tre(u,d,0)}let pu;function h6t(n,e){if((pu==null?void 0:pu.originalValue)===n&&(pu==null?void 0:pu.newValue)===e)return pu==null?void 0:pu.changes;{let t=oY(n,e,!0);if(t){const i=sY(t);if(i>0){const s=oY(n,e,!1);s&&sY(s)<i&&(t=s)}}return pu={originalValue:n,newValue:e,changes:t},t}}function sY(n){let e=0;for(const t of n)e+=Math.max(t.originalLength-t.modifiedLength,0);return e}function oY(n,e,t){if(n.length>5e3||e.length>5e3)return;function i(c){let u=0;for(let d=0,h=c.length;d<h;d++){const f=c.charCodeAt(d);f>u&&(u=f)}return u}const s=Math.max(i(n),i(e));function o(c){if(c<0)throw new Error("unexpected");return s+c+1}function r(c){let u=0,d=0;const h=new Int32Array(c.length);for(let f=0,p=c.length;f<p;f++)if(t&&c[f]==="("){const m=d*100+u;h[f]=o(2*m),u++}else if(t&&c[f]===")"){u=Math.max(u-1,0);const m=d*100+u;h[f]=o(2*m+1),u===0&&d++}else h[f]=c.charCodeAt(f);return h}const a=r(n),l=r(e);return new Eu({getElements:()=>a},{getElements:()=>l}).ComputeDiff(!1).changes}function f6t(n,e){const t=new nie,i=new oie(t,c=>e.getLanguageConfiguration(c)),s=new sie(new g6t([n]),i),o=wM(s,[],void 0,!0);let r="";const a=n.getLineContent();function l(c,u){if(c.kind===2)l(c.openingBracket,u),u=Wn(u,c.openingBracket.length),c.child&&(l(c.child,u),u=Wn(u,c.child.length)),c.closingBracket?(l(c.closingBracket,u),u=Wn(u,c.closingBracket.length)):r+=i.getSingleLanguageBracketTokens(c.openingBracket.languageId).findClosingTokenText(c.openingBracket.bracketIds);else if(c.kind!==3){if(c.kind===0||c.kind===1)r+=a.substring(u,Wn(u,c.length));else if(c.kind===4)for(const d of c.children)l(d,u),u=Wn(u,d.length)}}return l(o,Hl),r}class g6t{constructor(e){this.lines=e,this.tokenization={getLineTokens:t=>this.lines[t-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}var p6t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},fb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Jd=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let L7=class extends de{constructor(e,t,i,s,o,r,a){super(),this.editor=e,this.cache=t,this.commandService=i,this.languageConfigurationService=s,this.languageFeaturesService=o,this.debounceService=r,this.onDidChangeEmitter=new J,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new Bo),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(i.onDidExecuteCommand(l=>{new Set([E1.Tab.id,E1.DeleteLeft.id,E1.DeleteRight.id,BL,"acceptSelectedSuggestion"]).has(l.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(l=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(l=>{(l.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register(jt(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{a.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return(e=this.session)===null||e===void 0?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;(t=this.session)===null||t===void 0||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&((t=this.session)===null||t===void 0||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(57).enabled||this.session&&this.session.isValid||this.trigger(qa.Automatic)}trigger(e){if(this.completionSession.value){e===qa.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new m6t(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;(e=this.session)===null||e===void 0||e.commitCurrentCompletion()}showNext(){var e;(e=this.session)===null||e===void 0||e.showNextInlineCompletion()}showPrevious(){var e;(e=this.session)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Jd(this,void 0,void 0,function*(){const t=yield(e=this.session)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};L7=p6t([fb(2,ss),fb(3,Xn),fb(4,st),fb(5,vl),fb(6,Ci)],L7);class m6t extends nre{constructor(e,t,i,s,o,r,a,l,c){super(e),this.triggerPosition=t,this.shouldUpdate=i,this.commandService=s,this.cache=o,this.initialTriggerKind=r,this.languageConfigurationService=a,this.registry=l,this.debounce=c,this.minReservedLineCount=0,this.updateOperation=this._register(new Bo),this.updateSoon=this._register(new Hi(()=>{const d=this.initialTriggerKind;return this.initialTriggerKind=qa.Automatic,this.update(d)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let u;this._register(this.onDidChange(()=>{var d;const h=this.currentCompletion;if(h&&h.sourceInlineCompletion!==u){u=h.sourceInlineCompletion;const f=h.sourceProvider;(d=f.handleItemDidShow)===null||d===void 0||d.call(f,h.sourceInlineCompletions,u)}})),this._register(jt(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(d=>{var h;d.reason!==3&&((h=this.cache.value)===null||h===void 0||h.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(d=>{var h;(h=this.cache.value)===null||h===void 0||h.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const e=this.editor.getModel(),t=e.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(i=>{const s=e.getValueInRange(i.synchronizedRange).toLowerCase(),o=i.inlineCompletion.filterText.toLowerCase(),r=e.getLineIndentColumn(i.synchronizedRange.startLineNumber),a=Math.max(0,t.column-i.synchronizedRange.startColumn);let l=o.substring(0,a),c=o.substring(a),u=s.substring(0,a),d=s.substring(a);return i.synchronizedRange.startColumn<=r&&(u=u.trimStart(),u.length===0&&(d=d.trimStart()),l=l.trimStart(),l.length===0&&(c=c.trimStart())),l.startsWith(u)&&kie(d,c)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const e=this.filteredCompletions.findIndex(t=>t.semanticId===this.currentlySelectedCompletionId);return e===-1?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(!!this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return Jd(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const e=this.filteredCompletions||[];if(e.length>0){const t=(this.fixAndGetIndexOfCurrentSelection()+1)%e.length;this.currentlySelectedCompletionId=e[t].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return Jd(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const e=this.filteredCompletions||[];if(e.length>0){const t=(this.fixAndGetIndexOfCurrentSelection()+e.length-1)%e.length;this.currentlySelectedCompletionId=e[t].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return Jd(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===qa.Explicit?yield this.updateOperation.value.promise:yield this.update(qa.Explicit):((e=this.cache.value)===null||e===void 0?void 0:e.triggerKind)!==qa.Explicit&&(yield this.update(qa.Explicit))})}hasMultipleInlineCompletions(){var e;return Jd(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((e=this.cache.value)===null||e===void 0?void 0:e.completions.length)||0)>1})}get ghostText(){const e=this.currentCompletion;if(!e)return;const t=this.editor.getPosition();if(e.range.getEndPosition().isBefore(t))return;const i=this.editor.getOptions().get(57).mode,s=sre(e,this.editor.getModel(),i,t);return s?s.isEmpty()?void 0:s:new ire(e.range.startLineNumber,e.range.startColumn,e.range.endColumn-e.range.startColumn,e.insertText.split(`
`),0)}get currentCompletion(){const e=this.currentCachedCompletion;if(!!e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(e){return Jd(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),i=new Date,s=Ws(r=>Jd(this,void 0,void 0,function*(){let a;try{a=yield rre(this.registry,t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},r,this.languageConfigurationService);const l=new Date;this.debounce.update(this.editor.getModel(),l.getTime()-i.getTime())}catch(l){Ot(l);return}r.isCancellationRequested||(this.cache.setValue(this.editor,a,e),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),o=new ore(s,e);this.updateOperation.value=o,yield s,this.updateOperation.value===o&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const t=this.currentCompletion;t&&this.commit(t)}commit(e){var t;const i=this.cache.clearAndLeak();e.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[yn.replaceMove(e.range,""),...e.additionalTextEdits]),this.editor.setPosition(e.snippetInfo.range.getStartPosition()),(t=Hs.get(this.editor))===null||t===void 0||t.insert(e.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[yn.replaceMove(e.range,e.insertText),...e.additionalTextEdits]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{i==null||i.dispose()}).then(void 0,$s):i==null||i.dispose(),this.onDidChangeEmitter.fire()}get commands(){var e;return[...new Set(((e=this.cache.value)===null||e===void 0?void 0:e.completions.map(i=>i.inlineCompletion.sourceInlineCompletions))||[])].flatMap(i=>i.commands||[])}}class ore{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class _6t extends de{constructor(e,t,i,s){super(),this.editor=t,this.onChange=i,this.triggerKind=s,this.isDisposing=!1;const o=t.changeDecorations(r=>r.deltaDecorations([],e.items.map(a=>({range:a.range,options:{description:"inline-completion-tracking-range"}}))));this._register(jt(()=>{this.isDisposing=!0,t.removeDecorations(o)})),this.completions=e.items.map((r,a)=>new v6t(r,o[a])),this._register(t.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(e)}updateRanges(){if(this.isDisposing)return;let e=!1;const t=this.editor.getModel();for(const i of this.completions){const s=t.getDecorationRange(i.decorationId);if(!s){Ot(new Error("Decoration has no range"));continue}i.synchronizedRange.equalsRange(s)||(e=!0,i.synchronizedRange=s)}e&&this.onChange()}}class v6t{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function rre(n,e,t,i,s=Yt.None,o){return Jd(this,void 0,void 0,function*(){const r=b6t(e,t),a=n.all(t),l=yield Promise.all(a.map(u=>Jd(this,void 0,void 0,function*(){const d=yield Promise.resolve(u.provideInlineCompletions(t,e,i,s)).catch($s);return{completions:d,provider:u,dispose:()=>{d&&u.freeInlineCompletions(d)}}}))),c=new Map;for(const u of l){const d=u.completions;if(!!d)for(const h of d.items){let f=h.range?A.lift(h.range):r;if(f.startLineNumber!==f.endLineNumber)continue;let p,m;if(typeof h.insertText=="string"){if(p=h.insertText,o&&h.completeBracketPairs){p=C6t(p,f.getStartPosition(),t,o);const w=p.length-h.insertText.length;w!==0&&(f=new A(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn+w))}m=void 0}else"snippet"in h.insertText?(p=new Fg().parse(h.insertText.snippet).toString(),m={snippet:h.insertText.snippet,range:f}):Px(h.insertText);const b={insertText:p,snippetInfo:m,range:f,command:h.command,sourceProvider:u.provider,sourceInlineCompletions:d,sourceInlineCompletion:h,filterText:h.filterText||p,additionalTextEdits:h.additionalTextEdits||u6t()};c.set(JSON.stringify({insertText:p,range:h.range}),b)}}return{items:[...c.values()],dispose:()=>{for(const u of l)u.dispose()}}})}function b6t(n,e){const t=e.getWordAtPosition(n),i=e.getLineMaxColumn(n.lineNumber);return t?new A(n.lineNumber,t.startColumn,n.lineNumber,i):A.fromPositions(n,n.with(void 0,i))}function C6t(n,e,t,i){const o=t.getLineContent(e.lineNumber).substring(0,e.column-1)+n,r=t.tokenization.tokenizeLineWithEdit(e,o.length-(e.column-1),n),a=r==null?void 0:r.sliceAndInflate(e.column-1,o.length,0);return a?f6t(a,i):n}var w6t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},rY=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class FB{constructor(e){this.name=e}select(e,t,i){if(i.length===0)return 0;const s=i[0].score[0];for(let o=0;o<i.length;o++){const{score:r,completion:a}=i[o];if(r[0]!==s)break;if(a.preselect)return o}return 0}}class are extends FB{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}class y6t extends FB{constructor(){super("recentlyUsed"),this._cache=new Gg(300,.66),this._seq=0}memorize(e,t,i){const s=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(s,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(i.length===0)return 0;const s=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(s))return super.select(e,t,i);const o=i[0].score[0];let r=-1,a=-1,l=-1;for(let c=0;c<i.length&&i[c].score[0]===o;c++){const u=`${e.getLanguageId()}/${i[c].textLabel}`,d=this._cache.peek(u);if(d&&d.touch>l&&d.type===i[c].completion.kind&&d.insertText===i[c].completion.insertText&&(l=d.touch,a=c),i[c].completion.preselect&&r===-1)return r=c}return a!==-1?a:r!==-1?r:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();const t=0;for(const[i,s]of e)s.touch=t,s.type=typeof s.type=="number"?s.type:QC.fromString(s.type),this._cache.set(i,s);this._seq=this._cache.size}}class S6t extends FB{constructor(){super("recentlyUsedByPrefix"),this._trie=M1.forStrings(),this._seq=0}memorize(e,t,i){const{word:s}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${s}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){const{word:s}=e.getWordUntilPosition(t);if(!s)return super.select(e,t,i);const o=`${e.getLanguageId()}/${s}`;let r=this._trie.get(o);if(r||(r=this._trie.findSubstr(o)),r)for(let a=0;a<i.length;a++){const{kind:l,insertText:c}=i[a].completion;if(l===r.type&&c===r.insertText)return a}return super.select(e,t,i)}toJSON(){const e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((t,i)=>-(t[1].touch-i[1].touch)).forEach((t,i)=>t[1].touch=i),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type=typeof i.type=="number"?i.type:QC.fromString(i.type),this._trie.set(t,i)}}}let oy=class T6{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new Ie,this._persistSoon=new Hi(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(i=>{i.reason===CL.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(e,t){var i;const s=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((i=this._strategy)===null||i===void 0?void 0:i.name)!==s){this._saveState();const o=T6._strategyCtors.get(s)||are;this._strategy=new o;try{const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=this._storageService.get(`${T6._storagePrefix}/${s}`,a);l&&this._strategy.fromJSON(JSON.parse(l))}catch{}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${T6._storagePrefix}/${this._strategy.name}`,i,t,1)}}};oy._strategyCtors=new Map([["recentlyUsedByPrefix",S6t],["recentlyUsed",y6t],["first",are]]);oy._storagePrefix="suggest/memories";oy=w6t([rY(0,tc),rY(1,Ci)],oy);const _D=ui("ISuggestMemories");gi(_D,oy,!0);var L6t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},x6t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let ry=class lre{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=lre.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(113)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(113)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const i=this._editor.getModel(),s=this._editor.getSelection(),o=i.getWordAtPosition(s.getStartPosition());if(!o){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(o.endColumn===s.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};ry.AtEnd=new et("atEndOfWord",!1);ry=L6t([x6t(1,At)],ry);var D6t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},k6t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let r_=class N6{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=N6.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},i){if(e.items.length===0){this.reset();return}if(N6._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=i,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,i){let s=i;for(;s=(s+t.items.length+(e?1:-1))%t.items.length,!(s===i||!t.items[s].completion.additionalTextEdits););return s}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(!!this._model)try{this._ignore=!0,this._index=N6._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};r_.OtherSuggestions=new et("hasOtherSuggestions",!1);r_=D6t([k6t(1,At)],r_);class E6t{constructor(e,t,i){this._disposables=new Ie,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(s=>{if(this._active&&!t.isFrozen()){const o=s.charCodeAt(s.length-1);this._active.acceptCharacters.has(o)&&e.getOption(0)&&i(this._active.item)}}))}_onItem(e){if(!e||!vo(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;const t=new G0;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var I6t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class ra{provideSelectionRanges(e,t){return I6t(this,void 0,void 0,function*(){const i=[];for(const s of t){const o=[];i.push(o);const r=new Map;yield new Promise(a=>ra._bracketsRightYield(a,0,e,s,r)),yield new Promise(a=>ra._bracketsLeftYield(a,0,e,s,r,o))}return i})}static _bracketsRightYield(e,t,i,s,o){const r=new Map,a=Date.now();for(;;){if(t>=ra._maxRounds){e();break}if(!s){e();break}const l=i.bracketPairs.findNextBracket(s);if(!l){e();break}if(Date.now()-a>ra._maxDuration){setTimeout(()=>ra._bracketsRightYield(e,t+1,i,s,o));break}if(l.bracketInfo.isOpeningBracket){const u=l.bracketInfo.bracketText,d=r.has(u)?r.get(u):0;r.set(u,d+1)}else{const u=l.bracketInfo.getClosedBrackets()[0].bracketText;let d=r.has(u)?r.get(u):0;if(d-=1,r.set(u,Math.max(0,d)),d<0){let h=o.get(u);h||(h=new Yo,o.set(u,h)),h.push(l.range)}}s=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,s,o,r){const a=new Map,l=Date.now();for(;;){if(t>=ra._maxRounds&&o.size===0){e();break}if(!s){e();break}const c=i.bracketPairs.findPrevBracket(s);if(!c){e();break}if(Date.now()-l>ra._maxDuration){setTimeout(()=>ra._bracketsLeftYield(e,t+1,i,s,o,r));break}if(c.bracketInfo.isOpeningBracket){const d=c.bracketInfo.bracketText;let h=a.has(d)?a.get(d):0;if(h-=1,a.set(d,Math.max(0,h)),h<0){const f=o.get(d);if(f){const p=f.shift();f.size===0&&o.delete(d);const m=A.fromPositions(c.range.getEndPosition(),p.getStartPosition()),b=A.fromPositions(c.range.getStartPosition(),p.getEndPosition());r.push({range:m}),r.push({range:b}),ra._addBracketLeading(i,b,r)}}}else{const d=c.bracketInfo.getClosedBrackets()[0].bracketText,h=a.has(d)?a.get(d):0;a.set(d,h+1)}s=c.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const s=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(s);o!==0&&o!==t.startColumn&&(i.push({range:A.fromPositions(new oe(s,o),t.getEndPosition())}),i.push({range:A.fromPositions(new oe(s,1),t.getEndPosition())}));const r=s-1;if(r>0){const a=e.getLineFirstNonWhitespaceColumn(r);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(r)&&(i.push({range:A.fromPositions(new oe(r,a),t.getEndPosition())}),i.push({range:A.fromPositions(new oe(r,1),t.getEndPosition())}))}}}ra._maxDuration=30;ra._maxRounds=2;var T6t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class Sc{static create(e,t){return T6t(this,void 0,void 0,function*(){if(!t.getOption(108).localityBonus||!t.hasModel())return Sc.None;const i=t.getModel(),s=t.getPosition();if(!e.canComputeWordRanges(i.uri))return Sc.None;const[o]=yield new ra().provideSelectionRanges(i,[s]);if(o.length===0)return Sc.None;const r=yield e.computeWordRanges(i.uri,o[0].range);if(!r)return Sc.None;const a=i.getWordUntilPosition(s);return delete r[a.word],new class extends Sc{distance(l,c){if(!s.equals(t.getPosition()))return 0;if(c.kind===17)return 2<<20;const u=typeof c.label=="string"?c.label:c.label.label,d=r[u];if(RJ(d))return 2<<20;const h=OO(d,A.fromPositions(l),A.compareRangesUsingStarts),f=h>=0?d[h]:d[Math.max(0,~h-1)];let p=o.length;for(const m of o){if(!A.containsRange(m.range,f))break;p-=1}return p}}})}}Sc.None=new class extends Sc{distance(){return 0}};class aY{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}}class Wf{constructor(e,t,i,s,o,r,a=vF.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=Wf._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=s,this._options=o,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=a,r==="top"?this._snippetCompareFn=Wf._compareCompletionItemsSnippetsUp:r==="bottom"&&(this._snippetCompareFn=Wf._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(const[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){const t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let s="",o="";const r=this._refilterKind===1?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||r.length>2e3?Sv:g_t;for(let c=0;c<r.length;c++){const u=r[c];if(u.isInvalid)continue;this._providerInfo.set(u.provider,Boolean(u.container.incomplete));const d=u.position.column-u.editStart.column,h=d+i-(u.position.column-this._column);if(s.length!==h&&(s=h===0?"":t.slice(-h),o=s.toLowerCase()),u.word=s,h===0)u.score=Fc.Default;else{let f=0;for(;f<d;){const p=s.charCodeAt(f);if(p===32||p===9)f+=1;else break}if(f>=h)u.score=Fc.Default;else if(typeof u.completion.filterText=="string"){const p=l(s,o,f,u.completion.filterText,u.filterTextLow,0,this._fuzzyScoreOptions);if(!p)continue;BN(u.completion.filterText,u.textLabel)===0?u.score=p:(u.score=u_t(s,o,f,u.textLabel,u.labelLow,0),u.score[0]=p[0])}else{const p=l(s,o,f,u.textLabel,u.labelLow,0,this._fuzzyScoreOptions);if(!p)continue;u.score=p}}u.idx=c,u.distance=this._wordDistance.distance(u.position,u.completion),a.push(u),e.push(u.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?U9(e.length-.85,e,(c,u)=>c-u):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Wf._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Wf._compareCompletionItems(e,t)}}var N6t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Sp=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},M6t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class D0{constructor(e,t,i,s,o){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=s,this.noSelect=o}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenization.tokenizeIfCheap(i.lineNumber);const s=t.getWordAtPosition(i);return!(!s||s.endColumn!==i.column||!isNaN(Number(s.word)))}}function A6t(n,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const i=t.getValue("editor.inlineSuggest.allowQuickSuggestions");return i!==void 0?Boolean(i):!1}function R6t(n,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const i=t.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return i!==void 0?Boolean(i):!1}let x7=class cre{constructor(e,t,i,s,o,r,a,l){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=s,this._logService=o,this._contextKeyService=r,this._configurationService=a,this._languageFeaturesService=l,this._toDispose=new Ie,this._triggerCharacterListener=new Ie,this._triggerQuickSuggest=new La,this._state=0,this._completionDisposables=new Ie,this._onDidCancel=new J,this._onDidTrigger=new J,this._onDidSuggest=new J,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Ye(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let c=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{c=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{c=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(u=>{c||this._onCursorChange(u)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{c||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){vi(this._triggerCharacterListener),vi([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;const e=new Map;for(const i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const s of i.triggerCharacters||[]){let o=e.get(s);o||(o=new Set,o.add(x4t()),e.set(s,o)),o.add(i)}const t=i=>{if(!R6t(this._editor,this._contextKeyService,this._configurationService)||D0.shouldAutoTrigger(this._editor))return;if(!i){const r=this._editor.getPosition();i=this._editor.getModel().getLineContent(r.lineNumber).substr(0,r.column-1)}let s="";Om(i.charCodeAt(i.length-1))?Is(i.charCodeAt(i.length-2))&&(s=i.substr(i.length-2)):s=i.charAt(i.length-1);const o=e.get(s);if(o){const r=this._completionModel?{items:this._completionModel.adopt(o),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:s},Boolean(this._completionModel),o,r)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._state}cancel(e=!1){var t;this._state!==0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1,noSelect:!1},!0))}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._state===0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;d1.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&((e=Hs.get(this._editor))===null||e===void 0?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!D0.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const t=this._editor.getModel(),i=this._editor.getPosition(),s=this._editor.getOption(81);if(!d1.isAllOff(s)){if(!d1.isAllOn(s)){t.tokenization.tokenizeIfCheap(i.lineNumber);const o=t.tokenization.getLineTokens(i.lineNumber),r=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(d1.valueFor(s,r)!=="on")return}!A6t(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(t)||this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=new D0(e,t,this._state===2,!1,!1);this._onNewContext(i)})}trigger(e,t=!1,i,s,o){var r;if(!this._editor.hasModel())return;const a=this._editor.getModel(),l=e.auto,c=new D0(a,this._editor.getPosition(),l,e.shy,e.noSelect);this.cancel(t),this._state=l?2:1,this._onDidTrigger.fire({auto:l,shy:e.shy,position:this._editor.getPosition()}),this._context=c;let u={triggerKind:(r=e.triggerKind)!==null&&r!==void 0?r:0};e.triggerCharacter&&(u={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new ro;const d=this._editor.getOption(103);let h=1;switch(d){case"top":h=0;break;case"bottom":h=2;break}const{itemKind:f,showDeprecated:p}=cre._createSuggestFilter(this._editor),m=new ey(h,o?new Set:f,i,p),b=Sc.create(this._editorWorkerService,this._editor),w=xB(this._languageFeaturesService.completionProvider,a,this._editor.getPosition(),m,u,this._requestToken.token);Promise.all([w,b]).then(([y,L])=>M6t(this,void 0,void 0,function*(){var D;if((D=this._requestToken)===null||D===void 0||D.dispose(),!this._editor.hasModel())return;let E=s==null?void 0:s.clipboardText;if(!E&&y.needsClipboard&&(E=yield this._clipboardService.readText()),this._state===0)return;const T=this._editor.getModel();let x=y.items;if(s){const N=Doe(h);x=x.concat(s.items).sort(N)}const k=new D0(T,this._editor.getPosition(),l,e.shy,e.noSelect);this._completionModel=new Wf(x,this._context.column,{leadingLineContent:k.leadingLineContent,characterCountDelta:k.column-this._context.column},L,this._editor.getOption(108),this._editor.getOption(103),void 0,E),this._completionDisposables.add(y.disposable),this._onNewContext(k),this._reportDurationsTelemetry(y.durations)})).catch(Ot)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;e.getOption(103)==="none"&&t.add(27);const s=e.getOption(108);return s.showMethods||t.add(0),s.showFunctions||t.add(1),s.showConstructors||t.add(2),s.showFields||t.add(3),s.showVariables||t.add(4),s.showClasses||t.add(5),s.showStructs||t.add(6),s.showInterfaces||t.add(7),s.showModules||t.add(8),s.showProperties||t.add(9),s.showEvents||t.add(10),s.showOperators||t.add(11),s.showUnits||t.add(12),s.showValues||t.add(13),s.showConstants||t.add(14),s.showEnums||t.add(15),s.showEnumMembers||t.add(16),s.showKeywords||t.add(17),s.showWords||t.add(18),s.showColors||t.add(19),s.showFiles||t.add(20),s.showReferences||t.add(21),s.showColors||t.add(22),s.showFolders||t.add(23),s.showTypeParameters||t.add(24),s.showSnippets||t.add(27),s.showUsers||t.add(25),s.showIssues||t.add(26),{itemKind:t,showDeprecated:s.showDeprecated}}_onNewContext(e){if(!!this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(zi(e.leadingLineContent)!==zi(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel();return}if(!!this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const t=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const s of this._completionModel.allProvider)t.delete(s);const i=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,t,{items:i,clipboardText:this._completionModel.clipboardText});return}if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&e.leadingWord.word.length!==0){const{incomplete:t}=this._completionModel,i=this._completionModel.adopt(t);this.trigger({auto:this._state===2,shy:!1,noSelect:!1,triggerKind:2},!0,t,{items:i,clipboardText:this._completionModel.clipboardText})}else{const t=this._completionModel.lineContext;let i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){if(D0.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:i})}}}}};x7=N6t([Sp(1,ml),Sp(2,qh),Sp(3,Qc),Sp(4,Ql),Sp(5,At),Sp(6,Ci),Sp(7,st)],x7);class vD{constructor(e,t){this._disposables=new Ie,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty||!e.hasModel())return;const i=e.getSelections(),s=i.length;let o=!1;for(let a=0;a<s;a++)if(!i[a].isEmpty()){o=!0;break}if(!o)return;this._lastOvertyped=[];const r=e.getModel();for(let a=0;a<s;a++){const l=i[a];if(r.getValueLengthInRange(l)>vD._maxSelectionLength)return;this._lastOvertyped[a]={value:r.getValueInRange(l),multiline:l.startLineNumber!==l.endLineNumber}}this._empty=!1})),this._disposables.add(t.onDidCancel(i=>{!this._empty&&!i.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}vD._maxSelectionLength=51200;var O6t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},AT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class BB extends Av{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=v("ddd","{0} ({1})",this._action.label,BB.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let D7=class{constructor(e,t,i,s){this._menuService=i,this._contextKeyService=s,this._menuDisposables=new Ie,this.element=Le(e,Ne(".suggest-status-bar"));const o=r=>r instanceof kg?t.createInstance(BB,r,void 0):void 0;this._leftActions=new nd(this.element,{actionViewItemProvider:o}),this._rightActions=new nd(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(hg,this._contextKeyService),t=()=>{const i=[],s=[];for(const[o,r]of e.getActions())o==="left"?i.push(...r):s.push(...r);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(s)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};D7=O6t([AT(1,Bt),AT(2,k_),AT(3,At)],D7);const P6t=U("symbolIcon.arrayForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F6t=U("symbolIcon.booleanForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B6t=U("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},v("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V6t=U("symbolIcon.colorForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W6t=U("symbolIcon.constantForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H6t=U("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},v("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$6t=U("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},v("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z6t=U("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},v("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U6t=U("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},v("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j6t=U("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},v("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K6t=U("symbolIcon.fileForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q6t=U("symbolIcon.folderForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G6t=U("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},v("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Y6t=U("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},v("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z6t=U("symbolIcon.keyForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),X6t=U("symbolIcon.keywordForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Q6t=U("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},v("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),J6t=U("symbolIcon.moduleForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e8t=U("symbolIcon.namespaceForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),t8t=U("symbolIcon.nullForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i8t=U("symbolIcon.numberForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n8t=U("symbolIcon.objectForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),s8t=U("symbolIcon.operatorForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),o8t=U("symbolIcon.packageForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),r8t=U("symbolIcon.propertyForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a8t=U("symbolIcon.referenceForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l8t=U("symbolIcon.snippetForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c8t=U("symbolIcon.stringForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u8t=U("symbolIcon.structForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d8t=U("symbolIcon.textForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),h8t=U("symbolIcon.typeParameterForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f8t=U("symbolIcon.unitForeground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g8t=U("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},v("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));ln((n,e)=>{const t=n.getColor(P6t);t&&e.addRule(`${C.symbolArray.cssSelector} { color: ${t}; }`);const i=n.getColor(F6t);i&&e.addRule(`${C.symbolBoolean.cssSelector} { color: ${i}; }`);const s=n.getColor(B6t);s&&e.addRule(`${C.symbolClass.cssSelector} { color: ${s}; }`);const o=n.getColor(Q6t);o&&e.addRule(`${C.symbolMethod.cssSelector} { color: ${o}; }`);const r=n.getColor(V6t);r&&e.addRule(`${C.symbolColor.cssSelector} { color: ${r}; }`);const a=n.getColor(W6t);a&&e.addRule(`${C.symbolConstant.cssSelector} { color: ${a}; }`);const l=n.getColor(H6t);l&&e.addRule(`${C.symbolConstructor.cssSelector} { color: ${l}; }`);const c=n.getColor($6t);c&&e.addRule(`
			${C.symbolValue.cssSelector},${C.symbolEnum.cssSelector} { color: ${c}; }`);const u=n.getColor(z6t);u&&e.addRule(`${C.symbolEnumMember.cssSelector} { color: ${u}; }`);const d=n.getColor(U6t);d&&e.addRule(`${C.symbolEvent.cssSelector} { color: ${d}; }`);const h=n.getColor(j6t);h&&e.addRule(`${C.symbolField.cssSelector} { color: ${h}; }`);const f=n.getColor(K6t);f&&e.addRule(`${C.symbolFile.cssSelector} { color: ${f}; }`);const p=n.getColor(q6t);p&&e.addRule(`${C.symbolFolder.cssSelector} { color: ${p}; }`);const m=n.getColor(G6t);m&&e.addRule(`${C.symbolFunction.cssSelector} { color: ${m}; }`);const b=n.getColor(Y6t);b&&e.addRule(`${C.symbolInterface.cssSelector} { color: ${b}; }`);const w=n.getColor(Z6t);w&&e.addRule(`${C.symbolKey.cssSelector} { color: ${w}; }`);const y=n.getColor(X6t);y&&e.addRule(`${C.symbolKeyword.cssSelector} { color: ${y}; }`);const L=n.getColor(J6t);L&&e.addRule(`${C.symbolModule.cssSelector} { color: ${L}; }`);const D=n.getColor(e8t);D&&e.addRule(`${C.symbolNamespace.cssSelector} { color: ${D}; }`);const E=n.getColor(t8t);E&&e.addRule(`${C.symbolNull.cssSelector} { color: ${E}; }`);const T=n.getColor(i8t);T&&e.addRule(`${C.symbolNumber.cssSelector} { color: ${T}; }`);const x=n.getColor(n8t);x&&e.addRule(`${C.symbolObject.cssSelector} { color: ${x}; }`);const k=n.getColor(s8t);k&&e.addRule(`${C.symbolOperator.cssSelector} { color: ${k}; }`);const N=n.getColor(o8t);N&&e.addRule(`${C.symbolPackage.cssSelector} { color: ${N}; }`);const V=n.getColor(r8t);V&&e.addRule(`${C.symbolProperty.cssSelector} { color: ${V}; }`);const H=n.getColor(a8t);H&&e.addRule(`${C.symbolReference.cssSelector} { color: ${H}; }`);const G=n.getColor(l8t);G&&e.addRule(`${C.symbolSnippet.cssSelector} { color: ${G}; }`);const te=n.getColor(c8t);te&&e.addRule(`${C.symbolString.cssSelector} { color: ${te}; }`);const ae=n.getColor(u8t);ae&&e.addRule(`${C.symbolStruct.cssSelector} { color: ${ae}; }`);const me=n.getColor(d8t);me&&e.addRule(`${C.symbolText.cssSelector} { color: ${me}; }`);const we=n.getColor(h8t);we&&e.addRule(`${C.symbolTypeParameter.cssSelector} { color: ${we}; }`);const be=n.getColor(f8t);be&&e.addRule(`${C.symbolUnit.cssSelector} { color: ${be}; }`);const Me=n.getColor(g8t);Me&&e.addRule(`${C.symbolVariable.cssSelector} { color: ${Me}; }`)});class ure{constructor(){this._onDidWillResize=new J,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new J,this.onDidResize=this._onDidResize.event,this._sashListener=new Ie,this._size=new Zi(0,0),this._minSize=new Zi(0,0),this._maxSize=new Zi(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new fo(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new fo(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new fo(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Y8.North}),this._southSash=new fo(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Y8.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(ct.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(ct.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{e&&(i=s.currentX-s.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{e&&(i=-(s.currentX-s.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{e&&(t=-(s.currentY-s.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{e&&(t=s.currentY-s.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(ct.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(ct.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,s){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=s?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:s}=this._minSize,{height:o,width:r}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(s,Math.min(r,t));const a=new Zi(t,e);Zi.equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}var p8t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},m8t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function VB(n){return!!n&&Boolean(n.completion.documentation||n.completion.detail&&n.completion.detail!==n.completion.label)}let k7=class{constructor(e,t){this._editor=e,this._onDidClose=new J,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new J,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Ie,this._renderDisposeable=new Ie,this._borderWidth=1,this._size=new Zi(330,0),this.domNode=Ne(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Vh,{editor:e}),this._body=Ne(".body"),this._scrollbar=new $y(this._body,{alwaysConsumeMouseWheel:!0}),Le(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Le(this._body,Ne(".header")),this._close=Le(this._header,Ne("span"+C.close.cssSelector)),this._close.title=v("details.close","Close"),this._type=Le(this._header,Ne("p.type")),this._docs=Le(this._body,Ne("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(46)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(46),i=t.getMassagedFontFamily(),s=e.get(109)||t.fontSize,o=e.get(110)||t.lineHeight,r=t.fontWeight,a=`${s}px`,l=`${o}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${o/s}`,this.domNode.style.fontWeight=r,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){const e=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,t=this._borderWidth,i=t*2;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=v("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,s;this._renderDisposeable.clear();let{detail:o,documentation:r}=e.completion;if(t){let a="";a+=`score: ${e.score[0]}
`,a+=`prefix: ${(i=e.word)!==null&&i!==void 0?i:"(no prefix)"}
`,a+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,a+=`distance: ${e.distance} (localityBonus-setting)
`,a+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,a+=`commit_chars: ${(s=e.completion.commitCharacters)===null||s===void 0?void 0:s.join("")}
`,r=new ur().appendCodeblock("empty",a),o=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!VB(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){const a=o.length>1e5?`${o.substr(0,1e5)}\u2026`:o;this._type.textContent=a,this._type.title=a,da(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(a))}else xs(this._type),this._type.title="",cr(this._type),this.domNode.classList.add("no-type");if(xs(this._docs),typeof r=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=r;else if(r){this._docs.classList.add("markdown-docs"),xs(this._docs);const a=this._markdownRenderer.render(r);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=a=>{a.preventDefault(),a.stopPropagation()},this._close.onclick=a=>{a.preventDefault(),a.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const i=new Zi(e,t);Zi.equals(i,this._size)||(this._size=i,Vct(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};k7=p8t([m8t(1,Bt)],k7);class _8t{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new Ie,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new ure,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,s,o=0,r=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,s=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(i&&s){this.widget.layout(a.dimension.width,a.dimension.height);let l=!1;a.west&&(r=s.width-a.dimension.width,l=!0),a.north&&(o=s.height-a.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+o,left:i.left+r})}a.done&&(i=void 0,s=void 0,o=0,r=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var a;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;const s=e.getBoundingClientRect();this._anchorBox=s,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(i=this._userSize)!==null&&i!==void 0?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var s;const o=e5(document.body),r=this.widget.getLayoutInfo(),a=new Zi(220,2*r.lineHeight),l=e.top,c=function(){const L=o.width-(e.left+e.width+r.borderWidth+r.horizontalPadding),D=-r.borderWidth+e.left+e.width,E=new Zi(L,o.height-e.top-r.borderHeight-r.verticalPadding),T=E.with(void 0,e.top+e.height-r.borderHeight-r.verticalPadding);return{top:l,left:D,fit:L-t.width,maxSizeTop:E,maxSizeBottom:T,minSize:a.with(Math.min(L,a.width))}}(),u=function(){const L=e.left-r.borderWidth-r.horizontalPadding,D=Math.max(r.horizontalPadding,e.left-t.width-r.borderWidth),E=new Zi(L,o.height-e.top-r.borderHeight-r.verticalPadding),T=E.with(void 0,e.top+e.height-r.borderHeight-r.verticalPadding);return{top:l,left:D,fit:L-t.width,maxSizeTop:E,maxSizeBottom:T,minSize:a.with(Math.min(L,a.width))}}(),d=function(){const L=e.left,D=-r.borderWidth+e.top+e.height,E=new Zi(e.width-r.borderHeight,o.height-e.top-e.height-r.verticalPadding);return{top:D,left:L,fit:E.height-t.height,maxSizeBottom:E,maxSizeTop:E,minSize:a.with(E.width)}}(),h=[c,u,d],f=(s=h.find(L=>L.fit>=0))!==null&&s!==void 0?s:h.sort((L,D)=>D.fit-L.fit)[0],p=e.top+e.height-r.borderHeight;let m,b=t.height;const w=Math.max(f.maxSizeTop.height,f.maxSizeBottom.height);b>w&&(b=w);let y;i?b<=f.maxSizeTop.height?(m=!0,y=f.maxSizeTop):(m=!1,y=f.maxSizeBottom):b<=f.maxSizeBottom.height?(m=!1,y=f.maxSizeBottom):(m=!0,y=f.maxSizeTop),this._applyTopLeft({left:f.left,top:m?f.top:p-b}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!m,f===c,m,f!==c),this._resizable.minSize=f.minSize,this._resizable.maxSize=y,this._resizable.layout(b,Math.min(y.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var _h;(function(n){n[n.FILE=0]="FILE",n[n.FOLDER=1]="FOLDER",n[n.ROOT_FOLDER=2]="ROOT_FOLDER"})(_h||(_h={}));const v8t=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function R3(n,e,t,i){const s=i===_h.ROOT_FOLDER?["rootfolder-icon"]:i===_h.FOLDER?["folder-icon"]:["file-icon"];if(t){let o;if(t.scheme===Vt.data)o=Ig.parseMetaData(t).get(Ig.META_DATA_LABEL);else{const r=t.path.match(v8t);r?(o=O3(r[2].toLowerCase()),r[1]&&s.push(`${O3(r[1].toLowerCase())}-name-dir-icon`)):o=O3(t.authority.toLowerCase())}if(i===_h.FOLDER)s.push(`${o}-name-folder-icon`);else{if(o){if(s.push(`${o}-name-file-icon`),s.push("name-file-icon"),o.length<=255){const a=o.split(".");for(let l=1;l<a.length;l++)s.push(`${a.slice(l).join(".")}-ext-file-icon`)}s.push("ext-file-icon")}const r=b8t(n,e,t);r&&s.push(`${O3(r)}-lang-file-icon`)}}return s}function b8t(n,e,t){if(!t)return null;let i=null;if(t.scheme===Vt.data){const o=Ig.parseMetaData(t).get(Ig.META_DATA_MIME);o&&(i=e.getLanguageIdByMimeType(o))}else{const s=n.getModel(t);s&&(i=s.getLanguageId())}return i&&i!==ol?i:e.guessLanguageIdByFilepathOrFirstLine(t)}function O3(n){return n.replace(/[\11\12\14\15\40]/g,"/")}var C8t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},RT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},gb;function dre(n){return`suggest-aria-id:${n}`}const w8t=ms("suggest-more-info",C.chevronRight,v("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),y8t=new(gb=class M6{extract(e,t){if(e.textLabel.match(M6._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(M6._regexStrict))return t[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){const i=M6._regexRelaxed.exec(e.completion.documentation);if(i&&(i.index===0||i.index+i[0].length===e.completion.documentation.length))return t[0]=i[0],!0}return!1}},gb._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,gb._regexStrict=new RegExp(`^${gb._regexRelaxed.source}$`,"i"),gb);let E7=class{constructor(e,t,i,s){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=s,this._onDidToggleDetails=new J,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new Ie,t.root=e,t.root.classList.add("show-file-icons"),t.icon=Le(e,Ne(".icon")),t.colorspan=Le(t.icon,Ne("span.colorspan"));const i=Le(e,Ne(".contents")),s=Le(i,Ne(".main"));t.iconContainer=Le(s,Ne(".icon-label.codicon")),t.left=Le(s,Ne("span.left")),t.right=Le(s,Ne("span.right")),t.iconLabel=new pL(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=Le(t.left,Ne("span.signature-label")),t.qualifierLabel=Le(t.left,Ne("span.qualifier-label")),t.detailsLabel=Le(t.right,Ne("span.details-label")),t.readMore=Le(t.right,Ne("span.readMore"+Li.asCSSSelector(w8t))),t.readMore.title=v("readMore","Read More");const o=()=>{const r=this._editor.getOptions(),a=r.get(46),l=a.getMassagedFontFamily(),c=a.fontFeatureSettings,u=r.get(109)||a.fontSize,d=r.get(110)||a.lineHeight,h=a.fontWeight,f=a.letterSpacing,p=`${u}px`,m=`${d}px`,b=`${f}px`;t.root.style.fontSize=p,t.root.style.fontWeight=h,t.root.style.letterSpacing=b,s.style.fontFamily=l,s.style.fontFeatureSettings=c,s.style.lineHeight=m,t.icon.style.height=m,t.icon.style.width=m,t.readMore.style.height=m,t.readMore.style.width=m};return o(),t.disposables.add(this._editor.onDidChangeConfiguration(r=>{(r.hasChanged(46)||r.hasChanged(109)||r.hasChanged(110))&&o()})),t}renderElement(e,t,i){const{completion:s}=e;i.root.id=dre(t),i.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:T5(e.score)},r=[];if(s.kind===19&&y8t.extract(e,r))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=r[0];else if(s.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const a=R3(this._modelService,this._languageService,bt.from({scheme:"fake",path:e.textLabel}),_h.FILE),l=R3(this._modelService,this._languageService,bt.from({scheme:"fake",path:s.detail}),_h.FILE);o.extraClasses=a.length>l.length?a:l}else s.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=[R3(this._modelService,this._languageService,bt.from({scheme:"fake",path:e.textLabel}),_h.FOLDER),R3(this._modelService,this._languageService,bt.from({scheme:"fake",path:s.detail}),_h.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...Go.asClassNameArray(QC.toIcon(s.kind))));s.tags&&s.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),typeof s.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=OT(s.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=OT(s.label.detail||""),i.detailsLabel.textContent=OT(s.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?da(i.detailsLabel):cr(i.detailsLabel),VB(e)?(i.right.classList.add("can-expand-details"),da(i.readMore),i.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},i.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),cr(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};E7=C8t([RT(1,Nn),RT(2,In),RT(3,Qi)],E7);function OT(n){return n.replace(/\r\n|\r|\n/g,"")}var S8t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},P3=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},L8t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};U("editorSuggestWidget.background",{dark:ns,light:ns,hcDark:ns,hcLight:ns},v("editorSuggestWidgetBackground","Background color of the suggest widget."));U("editorSuggestWidget.border",{dark:ch,light:ch,hcDark:ch,hcLight:ch},v("editorSuggestWidgetBorder","Border color of the suggest widget."));const F3=U("editorSuggestWidget.foreground",{dark:fa,light:fa,hcDark:fa,hcLight:fa},v("editorSuggestWidgetForeground","Foreground color of the suggest widget."));U("editorSuggestWidget.selectedForeground",{dark:Ib,light:Ib,hcDark:Ib,hcLight:Ib},v("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));U("editorSuggestWidget.selectedIconForeground",{dark:Tb,light:Tb,hcDark:Tb,hcLight:Tb},v("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const x8t=U("editorSuggestWidget.selectedBackground",{dark:Nb,light:Nb,hcDark:Nb,hcLight:Nb},v("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));U("editorSuggestWidget.highlightForeground",{dark:Vl,light:Vl,hcDark:Vl,hcLight:Vl},v("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));U("editorSuggestWidget.focusHighlightForeground",{dark:FS,light:FS,hcDark:FS,hcLight:FS},v("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));U("editorSuggestWidgetStatus.foreground",{dark:ut(F3,.5),light:ut(F3,.5),hcDark:ut(F3,.5),hcLight:ut(F3,.5)},v("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class D8t{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof t_}`}restore(){var e;const t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{const i=JSON.parse(t);if(Zi.is(i))return Zi.lift(i)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let ay=class I7{constructor(e,t,i,s,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new La,this._disposables=new Ie,this._onDidSelect=new J,this._onDidFocus=new J,this._onDidHide=new J,this._onDidShow=new J,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new J,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new ure,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new k8t(this,e),this._persistedSize=new D8t(t,e);class r{constructor(f,p,m=!1,b=!1){this.persistedSize=f,this.currentSize=p,this.persistHeight=m,this.persistWidth=b}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new r(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(h=>{var f,p,m,b;if(this._resize(h.dimension.width,h.dimension.height),a&&(a.persistHeight=a.persistHeight||!!h.north||!!h.south,a.persistWidth=a.persistWidth||!!h.east||!!h.west),!!h.done){if(a){const{itemHeight:w,defaultSize:y}=this.getLayoutInfo(),L=Math.round(w/2);let{width:D,height:E}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-E)<=L)&&(E=(p=(f=a.persistedSize)===null||f===void 0?void 0:f.height)!==null&&p!==void 0?p:y.height),(!a.persistWidth||Math.abs(a.currentSize.width-D)<=L)&&(D=(b=(m=a.persistedSize)===null||m===void 0?void 0:m.width)!==null&&b!==void 0?b:y.width),this._persistedSize.store(new Zi(D,E))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=Le(this.element.domNode,Ne(".message")),this._listElement=Le(this.element.domNode,Ne(".tree"));const l=o.createInstance(k7,this.editor);l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new _8t(l,this.editor);const c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);c();const u=o.createInstance(E7,this.editor);this._disposables.add(u),this._disposables.add(u.onDidToggleDetails(()=>this.toggleDetails())),this._list=new eu("SuggestWidget",this._listElement,{getHeight:h=>this.getLayoutInfo().itemHeight,getTemplateId:h=>"suggestion"},[u],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>v("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:h=>{let f=h.textLabel;if(typeof h.completion.label!="string"){const{detail:w,description:y}=h.completion.label;w&&y?f=v("label.full","{0}{1}, {2}",f,w,y):w?f=v("label.detail","{0}{1}",f,w):y&&(f=v("label.desc","{0}, {1}",f,y))}if(!h.isResolved||!this._isDetailsVisible())return f;const{documentation:p,detail:m}=h.completion,b=Qa("{0}{1}",m||"",p?typeof p=="string"?p:p.value:"");return v("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",f,b)}}}),this._status=o.createInstance(D7,this.element.domNode);const d=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);d(),this._disposables.add(qm(this._list,s,{listInactiveFocusBackground:x8t,listInactiveFocusOutline:mn})),this._disposables.add(s.onDidColorThemeChange(h=>this._onThemeChange(h))),this._onThemeChange(s.getColorTheme()),this._disposables.add(this._list.onMouseDown(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onTap(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onDidChangeSelection(h=>this._onListSelection(h))),this._disposables.add(this._list.onDidChangeFocus(h=>this._onListFocus(h))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(h=>{h.hasChanged(108)&&(d(),c())})),this._ctxSuggestWidgetVisible=si.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=si.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=si.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=si.HasFocusedSuggestion.bindTo(i),this._disposables.add(Ns(this._details.widget.domNode,"keydown",h=>{this._onDetailsKeydown.fire(h)})),this._disposables.add(this.editor.onMouseDown(h=>this._onEditorMouseDown(h)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element=="undefined"||typeof e.index=="undefined"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=wo(e.type)?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const i=e.elements[0],s=e.indexes[0];i!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(s),this._currentSuggestionDetails=Ws(o=>L8t(this,void 0,void 0,function*(){const r=Pm(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),a=o.onCancellationRequested(()=>r.dispose()),l=yield i.resolve(o);return r.dispose(),a.dispose(),l})),this._currentSuggestionDetails.then(()=>{s>=this._list.length||i!==this._list.element(s)||(this._ignoreFocusEvents=!0,this._list.splice(s,1,[i]),this._list.setFocus([s]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:dre(s)}))}).catch(Ot)),this._onDidFocus.fire({item:i,index:s,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:cr(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=I7.LOADING_MESSAGE,cr(this._listElement,this._status.element),da(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=I7.NO_SUGGESTIONS_MESSAGE,cr(this._listElement,this._status.element),da(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:cr(this._messageElement),da(this._listElement,this._status.element),this._show();break;case 4:cr(this._messageElement),da(this._listElement,this._status.element),this._show();break;case 5:cr(this._messageElement),da(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=Pm(()=>this._setState(1),t)))}showSuggestions(e,t,i,s){var o,r;if(this._contentWidget.setPosition(this.editor.getPosition()),(o=this._loadingTimeout)===null||o===void 0||o.dispose(),(r=this._currentSuggestionDetails)===null||r===void 0||r.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&this._state!==2&&this._state!==0){this._setState(4);return}const a=this._completionModel.items.length,l=a===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),l){this._setState(s?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),t>=0&&(this._list.reveal(t,0),this._list.setFocus([t])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(VB(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),i=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(e){var t,i,s;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const o=e5(document.body),r=this.getLayoutInfo();e||(e=r.defaultSize);let a=e.height,l=e.width;if(this._status.element.style.lineHeight=`${r.itemHeight}px`,this._state===2||this._state===1)a=r.itemHeight+r.borderHeight,l=r.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Zi(l,a),this._contentWidget.setPreference(2);else{const c=o.width-r.borderHeight-2*r.horizontalPadding;l>c&&(l=c);const u=this._completionModel?this._completionModel.stats.pLabelLen*r.typicalHalfwidthCharacterWidth:l,d=r.statusBarHeight+this._list.contentHeight+r.borderHeight,h=r.itemHeight+r.statusBarHeight,f=mo(this.editor.getDomNode()),p=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),m=f.top+p.top+p.height,b=Math.min(o.height-m-r.verticalPadding,d),w=f.top+p.top-r.verticalPadding,y=Math.min(w,d);let L=Math.min(Math.max(y,b)+r.borderHeight,d);a===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<h&&(a=h),a>L&&(a=L);const D=150;a>b||this._forceRenderingAbove&&w>D?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),L=y):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),L=b),this.element.preferredSize=new Zi(u,r.defaultSize.height),this.element.maxSize=new Zi(c,L),this.element.minSize=new Zi(220,h),this._cappedHeight=a===d?{wanted:(s=(i=this._cappedHeight)===null||i===void 0?void 0:i.wanted)!==null&&s!==void 0?s:e.height,capped:a}:void 0}this._resize(l,a)}_resize(e,t){const{width:i,height:s}=this.element.maxSize;e=Math.min(i,e),t=Math.min(s,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=`${t-o}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){const e=this.editor.getOption(46),t=Ar(this.editor.getOption(110)||e.lineHeight,8,1e3),i=!this.editor.getOption(108).showStatusBar||this._state===2||this._state===1?0:t,s=this._details.widget.borderWidth,o=2*s;return{itemHeight:t,statusBarHeight:i,borderWidth:s,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Zi(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};ay.LOADING_MESSAGE=v("suggestWidget.loading","Loading...");ay.NO_SUGGESTIONS_MESSAGE=v("suggestWidget.noSuggestions","No suggestions.");ay=S8t([P3(1,tc),P3(2,At),P3(3,Qi),P3(4,Bt)],ay);class k8t{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:s}=this._widget.getLayoutInfo();return new Zi(t+2*i+s,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var E8t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},k0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class I8t{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){const s=e.getOffsetAt(t),o=e.getPositionAt(s+1);this._marker=e.deltaDecorations([],[{range:A.fromPositions(t,o),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let $l=class hre{constructor(e,t,i,s,o,r,a){this._memoryService=t,this._commandService=i,this._contextKeyService=s,this._instantiationService=o,this._logService=r,this._telemetryService=a,this._lineSuffix=new Bo,this._toDispose=new Ie,this._selectors=new T8t(d=>d.priority),this._telemetryGate=0,this.editor=e,this.model=o.createInstance(x7,this.editor);const l=si.InsertMode.bindTo(s);l.set(e.getOption(108).insertMode),this.model.onDidTrigger(()=>l.set(e.getOption(108).insertMode)),this.widget=this._toDispose.add(new og(()=>{const d=this._instantiationService.createInstance(ay,this.editor);this._toDispose.add(d),this._toDispose.add(d.onDidSelect(b=>this._insertSuggestion(b,0),this));const h=new E6t(this.editor,d,b=>this._insertSuggestion(b,2));this._toDispose.add(h),this._toDispose.add(this.model.onDidSuggest(b=>{b.completionModel.items.length===0&&h.reset()}));const f=si.MakesTextEdit.bindTo(this._contextKeyService),p=si.HasInsertAndReplaceRange.bindTo(this._contextKeyService),m=si.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(jt(()=>{f.reset(),p.reset(),m.reset()})),this._toDispose.add(d.onDidFocus(({item:b})=>{const w=this.editor.getPosition(),y=b.editStart.column,L=w.column;let D=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!b.completion.additionalTextEdits&&!(b.completion.insertTextRules&4)&&L-y===b.completion.insertText.length&&(D=this.editor.getModel().getValueInRange({startLineNumber:w.lineNumber,startColumn:y,endLineNumber:w.lineNumber,endColumn:L})!==b.completion.insertText),f.set(D),p.set(!oe.equals(b.editInsertEnd,b.editReplaceEnd)),m.set(Boolean(b.provider.resolveCompletionItem)||Boolean(b.completion.documentation)||b.completion.detail!==b.completion.label)})),this._toDispose.add(d.onDetailsKeyDown(b=>{if(b.toKeybinding().equals(new Fm(!0,!1,!1,!1,33))||ai&&b.toKeybinding().equals(new Fm(!1,!1,!1,!0,33))){b.stopPropagation();return}b.toKeybinding().isModifierKey()||this.editor.focus()})),d})),this._overtypingCapturer=this._toDispose.add(new og(()=>this._toDispose.add(new vD(this.editor,this.model)))),this._alternatives=this._toDispose.add(new og(()=>this._toDispose.add(new r_(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(ry,e)),this._toDispose.add(this.model.onDidTrigger(d=>{this.widget.value.showTriggered(d.auto,d.shy?250:50),this._lineSuffix.value=new I8t(this.editor.getModel(),d.position)})),this._toDispose.add(this.model.onDidSuggest(d=>{if(d.shy)return;let h=-1;if(!d.noSelect){for(const f of this._selectors.itemsOrderedByPriorityDesc)if(h=f.select(this.editor.getModel(),this.editor.getPosition(),d.completionModel.items),h!==-1)break;h===-1&&(h=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),d.completionModel.items))}this.widget.value.showSuggestions(d.completionModel,h,d.isFrozen,d.auto)})),this._toDispose.add(this.model.onDidCancel(d=>{d.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const c=si.AcceptSuggestionsOnEnter.bindTo(s),u=()=>{const d=this.editor.getOption(1);c.set(d==="on"||d==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>u())),u()}static get(e){return e.getContribution(hre.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const i=Hs.get(this.editor);if(!i)return;const s=this.editor.getModel(),o=s.getAlternativeVersionId(),{item:r}=e,a=[],l=new ro;t&1||this.editor.pushUndoStop();const c=this.getOverwriteInfo(r,Boolean(t&8));if(this._memoryService.memorize(s,this.editor.getPosition(),r),Array.isArray(r.completion.additionalTextEdits)){const d=Ng.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",r.completion.additionalTextEdits.map(h=>yn.replaceMove(A.lift(h.range),h.text))),d.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!r.isResolved){const d=new yr(!0);let h;const f=s.onDidChangeContent(w=>{if(w.isFlush){l.cancel(),f.dispose();return}for(const y of w.changes){const L=A.getEndPosition(y.range);(!h||oe.isBefore(L,h))&&(h=L)}}),p=t;t|=2;let m=!1;const b=this.editor.onWillType(()=>{b.dispose(),m=!0,p&2||this.editor.pushUndoStop()});a.push(r.resolve(l.token).then(()=>{if(!r.completion.additionalTextEdits||l.token.isCancellationRequested||h&&r.completion.additionalTextEdits.some(y=>oe.isBefore(h,A.getStartPosition(y.range))))return!1;m&&this.editor.pushUndoStop();const w=Ng.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",r.completion.additionalTextEdits.map(y=>yn.replaceMove(A.lift(y.range),y.text))),w.restoreRelativeVerticalPositionOfCursor(this.editor),(m||!(p&2))&&this.editor.pushUndoStop(),!0}).then(w=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",d.elapsed(),w),f.dispose(),b.dispose()}))}let{insertText:u}=r.completion;r.completion.insertTextRules&4||(u=Fg.escape(u)),i.insert(u,{overwriteBefore:c.overwriteBefore,overwriteAfter:c.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(r.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),r.completion.command?r.completion.command.id===u4.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(a.push(this._commandService.executeCommand(r.completion.command.id,...r.completion.command.arguments?[...r.completion.command.arguments]:[]).catch(Ot)),this.model.cancel()):this.model.cancel(),t&4&&this._alternatives.value.set(e,d=>{for(l.cancel();s.canUndo();){o!==s.getAlternativeVersionId()&&s.undo(),this._insertSuggestion(d,3|(t&8?8:0));break}}),this._alertCompletionItem(r),Promise.all(a).finally(()=>{this._reportSuggestionAcceptedTelemetry(r,s,e),this.model.clear(),l.dispose()})}_reportSuggestionAcceptedTelemetry(e,t,i){var s;if(this._telemetryGate++%100!==0)return;const o=e.extensionId?e.extensionId.value:((s=i.item.provider._debugDisplayName)!==null&&s!==void 0?s:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:o,kind:e.completion.kind,basenameHash:cP(hl(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:Cpt(t.uri)})}getOverwriteInfo(e,t){Vi(this.editor.hasModel());let i=this.editor.getOption(108).insertMode==="replace";t&&(i=!i);const s=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,r=this.editor.getPosition().column-e.position.column,a=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:s+r,overwriteAfter:o+a}}_alertCompletionItem(e){if(vo(e.completion.additionalTextEdits)){const t=v("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);no(t)}}triggerSuggest(e,t,i,s){this.editor.hasModel()&&(this.model.trigger({auto:t!=null?t:!1,shy:!1,noSelect:s!=null?s:!1},!1,e,void 0,i),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},s=o=>{if(o.completion.insertTextRules&4||o.completion.additionalTextEdits)return!0;const r=this.editor.getPosition(),a=o.editStart.column,l=r.column;return l-a!==o.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:r.lineNumber,startColumn:a,endLineNumber:r.lineNumber,endColumn:l})!==o.completion.insertText};ct.once(this.model.onDidTrigger)(o=>{const r=[];ct.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{vi(r),i()},void 0,r),this.model.onDidSuggest(({completionModel:a})=>{if(vi(r),a.items.length===0){i();return}const l=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),a.items),c=a.items[l];if(!s(c)){i();return}this.editor.pushUndoStop(),this._insertSuggestion({index:l,item:c,model:a},7)},void 0,r)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let s=0;e&&(s|=4),t&&(s|=8),this._insertSuggestion(i,s)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};$l.ID="editor.contrib.suggestController";$l=E8t([k0(1,_D),k0(2,ss),k0(3,At),k0(4,Bt),k0(5,Ql),k0(6,Qc)],$l);class T8t{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,i)=>this.prioritySelector(i)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class u4 extends nt{constructor(){super({id:u4.id,label:v("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Xe.and(z.writable,z.hasCompletionItemProvider),kbOpts:{kbExpr:z.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){const s=$l.get(t);if(!s)return;let o,r;i&&typeof i=="object"&&(i.auto===!0&&(o=!0),i.noSelection===!0&&(r=!0)),s.triggerSuggest(void 0,o,void 0,r)}}u4.id="editor.action.triggerSuggest";mi($l.ID,$l);Pe(u4);const fl=100+90,Gr=Ys.bindToContribution($l.get);Ae(new Gr({id:"acceptSelectedSuggestion",precondition:Xe.and(si.Visible,si.HasFocusedSuggestion),handler(n){n.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:Xe.and(si.Visible,z.textInputFocus),weight:fl},{primary:3,kbExpr:Xe.and(si.Visible,z.textInputFocus,si.AcceptSuggestionsOnEnter,si.MakesTextEdit),weight:fl}],menuOpts:[{menuId:hg,title:v("accept.insert","Insert"),group:"left",order:1,when:si.HasInsertAndReplaceRange.toNegated()},{menuId:hg,title:v("accept.insert","Insert"),group:"left",order:1,when:Xe.and(si.HasInsertAndReplaceRange,si.InsertMode.isEqualTo("insert"))},{menuId:hg,title:v("accept.replace","Replace"),group:"left",order:1,when:Xe.and(si.HasInsertAndReplaceRange,si.InsertMode.isEqualTo("replace"))}]}));Ae(new Gr({id:"acceptAlternativeSelectedSuggestion",precondition:Xe.and(si.Visible,z.textInputFocus,si.HasFocusedSuggestion),kbOpts:{weight:fl,kbExpr:z.textInputFocus,primary:1027,secondary:[1026]},handler(n){n.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:hg,group:"left",order:2,when:Xe.and(si.HasInsertAndReplaceRange,si.InsertMode.isEqualTo("insert")),title:v("accept.replace","Replace")},{menuId:hg,group:"left",order:2,when:Xe.and(si.HasInsertAndReplaceRange,si.InsertMode.isEqualTo("replace")),title:v("accept.insert","Insert")}]}));pi.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");Ae(new Gr({id:"hideSuggestWidget",precondition:si.Visible,handler:n=>n.cancelSuggestWidget(),kbOpts:{weight:fl,kbExpr:z.textInputFocus,primary:9,secondary:[1033]}}));Ae(new Gr({id:"selectNextSuggestion",precondition:Xe.and(si.Visible,si.MultipleSuggestions),handler:n=>n.selectNextSuggestion(),kbOpts:{weight:fl,kbExpr:z.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));Ae(new Gr({id:"selectNextPageSuggestion",precondition:Xe.and(si.Visible,si.MultipleSuggestions),handler:n=>n.selectNextPageSuggestion(),kbOpts:{weight:fl,kbExpr:z.textInputFocus,primary:12,secondary:[2060]}}));Ae(new Gr({id:"selectLastSuggestion",precondition:Xe.and(si.Visible,si.MultipleSuggestions),handler:n=>n.selectLastSuggestion()}));Ae(new Gr({id:"selectPrevSuggestion",precondition:Xe.and(si.Visible,si.MultipleSuggestions),handler:n=>n.selectPrevSuggestion(),kbOpts:{weight:fl,kbExpr:z.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));Ae(new Gr({id:"selectPrevPageSuggestion",precondition:Xe.and(si.Visible,si.MultipleSuggestions),handler:n=>n.selectPrevPageSuggestion(),kbOpts:{weight:fl,kbExpr:z.textInputFocus,primary:11,secondary:[2059]}}));Ae(new Gr({id:"selectFirstSuggestion",precondition:Xe.and(si.Visible,si.MultipleSuggestions),handler:n=>n.selectFirstSuggestion()}));Ae(new Gr({id:"toggleSuggestionDetails",precondition:si.Visible,handler:n=>n.toggleSuggestionDetails(),kbOpts:{weight:fl,kbExpr:z.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:hg,group:"right",order:1,when:Xe.and(si.DetailsVisible,si.CanResolve),title:v("detail.more","show less")},{menuId:hg,group:"right",order:1,when:Xe.and(si.DetailsVisible.toNegated(),si.CanResolve),title:v("detail.less","show more")}]}));Ae(new Gr({id:"toggleExplainMode",precondition:si.Visible,handler:n=>n.toggleExplainMode(),kbOpts:{weight:100,primary:2133}}));Ae(new Gr({id:"toggleSuggestionFocus",precondition:si.Visible,handler:n=>n.toggleSuggestionFocus(),kbOpts:{weight:fl,kbExpr:z.textInputFocus,primary:2570,mac:{primary:778}}}));Ae(new Gr({id:"insertBestCompletion",precondition:Xe.and(z.textInputFocus,Xe.equals("config.editor.tabCompletion","on"),ry.AtEnd,si.Visible.toNegated(),r_.OtherSuggestions.toNegated(),Hs.InSnippetMode.toNegated()),handler:(n,e)=>{n.triggerSuggestAndAcceptBest(pr(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:fl,primary:2}}));Ae(new Gr({id:"insertNextSuggestion",precondition:Xe.and(z.textInputFocus,Xe.equals("config.editor.tabCompletion","on"),r_.OtherSuggestions,si.Visible.toNegated(),Hs.InSnippetMode.toNegated()),handler:n=>n.acceptNextSuggestion(),kbOpts:{weight:fl,kbExpr:z.textInputFocus,primary:2}}));Ae(new Gr({id:"insertPrevSuggestion",precondition:Xe.and(z.textInputFocus,Xe.equals("config.editor.tabCompletion","on"),r_.OtherSuggestions,si.Visible.toNegated(),Hs.InSnippetMode.toNegated()),handler:n=>n.acceptPrevSuggestion(),kbOpts:{weight:fl,kbExpr:z.textInputFocus,primary:1026}}));Pe(class extends nt{constructor(){super({id:"editor.action.resetSuggestSize",label:v("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(n,e){var t;(t=$l.get(e))===null||t===void 0||t.resetWidgetSize()}});class N8t extends de{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new J,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new Hi(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(s=>{s.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(s=>{s.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const i=$l.get(this.editor);if(i){this._register(i.registerSelector({priority:100,select:(r,a,l)=>{const c=this.editor.getModel(),u=VL(c,this.suggestControllerPreselector());if(!u)return-1;const d=oe.lift(a),h=l.map((p,m)=>{const b=lY(i,d,p,this.isShiftKeyPressed),w=VL(c,b==null?void 0:b.normalizedInlineCompletion);if(!w)return;const y=M8t(u.range,w.range)&&u.insertText.startsWith(w.insertText);return{index:m,valid:y,prefixLength:w.insertText.length,suggestItem:p}}).filter(p=>p&&p.valid),f=FJ(h,iC(p=>p.prefixLength,zst));return f?f.index:-1}}));let s=!1;const o=()=>{s||(s=!0,this._register(i.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(i.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(i.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(ct.once(i.model.onDidTrigger)(r=>{o()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){const t=this.getSuggestItemInfo();let i=!1;A8t(this._currentSuggestItemInfo,t)||(this._currentSuggestItemInfo=t,i=!0),this._isActive!==e&&(this._isActive=e,i=!0),i&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const e=$l.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();if(!!t)return lY(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const e=$l.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=$l.get(this.editor);e&&e.forceRenderingAbove()}}function M8t(n,e){return e.startLineNumber===n.startLineNumber&&e.startColumn===n.startColumn&&(e.endLineNumber<n.endLineNumber||e.endLineNumber===n.endLineNumber&&e.endColumn<=n.endColumn)}function A8t(n,e){return n===e?!0:!n||!e?!1:n.completionItemKind===e.completionItemKind&&n.isSnippetText===e.isSnippetText&&d6t(n.normalizedInlineCompletion,e.normalizedInlineCompletion)}function lY(n,e,t,i){if(Array.isArray(t.completion.additionalTextEdits)&&t.completion.additionalTextEdits.length>0)return{completionItemKind:t.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:A.fromPositions(e,e),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:s}=t.completion,o=!1;if(t.completion.insertTextRules&4){const a=new Fg().parse(s),l=n.editor.getModel();if(a.children.length>100)return;OL.adjustWhitespace(l,e,a,!0,!0),s=a.toString(),o=!0}const r=n.getOverwriteInfo(t,i);return{isSnippetText:o,completionItemKind:t.completion.kind,normalizedInlineCompletion:{insertText:s,filterText:s,range:A.fromPositions(e.delta(0,-r.overwriteBefore),e.delta(0,Math.max(r.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var R8t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},O8t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},cY=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let T7=class extends nre{constructor(e,t,i){super(e),this.cache=t,this.languageFeaturesService=i,this.suggestionInlineCompletionSource=this._register(new N8t(this.editor,()=>{var s,o;return(o=(s=this.cache.value)===null||s===void 0?void 0:s.completions[0])===null||o===void 0?void 0:o.toLiveInlineCompletion()})),this.updateOperation=this._register(new Bo),this.updateCacheSoon=this._register(new Hi(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const o=this.ghostText;o&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,P8t(o.parts.map(r=>r.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(s=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register(jt(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return cY(this,void 0,void 0,function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;const t={text:e.selectedItem.normalizedInlineCompletion.insertText,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},i=this.editor.getPosition();if(e.selectedItem.isSnippetText||e.selectedItem.completionItemKind===27||e.selectedItem.completionItemKind===20||e.selectedItem.completionItemKind===23){this.cache.clear();return}const s=Ws(r=>cY(this,void 0,void 0,function*(){let a;try{a=yield rre(this.languageFeaturesService.inlineCompletionsProvider,i,this.editor.getModel(),{triggerKind:qa.Automatic,selectedSuggestionInfo:t},r)}catch(l){Ot(l);return}if(r.isCancellationRequested){a.dispose();return}this.cache.setValue(this.editor,a,qa.Automatic),this.onDidChangeEmitter.fire()})),o=new ore(s,qa.Automatic);this.updateOperation.value=o,yield s,this.updateOperation.value===o&&this.updateOperation.clear()})}get ghostText(){var e,t,i;const s=this.isSuggestionPreviewEnabled(),o=this.editor.getModel(),r=VL(o,(t=(e=this.cache.value)===null||e===void 0?void 0:e.completions[0])===null||t===void 0?void 0:t.toLiveInlineCompletion()),a=this.suggestionInlineCompletionSource.state,l=VL(o,(i=a==null?void 0:a.selectedItem)===null||i===void 0?void 0:i.normalizedInlineCompletion),c=r&&l&&r.insertText.startsWith(l.insertText)&&r.range.equalsRange(l.range);if(!s&&!c)return;const u=c?r:l||r,d=c?u.insertText.length-l.insertText.length:0;return this.toGhostText(u,d)}toGhostText(e,t){const i=this.editor.getOptions().get(108).previewMode;return e?sre(e,this.editor.getModel(),i,this.editor.getPosition(),t)||new tre(e.range.endLineNumber,[],this.minReservedLineCount):void 0}};T7=R8t([O8t(2,st)],T7);function P8t(n){return n.reduce((e,t)=>e+t,0)}var F8t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},B8t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},V8t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class W8t extends de{constructor(){super(...arguments),this.onDidChangeEmitter=new J,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new Bo)}get targetModel(){var e;return(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object}setTargetModel(e){var t;((t=this.currentModelRef.value)===null||t===void 0?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?r6t(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=(t=(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object)===null||t===void 0?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;(t=this.targetModel)===null||t===void 0||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let N7=class extends W8t{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.sharedCache=this._register(new H8t),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(T7,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(L7,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const i=(t=this.activeInlineCompletionsModel)===null||t===void 0?void 0:t.ghostText;return i?i.parts.some(s=>e.containsPosition(new oe(i.lineNumber,s.column))):!1}triggerInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.trigger(qa.Explicit)}commitInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.hide()}showNextInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showNext()}showPreviousInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showPrevious()}hasMultipleInlineCompletions(){var e;return V8t(this,void 0,void 0,function*(){const t=yield(e=this.activeInlineCompletionsModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};N7=F8t([B8t(1,Bt)],N7);class H8t extends de{constructor(){super(...arguments),this.onDidChangeEmitter=new J,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new Bo)}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new _6t(t,e,()=>this.onDidChangeEmitter.fire(),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var $8t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},uY=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},PT;const dY=(PT=window.trustedTypes)===null||PT===void 0?void 0:PT.createPolicy("editorGhostText",{createHTML:n=>n});let M7=class extends de{constructor(e,t,i,s){super(),this.editor=e,this.model=t,this.instantiationService=i,this.languageService=s,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(U8t,this.editor)),this.additionalLinesWidget=this._register(new j8t(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new z8t(this.editor)),this._register(this.editor.onDidChangeConfiguration(o=>{(o.hasChanged(29)||o.hasChanged(107)||o.hasChanged(90)||o.hasChanged(85)||o.hasChanged(47)||o.hasChanged(46)||o.hasChanged(61))&&this.update()})),this._register(jt(()=>{var o;this.disposed=!0,this.update(),(o=this.viewMoreContentWidget)===null||o===void 0||o.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const i=new Array,s=new Array;function o(c,u){if(s.length>0){const d=s[s.length-1];u&&d.decorations.push(new Wr(d.content.length+1,d.content.length+1+c[0].length,u,0)),d.content+=c[0],c=c.slice(1)}for(const d of c)s.push({content:d,decorations:u?[new Wr(1,d.length+1,u,0)]:[]})}t instanceof ire?this.replacementDecoration.setDecorations([{range:new A(t.lineNumber,t.columnStart,t.lineNumber,t.columnStart+t.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const r=this.editor.getModel().getLineContent(t.lineNumber);let a,l=0;for(const c of t.parts){let u=c.lines;a===void 0?(i.push({column:c.column,text:u[0],preview:c.preview}),u=u.slice(1)):o([r.substring(l,c.column-1)],void 0),u.length>0&&(o(u,"ghost-text"),a===void 0&&c.column<=r.length&&(a=c.column)),l=c.column-1}a!==void 0&&o([r.substring(l)],void 0),this.partsWidget.setParts(t.lineNumber,i,a!==void 0?{column:a,length:r.length+1-a}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,s,t.additionalReservedLineCount),(e=this.viewMoreContentWidget)===null||e===void 0||e.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines(e,t,i){const s=this.editor.getOption(46),o=document.createElement("div");o.className="suggest-preview-additional-widget",bo(o,s);const r=document.createElement("span");r.className="content-spacer",r.append(t),o.append(r);const a=document.createElement("span");a.className="content-newline suggest-preview-text",a.append("\u23CE  "),o.append(a);const l=new Ie,c=document.createElement("div");return c.className="button suggest-preview-text",c.append(`+${i} lines\u2026`),l.add(Ns(c,"mousedown",u=>{var d;(d=this.model)===null||d===void 0||d.setExpanded(!0),u.preventDefault(),this.editor.focus()})),o.append(c),new q8t(this.editor,e,o,l)}};M7=$8t([uY(2,Bt),uY(3,In)],M7);class z8t{constructor(e){this.editor=e,this.decorationIds=[]}setDecorations(e){this.editor.changeDecorations(t=>{this.decorationIds=t.deltaDecorations(this.decorationIds,e)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class U8t{constructor(e){this.editor=e,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(e=>{this.decorationIds=e.deltaDecorations(this.decorationIds,[])})}setParts(e,t,i){if(!this.editor.getModel())return;const o=new Array;i&&o.push({range:A.fromPositions(new oe(e,i.column),new oe(e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(r=>{this.decorationIds=r.deltaDecorations(this.decorationIds,t.map(a=>({range:A.fromPositions(new oe(e,a.column)),options:{description:"ghost-text",after:{content:a.text,inlineClassName:a.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:kc.Left},showIfCollapsed:!0}})).concat(o))})}}class j8t{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const s=this.editor.getModel();if(!s)return;const{tabSize:o}=s.getOptions();this.editor.changeViewZones(r=>{this._viewZoneId&&(r.removeZone(this._viewZoneId),this._viewZoneId=void 0);const a=Math.max(t.length,i);if(a>0){const l=document.createElement("div");K8t(l,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=r.addZone({afterLineNumber:e,heightInLines:a,domNode:l,afterColumnAffinity:1})}})}}function K8t(n,e,t,i,s){const o=i.get(29),r=i.get(107),a="none",l=i.get(85),c=i.get(47),u=i.get(46),d=i.get(61),h=Sg(1e4);h.appendASCIIString('<div class="suggest-preview-text">');for(let m=0,b=t.length;m<b;m++){const w=t[m],y=w.content;h.appendASCIIString('<div class="view-line'),h.appendASCIIString('" style="top:'),h.appendASCIIString(String(m*d)),h.appendASCIIString('px;width:1000000px;">');const L=Hx(y),D=av(y),E=Ts.createEmpty(y,s);Ry(new qg(u.isMonospace&&!o,u.canUseHalfwidthRightwardsArrow,y,!1,L,D,0,E,w.decorations,e,0,u.spaceWidth,u.middotWidth,u.wsmiddotWidth,r,a,l,c!==ua.OFF,null),h),h.appendASCIIString("</div>")}h.appendASCIIString("</div>"),bo(n,u);const f=h.build(),p=dY?dY.createHTML(f):f;n.innerHTML=p}class q8t extends de{constructor(e,t,i,s){super(),this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(s),this._register(jt(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}ln((n,e)=>{const t=n.getColor(Aht);t&&(e.addRule(`.monaco-editor .ghost-text-decoration { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${t.toString()} !important; }`));const i=n.getColor(Rht);i&&(e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${i.toString()}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${i.toString()}; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${i.toString()}; }`));const s=n.getColor(Mht);s&&(e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${s}; }`))});var fre=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},A7=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},bD=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let Vs=class gre extends de{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new Bo),this.activeModelDidChangeEmitter=this._register(new J),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(i=>{i.hasChanged(108)&&this.updateModelController(),i.hasChanged(57)&&this.updateModelController()})),this.updateModelController()}static get(e){return e.getContribution(gre.ID)}get activeModel(){var e;return(e=this.activeController.value)===null||e===void 0?void 0:e.model}updateModelController(){const e=this.editor.getOption(108),t=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(R7,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(e){var t;return((t=this.activeModel)===null||t===void 0?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return((i=(t=this.activeController.value)===null||t===void 0?void 0:t.widget)===null||i===void 0?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(e=this.activeModel)===null||e===void 0||e.triggerInlineCompletion()}commit(){var e;(e=this.activeModel)===null||e===void 0||e.commitInlineCompletion()}hide(){var e;(e=this.activeModel)===null||e===void 0||e.hideInlineCompletion()}showNextInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return bD(this,void 0,void 0,function*(){const t=yield(e=this.activeModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};Vs.inlineSuggestionVisible=new et("inlineSuggestionVisible",!1,v("inlineSuggestionVisible","Whether an inline suggestion is visible"));Vs.inlineSuggestionHasIndentation=new et("inlineSuggestionHasIndentation",!1,v("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));Vs.inlineSuggestionHasIndentationLessThanTabSize=new et("inlineSuggestionHasIndentationLessThanTabSize",!0,v("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));Vs.ID="editor.contrib.ghostTextController";Vs=fre([A7(1,Bt)],Vs);class G8t{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=Vs.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Vs.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Vs.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let R7=class extends de{constructor(e,t,i){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new G8t(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(N7,this.editor)),this.widget=this._register(this.instantiationService.createInstance(M7,this.editor,this.model)),this._register(jt(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(((e=this.model.activeInlineCompletionsModel)===null||e===void 0?void 0:e.ghostText)!==void 0);let t=!1,i=!0;const s=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&s&&s.parts.length>0){const{column:o,lines:r}=s.parts[0],a=r[0],l=this.editor.getModel().getLineIndentColumn(s.lineNumber);if(o<=l){let u=Qo(a);u===-1&&(u=a.length-1),t=u>0;const d=this.editor.getModel().getOptions().tabSize;i=ys.visibleColumnFromColumn(a,u+1,d)<d}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}};R7=fre([A7(1,Bt),A7(2,At)],R7);class Bv extends nt{constructor(){super({id:Bv.ID,label:v("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Xe.and(z.writable,Vs.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return bD(this,void 0,void 0,function*(){const i=Vs.get(t);i&&(i.showNextInlineCompletion(),t.focus())})}}Bv.ID="editor.action.inlineSuggest.showNext";class Vv extends nt{constructor(){super({id:Vv.ID,label:v("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Xe.and(z.writable,Vs.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return bD(this,void 0,void 0,function*(){const i=Vs.get(t);i&&(i.showPreviousInlineCompletion(),t.focus())})}}Vv.ID="editor.action.inlineSuggest.showPrevious";class Y8t extends nt{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:v("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:z.writable})}run(e,t){return bD(this,void 0,void 0,function*(){const i=Vs.get(t);i&&i.trigger()})}}var Z8t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},E0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class X8t{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var e,t,i;return((i=(t=(e=this.controller.activeModel)===null||e===void 0?void 0:e.activeInlineCompletionsModel)===null||t===void 0?void 0:t.completionSession.value)===null||i===void 0?void 0:i.commands)||[]}}let O7=class{constructor(e,t,i,s,o,r,a){this._editor=e,this._commandService=t,this._menuService=i,this._contextKeyService=s,this._languageService=o,this._openerService=r,this.accessibilityService=a,this.hoverOrdinal=3}suggestHoverAnchor(e){const t=Vs.get(this._editor);if(!t)return null;const i=e.target;if(i.type===8){const s=i.detail;if(t.shouldShowHoverAtViewZone(s.viewZoneId))return new D6(1e3,this,A.fromPositions(s.positionBefore||s.position,s.positionBefore||s.position))}return i.type===7&&t.shouldShowHoverAt(i.range)?new D6(1e3,this,i.range):i.type===6&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new D6(1e3,this,i.range):null}computeSync(e,t){const i=Vs.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new X8t(this,e.range,i)]:[]}renderHoverParts(e,t){const i=new Ie,s=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,s,i);const o=i.add(this._menuService.createMenu(Y.InlineCompletionsActions,this._contextKeyService)),r=e.statusBar.addAction({label:v("showNextInlineSuggestion","Next"),commandId:Bv.ID,run:()=>this._commandService.executeCommand(Bv.ID)}),a=e.statusBar.addAction({label:v("showPreviousInlineSuggestion","Previous"),commandId:Vv.ID,run:()=>this._commandService.executeCommand(Vv.ID)});e.statusBar.addAction({label:v("acceptInlineSuggestion","Accept"),commandId:BL,run:()=>this._commandService.executeCommand(BL)});const l=[r,a];for(const c of l)c.setEnabled(!1);s.hasMultipleSuggestions().then(c=>{for(const u of l)u.setEnabled(c)});for(const c of s.commands)e.statusBar.addAction({label:c.title,commandId:c.id,run:()=>this._commandService.executeCommand(c.id,...c.arguments||[])});for(const[c,u]of o.getActions())for(const d of u)d instanceof kg&&e.statusBar.addAction({label:d.label,commandId:d.item.id,run:()=>this._commandService.executeCommand(d.item.id)});return i}renderScreenReaderText(e,t,i){var s,o;const r=Ne,a=r("div.hover-row.markdown-hover"),l=Le(a,r("div.hover-contents")),c=i.add(new Vh({editor:this._editor},this._languageService,this._openerService)),u=h=>{i.add(c.onDidRenderAsync(()=>{l.className="hover-contents code-hover-contents",e.onContentsChanged()}));const f=v("inlineSuggestionFollows","Suggestion:"),p=i.add(c.render(new ur().appendText(f).appendCodeblock("text",h)));l.replaceChildren(p.element)},d=(o=(s=t.controller.activeModel)===null||s===void 0?void 0:s.inlineCompletionsModel)===null||o===void 0?void 0:o.ghostText;if(d){const h=this._editor.getModel().getLineContent(d.lineNumber);u(d.renderForScreenReader(h))}e.fragment.appendChild(a)}};O7=Z8t([E0(1,ss),E0(2,k_),E0(3,At),E0(4,In),E0(5,_l),E0(6,jh)],O7);mi(Vs.ID,Vs);Pe(Y8t);Pe(Bv);Pe(Vv);V_.register(O7);const pre=Ys.bindToContribution(Vs.get),P7=new pre({id:BL,precondition:Vs.inlineSuggestionVisible,handler(n){n.commit(),n.editor.focus()}});Ae(P7);qr.registerKeybindingRule({primary:2,weight:200,id:P7.id,when:Xe.and(P7.precondition,z.tabMovesFocus.toNegated(),Vs.inlineSuggestionHasIndentationLessThanTabSize)});Ae(new pre({id:"editor.action.inlineSuggest.hide",precondition:Vs.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(n){n.hide()}}));function Mr(n,e){let t=0;for(let i=0;i<n.length;i++)n.charAt(i)==="	"?t+=e:t++;return t}function EC(n,e,t){n=n<0?0:n;let i="";if(!t){const s=Math.floor(n/e);n=n%e;for(let o=0;o<s;o++)i+="	"}for(let s=0;s<n;s++)i+=" ";return i}var Q8t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},J8t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function mre(n,e,t,i,s){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return[];const o=e.getLanguageConfiguration(n.getLanguageId()).indentationRules;if(!o)return[];for(i=Math.min(i,n.getLineCount());t<=i&&o.unIndentedLinePattern;){const b=n.getLineContent(t);if(!o.unIndentedLinePattern.test(b))break;t++}if(t>i-1)return[];const{tabSize:r,indentSize:a,insertSpaces:l}=n.getOptions(),c=(b,w)=>(w=w||1,Ya.shiftIndent(b,b.length+w,r,a,l)),u=(b,w)=>(w=w||1,Ya.unshiftIndent(b,b.length+w,r,a,l)),d=[];let h;const f=n.getLineContent(t);let p=f;if(s!=null){h=s;const b=zi(f);p=h+f.substring(b.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(p)&&(h=u(h),p=h+f.substring(b.length)),f!==p&&d.push(yn.replaceMove(new Ye(t,1,t,b.length+1),R8(h,a,l)))}else h=zi(f);let m=h;o.increaseIndentPattern&&o.increaseIndentPattern.test(p)?(m=c(m),h=c(h)):o.indentNextLinePattern&&o.indentNextLinePattern.test(p)&&(m=c(m)),t++;for(let b=t;b<=i;b++){const w=n.getLineContent(b),y=zi(w),L=m+w.substring(y.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(L)&&(m=u(m),h=u(h)),y!==m&&d.push(yn.replaceMove(new Ye(b,1,b,y.length+1),R8(m,a,l))),!(o.unIndentedLinePattern&&o.unIndentedLinePattern.test(w))&&(o.increaseIndentPattern&&o.increaseIndentPattern.test(L)?(h=c(h),m=h):o.indentNextLinePattern&&o.indentNextLinePattern.test(L)?m=c(m):m=h)}return d}class CD extends nt{constructor(){super({id:CD.ID,label:v("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:z.writable})}run(e,t){const i=t.getModel();if(!i)return;const s=i.getOptions(),o=t.getSelection();if(!o)return;const r=new nLt(o,s.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}CD.ID="editor.action.indentationToSpaces";class wD extends nt{constructor(){super({id:wD.ID,label:v("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:z.writable})}run(e,t){const i=t.getModel();if(!i)return;const s=i.getOptions(),o=t.getSelection();if(!o)return;const r=new sLt(o,s.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}wD.ID="editor.action.indentationToTabs";class _re extends nt{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const i=e.get(Gh),s=e.get(Nn),o=t.getModel();if(!o)return;const r=s.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),a=[1,2,3,4,5,6,7,8].map(c=>({id:c.toString(),label:c.toString(),description:c===r.tabSize?v("configuredTabSize","Configured Tab Size"):void 0})),l=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(a,{placeHolder:v({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[l]}).then(c=>{c&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(c.label,10),insertSpaces:this.insertSpaces})})},50)}}class yD extends _re{constructor(){super(!1,{id:yD.ID,label:v("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}yD.ID="editor.action.indentUsingTabs";class SD extends _re{constructor(){super(!0,{id:SD.ID,label:v("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}SD.ID="editor.action.indentUsingSpaces";class LD extends nt{constructor(){super({id:LD.ID,label:v("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(Nn),s=t.getModel();if(!s)return;const o=i.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget);s.detectIndentation(o.insertSpaces,o.tabSize)}}LD.ID="editor.action.detectIndentation";class eLt extends nt{constructor(){super({id:"editor.action.reindentlines",label:v("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:z.writable})}run(e,t){const i=e.get(Xn),s=t.getModel();if(!s)return;const o=mre(s,i,1,s.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class tLt extends nt{constructor(){super({id:"editor.action.reindentselectedlines",label:v("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:z.writable})}run(e,t){const i=e.get(Xn),s=t.getModel();if(!s)return;const o=t.getSelections();if(o===null)return;const r=[];for(const a of o){let l=a.startLineNumber,c=a.endLineNumber;if(l!==c&&a.endColumn===1&&c--,l===1){if(l===c)continue}else l--;const u=mre(s,i,l,c);r.push(...u)}r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}}class iLt{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(const i of e)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(e,t){for(const s of this._edits)t.addEditOperation(A.lift(s.range),s.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let ly=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new Ie,this.callOnModel=new Ie,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(50))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)})))}trigger(e){const t=this.editor.getSelections();if(t===null||t.length>1)return;const i=this.editor.getModel();if(!i||!i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const s=this.editor.getOption(9),{tabSize:o,indentSize:r,insertSpaces:a}=i.getOptions(),l=[],c={shiftIndent:f=>Ya.shiftIndent(f,f.length+1,o,r,a),unshiftIndent:f=>Ya.unshiftIndent(f,f.length+1,o,r,a)};let u=e.startLineNumber;for(;u<=e.endLineNumber;){if(this.shouldIgnoreLine(i,u)){u++;continue}break}if(u>e.endLineNumber)return;let d=i.getLineContent(u);if(!/\S/.test(d.substring(0,e.startColumn-1))){const f=lC(s,i,i.getLanguageId(),u,c,this._languageConfigurationService);if(f!==null){const p=zi(d),m=Mr(f,o),b=Mr(p,o);if(m!==b){const w=EC(m,o,a);l.push({range:new A(u,1,u,p.length+1),text:w}),d=w+d.substr(p.length)}else{const w=Ute(i,u,this._languageConfigurationService);if(w===0||w===8)return}}}const h=u;for(;u<e.endLineNumber;){if(!/\S/.test(i.getLineContent(u+1))){u++;continue}break}if(u!==e.endLineNumber){const p=lC(s,{tokenization:{getLineTokens:m=>i.tokenization.getLineTokens(m),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(m,b)=>i.getLanguageIdAtPosition(m,b)},getLineContent:m=>m===h?d:i.getLineContent(m)},i.getLanguageId(),u+1,c,this._languageConfigurationService);if(p!==null){const m=Mr(p,o),b=Mr(zi(i.getLineContent(u+1)),o);if(m!==b){const w=m-b;for(let y=u+1;y<=e.endLineNumber;y++){const L=i.getLineContent(y),D=zi(L),T=Mr(D,o)+w,x=EC(T,o,a);x!==D&&l.push({range:new A(y,1,y,D.length+1),text:x})}}}}if(l.length>0){this.editor.pushUndoStop();const f=new iLt(l,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",f),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const i=e.getLineFirstNonWhitespaceColumn(t);if(i===0)return!0;const s=e.tokenization.getLineTokens(t);if(s.getCount()>0){const o=s.findTokenIndexAtOffset(i);if(o>=0&&s.getStandardTokenType(o)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};ly.ID="editor.contrib.autoIndentOnPaste";ly=Q8t([J8t(1,Xn)],ly);function vre(n,e,t,i){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let s="";for(let r=0;r<t;r++)s+=" ";const o=new RegExp(s,"gi");for(let r=1,a=n.getLineCount();r<=a;r++){let l=n.getLineFirstNonWhitespaceColumn(r);if(l===0&&(l=n.getLineMaxColumn(r)),l===1)continue;const c=new A(r,1,r,l),u=n.getValueInRange(c),d=i?u.replace(/\t/ig,s):u.replace(o,"	");e.addEditOperation(c,d)}}class nLt{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),vre(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class sLt{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),vre(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}mi(ly.ID,ly);Pe(CD);Pe(wD);Pe(yD);Pe(SD);Pe(LD);Pe(eLt);Pe(tLt);var WL=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class bre{constructor(e,t){this.range=e,this.direction=t}}class WB{constructor(e,t,i){this.hint=e,this.anchor=t,this.provider=i,this._isResolved=!1}with(e){const t=new WB(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return WL(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(e){var t,i;return WL(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t=s==null?void 0:s.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(i=s==null?void 0:s.label)!==null&&i!==void 0?i:this.hint.label,this._isResolved=!0}catch(s){$s(s),this._isResolved=!1}})}}class cy{constructor(e,t,i){this._disposables=new Ie,this.ranges=e,this.provider=new Set;const s=[];for(const[o,r]of t){this._disposables.add(o),this.provider.add(r);for(const a of o.hints){const l=i.validatePosition(a.position);let c="before";const u=cy._getRangeAtPosition(i,l);let d;u.getStartPosition().isBefore(l)?(d=A.fromPositions(u.getStartPosition(),l),c="after"):(d=A.fromPositions(l,u.getEndPosition()),c="before"),s.push(new WB(a,new bre(d,c),r))}}this.items=s.sort((o,r)=>oe.compare(o.hint.position,r.hint.position))}static create(e,t,i,s){return WL(this,void 0,void 0,function*(){const o=[],r=e.ordered(t).reverse().map(a=>i.map(l=>WL(this,void 0,void 0,function*(){try{const c=yield a.provideInlayHints(t,l,s);c!=null&&c.hints.length&&o.push([c,a])}catch(c){$s(c)}})));if(yield Promise.all(r.flat()),s.isCancellationRequested||t.isDisposed())throw new Kg;return new cy(i,o,t)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const i=t.lineNumber,s=e.getWordAtPosition(t);if(s)return new A(i,s.startColumn,i,s.endColumn);e.tokenization.tokenizeIfCheap(i);const o=e.tokenization.getLineTokens(i),r=t.column-1,a=o.findTokenIndexAtOffset(r);let l=o.getStartOffset(a),c=o.getEndOffset(a);return c-l===1&&(l===r&&a>1?(l=o.getStartOffset(a-1),c=o.getEndOffset(a-1)):c===r&&a<o.getCount()-1&&(l=o.getStartOffset(a+1),c=o.getEndOffset(a+1))),new A(i,l+1,i,c+1)}}function oLt(n){return bt.from({scheme:Vt.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}var IC=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};function rLt(n,e,t,i){var s;return IC(this,void 0,void 0,function*(){const o=n.get(Lr),r=n.get(Kh),a=n.get(ss),l=n.get(Bt),c=n.get(os);if(yield i.item.resolve(Yt.None),!i.part.location)return;const u=i.part.location,d=[],h=new Set(jl.getMenuItems(Y.EditorContext).map(p=>X0(p)?p.command.id:""));for(const p of gm.getEditorActions())p instanceof ql&&h.has(p.id)&&d.push(new $r(p.id,p.label,void 0,!0,()=>IC(this,void 0,void 0,function*(){const m=yield o.createModelReference(u.uri);try{yield l.invokeFunction(p.run.bind(p),e,new Qw(m.object.textEditorModel,A.getStartPosition(u.range)))}finally{m.dispose()}})));if(i.part.command){const{command:p}=i.part;d.push(new Co),d.push(new $r(p.id,p.title,void 0,!0,()=>IC(this,void 0,void 0,function*(){var m;try{yield a.executeCommand(p.id,...(m=p.arguments)!==null&&m!==void 0?m:[])}catch(b){c.notify({severity:Sie.Error,source:i.item.provider.displayName,message:b})}})))}const f=e.getOption(117);r.showContextMenu({domForShadowRoot:f&&(s=e.getDomNode())!==null&&s!==void 0?s:void 0,getAnchor:()=>{const p=mo(t);return{x:p.left,y:p.top+p.height+8}},getActions:()=>d,onHide:()=>{e.focus()},autoSelectFirstItem:!0})})}function aLt(n,e,t,i){return IC(this,void 0,void 0,function*(){const o=yield n.get(Lr).createModelReference(i.uri);yield t.invokeWithinContext(r=>IC(this,void 0,void 0,function*(){const a=e.hasSideBySideModifier,l=r.get(At),c=Sr.inPeekEditor.getValue(l),u=!a&&t.getOption(80)&&!c;return new a4({openToSide:a,openInPeek:u,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(r,t,{model:o.object.textEditorModel,position:A.getStartPosition(i.range)})})),o.dispose()})}var lLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},I0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},H0=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class HL{constructor(){this._entries=new Gg(50)}get(e){const t=HL._key(e);return this._entries.get(t)}set(e,t){const i=HL._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const Cre=ui("IInlayHintsCache");gi(Cre,HL,!0);class F7{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}class cLt{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}let a_=class B7{constructor(e,t,i,s,o,r,a){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=s,this._commandService=o,this._notificationService=r,this._instaService=a,this._disposables=new Ie,this._sessionDisposables=new Ie,this._decorationsMetadata=new Map,this._ruleFactory=new Fy(this._editor),this._activeRenderMode=0,this._debounceInfo=i.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(l=>{l.hasChanged(129)&&this._update()})),this._update()}static get(e){var t;return(t=e.getContribution(B7.ID))!==null&&t!==void 0?t:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const e=this._editor.getOption(129);if(e.enabled==="off")return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;const i=this._inlayHintsCache.get(t);i&&this._updateHintsDecorators([t.getFullModelRange()],i),this._sessionDisposables.add(jt(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let s;const o=new Set,r=new Hi(()=>H0(this,void 0,void 0,function*(){const a=Date.now();s==null||s.dispose(!0),s=new ro;const l=t.onWillDispose(()=>s==null?void 0:s.cancel());try{const c=s.token,u=yield cy.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),c);if(r.delay=this._debounceInfo.update(t,Date.now()-a),c.isCancellationRequested){u.dispose();return}for(const d of u.provider)typeof d.onDidChangeInlayHints=="function"&&!o.has(d)&&(o.add(d),this._sessionDisposables.add(d.onDidChangeInlayHints(()=>{r.isScheduled()||r.schedule()})));this._sessionDisposables.add(u),this._updateHintsDecorators(u.ranges,u.items),this._cacheHintsForFastRestore(t)}catch(c){Ot(c)}finally{s.dispose(),l.dispose()}}),this._debounceInfo.get(t));if(this._sessionDisposables.add(r),this._sessionDisposables.add(jt(()=>s==null?void 0:s.dispose(!0))),r.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||!r.isScheduled())&&r.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(a=>{const l=Math.max(r.delay,1250);r.schedule(l)})),e.enabled==="on")this._activeRenderMode=0;else{let a,l;e.enabled==="onUnlessPressed"?(a=0,l=1):(a=1,l=0),this._activeRenderMode=a,this._sessionDisposables.add(jf.getInstance().event(c=>{if(!this._editor.hasModel())return;const u=c.altKey&&c.ctrlKey?l:a;if(u!==this._activeRenderMode){this._activeRenderMode=u;const d=this._editor.getModel(),h=this._copyInlayHintsWithCurrentAnchor(d);this._updateHintsDecorators([d.getFullModelRange()],h),r.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>r.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new Ie,t=e.add(new _B(this._editor)),i=new Ie;return e.add(i),e.add(t.onMouseMoveOrRelevantKeyDown(s=>{const[o]=s,r=this._getInlayHintLabelPart(o),a=this._editor.getModel();if(!r||!a){i.clear();return}const l=new ro;i.add(jt(()=>l.dispose(!0))),r.item.resolve(l.token),this._activeInlayHintPart=r.part.command||r.part.location?new cLt(r,o.hasTriggerModifier):void 0;const c=r.item.hint.position.lineNumber,u=new A(c,1,c,a.getLineMaxColumn(c)),d=this._getInlineHintsForRange(u);this._updateHintsDecorators([u],d),i.add(jt(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([u],d)}))})),e.add(t.onCancel(()=>i.clear())),e.add(t.onExecute(s=>H0(this,void 0,void 0,function*(){const o=this._getInlayHintLabelPart(s);if(o){const r=o.part;r.location?this._instaService.invokeFunction(aLt,s,this._editor,r.location):eN.is(r.command)&&(yield this._invokeCommand(r.command,o.item))}}))),e}_getInlineHintsForRange(e){const t=new Set;for(const i of this._decorationsMetadata.values())e.containsRange(i.item.anchor.range)&&t.add(i.item);return Array.from(t)}_installDblClickGesture(e){return this._editor.onMouseUp(t=>H0(this,void 0,void 0,function*(){if(t.event.detail!==2)return;const i=this._getInlayHintLabelPart(t);if(!!i&&(t.event.preventDefault(),yield i.item.resolve(Yt.None),vo(i.item.hint.textEdits))){const s=i.item.hint.textEdits.map(o=>yn.replace(A.lift(o.range),o.text));this._editor.executeEdits("inlayHint.default",s),e()}}))}_installContextMenu(){return this._editor.onContextMenu(e=>H0(this,void 0,void 0,function*(){if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(rLt,this._editor,e.event.target,t))}))}_getInlayHintLabelPart(e){var t;if(e.target.type!==6)return;const i=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;if(i instanceof Km&&(i==null?void 0:i.attachedData)instanceof F7)return i.attachedData}_invokeCommand(e,t){var i;return H0(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(e.id,...(i=e.arguments)!==null&&i!==void 0?i:[])}catch(s){this._notificationService.notify({severity:Sie.Error,source:t.provider.displayName,message:s})}})}_cacheHintsForFastRestore(e){const t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}_copyInlayHintsWithCurrentAnchor(e){const t=new Map;for(const[i,s]of this._decorationsMetadata){if(t.has(s.item))continue;const o=e.getDecorationRange(i);if(o){const r=new bre(o,s.item.anchor.direction),a=s.item.with({anchor:r});t.set(s.item,a)}}return Array.from(t.values())}_getHintsRanges(){const t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),s=[];for(const o of i.sort(A.compareRangesUsingStarts)){const r=t.validateRange(new A(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));s.length===0||!A.areIntersectingOrTouching(s[s.length-1],r)?s.push(r):s[s.length-1]=A.plusRange(s[s.length-1],r)}return s}_updateHintsDecorators(e,t){var i,s;const o=[],r=(p,m,b,w,y)=>{const L={content:b,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:m.className,cursorStops:w,attachedData:y};o.push({item:p,classNameRef:m,decoration:{range:p.anchor.range,options:{description:"InlayHint",showIfCollapsed:p.anchor.range.isEmpty(),collapseOnReplaceEdit:!p.anchor.range.isEmpty(),stickiness:0,[p.anchor.direction]:this._activeRenderMode===0?L:void 0}}})},a=(p,m)=>{const b=this._ruleFactory.createClassNameRef({width:`${l/3|0}px`,display:"inline-block"});r(p,b,"\u200A",m?kc.Right:kc.None)},{fontSize:l,fontFamily:c,padding:u,isUniform:d}=this._getLayoutInfo(),h="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(h,c);for(const p of t){p.hint.paddingLeft&&a(p,!1);const m=typeof p.hint.label=="string"?[{label:p.hint.label}]:p.hint.label;for(let b=0;b<m.length;b++){const w=m[b],y=b===0,L=b===m.length-1,D={fontSize:`${l}px`,fontFamily:`var(${h}), ${Hr.fontFamily}`,verticalAlign:d?"baseline":"middle"};vo(p.hint.textEdits)&&(D.cursor="default"),this._fillInColors(D,p.hint),(w.command||w.location)&&((i=this._activeInlayHintPart)===null||i===void 0?void 0:i.part.item)===p&&this._activeInlayHintPart.part.index===b&&(D.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(D.color=Vn(PP),D.cursor="pointer")),u&&(y&&L?(D.padding=`1px ${Math.max(1,l/4)|0}px`,D.borderRadius=`${l/4|0}px`):y?(D.padding=`1px 0 1px ${Math.max(1,l/4)|0}px`,D.borderRadius=`${l/4|0}px 0 0 ${l/4|0}px`):L?(D.padding=`1px ${Math.max(1,l/4)|0}px 1px 0`,D.borderRadius=`0 ${l/4|0}px ${l/4|0}px 0`):D.padding="1px 0 1px 0"),r(p,this._ruleFactory.createClassNameRef(D),uLt(w.label),L&&!p.hint.paddingRight?kc.Right:kc.None,new F7(p,b))}if(p.hint.paddingRight&&a(p,!0),o.length>B7._MAX_DECORATORS)break}const f=[];for(const p of e)for(const{id:m}of(s=this._editor.getDecorationsInRange(p))!==null&&s!==void 0?s:[]){const b=this._decorationsMetadata.get(m);b&&(f.push(m),b.classNameRef.dispose(),this._decorationsMetadata.delete(m))}this._editor.changeDecorations(p=>{const m=p.deltaDecorations(f,o.map(b=>b.decoration));for(let b=0;b<m.length;b++){const w=o[b];this._decorationsMetadata.set(m[b],w)}})}_fillInColors(e,t){t.kind===u8.Parameter?(e.backgroundColor=Vn(Zut),e.color=Vn(Yut)):t.kind===u8.Type?(e.backgroundColor=Vn(Gut),e.color=Vn(qut)):(e.backgroundColor=Vn(fh),e.color=Vn(hh))}_getLayoutInfo(){const e=this._editor.getOption(129),t=e.padding,i=this._editor.getOption(48),s=this._editor.getOption(45);let o=e.fontSize;(!o||o<5||o>i)&&(o=i);const r=e.fontFamily||s;return{fontSize:o,fontFamily:r,padding:t,isUniform:!t&&r===s&&o===i}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};a_.ID="editor.contrib.InlayHints";a_._MAX_DECORATORS=1500;a_=lLt([I0(1,st),I0(2,vl),I0(3,Cre),I0(4,ss),I0(5,os),I0(6,Bt)],a_);function uLt(n){const e="\xA0";return n.replace(/[ \t]/g,e)}pi.registerCommand("_executeInlayHintProvider",(n,...e)=>H0(void 0,void 0,void 0,function*(){const[t,i]=e;Vi(bt.isUri(t)),Vi(A.isIRange(i));const{inlayHintsProvider:s}=n.get(st),o=yield n.get(Lr).createModelReference(t);try{const r=yield cy.create(s,o.object.textEditorModel,[A.lift(i)],Yt.None),a=r.items.map(l=>l.hint);return setTimeout(()=>r.dispose(),0),a}finally{o.dispose()}}));var dLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},pb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},hY=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},hLt=globalThis&&globalThis.__asyncValues||function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(r){return new Promise(function(a,l){r=n[o](r),s(a,l,r.done,r.value)})}}function s(o,r,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},r)}};class fY extends D6{constructor(e,t){super(10,t,e.item.anchor.range),this.part=e}}let V7=class extends NL{constructor(e,t,i,s,o,r){super(e,t,i,s,r),this._resolverService=o,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!a_.get(this._editor)||e.target.type!==6)return null;const s=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;return s instanceof Km&&s.attachedData instanceof F7?new fY(s.attachedData,this):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof fY?new ts(s=>hY(this,void 0,void 0,function*(){var o,r;const{part:a}=e;if(yield a.item.resolve(i),i.isCancellationRequested)return;let l;typeof a.item.hint.tooltip=="string"?l=new ur().appendText(a.item.hint.tooltip):a.item.hint.tooltip&&(l=a.item.hint.tooltip),l&&s.emitOne(new Mu(this,e.range,[l],0)),vo(a.item.hint.textEdits)&&s.emitOne(new Mu(this,e.range,[new ur().appendText(v("hint.dbl","Double click to insert"))],10001));let c;if(typeof a.part.tooltip=="string"?c=new ur().appendText(a.part.tooltip):a.part.tooltip&&(c=a.part.tooltip),c&&s.emitOne(new Mu(this,e.range,[c],1)),a.part.location||a.part.command){let f;const m=this._editor.getOption(72)==="altKey"?ai?v("links.navigate.kb.meta.mac","cmd + click"):v("links.navigate.kb.meta","ctrl + click"):ai?v("links.navigate.kb.alt.mac","option + click"):v("links.navigate.kb.alt","alt + click");a.part.location&&a.part.command?f=new ur().appendText(v("hint.defAndCommand","Go to Definition ({0}), right click for more",m)):a.part.location?f=new ur().appendText(v("hint.def","Go to Definition ({0})",m)):a.part.command&&(f=new ur(`[${v("hint.cmd","Execute Command")}](${oLt(a.part.command)} "${a.part.command.title}") (${m})`,{isTrusted:!0})),f&&s.emitOne(new Mu(this,e.range,[f],1e4))}const u=yield this._resolveInlayHintLabelPartHover(a,i);try{for(var d=hLt(u),h;h=yield d.next(),!h.done;){const f=h.value;s.emitOne(f)}}catch(f){o={error:f}}finally{try{h&&!h.done&&(r=d.return)&&(yield r.call(d))}finally{if(o)throw o.error}}})):ts.EMPTY}_resolveInlayHintLabelPartHover(e,t){return hY(this,void 0,void 0,function*(){if(!e.part.location)return ts.EMPTY;const{uri:i,range:s}=e.part.location,o=yield this._resolverService.createModelReference(i);try{const r=o.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(r)?EB(this._languageFeaturesService.hoverProvider,r,new oe(s.startLineNumber,s.startColumn),t).filter(a=>!Lv(a.hover.contents)).map(a=>new Mu(this,e.item.anchor.range,a.hover.contents,2+a.ordinal)):ts.EMPTY}finally{o.dispose()}})}};V7=dLt([pb(1,In),pb(2,_l),pb(3,Ci),pb(4,Lr),pb(5,st)],V7);mi(a_.ID,a_);V_.register(V7);class fLt{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Ye(s.endLineNumber,Math.min(this._originalSelection.positionColumn,s.endColumn),s.endLineNumber,Math.min(this._originalSelection.positionColumn,s.endColumn)):new Ye(s.endLineNumber,s.endColumn-this._text.length,s.endLineNumber,s.endColumn)}}var gLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},pLt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let Wg=class W7{constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}static get(e){return e.getContribution(W7.ID)}dispose(){}run(e,t){this.currentRequest&&this.currentRequest.cancel();const i=this.editor.getSelection(),s=this.editor.getModel();if(!s||!i)return;let o=i;if(o.startLineNumber!==o.endLineNumber)return;const r=new qw(this.editor,5),a=s.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=Ws(l=>this.editorWorkerService.navigateValueSet(a,o,t)),this.currentRequest.then(l=>{if(!l||!l.range||!l.value||!r.validate(this.editor))return;const c=A.lift(l.range);let u=l.range;const d=l.value.length-(o.endColumn-o.startColumn);u={startLineNumber:u.startLineNumber,startColumn:u.startColumn,endLineNumber:u.endLineNumber,endColumn:u.startColumn+l.value.length},d>1&&(o=new Ye(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn+d-1));const h=new fLt(c,o,l.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,h),this.editor.pushUndoStop(),this.decorations.set([{range:u,options:W7.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Lg(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(Ot)}).catch(Ot)):Promise.resolve(void 0)}};Wg.ID="editor.contrib.inPlaceReplaceController";Wg.DECORATION=Rt.register({description:"in-place-replace",className:"valueSetReplacement"});Wg=gLt([pLt(1,ml)],Wg);class mLt extends nt{constructor(){super({id:"editor.action.inPlaceReplace.up",label:v("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:3154,weight:100}})}run(e,t){const i=Wg.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}class _Lt extends nt{constructor(){super({id:"editor.action.inPlaceReplace.down",label:v("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:3156,weight:100}})}run(e,t){const i=Wg.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}mi(Wg.ID,Wg);Pe(mLt);Pe(_Lt);ln((n,e)=>{const t=n.getColor(Fte);t&&e.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${t}; }`)});class vLt extends nt{constructor(){super({id:"expandLineSelection",label:v("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:z.textInputFocus,primary:2090}})}run(e,t,i){if(i=i||{},!t.hasModel())return;const s=t._getViewModel();s.model.pushStackElement(),s.setCursorStates(i.source,3,js.expandLineSelection(s,s.getCursorStates())),s.revealPrimaryCursor(i.source,!0)}}Pe(vLt);class bLt{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const i=CLt(e,this._cursors);for(let s=0,o=i.length;s<o;s++){const r=i[s];t.addEditOperation(r.range,r.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function CLt(n,e){e.sort((r,a)=>r.lineNumber===a.lineNumber?r.column-a.column:r.lineNumber-a.lineNumber);for(let r=e.length-2;r>=0;r--)e[r].lineNumber===e[r+1].lineNumber&&e.splice(r,1);const t=[];let i=0,s=0;const o=e.length;for(let r=1,a=n.getLineCount();r<=a;r++){const l=n.getLineContent(r),c=l.length+1;let u=0;if(s<o&&e[s].lineNumber===r&&(u=e[s].column,s++,u===c)||l.length===0)continue;const d=ju(l);let h=0;if(d===-1)h=1;else if(d!==l.length-1)h=d+2;else continue;h=Math.max(u,h),t[i++]=yn.delete(new A(r,h,r,c))}return t}class wre{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const s=[];for(let r=i.startLineNumber;r<=i.endLineNumber;r++)s.push(e.getLineContent(r));const o=s.join(`
`);o===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new A(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new A(i.startLineNumber,1,i.startLineNumber,1),o+`
`):t.addEditOperation(new A(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let s=i.startLineNumber,o=i.startColumn,r=i.endLineNumber,a=i.endColumn;this._startLineNumberDelta!==0&&(s=s+this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(r=r+this._endLineNumberDelta,a=1),i=Ye.createWithDirection(s,o,r,a,this._selectionDirection)}return i}}var wLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},yLt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let H7=class{constructor(e,t,i,s){this._languageConfigurationService=s,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let s=this._selection;s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,e.getLineMaxColumn(s.endLineNumber-1)));const{tabSize:o,indentSize:r,insertSpaces:a}=e.getOptions(),l=this.buildIndentConverter(o,r,a),c={tokenization:{getLineTokens:u=>e.tokenization.getLineTokens(u),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(u,d)=>e.getLanguageIdAtPosition(u,d)},getLineContent:null};if(s.startLineNumber===s.endLineNumber&&e.getLineMaxColumn(s.startLineNumber)===1){const u=s.startLineNumber,d=this._isMovingDown?u+1:u-1;e.getLineMaxColumn(d)===1?t.addEditOperation(new A(1,1,1,1),null):(t.addEditOperation(new A(u,1,u,1),e.getLineContent(d)),t.addEditOperation(new A(d,1,d,e.getLineMaxColumn(d)),null)),s=new Ye(d,1,d,1)}else{let u,d;if(this._isMovingDown){u=s.endLineNumber+1,d=e.getLineContent(u),t.addEditOperation(new A(u-1,e.getLineMaxColumn(u-1),u,e.getLineMaxColumn(u)),null);let h=d;if(this.shouldAutoIndent(e,s)){const f=this.matchEnterRule(e,l,o,u,s.startLineNumber-1);if(f!==null){const m=zi(e.getLineContent(u)),b=f+Mr(m,o);h=EC(b,o,a)+this.trimLeft(d)}else{c.getLineContent=b=>b===s.startLineNumber?e.getLineContent(u):e.getLineContent(b);const m=lC(this._autoIndent,c,e.getLanguageIdAtPosition(u,1),s.startLineNumber,l,this._languageConfigurationService);if(m!==null){const b=zi(e.getLineContent(u)),w=Mr(m,o),y=Mr(b,o);w!==y&&(h=EC(w,o,a)+this.trimLeft(d))}}t.addEditOperation(new A(s.startLineNumber,1,s.startLineNumber,1),h+`
`);const p=this.matchEnterRuleMovingDown(e,l,o,s.startLineNumber,u,h);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(e,t,s,o,a,p);else{c.getLineContent=b=>b===s.startLineNumber?h:b>=s.startLineNumber+1&&b<=s.endLineNumber+1?e.getLineContent(b-1):e.getLineContent(b);const m=lC(this._autoIndent,c,e.getLanguageIdAtPosition(u,1),s.startLineNumber+1,l,this._languageConfigurationService);if(m!==null){const b=zi(e.getLineContent(s.startLineNumber)),w=Mr(m,o),y=Mr(b,o);if(w!==y){const L=w-y;this.getIndentEditsOfMovingBlock(e,t,s,o,a,L)}}}}else t.addEditOperation(new A(s.startLineNumber,1,s.startLineNumber,1),h+`
`)}else if(u=s.startLineNumber-1,d=e.getLineContent(u),t.addEditOperation(new A(u,1,u+1,1),null),t.addEditOperation(new A(s.endLineNumber,e.getLineMaxColumn(s.endLineNumber),s.endLineNumber,e.getLineMaxColumn(s.endLineNumber)),`
`+d),this.shouldAutoIndent(e,s)){c.getLineContent=f=>f===u?e.getLineContent(s.startLineNumber):e.getLineContent(f);const h=this.matchEnterRule(e,l,o,s.startLineNumber,s.startLineNumber-2);if(h!==null)h!==0&&this.getIndentEditsOfMovingBlock(e,t,s,o,a,h);else{const f=lC(this._autoIndent,c,e.getLanguageIdAtPosition(s.startLineNumber,1),u,l,this._languageConfigurationService);if(f!==null){const p=zi(e.getLineContent(s.startLineNumber)),m=Mr(f,o),b=Mr(p,o);if(m!==b){const w=m-b;this.getIndentEditsOfMovingBlock(e,t,s,o,a,w)}}}}}this._selectionId=t.trackSelection(s)}buildIndentConverter(e,t,i){return{shiftIndent:s=>Ya.shiftIndent(s,s.length+1,e,t,i),unshiftIndent:s=>Ya.unshiftIndent(s,s.length+1,e,t,i)}}parseEnterResult(e,t,i,s,o){if(o){let r=o.indentation;o.indentAction===is.None||o.indentAction===is.Indent?r=o.indentation+o.appendText:o.indentAction===is.IndentOutdent?r=o.indentation:o.indentAction===is.Outdent&&(r=t.unshiftIndent(o.indentation)+o.appendText);const a=e.getLineContent(s);if(this.trimLeft(a).indexOf(this.trimLeft(r))>=0){const l=zi(e.getLineContent(s));let c=zi(r);const u=Ute(e,s,this._languageConfigurationService);u!==null&&u&2&&(c=t.unshiftIndent(c));const d=Mr(c,i),h=Mr(l,i);return d-h}}return null}matchEnterRuleMovingDown(e,t,i,s,o,r){if(ju(r)>=0){const a=e.getLineMaxColumn(o),l=k1(this._autoIndent,e,new A(o,a,o,a),this._languageConfigurationService);return this.parseEnterResult(e,t,i,s,l)}else{let a=s-1;for(;a>=1;){const u=e.getLineContent(a);if(ju(u)>=0)break;a--}if(a<1||s>e.getLineCount())return null;const l=e.getLineMaxColumn(a),c=k1(this._autoIndent,e,new A(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,s,c)}}matchEnterRule(e,t,i,s,o,r){let a=o;for(;a>=1;){let u;if(a===o&&r!==void 0?u=r:u=e.getLineContent(a),ju(u)>=0)break;a--}if(a<1||s>e.getLineCount())return null;const l=e.getLineMaxColumn(a),c=k1(this._autoIndent,e,new A(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,s,c)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const i=e.getLanguageIdAtPosition(t.startLineNumber,1),s=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(i!==s||this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport===null)}getIndentEditsOfMovingBlock(e,t,i,s,o,r){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){const l=e.getLineContent(a),c=zi(l),d=Mr(c,s)+r,h=EC(d,s,o);h!==c&&(t.addEditOperation(new A(a,1,a,c.length+1),h),a===i.endLineNumber&&i.endColumn<=c.length+1&&h===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};H7=wLt([yLt(3,Xn)],H7);class gg{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return gg._COLLATOR||(gg._COLLATOR=new Intl.Collator),gg._COLLATOR}getEditOperations(e,t){const i=SLt(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(e===null)return!1;const s=yre(e,t,i);if(!s)return!1;for(let o=0,r=s.before.length;o<r;o++)if(s.before[o]!==s.after[o])return!0;return!1}}gg._COLLATOR=null;function yre(n,e,t){const i=e.startLineNumber;let s=e.endLineNumber;if(e.endColumn===1&&s--,i>=s)return null;const o=[];for(let a=i;a<=s;a++)o.push(n.getLineContent(a));let r=o.slice(0);return r.sort(gg.getCollator().compare),t===!0&&(r=r.reverse()),{startLineNumber:i,endLineNumber:s,before:o,after:r}}function SLt(n,e,t){const i=yre(n,e,t);return i?yn.replace(new A(i.startLineNumber,1,i.endLineNumber,n.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}class Sre extends nt{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((r,a)=>({selection:r,index:a,ignore:!1}));i.sort((r,a)=>A.compareRangesUsingStarts(r.selection,a.selection));let s=i[0];for(let r=1;r<i.length;r++){const a=i[r];s.selection.endLineNumber===a.selection.startLineNumber&&(s.index<a.index?a.ignore=!0:(s.ignore=!0,s=a))}const o=[];for(const r of i)o.push(new wre(r.selection,this.down,r.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class LLt extends Sre{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:v("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"2_line",title:v({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class xLt extends Sre{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:v("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"2_line",title:v({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class DLt extends nt{constructor(){super({id:"editor.action.duplicateSelection",label:v("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:z.writable,menuOpts:{menuId:Y.MenubarSelectionMenu,group:"2_line",title:v({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const s=[],o=t.getSelections(),r=t.getModel();for(const a of o)if(a.isEmpty())s.push(new wre(a,!0));else{const l=new Ye(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);s.push(new aft(l,r.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class Lre extends nt{constructor(e,t){super(t),this.down=e}run(e,t){const i=e.get(Xn),s=[],o=t.getSelections()||[],r=t.getOption(9);for(const a of o)s.push(new H7(a,this.down,r,i));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class kLt extends Lre{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:v("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"2_line",title:v({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class ELt extends Lre{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:v("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"2_line",title:v({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class xre extends nt{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!gg.canRun(t.getModel(),o,this.descending))return;const s=[];for(let o=0,r=i.length;o<r;o++)s[o]=new gg(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class ILt extends xre{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:v("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:z.writable})}}class TLt extends xre{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:v("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:z.writable})}}class NLt extends nt{constructor(){super({id:"editor.action.removeDuplicateLines",label:v("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:z.writable})}run(e,t){if(!t.hasModel())return;const i=t.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;const s=[],o=[];let r=0;for(const a of t.getSelections()){const l=new Set,c=[];for(let f=a.startLineNumber;f<=a.endLineNumber;f++){const p=i.getLineContent(f);l.has(p)||(c.push(p),l.add(p))}const u=new Ye(a.startLineNumber,1,a.endLineNumber,i.getLineMaxColumn(a.endLineNumber)),d=a.startLineNumber-r,h=new Ye(d,1,d+c.length-1,c[c.length-1].length);s.push(yn.replace(u,c.join(`
`))),o.push(h),r+=a.endLineNumber-a.startLineNumber+1-c.length}t.pushUndoStop(),t.executeEdits(this.id,s,o),t.pushUndoStop()}}class xD extends nt{constructor(){super({id:xD.ID,label:v("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:ks(2089,2102),weight:100}})}run(e,t,i){let s=[];i.reason==="auto-save"&&(s=(t.getSelections()||[]).map(a=>new oe(a.positionLineNumber,a.positionColumn)));const o=t.getSelection();if(o===null)return;const r=new bLt(o,s);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop()}}xD.ID="editor.action.trimTrailingWhitespace";class MLt extends nt{constructor(){super({id:"editor.action.deleteLines",label:v("lines.delete","Delete Line"),alias:"Delete Line",precondition:z.writable,kbOpts:{kbExpr:z.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const i=this._getLinesToRemove(t),s=t.getModel();if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return;let o=0;const r=[],a=[];for(let l=0,c=i.length;l<c;l++){const u=i[l];let d=u.startLineNumber,h=u.endLineNumber,f=1,p=s.getLineMaxColumn(h);h<s.getLineCount()?(h+=1,p=1):d>1&&(d-=1,f=s.getLineMaxColumn(d)),r.push(yn.replace(new Ye(d,f,h,p),"")),a.push(new Ye(d-o,u.positionColumn,d-o,u.positionColumn)),o+=u.endLineNumber-u.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,a),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map(o=>{let r=o.endLineNumber;return o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(r-=1),{startLineNumber:o.startLineNumber,selectionStartColumn:o.selectionStartColumn,endLineNumber:r,positionColumn:o.positionColumn}});t.sort((o,r)=>o.startLineNumber===r.startLineNumber?o.endLineNumber-r.endLineNumber:o.startLineNumber-r.startLineNumber);const i=[];let s=t[0];for(let o=1;o<t.length;o++)s.endLineNumber+1>=t[o].startLineNumber?s.endLineNumber=t[o].endLineNumber:(i.push(s),s=t[o]);return i.push(s),i}}class ALt extends nt{constructor(){super({id:"editor.action.indentLines",label:v("lines.indent","Indent Line"),alias:"Indent Line",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:2137,weight:100}})}run(e,t){const i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,wn.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class RLt extends nt{constructor(){super({id:"editor.action.outdentLines",label:v("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:2135,weight:100}})}run(e,t){E1.Outdent.runEditorCommand(e,t,null)}}class OLt extends nt{constructor(){super({id:"editor.action.insertLineBefore",label:v("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,wn.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class PLt extends nt{constructor(){super({id:"editor.action.insertLineAfter",label:v("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,wn.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class Dre extends nt{run(e,t){if(!t.hasModel())return;const i=t.getSelection(),s=this._getRangesToDelete(t),o=[];for(let l=0,c=s.length-1;l<c;l++){const u=s[l],d=s[l+1];A.intersectRanges(u,d)===null?o.push(u):s[l+1]=A.plusRange(u,d)}o.push(s[s.length-1]);const r=this._getEndCursorState(i,o),a=o.map(l=>yn.replace(l,""));t.pushUndoStop(),t.executeEdits(this.id,a,r),t.pushUndoStop()}}class FLt extends Dre{constructor(){super({id:"deleteAllLeft",label:v("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:z.writable,kbOpts:{kbExpr:z.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null;const s=[];let o=0;return t.forEach(r=>{let a;if(r.endColumn===1&&o>0){const l=r.startLineNumber-o;a=new Ye(l,r.startColumn,l,r.startColumn)}else a=new Ye(r.startLineNumber,r.startColumn,r.startLineNumber,r.startColumn);o+=r.endLineNumber-r.startLineNumber,r.intersectRanges(e)?i=a:s.push(a)}),i&&s.unshift(i),s}_getRangesToDelete(e){const t=e.getSelections();if(t===null)return[];let i=t;const s=e.getModel();return s===null?[]:(i.sort(A.compareRangesUsingStarts),i=i.map(o=>{if(o.isEmpty())if(o.startColumn===1){const r=Math.max(1,o.startLineNumber-1),a=o.startLineNumber===1?1:s.getLineContent(r).length+1;return new A(r,a,o.startLineNumber,1)}else return new A(o.startLineNumber,1,o.startLineNumber,o.startColumn);else return new A(o.startLineNumber,1,o.endLineNumber,o.endColumn)}),i)}}class BLt extends Dre{constructor(){super({id:"deleteAllRight",label:v("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:z.writable,kbOpts:{kbExpr:z.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null;const s=[];for(let o=0,r=t.length,a=0;o<r;o++){const l=t[o],c=new Ye(l.startLineNumber-a,l.startColumn,l.startLineNumber-a,l.startColumn);l.intersectRanges(e)?i=c:s.push(c)}return i&&s.unshift(i),s}_getRangesToDelete(e){const t=e.getModel();if(t===null)return[];const i=e.getSelections();if(i===null)return[];const s=i.map(o=>{if(o.isEmpty()){const r=t.getLineMaxColumn(o.startLineNumber);return o.startColumn===r?new A(o.startLineNumber,o.startColumn,o.startLineNumber+1,1):new A(o.startLineNumber,o.startColumn,o.startLineNumber,r)}return o});return s.sort(A.compareRangesUsingStarts),s}}class VLt extends nt{constructor(){super({id:"editor.action.joinLines",label:v("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:z.writable,kbOpts:{kbExpr:z.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const i=t.getSelections();if(i===null)return;let s=t.getSelection();if(s===null)return;i.sort(A.compareRangesUsingStarts);const o=[],r=i.reduce((h,f)=>h.isEmpty()?h.endLineNumber===f.startLineNumber?(s.equalsSelection(h)&&(s=f),f):f.startLineNumber>h.endLineNumber+1?(o.push(h),f):new Ye(h.startLineNumber,h.startColumn,f.endLineNumber,f.endColumn):f.startLineNumber>h.endLineNumber?(o.push(h),f):new Ye(h.startLineNumber,h.startColumn,f.endLineNumber,f.endColumn));o.push(r);const a=t.getModel();if(a===null)return;const l=[],c=[];let u=s,d=0;for(let h=0,f=o.length;h<f;h++){const p=o[h],m=p.startLineNumber,b=1;let w=0,y,L;const D=a.getLineContent(p.endLineNumber).length-p.endColumn;if(p.isEmpty()||p.startLineNumber===p.endLineNumber){const x=p.getStartPosition();x.lineNumber<a.getLineCount()?(y=m+1,L=a.getLineMaxColumn(y)):(y=x.lineNumber,L=a.getLineMaxColumn(x.lineNumber))}else y=p.endLineNumber,L=a.getLineMaxColumn(y);let E=a.getLineContent(m);for(let x=m+1;x<=y;x++){const k=a.getLineContent(x),N=a.getLineFirstNonWhitespaceColumn(x);if(N>=1){let V=!0;E===""&&(V=!1),V&&(E.charAt(E.length-1)===" "||E.charAt(E.length-1)==="	")&&(V=!1,E=E.replace(/[\s\uFEFF\xA0]+$/g," "));const H=k.substr(N-1);E+=(V?" ":"")+H,V?w=H.length+1:w=H.length}else w=0}const T=new A(m,b,y,L);if(!T.isEmpty()){let x;p.isEmpty()?(l.push(yn.replace(T,E)),x=new Ye(T.startLineNumber-d,E.length-w+1,m-d,E.length-w+1)):p.startLineNumber===p.endLineNumber?(l.push(yn.replace(T,E)),x=new Ye(p.startLineNumber-d,p.startColumn,p.endLineNumber-d,p.endColumn)):(l.push(yn.replace(T,E)),x=new Ye(p.startLineNumber-d,p.startColumn,p.startLineNumber-d,E.length-D)),A.intersectRanges(T,s)!==null?u=x:c.push(x)}d+=T.endLineNumber-T.startLineNumber}c.unshift(u),t.pushUndoStop(),t.executeEdits(this.id,l,c),t.pushUndoStop()}}class WLt extends nt{constructor(){super({id:"editor.action.transpose",label:v("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:z.writable})}run(e,t){const i=t.getSelections();if(i===null)return;const s=t.getModel();if(s===null)return;const o=[];for(let r=0,a=i.length;r<a;r++){const l=i[r];if(!l.isEmpty())continue;const c=l.getStartPosition(),u=s.getLineMaxColumn(c.lineNumber);if(c.column>=u){if(c.lineNumber===s.getLineCount())continue;const d=new A(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h=s.getValueInRange(d).split("").reverse().join("");o.push(new Zs(new Ye(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h))}else{const d=new A(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),h=s.getValueInRange(d).split("").reverse().join("");o.push(new HP(d,h,new Ye(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class d4 extends nt{run(e,t){const i=t.getSelections();if(i===null)return;const s=t.getModel();if(s===null)return;const o=t.getOption(119),r=[];for(const a of i)if(a.isEmpty()){const l=a.getStartPosition(),c=t.getConfiguredWordAtPosition(l);if(!c)continue;const u=new A(l.lineNumber,c.startColumn,l.lineNumber,c.endColumn),d=s.getValueInRange(u);r.push(yn.replace(u,this._modifyText(d,o)))}else{const l=s.getValueInRange(a);r.push(yn.replace(a,this._modifyText(l,o)))}t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop()}}class HLt extends d4{constructor(){super({id:"editor.action.transformToUppercase",label:v("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:z.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class $Lt extends d4{constructor(){super({id:"editor.action.transformToLowercase",label:v("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:z.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class p2{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class uy extends d4{constructor(){super({id:"editor.action.transformToTitlecase",label:v("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:z.writable})}_modifyText(e,t){const i=uy.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,s=>s.toLocaleUpperCase()):e}}uy.titleBoundary=new p2("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class pg extends d4{constructor(){super({id:"editor.action.transformToSnakecase",label:v("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:z.writable})}_modifyText(e,t){const i=pg.caseBoundary.get(),s=pg.singleLetters.get();return!i||!s?e:e.replace(i,"$1_$2").replace(s,"$1_$2$3").toLocaleLowerCase()}}pg.caseBoundary=new p2("(\\p{Ll})(\\p{Lu})","gmu");pg.singleLetters=new p2("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class xh extends d4{constructor(){super({id:"editor.action.transformToKebabcase",label:v("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:z.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(t=>t.isSupported())}_modifyText(e,t){const i=xh.caseBoundary.get(),s=xh.singleLetters.get(),o=xh.underscoreBoundary.get();return!i||!s||!o?e:e.replace(o,"$1-$3").replace(i,"$1-$2").replace(s,"$1-$2").toLocaleLowerCase()}}xh.caseBoundary=new p2("(\\p{Ll})(\\p{Lu})","gmu");xh.singleLetters=new p2("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu");xh.underscoreBoundary=new p2("(\\S)(_)(\\S)","gm");Pe(LLt);Pe(xLt);Pe(DLt);Pe(kLt);Pe(ELt);Pe(ILt);Pe(TLt);Pe(NLt);Pe(xD);Pe(MLt);Pe(ALt);Pe(RLt);Pe(OLt);Pe(PLt);Pe(FLt);Pe(BLt);Pe(VLt);Pe(WLt);Pe(HLt);Pe($Lt);pg.caseBoundary.isSupported()&&pg.singleLetters.isSupported()&&Pe(pg);uy.titleBoundary.isSupported()&&Pe(uy);xh.isSupported()&&Pe(xh);var zLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},B3=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},$7=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const kre=new et("LinkedEditingInputVisible",!1),Ere="linked-editing-decoration";let Hg=class z7 extends de{constructor(e,t,i,s,o){super(),this.languageConfigurationService=s,this._syncRangesToken=0,this._localToDispose=this._register(new Ie),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=kre.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Ie),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(r=>{(r.hasChanged(64)||r.hasChanged(84))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(e){return e.getContribution(z7.ID)}reinitialize(e){const t=this._editor.getModel(),i=t!==null&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||t===null))return;this._localToDispose.add(ct.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const s=new ed(this._debounceInformation.get(t)),o=()=>{var l;this._rangeUpdateTriggerPromise=s.trigger(()=>this.updateRanges(),(l=this._debounceDuration)!==null&&l!==void 0?l:this._debounceInformation.get(t))},r=new ed(0),a=l=>{this._rangeSyncTriggerPromise=r.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const c=this._currentDecorations.getRange(0);if(c&&l.changes.every(u=>c.intersectRanges(u.range))){a(this._syncRangesToken);return}}o()})),this._localToDispose.add({dispose:()=>{s.dispose(),r.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||this._currentDecorations.length===0)return;const t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const s=t.getValueInRange(i);if(this._currentWordPattern){const r=s.match(this._currentWordPattern);if((r?r[0].length:0)!==s.length)return this.clearRanges()}const o=[];for(let r=1,a=this._currentDecorations.length;r<a;r++){const l=this._currentDecorations.getRange(r);if(!!l)if(l.startLineNumber!==l.endLineNumber)o.push({range:l,text:s});else{let c=t.getValueInRange(l),u=s,d=l.startColumn,h=l.endColumn;const f=Rm(c,u);d+=f,c=c.substr(f),u=u.substr(f);const p=tw(c,u);h-=p,c=c.substr(0,c.length-p),u=u.substr(0,u.length-p),(d!==h||u.length!==0)&&o.push({range:new A(l.startLineNumber,d,l.endLineNumber,h),text:u})}}if(o.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const r=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(r)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return $7(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}const i=this._editor.getModel(),s=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===s){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const r=this._currentDecorations.getRange(0);if(r&&r.containsPosition(t))return}}this._currentRequestPosition=t,this._currentRequestModelVersion=s;const o=Ws(r=>$7(this,void 0,void 0,function*(){try{const a=new yr(!1),l=yield Ire(this._providers,i,t,r);if(this._debounceInformation.update(i,a.elapsed()),o!==this._currentRequest||(this._currentRequest=null,s!==i.getVersionId()))return;let c=[];l!=null&&l.ranges&&(c=l.ranges),this._currentWordPattern=(l==null?void 0:l.wordPattern)||this._languageWordPattern;let u=!1;for(let h=0,f=c.length;h<f;h++)if(A.containsPosition(c[h],t)){if(u=!0,h!==0){const p=c[h];c.splice(h,1),c.unshift(p)}break}if(!u){this.clearRanges();return}const d=c.map(h=>({range:h,options:z7.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(d),this._syncRangesToken++}catch(a){cd(a)||Ot(a),(this._currentRequest===o||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=o,o})}};Hg.ID="editor.contrib.linkedEditing";Hg.DECORATION=Rt.register({description:"linked-editing",stickiness:0,className:Ere});Hg=zLt([B3(1,At),B3(2,st),B3(3,Xn),B3(4,vl)],Hg);class ULt extends nt{constructor(){super({id:"editor.action.linkedEditing",label:v("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Xe.and(z.writable,z.hasRenameProvider),kbOpts:{kbExpr:z.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(Ei),[s,o]=Array.isArray(t)&&t||[void 0,void 0];return bt.isUri(s)&&oe.isIPosition(o)?i.openCodeEditor({resource:s},i.getActiveCodeEditor()).then(r=>{!r||(r.setPosition(o),r.invokeWithinContext(a=>(this.reportTelemetry(a,r),this.run(a,r))))},Ot):super.runCommand(e,t)}run(e,t){const i=Hg.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const jLt=Ys.bindToContribution(Hg.get);Ae(new jLt({id:"cancelLinkedEditingInput",precondition:kre,handler:n=>n.clearRanges(),kbOpts:{kbExpr:z.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function Ire(n,e,t,i){const s=n.ordered(e);return Tee(s.map(o=>()=>$7(this,void 0,void 0,function*(){try{return yield o.provideLinkedEditingRanges(e,t,i)}catch(r){$s(r);return}})),o=>!!o&&vo(o==null?void 0:o.ranges))}const KLt=U("editor.linkedEditingBackground",{dark:re.fromHex("#f00").transparent(.3),light:re.fromHex("#f00").transparent(.3),hcDark:re.fromHex("#f00").transparent(.3),hcLight:re.white},v("editorLinkedEditingBackground","Background color when the editor auto renames on type."));ln((n,e)=>{const t=n.getColor(KLt);t&&e.addRule(`.monaco-editor .${Ere} { background: ${t}; border-left-color: ${t}; }`)});dd("_executeLinkedEditingProvider",(n,e,t)=>{const{linkedEditingRangeProvider:i}=n.get(st);return Ire(i,e,t,Yt.None)});mi(Hg.ID,Hg);Pe(ULt);var Tre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class qLt{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return Tre(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class $L{constructor(e){this._disposables=new Ie;let t=[];for(const[i,s]of e){const o=i.links.map(r=>new qLt(r,s));t=$L._union(t,o),VO(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){const i=[];let s,o,r,a;for(s=0,r=0,o=e.length,a=t.length;s<o&&r<a;){const l=e[s],c=t[r];if(A.areIntersectingOrTouching(l.range,c.range)){s++;continue}A.compareRangesUsingStarts(l.range,c.range)<0?(i.push(l),s++):(i.push(c),r++)}for(;s<o;s++)i.push(e[s]);for(;r<a;r++)i.push(t[r]);return i}}function Nre(n,e,t){const i=[],s=n.ordered(e).reverse().map((o,r)=>Promise.resolve(o.provideLinks(e,t)).then(a=>{a&&(i[r]=[a,o])},$s));return Promise.all(s).then(()=>{const o=new $L(Iy(i));return t.isCancellationRequested?(o.dispose(),new $L([])):o})}pi.registerCommand("_executeLinkProvider",(n,...e)=>Tre(void 0,void 0,void 0,function*(){let[t,i]=e;Vi(t instanceof bt),typeof i!="number"&&(i=0);const{linkProvider:s}=n.get(st),o=n.get(Nn).getModel(t);if(!o)return[];const r=yield Nre(s,o,Yt.None);if(!r)return[];for(let l=0;l<Math.min(i,r.links.length);l++)yield r.links[l].resolve(Yt.None);const a=r.links.slice(0);return r.dispose(),a}));var GLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},V3=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},YLt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let Wv=class Mre extends de{constructor(e,t,i,s,o){super(),this.editor=e,this.openerService=t,this.notificationService=i,this.languageFeaturesService=s,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=o.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new Hi(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const r=this._register(new _B(e));this._register(r.onMouseMoveOrRelevantKeyDown(([a,l])=>{this._onEditorMouseMove(a,l)})),this._register(r.onExecute(a=>{this.onEditorMouseUp(a)})),this._register(r.onCancel(a=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(a=>{!a.hasChanged(65)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(a=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(a=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(a=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(a=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(e){return e.getContribution(Mre.ID)}computeLinksNow(){return YLt(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;const e=this.editor.getModel();if(!!this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Ws(t=>Nre(this.providers,e,t));try{const t=new yr(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){Ot(t)}finally{this.computePromise=null}}})}updateDecorations(e){const t=this.editor.getOption(72)==="altKey",i=[],s=Object.keys(this.currentOccurrences);for(const r of s){const a=this.currentOccurrences[r];i.push(a.decorationId)}const o=[];if(e)for(const r of e)o.push(V1.decoration(r,t));this.editor.changeDecorations(r=>{const a=r.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let l=0,c=a.length;l<c;l++){const u=new V1(e[l],a[l]);this.currentOccurrences[u.decorationId]=u}})}_onEditorMouseMove(e,t){const i=this.editor.getOption(72)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const s=this.getLinkOccurrence(e.target.position);s&&this.editor.changeDecorations(o=>{s.activate(o,i),this.activeLinkDecorationId=s.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(72)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);!t||this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:s}=e;s.resolve(Yt.None).then(o=>{if(typeof o=="string"&&this.editor.hasModel()){const r=this.editor.getModel().uri;if(r.scheme===Vt.file&&o.startsWith(`${Vt.file}:`)){const a=bt.parse(o);if(a.scheme===Vt.file){const l=_u(a);let c=null;l.startsWith("/./")?c=`.${l.substr(1)}`:l.startsWith("//./")&&(c=`.${l.substr(2)}`),c&&(o=wpt(r,c))}}}return this.openerService.open(o,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},o=>{const r=o instanceof Error?o.message:o;r==="invalid"?this.notificationService.warn(v("invalid.url","Failed to open this link because it is not well-formed: {0}",s.url.toString())):r==="missing"?this.notificationService.warn(v("missing.url","Failed to open this link because its target is missing.")):Ot(o)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const s=this.currentOccurrences[i.id];if(s)return s}return null}isEnabled(e,t){return Boolean(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};Wv.ID="editor.linkDetector";Wv=GLt([V3(1,_l),V3(2,os),V3(3,st),V3(4,vl)],Wv);const gY={general:Rt.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Rt.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class V1{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:V1._getOptions(e,t,!1)}}static _getOptions(e,t,i){const s=Object.assign({},i?gY.active:gY.general);return s.hoverMessage=ZLt(e,t),s}activate(e,t){e.changeDecorationOptions(this.decorationId,V1._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,V1._getOptions(this.link,t,!1))}}function ZLt(n,e){const t=n.url&&/^command:/i.test(n.url.toString()),i=n.tooltip?n.tooltip:t?v("links.navigate.executeCmd","Execute command"):v("links.navigate.follow","Follow link"),s=e?ai?v("links.navigate.kb.meta.mac","cmd + click"):v("links.navigate.kb.meta","ctrl + click"):ai?v("links.navigate.kb.alt.mac","option + click"):v("links.navigate.kb.alt","alt + click");if(n.url){let o="";if(/^command:/i.test(n.url.toString())){const a=n.url.toString().match(/^command:([^?#]+)/);if(a){const l=a[1];o=v("tooltip.explanation","Execute command {0}",l)}}return new ur("",!0).appendLink(n.url.toString(!0).replace(/ /g,"%20"),i,o).appendMarkdown(` (${s})`)}else return new ur().appendText(`${i} (${s})`)}class XLt extends nt{constructor(){super({id:"editor.action.openLink",label:v("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const i=Wv.get(t);if(!i||!t.hasModel())return;const s=t.getSelections();for(const o of s){const r=i.getLinkOccurrence(o.getEndPosition());r&&i.openLinkOccurrence(r,!1)}}}mi(Wv.ID,Wv);Pe(XLt);ln((n,e)=>{const t=n.getColor(PP);t&&e.addRule(`.monaco-editor .detected-link-active { color: ${t} !important; }`)});var QLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},JLt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function Jg(n,e){const t=e.filter(i=>!n.find(s=>s.equals(i)));if(t.length>=1){const i=t.map(o=>`line ${o.viewState.position.lineNumber} column ${o.viewState.position.column}`).join(", "),s=t.length===1?v("cursorAdded","Cursor added: {0}",i):v("cursorsAdded","Cursors added: {0}",i);y8(s)}}class ext extends nt{constructor(){super({id:"editor.action.insertCursorAbove",label:v("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:z.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"3_multi",title:v({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let s=!0;i&&i.logicalLine===!1&&(s=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const r=o.getCursorStates();o.setCursorStates(i.source,3,js.addCursorUp(o,r,s)),o.revealTopMostCursor(i.source),Jg(r,o.getCursorStates())}}class txt extends nt{constructor(){super({id:"editor.action.insertCursorBelow",label:v("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:z.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"3_multi",title:v({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let s=!0;i&&i.logicalLine===!1&&(s=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const r=o.getCursorStates();o.setCursorStates(i.source,3,js.addCursorDown(o,r,s)),o.revealBottomMostCursor(i.source),Jg(r,o.getCursorStates())}}class ixt extends nt{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:v("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:z.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"3_multi",title:v({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let s=e.startLineNumber;s<e.endLineNumber;s++){const o=t.getLineMaxColumn(s);i.push(new Ye(s,o,s,o))}e.endColumn>1&&i.push(new Ye(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),s=t.getSelections(),o=t._getViewModel(),r=o.getCursorStates(),a=[];s.forEach(l=>this.getCursorsForSelection(l,i,a)),a.length>0&&t.setSelections(a),Jg(r,o.getCursorStates())}}class nxt extends nt{constructor(){super({id:"editor.action.addCursorsToBottom",label:v("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),s=t.getModel().getLineCount(),o=[];for(let l=i[0].startLineNumber;l<=s;l++)o.push(new Ye(l,i[0].startColumn,l,i[0].endColumn));const r=t._getViewModel(),a=r.getCursorStates();o.length>0&&t.setSelections(o),Jg(a,r.getCursorStates())}}class sxt extends nt{constructor(){super({id:"editor.action.addCursorsToTop",label:v("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),s=[];for(let a=i[0].startLineNumber;a>=1;a--)s.push(new Ye(a,i[0].startColumn,a,i[0].endColumn));const o=t._getViewModel(),r=o.getCursorStates();s.length>0&&t.setSelections(s),Jg(r,o.getCursorStates())}}class W3{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class dy{constructor(e,t,i,s,o,r,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=s,this.wholeWord=o,this.matchCase=r,this.currentMatch=a}static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new dy(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let s=!1,o,r;const a=e.getSelections();a.length===1&&a[0].isEmpty()?(s=!0,o=!0,r=!0):(o=i.wholeWord,r=i.matchCase);const l=e.getSelection();let c,u=null;if(l.isEmpty()){const d=e.getConfiguredWordAtPosition(l.getStartPosition());if(!d)return null;c=d.word,u=new Ye(l.startLineNumber,d.startColumn,l.startLineNumber,d.endColumn)}else c=e.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new dy(e,t,s,c,o,r,u)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new W3(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new W3(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const s=this.currentMatch;return this.currentMatch=null,s}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return i?new Ye(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new W3(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new W3(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const s=this.currentMatch;return this.currentMatch=null,s}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return i?new Ye(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}class l_ extends de{constructor(e){super(),this._sessionDispose=this._register(new Ie),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(l_.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=dy.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(s=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(s=>{(s.matchCase||s.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new Ye(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){!e||(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(!!this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const s=e.getState().matchCase;if(!Are(this._editor.getModel(),t,s)){const r=this._editor.getModel(),a=[];for(let l=0,c=t.length;l<c;l++)a[l]=this._expandEmptyToWord(r,t[l]);this._editor.setSelections(a);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){const s=this._editor.getModel();i.searchScope?t=s.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(119):null,!1,1073741824):t=s.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){const s=this._editor.getSelection();for(let o=0,r=t.length;o<r;o++){const a=t[o];if(a.range.intersectRanges(s)){t[o]=t[0],t[0]=a;break}}this._setSelections(t.map(o=>new Ye(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)))}}}l_.ID="editor.contrib.multiCursorController";class m2 extends nt{run(e,t){const i=l_.get(t);if(!i)return;const s=Kr.get(t);if(!s)return;const o=t._getViewModel();if(o){const r=o.getCursorStates();this._run(i,s),Jg(r,o.getCursorStates())}}}class oxt extends m2{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:v("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:2082,weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"3_multi",title:v({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class rxt extends m2{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:v("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:Y.MenubarSelectionMenu,group:"3_multi",title:v({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class axt extends m2{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:v("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:ks(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class lxt extends m2{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:v("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class cxt extends m2{constructor(){super({id:"editor.action.selectHighlights",label:v("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:3114,weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"3_multi",title:v({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class uxt extends m2{constructor(){super({id:"editor.action.changeAll",label:v("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Xe.and(z.writable,z.editorTextFocus),kbOpts:{kbExpr:z.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class dxt{constructor(e,t,i,s,o){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=s,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(A.compareRangesUsingStarts)),this._cachedFindMatches}}let c_=class A6 extends de{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(99),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new Hi(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(s=>{this._isEnabled=e.getOption(99)})),this._register(e.onDidChangeCursorSelection(s=>{!this._isEnabled||(s.selection.isEmpty()?s.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(s=>{this._setState(null)})),this._register(e.onDidChangeModelContent(s=>{this._isEnabled&&this.updateSoon.schedule()}));const i=Kr.get(e);i&&this._register(i.getState().onFindReplaceStateChange(s=>{this._update()}))}_update(){this._setState(A6._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;const s=i.getSelection();if(s.startLineNumber!==s.endLineNumber)return null;const o=l_.get(i);if(!o)return null;const r=Kr.get(i);if(!r)return null;let a=o.getSession(r);if(!a){const u=i.getSelections();if(u.length>1){const h=r.getState().matchCase;if(!Are(i.getModel(),u,h))return null}a=dy.create(i,r)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;const l=r.getState(),c=l.matchCase;if(l.isRevealed){let u=l.searchString;c||(u=u.toLowerCase());let d=a.searchText;if(c||(d=d.toLowerCase()),u===d&&a.matchCase===l.matchCase&&a.wholeWord===l.wholeWord&&!l.isRegex)return null}return new dxt(i.getModel(),a.searchText,a.matchCase,a.wholeWord?i.getOption(119):null,e)}_setState(e){if(this.state=e,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=this.state.findMatches(),s=this.editor.getSelections();s.sort(A.compareRangesUsingStarts);const o=[];for(let l=0,c=0,u=i.length,d=s.length;l<u;){const h=i[l];if(c>=d)o.push(h),l++;else{const f=A.compareRangesUsingStarts(h,s[c]);f<0?((s[c].isEmpty()||!A.areIntersecting(h,s[c]))&&o.push(h),l++):(f>0||l++,c++)}}const r=this._languageFeaturesService.documentHighlightProvider.has(t)&&this.editor.getOption(74),a=o.map(l=>({range:l,options:r?A6._SELECTION_HIGHLIGHT:A6._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(a)}dispose(){this._setState(null),super.dispose()}};c_.ID="editor.contrib.selectionHighlighter";c_._SELECTION_HIGHLIGHT_OVERVIEW=Rt.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:Vn(_5),position:sl.Inline},overviewRuler:{color:Vn(Dte),position:ll.Center}});c_._SELECTION_HIGHLIGHT=Rt.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});c_=QLt([JLt(1,st)],c_);function Are(n,e,t){const i=pY(n,e[0],!t);for(let s=1,o=e.length;s<o;s++){const r=e[s];if(r.isEmpty())return!1;const a=pY(n,r,!t);if(i!==a)return!1}return!0}function pY(n,e,t){const i=n.getValueInRange(e);return t?i.toLowerCase():i}class hxt extends nt{constructor(){super({id:"editor.action.focusNextCursor",label:v("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:v("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const o=Array.from(s.getCursorStates()),r=o.shift();!r||(o.push(r),s.setCursorStates(i.source,3,o),s.revealPrimaryCursor(i.source,!0),Jg(o,s.getCursorStates()))}}class fxt extends nt{constructor(){super({id:"editor.action.focusPreviousCursor",label:v("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:v("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const o=Array.from(s.getCursorStates()),r=o.pop();!r||(o.unshift(r),s.setCursorStates(i.source,3,o),s.revealPrimaryCursor(i.source,!0),Jg(o,s.getCursorStates()))}}mi(l_.ID,l_);mi(c_.ID,c_);Pe(ext);Pe(txt);Pe(ixt);Pe(oxt);Pe(rxt);Pe(axt);Pe(lxt);Pe(cxt);Pe(uxt);Pe(nxt);Pe(sxt);Pe(hxt);Pe(fxt);var Rre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const u_={Visible:new et("parameterHintsVisible",!1),MultipleSignatures:new et("parameterHintsMultipleSignatures",!1)};function Ore(n,e,t,i,s){return Rre(this,void 0,void 0,function*(){const o=n.ordered(e);for(const r of o)try{const a=yield r.provideSignatureHelp(e,t,s,i);if(a)return a}catch(a){$s(a)}})}pi.registerCommand("_executeSignatureHelpProvider",(n,...e)=>Rre(void 0,void 0,void 0,function*(){const[t,i,s]=e;Vi(bt.isUri(t)),Vi(oe.isIPosition(i)),Vi(typeof s=="string"||!s);const o=n.get(st),r=yield n.get(Lr).createModelReference(t);try{const a=yield Ore(o.signatureHelpProvider,r.object.textEditorModel,oe.lift(i),{triggerKind:Uu.Invoke,isRetrigger:!1,triggerCharacter:s},Yt.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{r.dispose()}}));var gxt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},Rf;(function(n){n.Default={type:0};class e{constructor(s,o){this.request=s,this.previouslyActiveHints=o,this.type=2}}n.Pending=e;class t{constructor(s){this.hints=s,this.type=1}}n.Active=t})(Rf||(Rf={}));class DD extends de{constructor(e,t,i=DD.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new J),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Rf.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Bo),this.triggerChars=new G0,this.retriggerChars=new G0,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new ed(i),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(s=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(s=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(s=>this.onCursorChange(s))),this._register(this.editor.onDidChangeModelContent(s=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(s=>this.onDidType(s))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Rf.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!this.providers.has(i))return;const s=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(s),t).catch(Ot)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,s=this.editor.getOption(78).cycle;if((e<2||i)&&!s){this.cancel();return}this.updateActiveSignature(i&&s?0:t+1)}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t===0,s=this.editor.getOption(78).cycle;if((e<2||i)&&!s){this.cancel();return}this.updateActiveSignature(i&&s?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new Rf.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return gxt(this,void 0,void 0,function*(){const t=this.state.type===1||this.state.type===2,i=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const s=this._pendingTriggers.reduce(pxt);this._pendingTriggers=[];const o={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),a=this.editor.getPosition();this.state=new Rf.Pending(Ws(l=>Ore(this.providers,r,a,o,l)),i);try{const l=yield this.state.request;return e!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new Rf.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return e===this.triggerId&&(this.state=Rf.Default),Ot(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new G0,this.retriggerChars=new G0;const e=this.editor.getModel();if(!!e)for(const t of this.providers.ordered(e)){for(const i of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(i.charCodeAt(0)),this.retriggerChars.add(i.charCodeAt(0));for(const i of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(i.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:Uu.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Uu.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Uu.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}DD.DEFAULT_DELAY=120;function pxt(n,e){switch(e.triggerKind){case Uu.Invoke:return e;case Uu.ContentChange:return n;case Uu.TriggerCharacter:default:return e}}var mxt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},H3=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const ta=Ne,_xt=ms("parameter-hints-next",C.chevronDown,v("parameterHintsNextIcon","Icon for show next parameter hint.")),vxt=ms("parameter-hints-previous",C.chevronUp,v("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let zL=class Pre extends de{constructor(e,t,i,s,o){super(),this.editor=e,this.renderDisposeables=this._register(new Ie),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Vh({editor:e},s,i)),this.model=this._register(new DD(e,o.signatureHelpProvider)),this.keyVisible=u_.Visible.bindTo(t),this.keyMultipleSignatures=u_.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(r=>{r?(this.show(),this.render(r)):this.hide()}))}createParameterHintDOMNodes(){const e=ta(".editor-widget.parameter-hints-widget"),t=Le(e,ta(".phwrapper"));t.tabIndex=-1;const i=Le(t,ta(".controls")),s=Le(i,ta(".button"+Li.asCSSSelector(vxt))),o=Le(i,ta(".overloads")),r=Le(i,ta(".button"+Li.asCSSSelector(_xt)));this._register(xe(s,"click",h=>{Oi.stop(h),this.previous()})),this._register(xe(r,"click",h=>{Oi.stop(h),this.next()}));const a=ta(".body"),l=new $y(a,{alwaysConsumeMouseWheel:!0});this._register(l),t.appendChild(l.getDomNode());const c=Le(a,ta(".signature")),u=Le(a,ta(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:o,docs:u,scrollbar:l},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(h=>{this.visible&&this.editor.layoutContentWidget(this)}));const d=()=>{if(!this.domNodes)return;const h=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${h.fontSize}px`,this.domNodes.element.style.lineHeight=`${h.lineHeight/h.fontSize}`};d(),this._register(ct.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(h=>h.hasChanged(46)).on(d,null)),this._register(this.editor.onDidLayoutChange(h=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var e;(e=this.domNodes)===null||e===void 0||e.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(e=this.domNodes)===null||e===void 0||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const s=e.signatures[e.activeSignature];if(!s)return;const o=Le(this.domNodes.signature,ta(".code")),r=this.editor.getOption(46);o.style.fontSize=`${r.fontSize}px`,o.style.fontFamily=r.fontFamily;const a=s.parameters.length>0,l=(t=s.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(a)this.renderParameters(o,s,l);else{const d=Le(o,ta("span"));d.textContent=s.label}const c=s.parameters[l];if(c!=null&&c.documentation){const d=ta("span.documentation");if(typeof c.documentation=="string")d.textContent=c.documentation;else{const h=this.renderMarkdownDocs(c.documentation);d.appendChild(h.element)}Le(this.domNodes.docs,ta("p",{},d))}if(s.documentation!==void 0)if(typeof s.documentation=="string")Le(this.domNodes.docs,ta("p",{},s.documentation));else{const d=this.renderMarkdownDocs(s.documentation);Le(this.domNodes.docs,d.element)}const u=this.hasDocs(s,c);if(this.domNodes.signature.classList.toggle("has-docs",u),this.domNodes.docs.classList.toggle("empty",!u),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){let d="";const h=s.parameters[l];Array.isArray(h.label)?d=s.label.substring(h.label[0],h.label[1]):d=h.label,h.documentation&&(d+=typeof h.documentation=="string"?`, ${h.documentation}`:`, ${h.documentation.value}`),s.documentation&&(d+=typeof s.documentation=="string"?`, ${s.documentation}`:`, ${s.documentation.value}`),this.announcedLabel!==d&&(no(v("hint","{0}, hint",d)),this.announcedLabel=d)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var i;(i=this.domNodes)===null||i===void 0||i.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&kS(t.documentation).length>0||t&&typeof t.documentation=="object"&&kS(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&kS(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&kS(e.documentation.value).length>0)}renderParameters(e,t,i){const[s,o]=this.getParameterLabelOffsets(t,i),r=document.createElement("span");r.textContent=t.label.substring(0,s);const a=document.createElement("span");a.textContent=t.label.substring(s,o),a.className="parameter active";const l=document.createElement("span");l.textContent=t.label.substring(o),Le(e,r,a,l)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const s=new RegExp(`(\\W|^)${Ca(i.label)}(?=\\W|$)`,"g");s.test(e.label);const o=s.lastIndex-i.label.length;return o>=0?[o,s.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Pre.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};zL.ID="editor.widget.parameterHintsWidget";zL=mxt([H3(1,At),H3(2,_l),H3(3,In),H3(4,st)],zL);const bxt=U("editorHoverWidget.highlightForeground",{dark:Vl,light:Vl,hcDark:Vl,hcLight:Vl},v("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));ln((n,e)=>{const t=n.getColor(OP);if(t){const c=wo(n.type)?2:1;e.addRule(`.monaco-editor .parameter-hints-widget { border: ${c}px solid ${t}; }`),e.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${t.transparent(.5)}; }`)}const i=n.getColor($m);i&&e.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${i}; }`);const s=n.getColor(h5);s&&e.addRule(`.monaco-editor .parameter-hints-widget a { color: ${s}; }`);const o=n.getColor(f5);o&&e.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${o}; }`);const r=n.getColor(RP);r&&e.addRule(`.monaco-editor .parameter-hints-widget { color: ${r}; }`);const a=n.getColor(wte);a&&e.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`);const l=n.getColor(bxt);l&&e.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${l}}`)});var Cxt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},wxt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let d_=class Fre extends de{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(zL,this.editor))}static get(e){return e.getContribution(Fre.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};d_.ID="editor.controller.parameterHints";d_=Cxt([wxt(1,Bt)],d_);class yxt extends nt{constructor(){super({id:"editor.action.triggerParameterHints",label:v("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:z.hasSignatureHelpProvider,kbOpts:{kbExpr:z.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=d_.get(t);i&&i.trigger({triggerKind:Uu.Invoke})}}mi(d_.ID,d_);Pe(yxt);const HB=100+75,$B=Ys.bindToContribution(d_.get);Ae(new $B({id:"closeParameterHints",precondition:u_.Visible,handler:n=>n.cancel(),kbOpts:{weight:HB,kbExpr:z.focus,primary:9,secondary:[1033]}}));Ae(new $B({id:"showPrevParameterHint",precondition:Xe.and(u_.Visible,u_.MultipleSignatures),handler:n=>n.previous(),kbOpts:{weight:HB,kbExpr:z.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));Ae(new $B({id:"showNextParameterHint",precondition:Xe.and(u_.Visible,u_.MultipleSignatures),handler:n=>n.next(),kbOpts:{weight:HB,kbExpr:z.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var Sxt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},FT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const kD=new et("renameInputVisible",!1,v("renameInputVisible","Whether the rename input widget is visible"));let U7=class{constructor(e,t,i,s,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=s,this._disposables=new Ie,this.allowEditorOverflow=!0,this._visibleContextKey=kD.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(46)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",v("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var t,i;const[s,o]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(s),this._label.innerText=v({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(t=this._keybindingService.lookupKeybinding(s))===null||t===void 0?void 0:t.getLabel(),(i=this._keybindingService.lookupKeybinding(o))===null||i===void 0?void 0:i.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,i,s,o;if(!this._input||!this._domNode)return;const r=e.getColor(Ic);this._domNode.style.backgroundColor=String((t=e.getColor(ns))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.color=String((i=e.getColor(p5))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((s=e.getColor(g5))!==null&&s!==void 0?s:"");const a=e.getColor(m5);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=(o=a==null?void 0:a.toString())!==null&&o!==void 0?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(46);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){var t;(t=this._currentAcceptInput)===null||t===void 0||t.call(this,e)}cancelInput(e){var t;(t=this._currentCancelInput)===null||t===void 0||t.call(this,e)}getInput(e,t,i,s,o,r){this._domNode.classList.toggle("preview",o),this._position=new oe(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",s.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);const a=new Ie;return new Promise(l=>{this._currentCancelInput=c=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l(c),!0),this._currentAcceptInput=c=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l({newName:this._input.value,wantsPreview:o&&c})},a.add(r.onCancellationRequested(()=>this.cancelInput(!0))),a.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};U7=Sxt([FT(2,Qi),FT(3,Ms),FT(4,At)],U7);var Lxt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Lp=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Dm=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class zB{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return Dm(this,void 0,void 0,function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const s=this._providers[this._providerRenameIdx];if(!s.resolveRenameLocation)break;const o=yield s.resolveRenameLocation(this.model,this.position,e);if(!!o){if(o.rejectReason){t.push(o.rejectReason);continue}return o}}const i=this.model.getWordAtPosition(this.position);return i?{range:new A(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:A.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}})}provideRenameEdits(e,t){return Dm(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,i,s){return Dm(this,void 0,void 0,function*(){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join(`
`)};const r=yield o.provideRenameEdits(this.model,this.position,e,s);if(r){if(r.rejectReason)return this._provideRenameEdits(e,t+1,i.concat(r.rejectReason),s)}else return this._provideRenameEdits(e,t+1,i.concat(v("no result","No result.")),s);return r})}}function xxt(n,e,t,i){return Dm(this,void 0,void 0,function*(){const s=new zB(e,t,n),o=yield s.resolveRenameLocation(Yt.None);return o!=null&&o.rejectReason?{edits:[],rejectReason:o.rejectReason}:s.provideRenameEdits(i,Yt.None)})}let h_=class Bre{constructor(e,t,i,s,o,r,a,l){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=s,this._progressService=o,this._logService=r,this._configService=a,this._languageFeaturesService=l,this._disposableStore=new Ie,this._cts=new ro,this._renameInputField=this._disposableStore.add(new og(()=>this._disposableStore.add(this._instaService.createInstance(U7,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(e){return e.getContribution(Bre.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return Dm(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const i=this.editor.getPosition(),s=new zB(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!s.hasProvider())return;this._cts=new Xm(this.editor,5);let o;try{const h=s.resolveRenameLocation(this._cts.token);this._progressService.showWhile(h,250),o=yield h}catch(h){(e=jr.get(this.editor))===null||e===void 0||e.showMessage(h||v("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i);return}if(!o)return;if(o.rejectReason){(t=jr.get(this.editor))===null||t===void 0||t.showMessage(o.rejectReason,i);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new Xm(this.editor,5,o.range);const r=this.editor.getSelection();let a=0,l=o.text.length;!A.isEmpty(r)&&!A.spansMultipleLines(r)&&A.containsRange(o.range,r)&&(a=Math.max(0,r.startColumn-o.range.startColumn),l=Math.min(o.range.endColumn,r.endColumn)-o.range.startColumn);const c=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),u=yield this._renameInputField.value.getInput(o.range,o.text,a,l,c,this._cts.token);if(typeof u=="boolean"){u&&this.editor.focus();return}this.editor.focus();const d=aP(s.provideRenameEdits(u.newName,this._cts.token),this._cts.token).then(h=>Dm(this,void 0,void 0,function*(){if(!(!h||!this.editor.hasModel())){if(h.rejectReason){this._notificationService.info(h.rejectReason);return}this.editor.setSelection(A.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(l2.convert(h),{editor:this.editor,showPreview:u.wantsPreview,label:v("label","Renaming '{0}' to '{1}'",o==null?void 0:o.text,u.newName),code:"undoredo.rename",quotableLabel:v("quotableLabel","Renaming {0} to {1}",o==null?void 0:o.text,u.newName),respectAutoSaveConfig:!0}).then(f=>{f.ariaSummary&&no(v("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",o.text,u.newName,f.ariaSummary))}).catch(f=>{this._notificationService.error(v("rename.failedApply","Rename failed to apply edits")),this._logService.error(f)})}}),h=>{this._notificationService.error(v("rename.failed","Rename failed to compute edits")),this._logService.error(h)});return this._progressService.showWhile(d,250),d})}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};h_.ID="editor.contrib.renameController";h_=Lxt([Lp(1,Bt),Lp(2,os),Lp(3,Ky),Lp(4,Yg),Lp(5,Ql),Lp(6,fP),Lp(7,st)],h_);class Dxt extends nt{constructor(){super({id:"editor.action.rename",label:v("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Xe.and(z.writable,z.hasRenameProvider),kbOpts:{kbExpr:z.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(Ei),[s,o]=Array.isArray(t)&&t||[void 0,void 0];return bt.isUri(s)&&oe.isIPosition(o)?i.openCodeEditor({resource:s},i.getActiveCodeEditor()).then(r=>{!r||(r.setPosition(o),r.invokeWithinContext(a=>(this.reportTelemetry(a,r),this.run(a,r))))},Ot):super.runCommand(e,t)}run(e,t){const i=h_.get(t);return i?i.run():Promise.resolve()}}mi(h_.ID,h_);Pe(Dxt);const UB=Ys.bindToContribution(h_.get);Ae(new UB({id:"acceptRenameInput",precondition:kD,handler:n=>n.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:z.focus,primary:3}}));Ae(new UB({id:"acceptRenameInputWithPreview",precondition:Xe.and(kD,Xe.has("config.editor.rename.enablePreview")),handler:n=>n.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:z.focus,primary:1024+3}}));Ae(new UB({id:"cancelRenameInput",precondition:kD,handler:n=>n.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:z.focus,primary:9,secondary:[1033]}}));dd("_executeDocumentRenameProvider",function(n,e,t,...i){const[s]=i;Vi(typeof s=="string");const{renameProvider:o}=n.get(st);return xxt(o,e,t,s)});dd("_executePrepareRename",function(n,e,t){return Dm(this,void 0,void 0,function*(){const{renameProvider:i}=n.get(st),o=yield new zB(e,t,i).resolveRenameLocation(Yt.None);if(o!=null&&o.rejectReason)throw new Error(o.rejectReason);return o})});Tn.as(Uh.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:v("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var kxt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ext=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},mY=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},BT;let hy=class extends de{constructor(e,t){super(),this._sessionStore=new Ie,this._ranges=[],this._rangesVersionId=0,this._editor=e,this._languageFeaturesService=t,this.stickyScrollWidget=new Ixt(this._editor),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(34)&&this.onConfigurationChange()})),this._updateSoon=this._register(new Hi(()=>this._update(!0),50)),this.onConfigurationChange()}onConfigurationChange(){if(this._editor.getOption(34).stickyScroll.enabled===!1){this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),this._sessionStore.clear();return}else this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._update(!1))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidChangeModelTokens(t=>this._onTokensChange(t))),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this._update(!0))),this._update(!0)}_needsUpdate(e){const t=this.stickyScrollWidget.getCurrentLines();for(const i of t)for(const s of e.ranges)if(i>=s.fromLineNumber&&i<=s.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._update(!1)}_update(e=!1){var t,i;return mY(this,void 0,void 0,function*(){e&&((t=this._cts)===null||t===void 0||t.dispose(!0),this._cts=new ro,yield this._updateOutlineModel(this._cts.token));const s=(i=this._editor._getViewModel())===null||i===void 0?void 0:i.getHiddenAreas();if(s)for(const o of s)this._ranges=this._ranges.filter(r=>!(r[0]>=o.startLineNumber&&r[1]<=o.endLineNumber+1));this._renderStickyScroll()})}_findLineRanges(e,t){if(e!=null&&e.children.size){let i=!1;for(const s of e==null?void 0:e.children.values()){const o=s.symbol.kind;(o===4||o===8||o===11||o===10||o===5||o===1)&&(i=!0,this._findLineRanges(s,t+1))}i||this._addOutlineRanges(e,t)}else this._addOutlineRanges(e,t)}_addOutlineRanges(e,t){let i=0,s=0;for(;e;){const o=e.symbol.kind;if((o===4||o===8||o===11||o===10||o===5||o===1)&&(i=e==null?void 0:e.symbol.range.startLineNumber,s=e==null?void 0:e.symbol.range.endLineNumber,this._ranges.push([i,s,t]),t--),e.parent instanceof FL)e=e.parent;else break}}_updateOutlineModel(e){return mY(this,void 0,void 0,function*(){if(this._editor.hasModel()){const t=this._editor.getModel(),i=t.getVersionId(),s=yield Qd.create(this._languageFeaturesService.documentSymbolProvider,t,e);if(e.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=i;for(const o of s.children.values()){if(o instanceof FL){const a=o.symbol.kind;a===4||a===8||a===11||a===10||a===5||a===1?this._findLineRanges(o,1):this._findLineRanges(o,0)}this._ranges=this._ranges.sort(function(a,l){return a[0]!==l[0]?a[0]-l[0]:a[1]!==l[1]?l[1]-a[1]:a[2]-l[2]});let r=[];for(const[a,l]of this._ranges.entries()){const[c,u,d]=l;r[0]===c&&r[1]===u?this._ranges.splice(a,1):r=l}}}})}_renderStickyScroll(){if(!this._editor.hasModel())return;const e=this._editor.getOption(61),t=this._editor.getModel();if(this._rangesVersionId!==t.getVersionId())return;const i=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();const s=new Set;for(const[o,r]of this._ranges.entries()){const[a,l,c]=r;if(l-a>0&&t.getLineContent(a)!==""){const u=(c-1)*e,d=c*e,h=this._editor.getBottomForLineNumber(a)-i,f=this._editor.getTopForLineNumber(l)-i,p=this._editor.getBottomForLineNumber(l)-i;if(s.has(a))this._ranges.splice(o,1);else if(u>=f-1&&u<p-2){s.add(a),this.stickyScrollWidget.pushCodeLine(new vY(a,c,this._editor,-1,p-d));break}else d>h&&d<p-1&&(s.add(a),this.stickyScrollWidget.pushCodeLine(new vY(a,c,this._editor,0,0)))}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};hy.ID="store.contrib.stickyScrollController";hy=kxt([Ext(1,st)],hy);const _Y=(BT=window.trustedTypes)===null||BT===void 0?void 0:BT.createPolicy("stickyScrollViewLayer",{createHTML:n=>n});class vY{constructor(e,t,i,s,o){this._lineNumber=e,this._depth=t,this._editor=i,this._zIndex=s,this._relativePosition=o,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){const e=document.createElement("div"),t=this._editor._getViewModel(),i=t.coordinatesConverter.convertModelPositionToViewPosition(new oe(this._lineNumber,1)).lineNumber,s=t.getViewLineRenderingData(i);let o;try{o=Wr.filter(s.inlineDecorations,i,s.minColumn,s.maxColumn)}catch{o=[]}const r=new qg(!0,!0,s.content,s.continuesWithWrappedLine,s.isBasicASCII,s.containsRTL,0,s.tokens,o,s.tabSize,s.startVisibleColumn,1,1,1,100,"none",!0,!0,null),a=Sg(400);Ry(r,a);let l;_Y?l=_Y.createHTML(a.build()):l=a.build();const c=document.createElement("span");c.style.backgroundColor="var(--vscode-editorStickyScroll-background)",c.style.overflow="hidden",c.style.whiteSpace="nowrap",c.style.display="inline-block",c.style.lineHeight=this._editor.getOption(61).toString()+"px",c.innerHTML=l;const u=document.createElement("span");u.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",u.style.backgroundColor="var(--vscode-editorStickyScroll-background)",u.style.color="var(--vscode-editorLineNumber-foreground)",u.style.display="inline-block",u.style.lineHeight=this._editor.getOption(61).toString()+"px";const d=document.createElement("span");return d.innerText=this._lineNumber.toString(),d.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",d.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",d.style.backgroundColor="var(--vscode-editorStickyScroll-background)",d.style.textAlign="right",d.style.float="left",d.style.lineHeight=this._editor.getOption(61).toString()+"px",u.appendChild(d),e.onclick=h=>{h.stopPropagation(),h.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},e.onmouseover=h=>{d.style.background="var(--vscode-editorStickyScrollHover-background)",c.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",u.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",e.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",d.style.cursor="pointer",c.style.cursor="pointer",e.style.cursor="pointer",u.style.cursor="pointer"},e.onmouseleave=h=>{d.style.background="var(--vscode-editorStickyScroll-background)",c.style.backgroundColor="var(--vscode-editorStickyScroll-background)",u.style.backgroundColor="var(--vscode-editorStickyScroll-background)",e.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(c),this._editor.applyFontInfo(d),e.appendChild(u),e.appendChild(c),e.style.zIndex=this._zIndex.toString(),e.style.backgroundColor="var(--vscode-editorStickyScroll-background)",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.width="100%",e.style.lineHeight=this._editor.getOption(61).toString()+"px",e.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(e.style.position="relative",e.style.top=this._relativePosition+"px",e.style.width="100%"),e}}class Ixt{constructor(e){this._editor=e,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){const e=[];for(const t of this.arrayOfCodeLines)e.push(t.lineNumber);return e}pushCodeLine(e){this.arrayOfCodeLines.push(e)}updateRootNode(){let e=0;for(const t of this.arrayOfCodeLines)e+=t.effectiveLineHeight,this.rootDomNode.appendChild(t.getDomNode());this.rootDomNode.style.height=e.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,xs(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}}mi(hy.ID,hy);class Txt{provideSelectionRanges(e,t){const i=[];for(const s of t){const o=[];i.push(o),this._addInWordRanges(o,e,s),this._addWordRanges(o,e,s),this._addWhitespaceLine(o,e,s),o.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const s=t.getWordAtPosition(i);if(!s)return;const{word:o,startColumn:r}=s,a=i.column-r;let l=a,c=a,u=0;for(;l>=0;l--){const d=o.charCodeAt(l);if(l!==a&&(d===95||d===45))break;if(zf(d)&&Su(u))break;u=d}for(l+=1;c<o.length;c++){const d=o.charCodeAt(c);if(Su(d)&&zf(u))break;if(d===95||d===45)break;u=d}l<c&&e.push({range:new A(i.lineNumber,r+l,i.lineNumber,r+c)})}_addWordRanges(e,t,i){const s=t.getWordAtPosition(i);s&&e.push({range:new A(i.lineNumber,s.startColumn,i.lineNumber,s.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&e.push({range:new A(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}var Nxt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Mxt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},ED=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class jB{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new jB(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}let Hv=class Vre{constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}static get(e){return e.getContribution(Vre.ID)}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}run(e){return ED(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||(yield Hre(this._languageFeaturesService.selectionRangeProvider,i,t.map(o=>o.getPosition()),this._editor.getOption(104),Yt.None).then(o=>{var r;if(!(!vo(o)||o.length!==t.length)&&!(!this._editor.hasModel()||!va(this._editor.getSelections(),t,(a,l)=>a.equalsSelection(l)))){for(let a=0;a<o.length;a++)o[a]=o[a].filter(l=>l.containsPosition(t[a].getStartPosition())&&l.containsPosition(t[a].getEndPosition())),o[a].unshift(t[a]);this._state=o.map(a=>new jB(0,a)),(r=this._selectionListener)===null||r===void 0||r.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var a;this._ignoreSelection||((a=this._selectionListener)===null||a===void 0||a.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(o=>o.mov(e));const s=this._state.map(o=>Ye.fromPositions(o.ranges[o.index].getStartPosition(),o.ranges[o.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(s)}finally{this._ignoreSelection=!1}})}};Hv.ID="editor.contrib.smartSelectController";Hv=Nxt([Mxt(1,st)],Hv);class Wre extends nt{constructor(e,t){super(t),this._forward=e}run(e,t){return ED(this,void 0,void 0,function*(){const i=Hv.get(t);i&&(yield i.run(this._forward))})}}class Axt extends Wre{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:v("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:z.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"1_basic",title:v({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}pi.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class Rxt extends Wre{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:v("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:z.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:Y.MenubarSelectionMenu,group:"1_basic",title:v({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}mi(Hv.ID,Hv);Pe(Axt);Pe(Rxt);function Hre(n,e,t,i,s){return ED(this,void 0,void 0,function*(){const o=n.all(e).concat(new Txt);o.length===1&&o.unshift(new ra);const r=[],a=[];for(const l of o)r.push(Promise.resolve(l.provideSelectionRanges(e,t,s)).then(c=>{if(vo(c)&&c.length===t.length)for(let u=0;u<t.length;u++){a[u]||(a[u]=[]);for(const d of c[u])A.isIRange(d.range)&&A.containsPosition(d.range,t[u])&&a[u].push(A.lift(d.range))}},$s));return yield Promise.all(r),a.map(l=>{if(l.length===0)return[];l.sort((h,f)=>oe.isBefore(h.getStartPosition(),f.getStartPosition())?1:oe.isBefore(f.getStartPosition(),h.getStartPosition())||oe.isBefore(h.getEndPosition(),f.getEndPosition())?-1:oe.isBefore(f.getEndPosition(),h.getEndPosition())?1:0);const c=[];let u;for(const h of l)(!u||A.containsRange(h,u)&&!A.equalsRange(h,u))&&(c.push(h),u=h);if(!i.selectLeadingAndTrailingWhitespace)return c;const d=[c[0]];for(let h=1;h<c.length;h++){const f=c[h-1],p=c[h];if(p.startLineNumber!==f.startLineNumber||p.endLineNumber!==f.endLineNumber){const m=new A(f.startLineNumber,e.getLineFirstNonWhitespaceColumn(f.startLineNumber),f.endLineNumber,e.getLineLastNonWhitespaceColumn(f.endLineNumber));m.containsRange(f)&&!m.equalsRange(f)&&p.containsRange(m)&&!p.equalsRange(m)&&d.push(m);const b=new A(f.startLineNumber,1,f.endLineNumber,e.getLineMaxColumn(f.endLineNumber));b.containsRange(f)&&!b.equalsRange(m)&&p.containsRange(b)&&!p.equalsRange(b)&&d.push(b)}d.push(p)}return d})})}pi.registerCommand("_executeSelectionRangeProvider",function(n,...e){return ED(this,void 0,void 0,function*(){const[t,i]=e;Vi(bt.isUri(t));const s=n.get(st).selectionRangeProvider,o=yield n.get(Lr).createModelReference(t);try{return Hre(s,o.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0},Yt.None)}finally{o.dispose()}})});var KB=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},km=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Oxt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};class Pxt{constructor(e,t,i,s,o,r){this.range=e,this.insertText=t,this.filterText=i,this.additionalTextEdits=s,this.command=o,this.completion=r}}let j7=class extends Wot{constructor(e,t,i,s,o,r){super(o.disposable),this.model=e,this.line=t,this.word=i,this.completionModel=s,this._suggestMemoryService=r}canBeReused(e,t,i){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&this.completionModel.incomplete.size===0}get items(){var e;const t=[],{items:i}=this.completionModel,s=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},i),o=ei.slice(i,s),r=ei.slice(i,0,s);let a=5;for(const l of ei.concat(o,r)){if(l.score===Fc.Default)continue;const c=new A(l.editStart.lineNumber,l.editStart.column,l.editInsertEnd.lineNumber,l.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),u=l.completion.insertTextRules&&l.completion.insertTextRules&d8.InsertAsSnippet?{snippet:l.completion.insertText}:l.completion.insertText;t.push(new Pxt(c,u,(e=l.filterTextLow)!==null&&e!==void 0?e:l.labelLow,l.completion.additionalTextEdits,l.completion.command,l)),a-->=0&&l.resolve(Yt.None)}return t}};j7=KB([km(5,_D)],j7);let K7=class{constructor(e,t,i,s){this._getEditorOption=e,this._languageFeatureService=t,this._clipboardService=i,this._suggestMemoryService=s}provideInlineCompletions(e,t,i,s){var o;return Oxt(this,void 0,void 0,function*(){if(i.selectedSuggestionInfo)return;const r=this._getEditorOption(81,e);if(d1.isAllOff(r))return;e.tokenization.tokenizeIfCheap(t.lineNumber);const a=e.tokenization.getLineTokens(t.lineNumber),l=a.getStandardTokenType(a.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(d1.valueFor(r,l)!=="inline")return;let c=e.getWordAtPosition(t),u;if(c!=null&&c.word||(u=this._getTriggerCharacterInfo(e,t)),!(c!=null&&c.word)&&!u||(c||(c=e.getWordUntilPosition(t)),c.endColumn!==t.column))return;let d;const h=e.getValueInRange(new A(t.lineNumber,1,t.lineNumber,t.column));if(!u&&((o=this._lastResult)===null||o===void 0?void 0:o.canBeReused(e,t.lineNumber,c))){const f=new aY(h,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=f,this._lastResult.acquire(),d=this._lastResult}else{const f=yield xB(this._languageFeatureService.completionProvider,e,t,new ey(void 0,void 0,u==null?void 0:u.providers),u&&{triggerKind:1,triggerCharacter:u.ch},s);let p;f.needsClipboard&&(p=yield this._clipboardService.readText());const m=new Wf(f.items,t.column,new aY(h,0),Sc.None,this._getEditorOption(108,e),this._getEditorOption(103,e),{boostFullMatch:!1,firstMatchCanBeWeak:!1},p);d=new j7(e,t.lineNumber,c,m,f,this._suggestMemoryService)}return this._lastResult=d,d})}handleItemDidShow(e,t){t.completion.resolve(Yt.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){var i;const s=e.getValueInRange(A.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),o=new Set;for(const r of this._languageFeatureService.completionProvider.all(e))!((i=r.triggerCharacters)===null||i===void 0)&&i.includes(s)&&o.add(r);if(o.size!==0)return{providers:o,ch:s}}};K7=KB([km(1,st),km(2,qh),km(3,_D)],K7);let UL=class $0{constructor(e,t,i,s){if(++$0._counter===1){const o=s.createInstance(K7,(r,a)=>{var l;return((l=i.listCodeEditors().find(u=>u.getModel()===a))!==null&&l!==void 0?l:e).getOption(r)});$0._disposable=t.inlineCompletionsProvider.register("*",o)}}dispose(){var e;--$0._counter===0&&((e=$0._disposable)===null||e===void 0||e.dispose(),$0._disposable=void 0)}};UL._counter=0;UL=KB([km(1,st),km(2,Ei),km(3,Bt)],UL);mi("suggest.inlineCompletionsProvider",UL);class Fxt extends nt{constructor(){super({id:"editor.action.forceRetokenize",label:v("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.tokenization.resetTokenization();const s=new yr(!0);i.tokenization.forceTokenization(i.getLineCount()),s.stop(),console.log(`tokenization took ${s.elapsed()}`)}}Pe(Fxt);class $v extends nt{constructor(){super({id:$v.ID,label:v({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){const s=!E8.getTabFocusMode();E8.setTabFocusMode(s),no(s?v("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):v("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}$v.ID="editor.action.toggleTabFocusMode";Pe($v);var Bxt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Vxt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let q7=class extends de{constructor(e,t,i={},s){var o;super(),this._link=t,this._enabled=!0,this.el=Le(e,Ne("a.monaco-link",{tabIndex:(o=t.tabIndex)!==null&&o!==void 0?o:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const r=this._register(new Yi(this.el,"click")),a=this._register(new Yi(this.el,"keypress")),l=ct.chain(a.event).map(d=>new gn(d)).filter(d=>d.keyCode===3).event,c=this._register(new Yi(this.el,rn.Tap)).event;this._register(Fi.addTarget(this.el));const u=ct.any(r.event,l,c);this._register(u(d=>{!this.enabled||(Oi.stop(d,!0),i!=null&&i.opener?i.opener(this._link.href):s.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};q7=Bxt([Vxt(3,_l)],q7);ln((n,e)=>{const t=n.getColor(h5);t&&e.addRule(`.monaco-link { color: ${t}; }`);const i=n.getColor(f5);i&&e.addRule(`.monaco-link:hover { color: ${i}; }`)});var $re=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},zre=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const Wxt=26;let G7=class extends de{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(Y7))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{var t;this.hide(),(t=e.onClose)===null||t===void 0||t.call(e)}})),this._editor.setBanner(this.banner.element,Wxt)}};G7=$re([zre(1,Bt)],G7);let Y7=class extends de{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(Vh,{}),this.element=Ne("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){const t=Ne("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){xs(this.element)}show(e){xs(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const i=Le(this.element,Ne("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild(Ne(`div${Li.asCSSSelector(e.icon)}`));const s=Le(this.element,Ne("div.message-container"));if(s.setAttribute("aria-hidden","true"),s.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=Le(this.element,Ne("div.message-actions-container")),e.actions)for(const r of e.actions)this._register(this.instantiationService.createInstance(q7,this.messageActionsContainer,Object.assign(Object.assign({},r),{tabIndex:-1}),{}));const o=Le(this.element,Ne("div.action-container"));this.actionBar=this._register(new nd(o)),this.actionBar.push(this._register(new $r("banner.close","Close Banner",Li.asClassName(Hie),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};Y7=$re([zre(0,Bt)],Y7);var qB=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},W1=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},go=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const Hxt=ms("extensions-warning-message",C.warning,v("warningIcon","Icon shown with a warning message in the extensions editor."));let zv=class extends de{constructor(e,t,i,s){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=o=>{if(o&&o.hasMore){if(this._bannerClosed)return;const r=Math.max(o.ambiguousCharacterCount,o.nonBasicAsciiCharacterCount,o.invisibleCharacterCount);let a;if(o.nonBasicAsciiCharacterCount>=r)a={message:v("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new v2};else if(o.ambiguousCharacterCount>=r)a={message:v("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new ep};else if(o.invisibleCharacterCount>=r)a={message:v("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new _2};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:Hxt,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(s.createInstance(G7,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(115),this._register(i.onDidChangeTrust(o=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(o=>{o.hasChanged(115)&&(this._options=e.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=$xt(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(i=>i===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?Nst:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new Z7(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new zxt(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};zv.ID="editor.contrib.unicodeHighlighter";zv=qB([W1(1,ml),W1(2,nne),W1(3,Bt)],zv);function $xt(n,e){return{nonBasicASCII:e.nonBasicASCII===sa?!n:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===sa?!n:e.includeComments,includeStrings:e.includeStrings===sa?!n:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}let Z7=class extends de{constructor(e,t,i,s){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=s,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new Hi(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const i=[];if(!t.hasMore)for(const s of t.ranges)i.push({range:s,options:jL.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel();if(!oF(t,e))return null;const i=t.getValueInRange(e.range);return{reason:Ure(i,this._options),inComment:rF(t,e),inString:aF(t,e)}}};Z7=qB([W1(3,ml)],Z7);class zxt extends de{constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new Hi(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const s of e){const o=hP.computeUnicodeHighlights(this._model,this._options,s);for(const r of o.ranges)i.ranges.push(r);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||o.hasMore}if(!i.hasMore)for(const s of i.ranges)t.push({range:s,options:jL.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel(),i=t.getValueInRange(e.range);return oF(t,e)?{reason:Ure(i,this._options),inComment:rF(t,e),inString:aF(t,e)}:null}}let X7=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=4}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),s=this._editor.getContribution(zv.ID);if(!s)return[];const o=[];let r=300;for(const a of t){const l=s.getDecorationInfo(a);if(!l)continue;const u=i.getValueInRange(a.range).codePointAt(0),d=bY(u);let h;switch(l.reason.kind){case 0:h=v("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",d,bY(l.reason.confusableWith.codePointAt(0)));break;case 1:h=v("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",d);break;case 2:h=v("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",d);break}const f={codePoint:u,reason:l.reason,inComment:l.inComment,inString:l.inString},p=v("unicodeHighlight.adjustSettings","Adjust settings"),m=`command:${h4.ID}?${encodeURIComponent(JSON.stringify(f))}`,b=new ur("",!0).appendMarkdown(h).appendText(" ").appendLink(m,p);o.push(new Mu(this,a.range,[b],r++))}return o}renderHoverParts(e,t){return Toe(e,t,this._editor,this._languageService,this._openerService)}};X7=qB([W1(1,In),W1(2,_l)],X7);function Q7(n){return`U+${n.toString(16).padStart(4,"0")}`}function bY(n){let e=`\`${Q7(n)}\``;return Ku.isInvisibleCharacter(n)||(e+=` "${`${Uxt(n)}`}"`),e}function Uxt(n){return n===96?"`` ` ``":"`"+String.fromCodePoint(n)+"`"}function Ure(n,e){return hP.computeUnicodeHighlightReason(n,e)}class jL{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const i=`${e}${t}`;let s=this.map.get(i);return s||(s=Rt.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,s)),s}}jL.instance=new jL;class jxt extends nt{constructor(){super({id:ep.ID,label:v("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=v("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,i){return go(this,void 0,void 0,function*(){const s=e==null?void 0:e.get(Ci);s&&this.runAction(s)})}runAction(e){return go(this,void 0,void 0,function*(){yield e.updateValue(lr.includeComments,!1,2)})}}class Kxt extends nt{constructor(){super({id:ep.ID,label:v("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=v("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,i){return go(this,void 0,void 0,function*(){const s=e==null?void 0:e.get(Ci);s&&this.runAction(s)})}runAction(e){return go(this,void 0,void 0,function*(){yield e.updateValue(lr.includeStrings,!1,2)})}}class ep extends nt{constructor(){super({id:ep.ID,label:v("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=v("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,i){return go(this,void 0,void 0,function*(){const s=e==null?void 0:e.get(Ci);s&&this.runAction(s)})}runAction(e){return go(this,void 0,void 0,function*(){yield e.updateValue(lr.ambiguousCharacters,!1,2)})}}ep.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class _2 extends nt{constructor(){super({id:_2.ID,label:v("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=v("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,i){return go(this,void 0,void 0,function*(){const s=e==null?void 0:e.get(Ci);s&&this.runAction(s)})}runAction(e){return go(this,void 0,void 0,function*(){yield e.updateValue(lr.invisibleCharacters,!1,2)})}}_2.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class v2 extends nt{constructor(){super({id:v2.ID,label:v("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=v("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,i){return go(this,void 0,void 0,function*(){const s=e==null?void 0:e.get(Ci);s&&this.runAction(s)})}runAction(e){return go(this,void 0,void 0,function*(){yield e.updateValue(lr.nonBasicASCII,!1,2)})}}v2.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class h4 extends nt{constructor(){super({id:h4.ID,label:v("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,i){return go(this,void 0,void 0,function*(){const{codePoint:s,reason:o,inString:r,inComment:a}=i,l=String.fromCodePoint(s),c=e.get(Gh),u=e.get(Ci);function d(p){return Ku.isInvisibleCharacter(p)?v("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",Q7(p)):v("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${Q7(p)} "${l}"`)}const h=[];if(o.kind===0)for(const p of o.notAmbiguousInLocales)h.push({label:v("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',p),run:()=>go(this,void 0,void 0,function*(){Gxt(u,[p])})});if(h.push({label:d(s),run:()=>qxt(u,[s])}),a){const p=new jxt;h.push({label:p.label,run:()=>go(this,void 0,void 0,function*(){return p.runAction(u)})})}else if(r){const p=new Kxt;h.push({label:p.label,run:()=>go(this,void 0,void 0,function*(){return p.runAction(u)})})}if(o.kind===0){const p=new ep;h.push({label:p.label,run:()=>go(this,void 0,void 0,function*(){return p.runAction(u)})})}else if(o.kind===1){const p=new _2;h.push({label:p.label,run:()=>go(this,void 0,void 0,function*(){return p.runAction(u)})})}else if(o.kind===2){const p=new v2;h.push({label:p.label,run:()=>go(this,void 0,void 0,function*(){return p.runAction(u)})})}else Yxt(o);const f=yield c.pick(h,{title:v("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});f&&(yield f.run())})}}h4.ID="editor.action.unicodeHighlight.showExcludeOptions";function qxt(n,e){return go(this,void 0,void 0,function*(){const t=n.getValue(lr.allowedCharacters);let i;typeof t=="object"&&t?i=t:i={};for(const s of e)i[String.fromCodePoint(s)]=!0;yield n.updateValue(lr.allowedCharacters,i,2)})}function Gxt(n,e){var t;return go(this,void 0,void 0,function*(){const i=(t=n.inspect(lr.allowedLocales).user)===null||t===void 0?void 0:t.value;let s;typeof i=="object"&&i?s=Object.assign({},i):s={};for(const o of e)s[o]=!0;yield n.updateValue(lr.allowedLocales,s,2)})}function Yxt(n){throw new Error(`Unexpected value: ${n}`)}Pe(ep);Pe(_2);Pe(v2);Pe(h4);mi(zv.ID,zv);V_.register(X7);var Zxt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},CY=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Xxt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};const jre="ignoreUnusualLineTerminators";function Qxt(n,e,t){n.setModelProperty(e.uri,jre,t)}function Jxt(n,e){return n.getModelProperty(e.uri,jre)}let fy=class extends de{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(s=>{s.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Xxt(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||Jxt(this._codeEditorService,e)===!0||this._editor.getOption(83))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:v("unusualLineTerminators.title","Unusual Line Terminators"),message:v("unusualLineTerminators.message","Detected unusual line terminators"),detail:v("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",hl(e.uri)),primaryButton:v("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:v("unusualLineTerminators.ignore","Ignore")})).confirmed){Qxt(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())})}};fy.ID="editor.contrib.unusualLineTerminatorsDetector";fy=Zxt([CY(1,jy),CY(2,Ei)],fy);mi(fy.ID,fy);var e5t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},mb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let gy=class extends de{constructor(e,t,i,s,o,r){super(),this._modelService=t,this._themeService=i,this._configurationService=s,this._editor=e,this._provider=r.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new Hi(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration(TF)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()}))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!nA(e,this._themeService,this._configurationService)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}if(!u1t(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(i=>this._requestRange(e,i)))}_requestRange(e,t){const i=e.getVersionId(),s=Ws(r=>Promise.resolve(EF(this._provider,e,t,r))),o=new yr(!1);return s.then(r=>{if(this._debounceInformation.update(e,o.elapsed()),!r||!r.tokens||e.isDisposed()||e.getVersionId()!==i)return;const{provider:a,tokens:l}=r,c=this._modelService.getSemanticTokensProviderStyling(a);e.tokenization.setPartialSemanticTokens(t,lne(l,c,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(s),()=>this._removeOutstandingRequest(s)),s}};gy.ID="editor.contrib.viewportSemanticTokens";gy=e5t([mb(1,Nn),mb(2,Qi),mb(3,Ci),mb(4,vl),mb(5,st)],gy);mi(gy.ID,gy);var t5t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},wY=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const i5t=U("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},v("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),n5t=U("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},v("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),s5t=U("editor.wordHighlightBorder",{light:null,dark:null,hcDark:mn,hcLight:mn},v("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),o5t=U("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:mn,hcLight:mn},v("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),r5t=U("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},v("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),a5t=U("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},v("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ID=new et("hasWordHighlights",!1);function Kre(n,e,t,i){const s=n.ordered(e);return Tee(s.map(o=>()=>Promise.resolve(o.provideDocumentHighlights(e,t,i)).then(void 0,$s)),vo)}class qre{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=Ws(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new A(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const s=t.startLineNumber,o=t.startColumn,r=t.endColumn,a=this._getCurrentWordRange(e,t);let l=Boolean(this._wordRange&&this._wordRange.equalsRange(a));for(let c=0,u=i.length;!l&&c<u;c++){const d=i.getRange(c);d&&d.startLineNumber===s&&d.startColumn<=o&&d.endColumn>=r&&(l=!0)}return l}cancel(){this.result.cancel()}}class l5t extends qre{constructor(e,t,i,s){super(e,t,i),this._providers=s}_compute(e,t,i,s){return Kre(this._providers,e,t.getPosition(),s).then(o=>o||[])}}class c5t extends qre{constructor(e,t,i){super(e,t,i),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,s){return Lg(250,s).then(()=>{if(!t.isEmpty())return[];const o=e.getWordAtPosition(t.getPosition());return!o||o.word.length>1e3?[]:e.findMatches(o.word,!0,!1,!0,i,!1).map(a=>({range:a.range,kind:JC.Text}))})}isValid(e,t,i){const s=t.isEmpty();return this._selectionIsEmpty!==s?!1:super.isValid(e,t,i)}}function u5t(n,e,t,i){return n.has(e)?new l5t(e,t,i,n):new c5t(e,t,i)}dd("_executeDocumentHighlights",(n,e,t)=>{const i=n.get(st);return Kre(i.documentHighlightProvider,e,t,Yt.None)});class b2{constructor(e,t,i){this.toUnhook=new Ie,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this._hasWordHighlights=ID.bindTo(i),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(s=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(s)})),this.toUnhook.add(e.onDidChangeModelContent(s=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(s=>{const o=this.editor.getOption(74);this.occurrencesHighlight!==o&&(this.occurrencesHighlight=o,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(A.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))+1)%e.length,s=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(s.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(s);const o=this._getWord();if(o){const r=this.editor.getModel().getLineContent(s.startLineNumber);no(`${r}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,s=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(s.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(s);const o=this._getWord();if(o){const r=this.editor.getModel().getLineContent(s.startLineNumber);no(`${r}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){const e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber){this._stopAll();return}const t=e.startColumn,i=e.endColumn,s=this._getWord();if(!s||s.startColumn>t||s.endColumn<i){this._stopAll();return}const o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),o)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const r=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=u5t(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(a=>{r===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=a||[],this._beginRenderDecorations())},Ot)}}_beginRenderDecorations(){const e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;const e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:b2._getDecorationOptions(t.kind)});this.decorations.set(e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===JC.Write?this._WRITE_OPTIONS:e===JC.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}b2._WRITE_OPTIONS=Rt.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Vn(a5t),position:ll.Center},minimap:{color:Vn(_5),position:sl.Inline}});b2._TEXT_OPTIONS=Rt.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Vn(Dte),position:ll.Center},minimap:{color:Vn(_5),position:sl.Inline}});b2._REGULAR_OPTIONS=Rt.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Vn(r5t),position:ll.Center},minimap:{color:Vn(_5),position:sl.Inline}});let f_=class Gre extends de{constructor(e,t,i){super(),this.wordHighlighter=null;const s=()=>{e.hasModel()&&(this.wordHighlighter=new b2(e,i.documentHighlightProvider,t))};this._register(e.onDidChangeModel(o=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),s()})),s()}static get(e){return e.getContribution(Gre.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};f_.ID="editor.contrib.wordHighlighter";f_=t5t([wY(1,At),wY(2,st)],f_);class Yre extends nt{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=f_.get(t);!i||(this._isNext?i.moveNext():i.moveBack())}}class d5t extends Yre{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:v("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:ID,kbOpts:{kbExpr:z.editorTextFocus,primary:65,weight:100}})}}class h5t extends Yre{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:v("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:ID,kbOpts:{kbExpr:z.editorTextFocus,primary:1089,weight:100}})}}class f5t extends nt{constructor(){super({id:"editor.action.wordHighlight.trigger",label:v("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:ID.toNegated(),kbOpts:{kbExpr:z.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const s=f_.get(t);!s||s.restoreViewState(!0)}}mi(f_.ID,f_);Pe(d5t);Pe(h5t);Pe(f5t);ln((n,e)=>{const t=n.getColor(AP);t&&(e.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${t}; }`),e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`));const i=n.getColor(i5t);i&&e.addRule(`.monaco-editor .wordHighlight { background-color: ${i}; }`);const s=n.getColor(n5t);s&&e.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${s}; }`);const o=n.getColor(Wut);o&&e.addRule(`.monaco-editor .selectionHighlight { border: 1px ${wo(n.type)?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const r=n.getColor(s5t);r&&e.addRule(`.monaco-editor .wordHighlight { border: 1px ${wo(n.type)?"dashed":"solid"} ${r}; box-sizing: border-box; }`);const a=n.getColor(o5t);a&&e.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${wo(n.type)?"dashed":"solid"} ${a}; box-sizing: border-box; }`)});class TD extends Ys{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const s=cl(t.getOption(119)),o=t.getModel(),a=t.getSelections().map(l=>{const c=new oe(l.positionLineNumber,l.positionColumn),u=this._move(s,o,c,this._wordNavigationType);return this._moveTo(l,u,this._inSelectionMode)});if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map(l=>Xt.fromModelSelection(l))),a.length===1){const l=new oe(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(l,0)}}_moveTo(e,t,i){return i?new Ye(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new Ye(t.lineNumber,t.column,t.lineNumber,t.column)}}class tp extends TD{_move(e,t,i,s){return _i.moveWordLeft(e,t,i,s)}}class ip extends TD{_move(e,t,i,s){return _i.moveWordRight(e,t,i,s)}}class g5t extends tp{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class p5t extends tp{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class m5t extends tp{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Xe.and(z.textInputFocus,(e=Xe.and(Py,V5))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class _5t extends tp{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class v5t extends tp{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class b5t extends tp{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Xe.and(z.textInputFocus,(e=Xe.and(Py,V5))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class C5t extends tp{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,s){return super._move(cl(Xc.wordSeparators.defaultValue),t,i,s)}}class w5t extends tp{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,s){return super._move(cl(Xc.wordSeparators.defaultValue),t,i,s)}}class y5t extends ip{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class S5t extends ip{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Xe.and(z.textInputFocus,(e=Xe.and(Py,V5))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class L5t extends ip{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class x5t extends ip{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class D5t extends ip{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Xe.and(z.textInputFocus,(e=Xe.and(Py,V5))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class k5t extends ip{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class E5t extends ip{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,s){return super._move(cl(Xc.wordSeparators.defaultValue),t,i,s)}}class I5t extends ip{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,s){return super._move(cl(Xc.wordSeparators.defaultValue),t,i,s)}}class ND extends Ys{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){const s=e.get(Xn);if(!t.hasModel())return;const o=cl(t.getOption(119)),r=t.getModel(),a=t.getSelections(),l=t.getOption(5),c=t.getOption(8),u=s.getLanguageConfiguration(r.getLanguageId()).getAutoClosingPairs(),d=t._getViewModel(),h=a.map(f=>{const p=this._delete({wordSeparators:o,model:r,selection:f,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:l,autoClosingQuotes:c,autoClosingPairs:u,autoClosedCharacters:d.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Zs(p,"")});t.pushUndoStop(),t.executeCommands(this.id,h),t.pushUndoStop()}}class GB extends ND{_delete(e,t){const i=_i.deleteWordLeft(e,t);return i||new A(1,1,1,1)}}class YB extends ND{_delete(e,t){const i=_i.deleteWordRight(e,t);if(i)return i;const s=e.model.getLineCount(),o=e.model.getLineMaxColumn(s);return new A(s,o,s,o)}}class T5t extends GB{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:z.writable})}}class N5t extends GB{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:z.writable})}}class M5t extends GB{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:z.writable,kbOpts:{kbExpr:z.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class A5t extends YB{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:z.writable})}}class R5t extends YB{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:z.writable})}}class O5t extends YB{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:z.writable,kbOpts:{kbExpr:z.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class P5t extends nt{constructor(){super({id:"deleteInsideWord",precondition:z.writable,label:v("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const s=cl(t.getOption(119)),o=t.getModel(),a=t.getSelections().map(l=>{const c=_i.deleteInsideWord(s,o,l);return new Zs(c,"")});t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}Ae(new g5t);Ae(new p5t);Ae(new m5t);Ae(new _5t);Ae(new v5t);Ae(new b5t);Ae(new y5t);Ae(new S5t);Ae(new L5t);Ae(new x5t);Ae(new D5t);Ae(new k5t);Ae(new C5t);Ae(new w5t);Ae(new E5t);Ae(new I5t);Ae(new T5t);Ae(new N5t);Ae(new M5t);Ae(new A5t);Ae(new R5t);Ae(new O5t);Pe(P5t);class F5t extends ND{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:z.writable,kbOpts:{kbExpr:z.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){const i=C5.deleteWordPartLeft(e);return i||new A(1,1,1,1)}}class B5t extends ND{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:z.writable,kbOpts:{kbExpr:z.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const i=C5.deleteWordPartRight(e);if(i)return i;const s=e.model.getLineCount(),o=e.model.getLineMaxColumn(s);return new A(s,o,s,o)}}class Zre extends TD{_move(e,t,i,s){return C5.moveWordPartLeft(e,t,i)}}class V5t extends Zre{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:z.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}pi.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class W5t extends Zre{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:z.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}pi.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class Xre extends TD{_move(e,t,i,s){return C5.moveWordPartRight(e,t,i)}}class H5t extends Xre{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:z.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class $5t extends Xre{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:z.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}Ae(new F5t);Ae(new B5t);Ae(new V5t);Ae(new W5t);Ae(new H5t);Ae(new $5t);class J7 extends de{constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const e=jr.get(this.editor);e&&this.editor.hasModel()&&(this.editor.isSimpleWidget?e.showMessage(v("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):e.showMessage(v("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}J7.ID="editor.contrib.readOnlyMessageController";mi(J7.ID,J7);var Qre=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},R6=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const Jre=new et("accessibilityHelpWidgetVisible",!1);let g_=class eae extends de{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(Uv,this._editor))}static get(e){return e.getContribution(eae.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};g_.ID="editor.contrib.accessibilityHelpController";g_=Qre([R6(1,Bt)],g_);function z5t(n,e){return!n||n.length===0?as.noSelection:n.length===1?e?Qa(as.singleSelectionRange,n[0].positionLineNumber,n[0].positionColumn,e):Qa(as.singleSelection,n[0].positionLineNumber,n[0].positionColumn):e?Qa(as.multiSelectionRange,n.length,e):n.length>0?Qa(as.multiSelection,n.length):""}let Uv=class O6 extends Jl{constructor(e,t,i,s){super(),this._contextKeyService=t,this._keybindingService=i,this._openerService=s,this._editor=e,this._isVisibleKey=Jre.bindTo(this._contextKeyService),this._domNode=fi(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=fi(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(Ns(this._contentDomNode.domNode,"keydown",o=>{if(!!this._isVisible&&(o.equals(2083)&&(no(as.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),xs(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),o.preventDefault(),o.stopPropagation()),o.equals(2086))){no(as.openingDocs);let r=this._editor.getRawOptions().accessibilityHelpUrl;typeof r=="undefined"&&(r="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(bt.parse(r)),o.preventDefault(),o.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return O6.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,i){const s=this._keybindingService.lookupKeybinding(e);return s?Qa(t,s.getAriaLabel()):Qa(i,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let i=0;if(t){const a=this._editor.getModel();a&&t.forEach(l=>{i+=a.getValueLengthInRange(l)})}let s=z5t(t,i);e.get(56)?e.get(83)?s+=as.readonlyDiffEditor:s+=as.editableDiffEditor:e.get(83)?s+=as.readonlyEditor:s+=as.editableEditor;const o=ai?as.changeConfigToOnMac:as.changeConfigToOnWinLinux;switch(e.get(2)){case 0:s+=`

 - `+o;break;case 2:s+=`

 - `+as.auto_on;break;case 1:s+=`

 - `+as.auto_off,s+=" "+o;break}e.get(132)?s+=`

 - `+this._descriptionForCommand($v.ID,as.tabFocusModeOnMsg,as.tabFocusModeOnMsgNoKb):s+=`

 - `+this._descriptionForCommand($v.ID,as.tabFocusModeOffMsg,as.tabFocusModeOffMsgNoKb);const r=ai?as.openDocMac:as.openDocWinLinux;s+=`

 - `+r,s+=`

`+as.outroMsg,this._contentDomNode.domNode.appendChild(pne(s)),this._contentDomNode.domNode.setAttribute("aria-label",s)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,xs(this._contentDomNode.domNode),this._editor.focus())}_layout(){const e=this._editor.getLayoutInfo(),t=Math.max(5,Math.min(O6.WIDTH,e.width-40)),i=Math.max(5,Math.min(O6.HEIGHT,e.height-40));this._domNode.setWidth(t),this._domNode.setHeight(i);const s=Math.round((e.height-i)/2);this._domNode.setTop(s);const o=Math.round((e.width-t)/2);this._domNode.setLeft(o)}};Uv.ID="editor.contrib.accessibilityHelpWidget";Uv.WIDTH=500;Uv.HEIGHT=300;Uv=Qre([R6(1,At),R6(2,Ms),R6(3,_l)],Uv);class U5t extends nt{constructor(){super({id:"editor.action.showAccessibilityHelp",label:as.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){const i=g_.get(t);i&&i.show()}}mi(g_.ID,g_);Pe(U5t);const j5t=Ys.bindToContribution(g_.get);Ae(new j5t({id:"closeAccessibilityHelp",precondition:Jre,handler:n=>n.hide(),kbOpts:{weight:100+100,kbExpr:z.focus,primary:9,secondary:[1033]}}));ln((n,e)=>{const t=n.getColor(ns);t&&e.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${t}; }`);const i=n.getColor(Tc);i&&e.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${i}; }`);const s=n.getColor(Ic);s&&e.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${s}; }`);const o=n.getColor(Kt);o&&e.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${o}; }`)});class eR extends de{constructor(e){super(),this.editor=e,this.widget=null,Xu&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(83);!this.widget&&e?this.widget=new MD(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}eR.ID="editor.contrib.iPadShowKeyboard";class MD extends de{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(xe(this._domNode,"touchstart",t=>{this.editor.focus()})),this._register(xe(this._domNode,"focus",t=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return MD.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}MD.ID="editor.contrib.ShowKeyboardWidget";mi(eR.ID,eR);var K5t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},yY=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let jv=class tae extends de{constructor(e,t,i){super(),this._editor=e,this._languageService=i,this._widget=null,this._register(this._editor.onDidChangeModel(s=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(s=>this.stop())),this._register(Dn.onDidChange(s=>this.stop())),this._register(this._editor.onKeyUp(s=>s.keyCode===9&&this.stop()))}static get(e){return e.getContribution(tae.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new AD(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};jv.ID="editor.contrib.inspectTokens";jv=K5t([yY(1,Da),yY(2,In)],jv);class q5t extends nt{constructor(){super({id:"editor.action.inspectTokens",label:zM.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const i=jv.get(t);i&&i.launch()}}function G5t(n){let e="";for(let t=0,i=n.length;t<i;t++){const s=n.charCodeAt(t);switch(s){case 9:e+="\u2192";break;case 32:e+="\xB7";break;default:e+=String.fromCharCode(s)}}return e}function Y5t(n,e){const t=Dn.get(e);if(t)return t;const i=n.encodeLanguageId(e);return{getInitialState:()=>uv,tokenize:(s,o,r)=>rP(e,r),tokenizeEncoded:(s,o,r)=>Gx(i,r)}}class AD extends de{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=Y5t(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(i=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return AD._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let i=0;for(let l=t.tokens1.length-1;l>=0;l--){const c=t.tokens1[l];if(e.column-1>=c.offset){i=l;break}}let s=0;for(let l=t.tokens2.length>>>1;l>=0;l--)if(e.column-1>=t.tokens2[l<<1]){s=l;break}const o=this._model.getLineContent(e.lineNumber);let r="";if(i<t.tokens1.length){const l=t.tokens1[i].offset,c=i+1<t.tokens1.length?t.tokens1[i+1].offset:o.length;r=o.substring(l,c)}xg(this._domNode,Ne("h2.tm-token",void 0,G5t(r),Ne("span.tm-token-length",void 0,`${r.length} ${r.length===1?"char":"chars"}`))),Le(this._domNode,Ne("hr.tokens-inspect-separator",{style:"clear:both"}));const a=(s<<1)+1<t.tokens2.length?this._decodeMetadata(t.tokens2[(s<<1)+1]):null;Le(this._domNode,Ne("table.tm-metadata-table",void 0,Ne("tbody",void 0,Ne("tr",void 0,Ne("td.tm-metadata-key",void 0,"language"),Ne("td.tm-metadata-value",void 0,`${a?a.languageId:"-?-"}`)),Ne("tr",void 0,Ne("td.tm-metadata-key",void 0,"token type"),Ne("td.tm-metadata-value",void 0,`${a?this._tokenTypeToString(a.tokenType):"-?-"}`)),Ne("tr",void 0,Ne("td.tm-metadata-key",void 0,"font style"),Ne("td.tm-metadata-value",void 0,`${a?this._fontStyleToString(a.fontStyle):"-?-"}`)),Ne("tr",void 0,Ne("td.tm-metadata-key",void 0,"foreground"),Ne("td.tm-metadata-value",void 0,`${a?re.Format.CSS.formatHex(a.foreground):"-?-"}`)),Ne("tr",void 0,Ne("td.tm-metadata-key",void 0,"background"),Ne("td.tm-metadata-value",void 0,`${a?re.Format.CSS.formatHex(a.background):"-?-"}`))))),Le(this._domNode,Ne("hr.tokens-inspect-separator")),i<t.tokens1.length&&Le(this._domNode,Ne("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=Dn.getColorMap(),i=io.getLanguageId(e),s=io.getTokenType(e),o=io.getFontStyle(e),r=io.getForeground(e),a=io.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(i),tokenType:s,fontStyle:o,foreground:t[r],background:t[a]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return e&1&&(t+="italic "),e&2&&(t+="bold "),e&4&&(t+="underline "),e&8&&(t+="strikethrough "),t.length===0&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),s=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:i.tokens,tokens2:s.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}AD._ID="editor.contrib.inspectTokensWidget";mi(jv.ID,jv);Pe(q5t);ln((n,e)=>{const t=n.getColor(OP);if(t){const o=wo(n.type)?2:1;e.addRule(`.monaco-editor .tokens-inspect-widget { border: ${o}px solid ${t}; }`),e.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${t}; }`)}const i=n.getColor($m);i&&e.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${i}; }`);const s=n.getColor(RP);s&&e.addRule(`.monaco-editor .tokens-inspect-widget { color: ${s}; }`)});var Z5t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},SY=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let KL=class P6{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=Tn.as(O_.Quickaccess)}provide(e){const t=new Ie;return t.add(e.onDidAccept(()=>{const[i]=e.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(i=>{const s=this.registry.getQuickAccessProvider(i.substr(P6.PREFIX.length));s&&s.prefix&&s.prefix!==P6.PREFIX&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders(),t}getQuickAccessProviders(){const e=[];for(const t of this.registry.getQuickAccessProviders().sort((i,s)=>i.prefix.localeCompare(s.prefix)))if(t.prefix!==P6.PREFIX)for(const i of t.helpEntries){const s=i.prefix||t.prefix,o=s||"\u2026";e.push({prefix:s,label:o,keybinding:i.commandId?this.keybindingService.lookupKeybinding(i.commandId):void 0,ariaLabel:v("helpPickAriaLabel","{0}, {1}",o,i.description),description:i.description})}return e}};KL.PREFIX="?";KL=Z5t([SY(0,Gh),SY(1,Ms)],KL);Tn.as(O_.Quickaccess).registerQuickAccessProvider({ctor:KL,prefix:"",helpEntries:[{description:UM.helpQuickAccessActionLabel}]});class iae{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const s=new Ie;e.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=s.add(new Bo);return o.value=this.doProvide(e,t),s.add(this.onDidActiveTextEditorControlChange(()=>{o.value=void 0,o.value=this.doProvide(e,t)})),s}doProvide(e,t){const i=new Ie,s=this.activeTextEditorControl;if(s&&this.canProvideWithTextEditor(s)){const o={editor:s},r=rse(s);if(r){let a=hr(s.saveViewState());i.add(r.onDidChangeCursorPosition(()=>{a=hr(s.saveViewState())})),o.restoreViewState=()=>{a&&s===this.activeTextEditorControl&&s.restoreViewState(a)},i.add(Mh(t.onCancellationRequested)(()=>{var l;return(l=o.restoreViewState)===null||l===void 0?void 0:l.call(o)}))}i.add(jt(()=>this.clearDecorations(s))),i.add(this.provideWithTextEditor(o,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return ose(e)?(t=e.getModel())===null||t===void 0?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(i=>{const s=[];this.rangeHighlightDecorationId&&(s.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),s.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const o=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Vn(Oht),position:ll.Full}}}],[r,a]=i.deltaDecorations(s,o);this.rangeHighlightDecorationId={rangeHighlightId:r,overviewRulerDecorationId:a}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(i=>{i.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class RD extends iae{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=v("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,de.None}provideWithTextEditor(e,t,i){const s=e.editor,o=new Ie;o.add(t.onDidAccept(l=>{const[c]=t.selectedItems;if(c){if(!this.isValidLineNumber(s,c.lineNumber))return;this.gotoLocation(e,{range:this.toRange(c.lineNumber,c.column),keyMods:t.keyMods,preserveFocus:l.inBackground}),l.inBackground||t.hide()}}));const r=()=>{const l=this.parsePosition(s,t.value.trim().substr(RD.PREFIX.length)),c=this.getPickLabel(s,l.lineNumber,l.column);if(t.items=[{lineNumber:l.lineNumber,column:l.column,label:c}],t.ariaLabel=c,!this.isValidLineNumber(s,l.lineNumber)){this.clearDecorations(s);return}const u=this.toRange(l.lineNumber,l.column);s.revealRangeInCenter(u,0),this.addDecorations(s,u)};r(),o.add(t.onDidChangeValue(()=>r()));const a=rse(s);return a&&a.getOptions().get(62).renderType===2&&(a.updateOptions({lineNumbers:"on"}),o.add(jt(()=>a.updateOptions({lineNumbers:"relative"})))),o}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map(o=>parseInt(o,10)).filter(o=>!isNaN(o)),s=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:s+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?v("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):v("gotoLineLabel","Go to line {0}.",t);const s=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?v("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,o):v("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(e,t){return!t||typeof t!="number"?!1:t>0&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||typeof i!="number")return!1;const s=this.getModel(e);if(!s)return!1;const o={lineNumber:t,column:i};return s.validatePosition(o).equals(o)}lineCount(e){var t,i;return(i=(t=this.getModel(e))===null||t===void 0?void 0:t.getLineCount())!==null&&i!==void 0?i:0}}RD.PREFIX=":";var X5t=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Q5t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let py=class extends RD{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=ct.None}get activeTextEditorControl(){return hr(this.editorService.getFocusedCodeEditor())}};py=X5t([Q5t(0,Ei)],py);class f4 extends nt{constructor(){super({id:f4.ID,label:oL.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(Gh).quickAccess.show(py.PREFIX)}}f4.ID="editor.action.gotoLine";Pe(f4);Tn.as(O_.Quickaccess).registerQuickAccessProvider({ctor:py,prefix:py.PREFIX,helpEntries:[{description:oL.gotoLineActionLabel,commandId:f4.ID}]});const nae=[void 0,[]];function VT(n,e,t=0,i=0){const s=e;return s.values&&s.values.length>1?J5t(n,s.values,t,i):sae(n,e,t,i)}function J5t(n,e,t,i){let s=0;const o=[];for(const r of e){const[a,l]=sae(n,r,t,i);if(typeof a!="number")return nae;s+=a,o.push(...l)}return[s,eDt(o)]}function sae(n,e,t,i){const s=Sv(e.original,e.originalLowercase,t,n,n.toLowerCase(),i,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return s?[s[0],T5(s)]:nae}Object.freeze({score:0});function eDt(n){const e=n.sort((s,o)=>s.start-o.start),t=[];let i;for(const s of e)!i||!tDt(i,s)?(i=s,t.push(s)):(i.start=Math.min(i.start,s.start),i.end=Math.max(i.end,s.end));return t}function tDt(n,e){return!(n.end<e.start||e.end<n.start)}function LY(n){return n.startsWith('"')&&n.endsWith('"')}const oae=" ";function tR(n){typeof n!="string"&&(n="");const e=n.toLowerCase(),{pathNormalized:t,normalized:i,normalizedLowercase:s}=xY(n),o=t.indexOf(zu)>=0,r=LY(n);let a;const l=n.split(oae);if(l.length>1)for(const c of l){const u=LY(c),{pathNormalized:d,normalized:h,normalizedLowercase:f}=xY(c);h&&(a||(a=[]),a.push({original:c,originalLowercase:c.toLowerCase(),pathNormalized:d,normalized:h,normalizedLowercase:f,expectContiguousMatch:u}))}return{original:n,originalLowercase:e,pathNormalized:t,normalized:i,normalizedLowercase:s,values:a,containsPathSeparator:o,expectContiguousMatch:r}}function xY(n){let e;oo?e=n.replace(/\//g,zu):e=n.replace(/\\/g,zu);const t=Crt(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function DY(n){return Array.isArray(n)?tR(n.map(e=>e.original).join(oae)):tR(n.original)}var iDt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},kY=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},_b=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let Gl=class iR extends iae{constructor(e,t,i=Object.create(null)){super(i),this._languageFeaturesService=e,this._outlineModelService=t,this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,v("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),de.None}provideWithTextEditor(e,t,i){const s=e.editor,o=this.getModel(s);return o?this._languageFeaturesService.documentSymbolProvider.has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):de.None}doProvideWithoutEditorSymbols(e,t,i,s){const o=new Ie;return this.provideLabelPick(i,v("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),_b(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(t,o))||s.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(e,t,i,s))}),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return _b(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const i=new lP,s=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(s.dispose(),i.complete(!0))}));return t.add(jt(()=>i.complete(!1))),i.p})}doProvideWithEditorSymbols(e,t,i,s){var o;const r=e.editor,a=new Ie;a.add(i.onDidAccept(h=>{const[f]=i.selectedItems;f&&f.range&&(this.gotoLocation(e,{range:f.range.selection,keyMods:i.keyMods,preserveFocus:h.inBackground}),h.inBackground||i.hide())})),a.add(i.onDidTriggerItemButton(({item:h})=>{h&&h.range&&(this.gotoLocation(e,{range:h.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const l=this.getDocumentSymbols(t,s);let c;const u=h=>_b(this,void 0,void 0,function*(){c==null||c.dispose(!0),i.busy=!1,c=new ro(s),i.busy=!0;try{const f=tR(i.value.substr(iR.PREFIX.length).trim()),p=yield this.doGetSymbolPicks(l,f,void 0,c.token);if(s.isCancellationRequested)return;if(p.length>0){if(i.items=p,h&&f.original.length===0){const m=n8(p,b=>Boolean(b.type!=="separator"&&b.range&&A.containsPosition(b.range.decoration,h)));m&&(i.activeItems=[m])}}else f.original.length>0?this.provideLabelPick(i,v("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,v("noSymbolResults","No editor symbols"))}finally{s.isCancellationRequested||(i.busy=!1)}});a.add(i.onDidChangeValue(()=>u(void 0))),u((o=r.getSelection())===null||o===void 0?void 0:o.getPosition());let d=2;return a.add(i.onDidChangeActive(()=>{const[h]=i.activeItems;if(h&&h.range){if(d-- >0)return;r.revealRangeInCenter(h.range.selection,0),this.addDecorations(r,h.range.decoration)}})),a}doGetSymbolPicks(e,t,i,s){return _b(this,void 0,void 0,function*(){const o=yield e;if(s.isCancellationRequested)return[];const r=t.original.indexOf(iR.SCOPE_PREFIX)===0,a=r?1:0;let l,c;t.values&&t.values.length>1?(l=DY(t.values[0]),c=DY(t.values.slice(1))):l=t;const u=[];for(let f=0;f<o.length;f++){const p=o[f],m=vrt(p.name),b=`$(${J9.toIcon(p.kind).id}) ${m}`,w=b.length-m.length;let y=p.containerName;i!=null&&i.extraContainerLabel&&(y?y=`${i.extraContainerLabel} \u2022 ${y}`:y=i.extraContainerLabel);let L,D,E,T;if(t.original.length>a){let k=!1;if(l!==t&&([L,D]=VT(b,Object.assign(Object.assign({},t),{values:void 0}),a,w),typeof L=="number"&&(k=!0)),typeof L!="number"&&([L,D]=VT(b,l,a,w),typeof L!="number"))continue;if(!k&&c){if(y&&c.original.length>0&&([E,T]=VT(y,c)),typeof E!="number")continue;typeof L=="number"&&(L+=E)}}const x=p.tags&&p.tags.indexOf(1)>=0;u.push({index:f,kind:p.kind,score:L,label:b,ariaLabel:m,description:y,highlights:x?void 0:{label:D,description:T},range:{selection:A.collapseToStart(p.selectionRange),decoration:p.range},strikethrough:x,buttons:(()=>{var k,N;const V=!((k=this.options)===null||k===void 0)&&k.openSideBySideDirection?(N=this.options)===null||N===void 0?void 0:N.openSideBySideDirection():void 0;if(!!V)return[{iconClass:V==="right"?C.splitHorizontal.classNames:C.splitVertical.classNames,tooltip:V==="right"?v("openToSide","Open to the Side"):v("openToBottom","Open to the Bottom")}]})()})}const d=u.sort((f,p)=>r?this.compareByKindAndScore(f,p):this.compareByScore(f,p));let h=[];if(r){let b=function(){p&&typeof f=="number"&&m>0&&(p.label=Qa(HT[f]||WT,m))},f,p,m=0;for(const w of d)f!==w.kind?(b(),f=w.kind,m=1,p={type:"separator"},h.push(p)):m++,h.push(w);b()}else d.length>0&&(h=[{label:v("symbols","symbols ({0})",u.length),type:"separator"},...d]);return h})}compareByScore(e,t){if(typeof e.score!="number"&&typeof t.score=="number")return 1;if(typeof e.score=="number"&&typeof t.score!="number")return-1;if(typeof e.score=="number"&&typeof t.score=="number"){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=HT[e.kind]||WT,s=HT[t.kind]||WT,o=i.localeCompare(s);return o===0?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return _b(this,void 0,void 0,function*(){const i=yield this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()})}};Gl.PREFIX="@";Gl.SCOPE_PREFIX=":";Gl.PREFIX_BY_CATEGORY=`${Gl.PREFIX}${Gl.SCOPE_PREFIX}`;Gl=iDt([kY(0,st),kY(1,mD)],Gl);const WT=v("property","properties ({0})"),HT={[5]:v("method","methods ({0})"),[11]:v("function","functions ({0})"),[8]:v("_constructor","constructors ({0})"),[12]:v("variable","variables ({0})"),[4]:v("class","classes ({0})"),[22]:v("struct","structs ({0})"),[23]:v("event","events ({0})"),[24]:v("operator","operators ({0})"),[10]:v("interface","interfaces ({0})"),[2]:v("namespace","namespaces ({0})"),[3]:v("package","packages ({0})"),[25]:v("typeParameter","type parameters ({0})"),[1]:v("modules","modules ({0})"),[6]:v("property","properties ({0})"),[9]:v("enum","enumerations ({0})"),[21]:v("enumMember","enumeration members ({0})"),[14]:v("string","strings ({0})"),[0]:v("file","files ({0})"),[17]:v("array","arrays ({0})"),[15]:v("number","numbers ({0})"),[16]:v("boolean","booleans ({0})"),[18]:v("object","objects ({0})"),[19]:v("key","keys ({0})"),[7]:v("field","fields ({0})"),[13]:v("constant","constants ({0})")};var nDt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},$T=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let nR=class extends Gl{constructor(e,t,i){super(t,i),this.editorService=e,this.onDidActiveTextEditorControlChange=ct.None}get activeTextEditorControl(){return hr(this.editorService.getFocusedCodeEditor())}};nR=nDt([$T(0,Ei),$T(1,st),$T(2,mD)],nR);class g4 extends nt{constructor(){super({id:g4.ID,label:Rw.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:z.hasDocumentSymbolProvider,kbOpts:{kbExpr:z.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(Gh).quickAccess.show(Gl.PREFIX)}}g4.ID="editor.action.quickOutline";Pe(g4);Tn.as(O_.Quickaccess).registerQuickAccessProvider({ctor:nR,prefix:Gl.PREFIX,helpEntries:[{description:Rw.quickOutlineActionLabel,prefix:Gl.PREFIX,commandId:g4.ID},{description:Rw.quickOutlineByCategoryActionLabel,prefix:Gl.PREFIX_BY_CATEGORY}]});function zT(n,e){return e&&(n.stack||n.stacktrace)?v("stackTrace.format","{0}: {1}",IY(n),EY(n.stack)||EY(n.stacktrace)):IY(n)}function EY(n){return Array.isArray(n)?n.join(`
`):n}function IY(n){return typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?v("nodeExceptionMessage","A system error occurred ({0})",n.message):n.message||v("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function rae(n=null,e=!1){if(!n)return v("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(n)){const t=Iy(n),i=rae(t[0],e);return t.length>1?v("error.moreErrors","{0} ({1} errors in total)",i,t.length):i}if(br(n))return n;if(n.detail){const t=n.detail;if(t.error)return zT(t.error,e);if(t.exception)return zT(t.exception,e)}return n.stack?zT(n,e):n.message?n.message:v("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var $3=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},f1;(function(n){n[n.NO_ACTION=0]="NO_ACTION",n[n.CLOSE_PICKER=1]="CLOSE_PICKER",n[n.REFRESH_PICKER=2]="REFRESH_PICKER",n[n.REMOVE_ITEM=3]="REMOVE_ITEM"})(f1||(f1={}));function UT(n){const e=n;return Array.isArray(e.items)}function sDt(n){const e=n;return!!e.picks&&e.additionalPicks instanceof Promise}class OD extends de{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var i;const s=new Ie;e.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let o;const r=s.add(new Bo),a=()=>$3(this,void 0,void 0,function*(){const l=r.value=new Ie;o==null||o.dispose(!0),e.busy=!1,o=new ro(t);const c=o.token,u=e.value.substr(this.prefix.length).trim(),d=this._getPicks(u,l,c),h=(f,p)=>{var m;let b,w;if(UT(f)?(b=f.items,w=f.active):b=f,b.length===0){if(p)return!1;u.length>0&&((m=this.options)===null||m===void 0?void 0:m.noResultsPick)&&(b=[this.options.noResultsPick])}return e.items=b,w&&(e.activeItems=[w]),!0};if(d!==null)if(sDt(d)){let f=!1,p=!1;yield Promise.all([(()=>$3(this,void 0,void 0,function*(){yield Lg(OD.FAST_PICKS_RACE_DELAY),!c.isCancellationRequested&&(p||(f=h(d.picks,!0)))}))(),(()=>$3(this,void 0,void 0,function*(){e.busy=!0;try{const m=yield d.additionalPicks;if(c.isCancellationRequested)return;let b,w;UT(d.picks)?(b=d.picks.items,w=d.picks.active):b=d.picks;let y,L;if(UT(m)?(y=m.items,L=m.active):y=m,y.length>0||!f){let D;if(!w&&!L){const E=e.activeItems[0];E&&b.indexOf(E)!==-1&&(D=E)}h({items:[...b,...y],active:w||L||D})}}finally{c.isCancellationRequested||(e.busy=!1),p=!0}}))()])}else if(!(d instanceof Promise))h(d);else{e.busy=!0;try{const f=yield d;if(c.isCancellationRequested)return;h(f)}finally{c.isCancellationRequested||(e.busy=!1)}}});return s.add(e.onDidChangeValue(()=>a())),a(),s.add(e.onDidAccept(l=>{const[c]=e.selectedItems;typeof(c==null?void 0:c.accept)=="function"&&(l.inBackground||e.hide(),c.accept(e.keyMods,l))})),s.add(e.onDidTriggerItemButton(({button:l,item:c})=>$3(this,void 0,void 0,function*(){var u,d;if(typeof c.trigger=="function"){const h=(d=(u=c.buttons)===null||u===void 0?void 0:u.indexOf(l))!==null&&d!==void 0?d:-1;if(h>=0){const f=c.trigger(h,e.keyMods),p=typeof f=="number"?f:yield f;if(t.isCancellationRequested)return;switch(p){case f1.NO_ACTION:break;case f1.CLOSE_PICKER:e.hide();break;case f1.REFRESH_PICKER:a();break;case f1.REMOVE_ITEM:{const m=e.items.indexOf(c);if(m!==-1){const b=e.items.slice(),w=b.splice(m,1),y=e.activeItems.filter(D=>D!==w[0]),L=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=b,y&&(e.activeItems=y),e.keepScrollPosition=L}break}}}}}))),s}}OD.FAST_PICKS_RACE_DELAY=200;var aae=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},jp=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},TY=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let my=class F6 extends OD{constructor(e,t,i,s,o,r){super(F6.PREFIX,e),this.instantiationService=t,this.keybindingService=i,this.commandService=s,this.telemetryService=o,this.dialogService=r,this.commandsHistory=this._register(this.instantiationService.createInstance(p_)),this.options=e}_getPicks(e,t,i){return TY(this,void 0,void 0,function*(){const s=yield this.getCommandPicks(t,i);if(i.isCancellationRequested)return[];const o=[];for(const c of s){const u=hr(F6.WORD_FILTER(e,c.label)),d=c.commandAlias?hr(F6.WORD_FILTER(e,c.commandAlias)):void 0;u||d?(c.highlights={label:u,detail:this.options.showAlias?d:void 0},o.push(c)):e===c.commandId&&o.push(c)}const r=new Map;for(const c of o){const u=r.get(c.label);u?(c.description=c.commandId,u.description=u.commandId):r.set(c.label,c)}o.sort((c,u)=>{const d=this.commandsHistory.peek(c.commandId),h=this.commandsHistory.peek(u.commandId);return d&&h?d>h?-1:1:d?-1:h?1:c.label.localeCompare(u.label)});const a=[];let l=!1;for(let c=0;c<o.length;c++){const u=o[c],d=this.keybindingService.lookupKeybinding(u.commandId),h=d?v("commandPickAriaLabelWithKeybinding","{0}, {1}",u.label,d.getAriaLabel()):u.label;c===0&&this.commandsHistory.peek(u.commandId)&&(a.push({type:"separator",label:v("recentlyUsed","recently used")}),l=!0),c!==0&&l&&!this.commandsHistory.peek(u.commandId)&&(a.push({type:"separator",label:v("morecCommands","other commands")}),l=!1),a.push(Object.assign(Object.assign({},u),{ariaLabel:h,detail:this.options.showAlias&&u.commandAlias!==u.label?u.commandAlias:void 0,keybinding:d,accept:()=>TY(this,void 0,void 0,function*(){this.commandsHistory.push(u.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:u.commandId,from:"quick open"});try{yield this.commandService.executeCommand(u.commandId)}catch(f){cd(f)||this.dialogService.show(xn.Error,v("canNotRun","Command '{0}' resulted in an error ({1})",u.label,rae(f)))}})}))}return a})}};my.PREFIX=">";my.WORD_FILTER=fF(E5,a_t,Die);my=aae([jp(1,Bt),jp(2,Ms),jp(3,ss),jp(4,Qc),jp(5,jy)],my);let p_=class Rs extends de{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=Rs.getConfiguredCommandHistoryLength(this.configurationService),Rs.cache&&Rs.cache.limit!==this.configuredCommandsHistoryLength&&(Rs.cache.limit=this.configuredCommandsHistoryLength,Rs.saveState(this.storageService))}load(){const e=this.storageService.get(Rs.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch{}const i=Rs.cache=new Gg(this.configuredCommandsHistoryLength,1);if(t){let s;t.usesLRU?s=t.entries:s=t.entries.sort((o,r)=>o.value-r.value),s.forEach(o=>i.set(o.key,o.value))}Rs.counter=this.storageService.getNumber(Rs.PREF_KEY_COUNTER,0,Rs.counter)}push(e){!Rs.cache||(Rs.cache.set(e,Rs.counter++),Rs.saveState(this.storageService))}peek(e){var t;return(t=Rs.cache)===null||t===void 0?void 0:t.peek(e)}static saveState(e){if(!Rs.cache)return;const t={usesLRU:!0,entries:[]};Rs.cache.forEach((i,s)=>t.entries.push({key:s,value:i})),e.store(Rs.PREF_KEY_CACHE,JSON.stringify(t),0,0),e.store(Rs.PREF_KEY_COUNTER,Rs.counter,0,0)}static getConfiguredCommandHistoryLength(e){var t,i;const o=(i=(t=e.getValue().workbench)===null||t===void 0?void 0:t.commandPalette)===null||i===void 0?void 0:i.history;return typeof o=="number"?o:Rs.DEFAULT_COMMANDS_HISTORY_LENGTH}};p_.DEFAULT_COMMANDS_HISTORY_LENGTH=50;p_.PREF_KEY_CACHE="commandPalette.mru.cache";p_.PREF_KEY_COUNTER="commandPalette.mru.counter";p_.counter=1;p_=aae([jp(0,tc),jp(1,Ci)],p_);class oDt extends my{constructor(e,t,i,s,o,r){super(e,t,i,s,o,r)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:CF(i.label)||i.id});return t}}var rDt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},T0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},aDt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})};let _y=class extends oDt{constructor(e,t,i,s,o,r){super({showAlias:!1},e,i,s,o,r),this.codeEditorService=t}get activeTextEditorControl(){return hr(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return aDt(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};_y=rDt([T0(0,Bt),T0(1,Ei),T0(2,Ms),T0(3,ss),T0(4,Qc),T0(5,jy)],_y);class p4 extends nt{constructor(){super({id:p4.ID,label:rL.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:z.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(Gh).quickAccess.show(_y.PREFIX)}}p4.ID="editor.action.quickCommand";Pe(p4);Tn.as(O_.Quickaccess).registerQuickAccessProvider({ctor:_y,prefix:_y.PREFIX,helpEntries:[{description:rL.quickCommandHelp,commandId:p4.ID}]});var lDt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(o=(s<3?r(o):s>3?r(e,t,o):r(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},N0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let sR=class extends Pg{constructor(e,t,i,s,o,r,a){super(!0,e,t,i,s,o,r,a)}};sR=lDt([N0(1,At),N0(2,Ei),N0(3,os),N0(4,Bt),N0(5,tc),N0(6,Ci)],sR);mi(Pg.ID,sR);class cDt extends nt{constructor(){super({id:"editor.action.toggleHighContrast",label:jM.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(Da),s=i.getColorTheme();wo(s.type)?(i.setTheme(this._originalThemeName||(gw(s.type)?O1:sh)),this._originalThemeName=null):(i.setTheme(gw(s.type)?Cm:wm),this._originalThemeName=s.themeName)}}Pe(cDt);function uDt(){return new Worker("/assets/editor.worker.5ccc53af.js",{type:"module"})}function dDt(){return new Worker("/assets/json.worker.3b1a0c4a.js",{type:"module"})}function hDt(){return new Worker("/assets/css.worker.69a0a58b.js",{type:"module"})}function fDt(){return new Worker("/assets/html.worker.a8e58264.js",{type:"module"})}function gDt(){return new Worker("/assets/ts.worker.1a91e63f.js",{type:"module"})}const pDt=["data-some"],mDt={key:0},_Dt={class:"dialog-footer"},vDt=wr("\u786E\u8BA4"),bDt=wr("\u53D6\u6D88"),CDt=wr("\u5220\u9664"),wDt=Ht({name:"operationDialog",props:{currentMenu:null,e2eExtendsForm:null,isCreate:{type:Boolean},modelValue:{type:Boolean}},emits:["update:e2eExtendsForm","update:modelValue","delFromCmds","addToCmds"],setup(n,{emit:e}){const t=n,i=fe(()=>t.currentMenu),s=fe({get(){return t.e2eExtendsForm},set(c){e("update:e2eExtendsForm",c)}}),o=fe({get(){return t.modelValue},set(c){e("update:modelValue",c)}}),r=()=>{o.value=!1},a=async()=>{const{menuIdx:c,action:u,cmdIndex:d=0}=i.value,h=s.value[u].selectedValue,f=h?t.isCreate?d+1:d:0,p={command:h,byPlatform:!0,timestamp:Date.now(),action:u,menuIdx:c,data:s.value[u].inputOptions[h]};Object.assign(s.value,z9),e("addToCmds",p,f),o.value=!1},l=async()=>{Object.assign(s.value,z9),e("delFromCmds"),o.value=!1};return(c,u)=>(O(),St(B(FQ),{modelValue:B(o),"onUpdate:modelValue":u[1]||(u[1]=d=>Zn(o)?o.value=d:null),title:B(i).title},{footer:Oe(()=>[M("span",_Dt,[Ue(B(aa),{onClick:a,type:"primary",class:"bg-mg"},{default:Oe(()=>[vDt]),_:1}),Ue(B(aa),{onClick:r,class:"normal-btn"},{default:Oe(()=>[bDt]),_:1}),n.isCreate?Mt("",!0):(O(),St(B(aa),{key:0,type:"danger",onClick:l},{default:Oe(()=>[CDt]),_:1}))])]),default:Oe(()=>[Ue(B(GQ),{model:B(s)[B(i).action]},{default:Oe(()=>[M("div",null,[B(s)[B(i).action].selectOptions?(O(),St(B(B9),{key:0,label:"\u64CD\u4F5C\u7C7B\u578B\uFF1A","label-width":120},{default:Oe(()=>[Ue(B(tJ),{modelValue:B(s)[B(i).action].selectedValue,"onUpdate:modelValue":u[0]||(u[0]=d=>B(s)[B(i).action].selectedValue=d),placeholder:"\u9009\u62E9\u64CD\u4F5C\u7C7B\u578B"},{default:Oe(()=>[(O(!0),W(Ui,null,Ru(B(s)[B(i).action].selectOptions,(d,h)=>(O(),St(B(iJ),{key:h,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):Mt("",!0),(O(!0),W(Ui,null,Ru(B(s)[B(i).action].inputOptions,(d,h)=>(O(),W("div",{"data-some":h,key:h},[typeof B(s)[B(i).action].selectedValue=="undefined"||h===B(s)[B(i).action].selectedValue?(O(),W("div",mDt,[(O(!0),W(Ui,null,Ru(d,(f,p)=>(O(),St(B(B9),{key:p,"label-width":120,label:f.label},{default:Oe(()=>[Ue(B(nO),{"data-s":f,modelValue:f.value,"onUpdate:modelValue":m=>f.value=m,placeholder:f==null?void 0:f.placeholder,autocomplete:"off"},null,8,["data-s","modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label"]))),128))])):Mt("",!0)],8,pDt))),128))])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]))}});//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var lae;function Lt(){return lae.apply(null,arguments)}function yDt(n){lae=n}function Kc(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function Em(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function pn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ZB(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(pn(n,e))return!1;return!0}function oa(n){return n===void 0}function Wh(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function m4(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function cae(n,e){var t=[],i,s=n.length;for(i=0;i<s;++i)t.push(e(n[i],i));return t}function Qf(n,e){for(var t in e)pn(e,t)&&(n[t]=e[t]);return pn(e,"toString")&&(n.toString=e.toString),pn(e,"valueOf")&&(n.valueOf=e.valueOf),n}function gd(n,e,t,i){return Aae(n,e,t,i,!0).utc()}function SDt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ni(n){return n._pf==null&&(n._pf=SDt()),n._pf}var oR;Array.prototype.some?oR=Array.prototype.some:oR=function(n){var e=Object(this),t=e.length>>>0,i;for(i=0;i<t;i++)if(i in e&&n.call(this,e[i],i,e))return!0;return!1};function XB(n){if(n._isValid==null){var e=Ni(n),t=oR.call(e.parsedDateParts,function(s){return s!=null}),i=!isNaN(n._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(n._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=i;else return i}return n._isValid}function PD(n){var e=gd(NaN);return n!=null?Qf(Ni(e),n):Ni(e).userInvalidated=!0,e}var NY=Lt.momentProperties=[],jT=!1;function QB(n,e){var t,i,s,o=NY.length;if(oa(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),oa(e._i)||(n._i=e._i),oa(e._f)||(n._f=e._f),oa(e._l)||(n._l=e._l),oa(e._strict)||(n._strict=e._strict),oa(e._tzm)||(n._tzm=e._tzm),oa(e._isUTC)||(n._isUTC=e._isUTC),oa(e._offset)||(n._offset=e._offset),oa(e._pf)||(n._pf=Ni(e)),oa(e._locale)||(n._locale=e._locale),o>0)for(t=0;t<o;t++)i=NY[t],s=e[i],oa(s)||(n[i]=s);return n}function _4(n){QB(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),jT===!1&&(jT=!0,Lt.updateOffset(this),jT=!1)}function qc(n){return n instanceof _4||n!=null&&n._isAMomentObject!=null}function uae(n){Lt.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+n)}function ic(n,e){var t=!0;return Qf(function(){if(Lt.deprecationHandler!=null&&Lt.deprecationHandler(null,n),t){var i=[],s,o,r,a=arguments.length;for(o=0;o<a;o++){if(s="",typeof arguments[o]=="object"){s+=`
[`+o+"] ";for(r in arguments[0])pn(arguments[0],r)&&(s+=r+": "+arguments[0][r]+", ");s=s.slice(0,-2)}else s=arguments[o];i.push(s)}uae(n+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var MY={};function dae(n,e){Lt.deprecationHandler!=null&&Lt.deprecationHandler(n,e),MY[n]||(uae(e),MY[n]=!0)}Lt.suppressDeprecationWarnings=!1;Lt.deprecationHandler=null;function pd(n){return typeof Function!="undefined"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function LDt(n){var e,t;for(t in n)pn(n,t)&&(e=n[t],pd(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function rR(n,e){var t=Qf({},n),i;for(i in e)pn(e,i)&&(Em(n[i])&&Em(e[i])?(t[i]={},Qf(t[i],n[i]),Qf(t[i],e[i])):e[i]!=null?t[i]=e[i]:delete t[i]);for(i in n)pn(n,i)&&!pn(e,i)&&Em(n[i])&&(t[i]=Qf({},t[i]));return t}function JB(n){n!=null&&this.set(n)}var aR;Object.keys?aR=Object.keys:aR=function(n){var e,t=[];for(e in n)pn(n,e)&&t.push(e);return t};var xDt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function DDt(n,e,t){var i=this._calendar[n]||this._calendar.sameElse;return pd(i)?i.call(e,t):i}function ad(n,e,t){var i=""+Math.abs(n),s=e-i.length,o=n>=0;return(o?t?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}var eV=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z3=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,KT={},H1={};function qt(n,e,t,i){var s=i;typeof i=="string"&&(s=function(){return this[i]()}),n&&(H1[n]=s),e&&(H1[e[0]]=function(){return ad(s.apply(this,arguments),e[1],e[2])}),t&&(H1[t]=function(){return this.localeData().ordinal(s.apply(this,arguments),n)})}function kDt(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function EDt(n){var e=n.match(eV),t,i;for(t=0,i=e.length;t<i;t++)H1[e[t]]?e[t]=H1[e[t]]:e[t]=kDt(e[t]);return function(s){var o="",r;for(r=0;r<i;r++)o+=pd(e[r])?e[r].call(s,n):e[r];return o}}function B6(n,e){return n.isValid()?(e=hae(e,n.localeData()),KT[e]=KT[e]||EDt(e),KT[e](n)):n.localeData().invalidDate()}function hae(n,e){var t=5;function i(s){return e.longDateFormat(s)||s}for(z3.lastIndex=0;t>=0&&z3.test(n);)n=n.replace(z3,i),z3.lastIndex=0,t-=1;return n}var IDt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function TDt(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(eV).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[n])}var NDt="Invalid date";function MDt(){return this._invalidDate}var ADt="%d",RDt=/\d{1,2}/;function ODt(n){return this._ordinal.replace("%d",n)}var PDt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function FDt(n,e,t,i){var s=this._relativeTime[t];return pd(s)?s(n,e,t,i):s.replace(/%d/i,n)}function BDt(n,e){var t=this._relativeTime[n>0?"future":"past"];return pd(t)?t(e):t.replace(/%s/i,e)}var TC={};function xr(n,e){var t=n.toLowerCase();TC[t]=TC[t+"s"]=TC[e]=n}function nc(n){return typeof n=="string"?TC[n]||TC[n.toLowerCase()]:void 0}function tV(n){var e={},t,i;for(i in n)pn(n,i)&&(t=nc(i),t&&(e[t]=n[i]));return e}var fae={};function Dr(n,e){fae[n]=e}function VDt(n){var e=[],t;for(t in n)pn(n,t)&&e.push({unit:t,priority:fae[t]});return e.sort(function(i,s){return i.priority-s.priority}),e}function FD(n){return n%4===0&&n%100!==0||n%400===0}function Pl(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Wi(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=Pl(e)),t}function C2(n,e){return function(t){return t!=null?(gae(this,n,t),Lt.updateOffset(this,e),this):qL(this,n)}}function qL(n,e){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+e]():NaN}function gae(n,e,t){n.isValid()&&!isNaN(t)&&(e==="FullYear"&&FD(n.year())&&n.month()===1&&n.date()===29?(t=Wi(t),n._d["set"+(n._isUTC?"UTC":"")+e](t,n.month(),zD(t,n.month()))):n._d["set"+(n._isUTC?"UTC":"")+e](t))}function WDt(n){return n=nc(n),pd(this[n])?this[n]():this}function HDt(n,e){if(typeof n=="object"){n=tV(n);var t=VDt(n),i,s=t.length;for(i=0;i<s;i++)this[t[i].unit](n[t[i].unit])}else if(n=nc(n),pd(this[n]))return this[n](e);return this}var pae=/\d/,Cl=/\d\d/,mae=/\d{3}/,iV=/\d{4}/,BD=/[+-]?\d{6}/,_s=/\d\d?/,_ae=/\d\d\d\d?/,vae=/\d\d\d\d\d\d?/,VD=/\d{1,3}/,nV=/\d{1,4}/,WD=/[+-]?\d{1,6}/,w2=/\d+/,HD=/[+-]?\d+/,$Dt=/Z|[+-]\d\d:?\d\d/gi,$D=/Z|[+-]\d\d(?::?\d\d)?/gi,zDt=/[+-]?\d+(\.\d{1,3})?/,v4=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,GL;GL={};function Tt(n,e,t){GL[n]=pd(e)?e:function(i,s){return i&&t?t:e}}function UDt(n,e){return pn(GL,n)?GL[n](e._strict,e._locale):new RegExp(jDt(n))}function jDt(n){return za(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,s,o){return t||i||s||o}))}function za(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var lR={};function $n(n,e){var t,i=e,s;for(typeof n=="string"&&(n=[n]),Wh(e)&&(i=function(o,r){r[e]=Wi(o)}),s=n.length,t=0;t<s;t++)lR[n[t]]=i}function b4(n,e){$n(n,function(t,i,s,o){s._w=s._w||{},e(t,s._w,s,o)})}function KDt(n,e,t){e!=null&&pn(lR,n)&&lR[n](e,t._a,t,n)}var Cr=0,vh=1,Au=2,_o=3,Ac=4,bh=5,rm=6,qDt=7,GDt=8;function YDt(n,e){return(n%e+e)%e}var Ks;Array.prototype.indexOf?Ks=Array.prototype.indexOf:Ks=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function zD(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=YDt(e,12);return n+=(e-t)/12,t===1?FD(n)?29:28:31-t%7%2}qt("M",["MM",2],"Mo",function(){return this.month()+1});qt("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});qt("MMMM",0,0,function(n){return this.localeData().months(this,n)});xr("month","M");Dr("month",8);Tt("M",_s);Tt("MM",_s,Cl);Tt("MMM",function(n,e){return e.monthsShortRegex(n)});Tt("MMMM",function(n,e){return e.monthsRegex(n)});$n(["M","MM"],function(n,e){e[vh]=Wi(n)-1});$n(["MMM","MMMM"],function(n,e,t,i){var s=t._locale.monthsParse(n,i,t._strict);s!=null?e[vh]=s:Ni(t).invalidMonth=n});var ZDt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),bae="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Cae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,XDt=v4,QDt=v4;function JDt(n,e){return n?Kc(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||Cae).test(e)?"format":"standalone"][n.month()]:Kc(this._months)?this._months:this._months.standalone}function ekt(n,e){return n?Kc(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[Cae.test(e)?"format":"standalone"][n.month()]:Kc(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function tkt(n,e,t){var i,s,o,r=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=gd([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return t?e==="MMM"?(s=Ks.call(this._shortMonthsParse,r),s!==-1?s:null):(s=Ks.call(this._longMonthsParse,r),s!==-1?s:null):e==="MMM"?(s=Ks.call(this._shortMonthsParse,r),s!==-1?s:(s=Ks.call(this._longMonthsParse,r),s!==-1?s:null)):(s=Ks.call(this._longMonthsParse,r),s!==-1?s:(s=Ks.call(this._shortMonthsParse,r),s!==-1?s:null))}function ikt(n,e,t){var i,s,o;if(this._monthsParseExact)return tkt.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=gd([2e3,i]),t&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!t&&!this._monthsParse[i]&&(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[i].test(n))return i;if(t&&e==="MMM"&&this._shortMonthsParse[i].test(n))return i;if(!t&&this._monthsParse[i].test(n))return i}}function wae(n,e){var t;if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=Wi(e);else if(e=n.localeData().monthsParse(e),!Wh(e))return n}return t=Math.min(n.date(),zD(n.year(),e)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](e,t),n}function yae(n){return n!=null?(wae(this,n),Lt.updateOffset(this,!0),this):qL(this,"Month")}function nkt(){return zD(this.year(),this.month())}function skt(n){return this._monthsParseExact?(pn(this,"_monthsRegex")||Sae.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(pn(this,"_monthsShortRegex")||(this._monthsShortRegex=XDt),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function okt(n){return this._monthsParseExact?(pn(this,"_monthsRegex")||Sae.call(this),n?this._monthsStrictRegex:this._monthsRegex):(pn(this,"_monthsRegex")||(this._monthsRegex=QDt),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function Sae(){function n(r,a){return a.length-r.length}var e=[],t=[],i=[],s,o;for(s=0;s<12;s++)o=gd([2e3,s]),e.push(this.monthsShort(o,"")),t.push(this.months(o,"")),i.push(this.months(o,"")),i.push(this.monthsShort(o,""));for(e.sort(n),t.sort(n),i.sort(n),s=0;s<12;s++)e[s]=za(e[s]),t[s]=za(t[s]);for(s=0;s<24;s++)i[s]=za(i[s]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}qt("Y",0,0,function(){var n=this.year();return n<=9999?ad(n,4):"+"+n});qt(0,["YY",2],0,function(){return this.year()%100});qt(0,["YYYY",4],0,"year");qt(0,["YYYYY",5],0,"year");qt(0,["YYYYYY",6,!0],0,"year");xr("year","y");Dr("year",1);Tt("Y",HD);Tt("YY",_s,Cl);Tt("YYYY",nV,iV);Tt("YYYYY",WD,BD);Tt("YYYYYY",WD,BD);$n(["YYYYY","YYYYYY"],Cr);$n("YYYY",function(n,e){e[Cr]=n.length===2?Lt.parseTwoDigitYear(n):Wi(n)});$n("YY",function(n,e){e[Cr]=Lt.parseTwoDigitYear(n)});$n("Y",function(n,e){e[Cr]=parseInt(n,10)});function NC(n){return FD(n)?366:365}Lt.parseTwoDigitYear=function(n){return Wi(n)+(Wi(n)>68?1900:2e3)};var Lae=C2("FullYear",!0);function rkt(){return FD(this.year())}function akt(n,e,t,i,s,o,r){var a;return n<100&&n>=0?(a=new Date(n+400,e,t,i,s,o,r),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,e,t,i,s,o,r),a}function vy(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function YL(n,e,t){var i=7+e-t,s=(7+vy(n,0,i).getUTCDay()-e)%7;return-s+i-1}function xae(n,e,t,i,s){var o=(7+t-i)%7,r=YL(n,i,s),a=1+7*(e-1)+o+r,l,c;return a<=0?(l=n-1,c=NC(l)+a):a>NC(n)?(l=n+1,c=a-NC(n)):(l=n,c=a),{year:l,dayOfYear:c}}function by(n,e,t){var i=YL(n.year(),e,t),s=Math.floor((n.dayOfYear()-i-1)/7)+1,o,r;return s<1?(r=n.year()-1,o=s+Dh(r,e,t)):s>Dh(n.year(),e,t)?(o=s-Dh(n.year(),e,t),r=n.year()+1):(r=n.year(),o=s),{week:o,year:r}}function Dh(n,e,t){var i=YL(n,e,t),s=YL(n+1,e,t);return(NC(n)-i+s)/7}qt("w",["ww",2],"wo","week");qt("W",["WW",2],"Wo","isoWeek");xr("week","w");xr("isoWeek","W");Dr("week",5);Dr("isoWeek",5);Tt("w",_s);Tt("ww",_s,Cl);Tt("W",_s);Tt("WW",_s,Cl);b4(["w","ww","W","WW"],function(n,e,t,i){e[i.substr(0,1)]=Wi(n)});function lkt(n){return by(n,this._week.dow,this._week.doy).week}var ckt={dow:0,doy:6};function ukt(){return this._week.dow}function dkt(){return this._week.doy}function hkt(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function fkt(n){var e=by(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}qt("d",0,"do","day");qt("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});qt("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});qt("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});qt("e",0,0,"weekday");qt("E",0,0,"isoWeekday");xr("day","d");xr("weekday","e");xr("isoWeekday","E");Dr("day",11);Dr("weekday",11);Dr("isoWeekday",11);Tt("d",_s);Tt("e",_s);Tt("E",_s);Tt("dd",function(n,e){return e.weekdaysMinRegex(n)});Tt("ddd",function(n,e){return e.weekdaysShortRegex(n)});Tt("dddd",function(n,e){return e.weekdaysRegex(n)});b4(["dd","ddd","dddd"],function(n,e,t,i){var s=t._locale.weekdaysParse(n,i,t._strict);s!=null?e.d=s:Ni(t).invalidWeekday=n});b4(["d","e","E"],function(n,e,t,i){e[i]=Wi(n)});function gkt(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function pkt(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function sV(n,e){return n.slice(e,7).concat(n.slice(0,e))}var mkt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dae="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_kt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vkt=v4,bkt=v4,Ckt=v4;function wkt(n,e){var t=Kc(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?sV(t,this._week.dow):n?t[n.day()]:t}function ykt(n){return n===!0?sV(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function Skt(n){return n===!0?sV(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function Lkt(n,e,t){var i,s,o,r=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=gd([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return t?e==="dddd"?(s=Ks.call(this._weekdaysParse,r),s!==-1?s:null):e==="ddd"?(s=Ks.call(this._shortWeekdaysParse,r),s!==-1?s:null):(s=Ks.call(this._minWeekdaysParse,r),s!==-1?s:null):e==="dddd"?(s=Ks.call(this._weekdaysParse,r),s!==-1||(s=Ks.call(this._shortWeekdaysParse,r),s!==-1)?s:(s=Ks.call(this._minWeekdaysParse,r),s!==-1?s:null)):e==="ddd"?(s=Ks.call(this._shortWeekdaysParse,r),s!==-1||(s=Ks.call(this._weekdaysParse,r),s!==-1)?s:(s=Ks.call(this._minWeekdaysParse,r),s!==-1?s:null)):(s=Ks.call(this._minWeekdaysParse,r),s!==-1||(s=Ks.call(this._weekdaysParse,r),s!==-1)?s:(s=Ks.call(this._shortWeekdaysParse,r),s!==-1?s:null))}function xkt(n,e,t){var i,s,o;if(this._weekdaysParseExact)return Lkt.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=gd([2e3,1]).day(i),t&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[i].test(n))return i;if(t&&e==="ddd"&&this._shortWeekdaysParse[i].test(n))return i;if(t&&e==="dd"&&this._minWeekdaysParse[i].test(n))return i;if(!t&&this._weekdaysParse[i].test(n))return i}}function Dkt(n){if(!this.isValid())return n!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return n!=null?(n=gkt(n,this.localeData()),this.add(n-e,"d")):e}function kkt(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function Ekt(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=pkt(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Ikt(n){return this._weekdaysParseExact?(pn(this,"_weekdaysRegex")||oV.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(pn(this,"_weekdaysRegex")||(this._weekdaysRegex=vkt),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function Tkt(n){return this._weekdaysParseExact?(pn(this,"_weekdaysRegex")||oV.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(pn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bkt),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Nkt(n){return this._weekdaysParseExact?(pn(this,"_weekdaysRegex")||oV.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(pn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ckt),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function oV(){function n(u,d){return d.length-u.length}var e=[],t=[],i=[],s=[],o,r,a,l,c;for(o=0;o<7;o++)r=gd([2e3,1]).day(o),a=za(this.weekdaysMin(r,"")),l=za(this.weekdaysShort(r,"")),c=za(this.weekdays(r,"")),e.push(a),t.push(l),i.push(c),s.push(a),s.push(l),s.push(c);e.sort(n),t.sort(n),i.sort(n),s.sort(n),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function rV(){return this.hours()%12||12}function Mkt(){return this.hours()||24}qt("H",["HH",2],0,"hour");qt("h",["hh",2],0,rV);qt("k",["kk",2],0,Mkt);qt("hmm",0,0,function(){return""+rV.apply(this)+ad(this.minutes(),2)});qt("hmmss",0,0,function(){return""+rV.apply(this)+ad(this.minutes(),2)+ad(this.seconds(),2)});qt("Hmm",0,0,function(){return""+this.hours()+ad(this.minutes(),2)});qt("Hmmss",0,0,function(){return""+this.hours()+ad(this.minutes(),2)+ad(this.seconds(),2)});function kae(n,e){qt(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}kae("a",!0);kae("A",!1);xr("hour","h");Dr("hour",13);function Eae(n,e){return e._meridiemParse}Tt("a",Eae);Tt("A",Eae);Tt("H",_s);Tt("h",_s);Tt("k",_s);Tt("HH",_s,Cl);Tt("hh",_s,Cl);Tt("kk",_s,Cl);Tt("hmm",_ae);Tt("hmmss",vae);Tt("Hmm",_ae);Tt("Hmmss",vae);$n(["H","HH"],_o);$n(["k","kk"],function(n,e,t){var i=Wi(n);e[_o]=i===24?0:i});$n(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});$n(["h","hh"],function(n,e,t){e[_o]=Wi(n),Ni(t).bigHour=!0});$n("hmm",function(n,e,t){var i=n.length-2;e[_o]=Wi(n.substr(0,i)),e[Ac]=Wi(n.substr(i)),Ni(t).bigHour=!0});$n("hmmss",function(n,e,t){var i=n.length-4,s=n.length-2;e[_o]=Wi(n.substr(0,i)),e[Ac]=Wi(n.substr(i,2)),e[bh]=Wi(n.substr(s)),Ni(t).bigHour=!0});$n("Hmm",function(n,e,t){var i=n.length-2;e[_o]=Wi(n.substr(0,i)),e[Ac]=Wi(n.substr(i))});$n("Hmmss",function(n,e,t){var i=n.length-4,s=n.length-2;e[_o]=Wi(n.substr(0,i)),e[Ac]=Wi(n.substr(i,2)),e[bh]=Wi(n.substr(s))});function Akt(n){return(n+"").toLowerCase().charAt(0)==="p"}var Rkt=/[ap]\.?m?\.?/i,Okt=C2("Hours",!0);function Pkt(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var Iae={calendar:xDt,longDateFormat:IDt,invalidDate:NDt,ordinal:ADt,dayOfMonthOrdinalParse:RDt,relativeTime:PDt,months:ZDt,monthsShort:bae,week:ckt,weekdays:mkt,weekdaysMin:_kt,weekdaysShort:Dae,meridiemParse:Rkt},Cs={},vb={},Cy;function Fkt(n,e){var t,i=Math.min(n.length,e.length);for(t=0;t<i;t+=1)if(n[t]!==e[t])return t;return i}function AY(n){return n&&n.toLowerCase().replace("_","-")}function Bkt(n){for(var e=0,t,i,s,o;e<n.length;){for(o=AY(n[e]).split("-"),t=o.length,i=AY(n[e+1]),i=i?i.split("-"):null;t>0;){if(s=UD(o.slice(0,t).join("-")),s)return s;if(i&&i.length>=t&&Fkt(o,i)>=t-1)break;t--}e++}return Cy}function Vkt(n){return n.match("^[^/\\\\]*$")!=null}function UD(n){var e=null,t;if(Cs[n]===void 0&&typeof module!="undefined"&&module&&module.exports&&Vkt(n))try{e=Cy._abbr,t=require,t("./locale/"+n),mg(e)}catch{Cs[n]=null}return Cs[n]}function mg(n,e){var t;return n&&(oa(e)?t=Yh(n):t=aV(n,e),t?Cy=t:typeof console!="undefined"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),Cy._abbr}function aV(n,e){if(e!==null){var t,i=Iae;if(e.abbr=n,Cs[n]!=null)dae("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Cs[n]._config;else if(e.parentLocale!=null)if(Cs[e.parentLocale]!=null)i=Cs[e.parentLocale]._config;else if(t=UD(e.parentLocale),t!=null)i=t._config;else return vb[e.parentLocale]||(vb[e.parentLocale]=[]),vb[e.parentLocale].push({name:n,config:e}),null;return Cs[n]=new JB(rR(i,e)),vb[n]&&vb[n].forEach(function(s){aV(s.name,s.config)}),mg(n),Cs[n]}else return delete Cs[n],null}function Wkt(n,e){if(e!=null){var t,i,s=Iae;Cs[n]!=null&&Cs[n].parentLocale!=null?Cs[n].set(rR(Cs[n]._config,e)):(i=UD(n),i!=null&&(s=i._config),e=rR(s,e),i==null&&(e.abbr=n),t=new JB(e),t.parentLocale=Cs[n],Cs[n]=t),mg(n)}else Cs[n]!=null&&(Cs[n].parentLocale!=null?(Cs[n]=Cs[n].parentLocale,n===mg()&&mg(n)):Cs[n]!=null&&delete Cs[n]);return Cs[n]}function Yh(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return Cy;if(!Kc(n)){if(e=UD(n),e)return e;n=[n]}return Bkt(n)}function Hkt(){return aR(Cs)}function lV(n){var e,t=n._a;return t&&Ni(n).overflow===-2&&(e=t[vh]<0||t[vh]>11?vh:t[Au]<1||t[Au]>zD(t[Cr],t[vh])?Au:t[_o]<0||t[_o]>24||t[_o]===24&&(t[Ac]!==0||t[bh]!==0||t[rm]!==0)?_o:t[Ac]<0||t[Ac]>59?Ac:t[bh]<0||t[bh]>59?bh:t[rm]<0||t[rm]>999?rm:-1,Ni(n)._overflowDayOfYear&&(e<Cr||e>Au)&&(e=Au),Ni(n)._overflowWeeks&&e===-1&&(e=qDt),Ni(n)._overflowWeekday&&e===-1&&(e=GDt),Ni(n).overflow=e),n}var $kt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zkt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ukt=/Z|[+-]\d\d(?::?\d\d)?/,U3=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qT=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jkt=/^\/?Date\((-?\d+)/i,Kkt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qkt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Tae(n){var e,t,i=n._i,s=$kt.exec(i)||zkt.exec(i),o,r,a,l,c=U3.length,u=qT.length;if(s){for(Ni(n).iso=!0,e=0,t=c;e<t;e++)if(U3[e][1].exec(s[1])){r=U3[e][0],o=U3[e][2]!==!1;break}if(r==null){n._isValid=!1;return}if(s[3]){for(e=0,t=u;e<t;e++)if(qT[e][1].exec(s[3])){a=(s[2]||" ")+qT[e][0];break}if(a==null){n._isValid=!1;return}}if(!o&&a!=null){n._isValid=!1;return}if(s[4])if(Ukt.exec(s[4]))l="Z";else{n._isValid=!1;return}n._f=r+(a||"")+(l||""),uV(n)}else n._isValid=!1}function Gkt(n,e,t,i,s,o){var r=[Ykt(n),bae.indexOf(e),parseInt(t,10),parseInt(i,10),parseInt(s,10)];return o&&r.push(parseInt(o,10)),r}function Ykt(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function Zkt(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Xkt(n,e,t){if(n){var i=Dae.indexOf(n),s=new Date(e[0],e[1],e[2]).getDay();if(i!==s)return Ni(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function Qkt(n,e,t){if(n)return qkt[n];if(e)return 0;var i=parseInt(t,10),s=i%100,o=(i-s)/100;return o*60+s}function Nae(n){var e=Kkt.exec(Zkt(n._i)),t;if(e){if(t=Gkt(e[4],e[3],e[2],e[5],e[6],e[7]),!Xkt(e[1],t,n))return;n._a=t,n._tzm=Qkt(e[8],e[9],e[10]),n._d=vy.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),Ni(n).rfc2822=!0}else n._isValid=!1}function Jkt(n){var e=jkt.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(Tae(n),n._isValid===!1)delete n._isValid;else return;if(Nae(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:Lt.createFromInputFallback(n)}Lt.createFromInputFallback=ic("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function z0(n,e,t){return n!=null?n:e!=null?e:t}function eEt(n){var e=new Date(Lt.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function cV(n){var e,t,i=[],s,o,r;if(!n._d){for(s=eEt(n),n._w&&n._a[Au]==null&&n._a[vh]==null&&tEt(n),n._dayOfYear!=null&&(r=z0(n._a[Cr],s[Cr]),(n._dayOfYear>NC(r)||n._dayOfYear===0)&&(Ni(n)._overflowDayOfYear=!0),t=vy(r,0,n._dayOfYear),n._a[vh]=t.getUTCMonth(),n._a[Au]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=i[e]=s[e];for(;e<7;e++)n._a[e]=i[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[_o]===24&&n._a[Ac]===0&&n._a[bh]===0&&n._a[rm]===0&&(n._nextDay=!0,n._a[_o]=0),n._d=(n._useUTC?vy:akt).apply(null,i),o=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[_o]=24),n._w&&typeof n._w.d!="undefined"&&n._w.d!==o&&(Ni(n).weekdayMismatch=!0)}}function tEt(n){var e,t,i,s,o,r,a,l,c;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,r=4,t=z0(e.GG,n._a[Cr],by(fs(),1,4).year),i=z0(e.W,1),s=z0(e.E,1),(s<1||s>7)&&(l=!0)):(o=n._locale._week.dow,r=n._locale._week.doy,c=by(fs(),o,r),t=z0(e.gg,n._a[Cr],c.year),i=z0(e.w,c.week),e.d!=null?(s=e.d,(s<0||s>6)&&(l=!0)):e.e!=null?(s=e.e+o,(e.e<0||e.e>6)&&(l=!0)):s=o),i<1||i>Dh(t,o,r)?Ni(n)._overflowWeeks=!0:l!=null?Ni(n)._overflowWeekday=!0:(a=xae(t,i,s,o,r),n._a[Cr]=a.year,n._dayOfYear=a.dayOfYear)}Lt.ISO_8601=function(){};Lt.RFC_2822=function(){};function uV(n){if(n._f===Lt.ISO_8601){Tae(n);return}if(n._f===Lt.RFC_2822){Nae(n);return}n._a=[],Ni(n).empty=!0;var e=""+n._i,t,i,s,o,r,a=e.length,l=0,c,u;for(s=hae(n._f,n._locale).match(eV)||[],u=s.length,t=0;t<u;t++)o=s[t],i=(e.match(UDt(o,n))||[])[0],i&&(r=e.substr(0,e.indexOf(i)),r.length>0&&Ni(n).unusedInput.push(r),e=e.slice(e.indexOf(i)+i.length),l+=i.length),H1[o]?(i?Ni(n).empty=!1:Ni(n).unusedTokens.push(o),KDt(o,i,n)):n._strict&&!i&&Ni(n).unusedTokens.push(o);Ni(n).charsLeftOver=a-l,e.length>0&&Ni(n).unusedInput.push(e),n._a[_o]<=12&&Ni(n).bigHour===!0&&n._a[_o]>0&&(Ni(n).bigHour=void 0),Ni(n).parsedDateParts=n._a.slice(0),Ni(n).meridiem=n._meridiem,n._a[_o]=iEt(n._locale,n._a[_o],n._meridiem),c=Ni(n).era,c!==null&&(n._a[Cr]=n._locale.erasConvertYear(c,n._a[Cr])),cV(n),lV(n)}function iEt(n,e,t){var i;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(i=n.isPM(t),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function nEt(n){var e,t,i,s,o,r,a=!1,l=n._f.length;if(l===0){Ni(n).invalidFormat=!0,n._d=new Date(NaN);return}for(s=0;s<l;s++)o=0,r=!1,e=QB({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[s],uV(e),XB(e)&&(r=!0),o+=Ni(e).charsLeftOver,o+=Ni(e).unusedTokens.length*10,Ni(e).score=o,a?o<i&&(i=o,t=e):(i==null||o<i||r)&&(i=o,t=e,r&&(a=!0));Qf(n,t||e)}function sEt(n){if(!n._d){var e=tV(n._i),t=e.day===void 0?e.date:e.day;n._a=cae([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),cV(n)}}function oEt(n){var e=new _4(lV(Mae(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Mae(n){var e=n._i,t=n._f;return n._locale=n._locale||Yh(n._l),e===null||t===void 0&&e===""?PD({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),qc(e)?new _4(lV(e)):(m4(e)?n._d=e:Kc(t)?nEt(n):t?uV(n):rEt(n),XB(n)||(n._d=null),n))}function rEt(n){var e=n._i;oa(e)?n._d=new Date(Lt.now()):m4(e)?n._d=new Date(e.valueOf()):typeof e=="string"?Jkt(n):Kc(e)?(n._a=cae(e.slice(0),function(t){return parseInt(t,10)}),cV(n)):Em(e)?sEt(n):Wh(e)?n._d=new Date(e):Lt.createFromInputFallback(n)}function Aae(n,e,t,i,s){var o={};return(e===!0||e===!1)&&(i=e,e=void 0),(t===!0||t===!1)&&(i=t,t=void 0),(Em(n)&&ZB(n)||Kc(n)&&n.length===0)&&(n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=t,o._i=n,o._f=e,o._strict=i,oEt(o)}function fs(n,e,t,i){return Aae(n,e,t,i,!1)}var aEt=ic("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=fs.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:PD()}),lEt=ic("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=fs.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:PD()});function Rae(n,e){var t,i;if(e.length===1&&Kc(e[0])&&(e=e[0]),!e.length)return fs();for(t=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][n](t))&&(t=e[i]);return t}function cEt(){var n=[].slice.call(arguments,0);return Rae("isBefore",n)}function uEt(){var n=[].slice.call(arguments,0);return Rae("isAfter",n)}var dEt=function(){return Date.now?Date.now():+new Date},bb=["year","quarter","month","week","day","hour","minute","second","millisecond"];function hEt(n){var e,t=!1,i,s=bb.length;for(e in n)if(pn(n,e)&&!(Ks.call(bb,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(i=0;i<s;++i)if(n[bb[i]]){if(t)return!1;parseFloat(n[bb[i]])!==Wi(n[bb[i]])&&(t=!0)}return!0}function fEt(){return this._isValid}function gEt(){return nu(NaN)}function jD(n){var e=tV(n),t=e.year||0,i=e.quarter||0,s=e.month||0,o=e.week||e.isoWeek||0,r=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=hEt(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+r+o*7,this._months=+s+i*3+t*12,this._data={},this._locale=Yh(),this._bubble()}function V6(n){return n instanceof jD}function cR(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function pEt(n,e,t){var i=Math.min(n.length,e.length),s=Math.abs(n.length-e.length),o=0,r;for(r=0;r<i;r++)(t&&n[r]!==e[r]||!t&&Wi(n[r])!==Wi(e[r]))&&o++;return o+s}function Oae(n,e){qt(n,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+ad(~~(t/60),2)+e+ad(~~t%60,2)})}Oae("Z",":");Oae("ZZ","");Tt("Z",$D);Tt("ZZ",$D);$n(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=dV($D,n)});var mEt=/([\+\-]|\d\d)/gi;function dV(n,e){var t=(e||"").match(n),i,s,o;return t===null?null:(i=t[t.length-1]||[],s=(i+"").match(mEt)||["-",0,0],o=+(s[1]*60)+Wi(s[2]),o===0?0:s[0]==="+"?o:-o)}function hV(n,e){var t,i;return e._isUTC?(t=e.clone(),i=(qc(n)||m4(n)?n.valueOf():fs(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+i),Lt.updateOffset(t,!1),t):fs(n).local()}function uR(n){return-Math.round(n._d.getTimezoneOffset())}Lt.updateOffset=function(){};function _Et(n,e,t){var i=this._offset||0,s;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=dV($D,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(s=uR(this)),this._offset=n,this._isUTC=!0,s!=null&&this.add(s,"m"),i!==n&&(!e||this._changeInProgress?Bae(this,nu(n-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Lt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:uR(this)}function vEt(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function bEt(n){return this.utcOffset(0,n)}function CEt(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(uR(this),"m")),this}function wEt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=dV($Dt,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function yEt(n){return this.isValid()?(n=n?fs(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function SEt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function LEt(){if(!oa(this._isDSTShifted))return this._isDSTShifted;var n={},e;return QB(n,this),n=Mae(n),n._a?(e=n._isUTC?gd(n._a):fs(n._a),this._isDSTShifted=this.isValid()&&pEt(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xEt(){return this.isValid()?!this._isUTC:!1}function DEt(){return this.isValid()?this._isUTC:!1}function Pae(){return this.isValid()?this._isUTC&&this._offset===0:!1}var kEt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,EEt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function nu(n,e){var t=n,i=null,s,o,r;return V6(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:Wh(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(i=kEt.exec(n))?(s=i[1]==="-"?-1:1,t={y:0,d:Wi(i[Au])*s,h:Wi(i[_o])*s,m:Wi(i[Ac])*s,s:Wi(i[bh])*s,ms:Wi(cR(i[rm]*1e3))*s}):(i=EEt.exec(n))?(s=i[1]==="-"?-1:1,t={y:xp(i[2],s),M:xp(i[3],s),w:xp(i[4],s),d:xp(i[5],s),h:xp(i[6],s),m:xp(i[7],s),s:xp(i[8],s)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(r=IEt(fs(t.from),fs(t.to)),t={},t.ms=r.milliseconds,t.M=r.months),o=new jD(t),V6(n)&&pn(n,"_locale")&&(o._locale=n._locale),V6(n)&&pn(n,"_isValid")&&(o._isValid=n._isValid),o}nu.fn=jD.prototype;nu.invalid=gEt;function xp(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function RY(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function IEt(n,e){var t;return n.isValid()&&e.isValid()?(e=hV(e,n),n.isBefore(e)?t=RY(n,e):(t=RY(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function Fae(n,e){return function(t,i){var s,o;return i!==null&&!isNaN(+i)&&(dae(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=t,t=i,i=o),s=nu(t,i),Bae(this,s,n),this}}function Bae(n,e,t,i){var s=e._milliseconds,o=cR(e._days),r=cR(e._months);!n.isValid()||(i=i==null?!0:i,r&&wae(n,qL(n,"Month")+r*t),o&&gae(n,"Date",qL(n,"Date")+o*t),s&&n._d.setTime(n._d.valueOf()+s*t),i&&Lt.updateOffset(n,o||r))}var TEt=Fae(1,"add"),NEt=Fae(-1,"subtract");function Vae(n){return typeof n=="string"||n instanceof String}function MEt(n){return qc(n)||m4(n)||Vae(n)||Wh(n)||REt(n)||AEt(n)||n===null||n===void 0}function AEt(n){var e=Em(n)&&!ZB(n),t=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,o,r=i.length;for(s=0;s<r;s+=1)o=i[s],t=t||pn(n,o);return e&&t}function REt(n){var e=Kc(n),t=!1;return e&&(t=n.filter(function(i){return!Wh(i)&&Vae(n)}).length===0),e&&t}function OEt(n){var e=Em(n)&&!ZB(n),t=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,o;for(s=0;s<i.length;s+=1)o=i[s],t=t||pn(n,o);return e&&t}function PEt(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function FEt(n,e){arguments.length===1&&(arguments[0]?MEt(arguments[0])?(n=arguments[0],e=void 0):OEt(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||fs(),i=hV(t,this).startOf("day"),s=Lt.calendarFormat(this,i)||"sameElse",o=e&&(pd(e[s])?e[s].call(this,t):e[s]);return this.format(o||this.localeData().calendar(s,this,fs(t)))}function BEt(){return new _4(this)}function VEt(n,e){var t=qc(n)?n:fs(n);return this.isValid()&&t.isValid()?(e=nc(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function WEt(n,e){var t=qc(n)?n:fs(n);return this.isValid()&&t.isValid()?(e=nc(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function HEt(n,e,t,i){var s=qc(n)?n:fs(n),o=qc(e)?e:fs(e);return this.isValid()&&s.isValid()&&o.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(s,t):!this.isBefore(s,t))&&(i[1]===")"?this.isBefore(o,t):!this.isAfter(o,t))):!1}function $Et(n,e){var t=qc(n)?n:fs(n),i;return this.isValid()&&t.isValid()?(e=nc(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(i=t.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function zEt(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function UEt(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function jEt(n,e,t){var i,s,o;if(!this.isValid())return NaN;if(i=hV(n,this),!i.isValid())return NaN;switch(s=(i.utcOffset()-this.utcOffset())*6e4,e=nc(e),e){case"year":o=W6(this,i)/12;break;case"month":o=W6(this,i);break;case"quarter":o=W6(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-s)/864e5;break;case"week":o=(this-i-s)/6048e5;break;default:o=this-i}return t?o:Pl(o)}function W6(n,e){if(n.date()<e.date())return-W6(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),i=n.clone().add(t,"months"),s,o;return e-i<0?(s=n.clone().add(t-1,"months"),o=(e-i)/(i-s)):(s=n.clone().add(t+1,"months"),o=(e-i)/(s-i)),-(t+o)||0}Lt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Lt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function KEt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function qEt(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?B6(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):pd(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",B6(t,"Z")):B6(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function GEt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,i,s,o;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(t+i+s+o)}function YEt(n){n||(n=this.isUtc()?Lt.defaultFormatUtc:Lt.defaultFormat);var e=B6(this,n);return this.localeData().postformat(e)}function ZEt(n,e){return this.isValid()&&(qc(n)&&n.isValid()||fs(n).isValid())?nu({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function XEt(n){return this.from(fs(),n)}function QEt(n,e){return this.isValid()&&(qc(n)&&n.isValid()||fs(n).isValid())?nu({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function JEt(n){return this.to(fs(),n)}function Wae(n){var e;return n===void 0?this._locale._abbr:(e=Yh(n),e!=null&&(this._locale=e),this)}var Hae=ic("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function $ae(){return this._locale}var ZL=1e3,$1=60*ZL,XL=60*$1,zae=(365*400+97)*24*XL;function z1(n,e){return(n%e+e)%e}function Uae(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-zae:new Date(n,e,t).valueOf()}function jae(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-zae:Date.UTC(n,e,t)}function eIt(n){var e,t;if(n=nc(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?jae:Uae,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=z1(e+(this._isUTC?0:this.utcOffset()*$1),XL);break;case"minute":e=this._d.valueOf(),e-=z1(e,$1);break;case"second":e=this._d.valueOf(),e-=z1(e,ZL);break}return this._d.setTime(e),Lt.updateOffset(this,!0),this}function tIt(n){var e,t;if(n=nc(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?jae:Uae,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=XL-z1(e+(this._isUTC?0:this.utcOffset()*$1),XL)-1;break;case"minute":e=this._d.valueOf(),e+=$1-z1(e,$1)-1;break;case"second":e=this._d.valueOf(),e+=ZL-z1(e,ZL)-1;break}return this._d.setTime(e),Lt.updateOffset(this,!0),this}function iIt(){return this._d.valueOf()-(this._offset||0)*6e4}function nIt(){return Math.floor(this.valueOf()/1e3)}function sIt(){return new Date(this.valueOf())}function oIt(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function rIt(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function aIt(){return this.isValid()?this.toISOString():null}function lIt(){return XB(this)}function cIt(){return Qf({},Ni(this))}function uIt(){return Ni(this).overflow}function dIt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}qt("N",0,0,"eraAbbr");qt("NN",0,0,"eraAbbr");qt("NNN",0,0,"eraAbbr");qt("NNNN",0,0,"eraName");qt("NNNNN",0,0,"eraNarrow");qt("y",["y",1],"yo","eraYear");qt("y",["yy",2],0,"eraYear");qt("y",["yyy",3],0,"eraYear");qt("y",["yyyy",4],0,"eraYear");Tt("N",fV);Tt("NN",fV);Tt("NNN",fV);Tt("NNNN",yIt);Tt("NNNNN",SIt);$n(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,i){var s=t._locale.erasParse(n,i,t._strict);s?Ni(t).era=s:Ni(t).invalidEra=n});Tt("y",w2);Tt("yy",w2);Tt("yyy",w2);Tt("yyyy",w2);Tt("yo",LIt);$n(["y","yy","yyy","yyyy"],Cr);$n(["yo"],function(n,e,t,i){var s;t._locale._eraYearOrdinalRegex&&(s=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[Cr]=t._locale.eraYearOrdinalParse(n,s):e[Cr]=parseInt(n,10)});function hIt(n,e){var t,i,s,o=this._eras||Yh("en")._eras;for(t=0,i=o.length;t<i;++t){switch(typeof o[t].since){case"string":s=Lt(o[t].since).startOf("day"),o[t].since=s.valueOf();break}switch(typeof o[t].until){case"undefined":o[t].until=1/0;break;case"string":s=Lt(o[t].until).startOf("day").valueOf(),o[t].until=s.valueOf();break}}return o}function fIt(n,e,t){var i,s,o=this.eras(),r,a,l;for(n=n.toUpperCase(),i=0,s=o.length;i<s;++i)if(r=o[i].name.toUpperCase(),a=o[i].abbr.toUpperCase(),l=o[i].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===n)return o[i];break;case"NNNN":if(r===n)return o[i];break;case"NNNNN":if(l===n)return o[i];break}else if([r,a,l].indexOf(n)>=0)return o[i]}function gIt(n,e){var t=n.since<=n.until?1:-1;return e===void 0?Lt(n.since).year():Lt(n.since).year()+(e-n.offset)*t}function pIt(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].name;return""}function mIt(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].narrow;return""}function _It(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].abbr;return""}function vIt(){var n,e,t,i,s=this.localeData().eras();for(n=0,e=s.length;n<e;++n)if(t=s[n].since<=s[n].until?1:-1,i=this.clone().startOf("day").valueOf(),s[n].since<=i&&i<=s[n].until||s[n].until<=i&&i<=s[n].since)return(this.year()-Lt(s[n].since).year())*t+s[n].offset;return this.year()}function bIt(n){return pn(this,"_erasNameRegex")||gV.call(this),n?this._erasNameRegex:this._erasRegex}function CIt(n){return pn(this,"_erasAbbrRegex")||gV.call(this),n?this._erasAbbrRegex:this._erasRegex}function wIt(n){return pn(this,"_erasNarrowRegex")||gV.call(this),n?this._erasNarrowRegex:this._erasRegex}function fV(n,e){return e.erasAbbrRegex(n)}function yIt(n,e){return e.erasNameRegex(n)}function SIt(n,e){return e.erasNarrowRegex(n)}function LIt(n,e){return e._eraYearOrdinalRegex||w2}function gV(){var n=[],e=[],t=[],i=[],s,o,r=this.eras();for(s=0,o=r.length;s<o;++s)e.push(za(r[s].name)),n.push(za(r[s].abbr)),t.push(za(r[s].narrow)),i.push(za(r[s].name)),i.push(za(r[s].abbr)),i.push(za(r[s].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}qt(0,["gg",2],0,function(){return this.weekYear()%100});qt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function KD(n,e){qt(0,[n,n.length],0,e)}KD("gggg","weekYear");KD("ggggg","weekYear");KD("GGGG","isoWeekYear");KD("GGGGG","isoWeekYear");xr("weekYear","gg");xr("isoWeekYear","GG");Dr("weekYear",1);Dr("isoWeekYear",1);Tt("G",HD);Tt("g",HD);Tt("GG",_s,Cl);Tt("gg",_s,Cl);Tt("GGGG",nV,iV);Tt("gggg",nV,iV);Tt("GGGGG",WD,BD);Tt("ggggg",WD,BD);b4(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,i){e[i.substr(0,2)]=Wi(n)});b4(["gg","GG"],function(n,e,t,i){e[i]=Lt.parseTwoDigitYear(n)});function xIt(n){return Kae.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function DIt(n){return Kae.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function kIt(){return Dh(this.year(),1,4)}function EIt(){return Dh(this.isoWeekYear(),1,4)}function IIt(){var n=this.localeData()._week;return Dh(this.year(),n.dow,n.doy)}function TIt(){var n=this.localeData()._week;return Dh(this.weekYear(),n.dow,n.doy)}function Kae(n,e,t,i,s){var o;return n==null?by(this,i,s).year:(o=Dh(n,i,s),e>o&&(e=o),NIt.call(this,n,e,t,i,s))}function NIt(n,e,t,i,s){var o=xae(n,e,t,i,s),r=vy(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}qt("Q",0,"Qo","quarter");xr("quarter","Q");Dr("quarter",7);Tt("Q",pae);$n("Q",function(n,e){e[vh]=(Wi(n)-1)*3});function MIt(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}qt("D",["DD",2],"Do","date");xr("date","D");Dr("date",9);Tt("D",_s);Tt("DD",_s,Cl);Tt("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});$n(["D","DD"],Au);$n("Do",function(n,e){e[Au]=Wi(n.match(_s)[0])});var qae=C2("Date",!0);qt("DDD",["DDDD",3],"DDDo","dayOfYear");xr("dayOfYear","DDD");Dr("dayOfYear",4);Tt("DDD",VD);Tt("DDDD",mae);$n(["DDD","DDDD"],function(n,e,t){t._dayOfYear=Wi(n)});function AIt(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}qt("m",["mm",2],0,"minute");xr("minute","m");Dr("minute",14);Tt("m",_s);Tt("mm",_s,Cl);$n(["m","mm"],Ac);var RIt=C2("Minutes",!1);qt("s",["ss",2],0,"second");xr("second","s");Dr("second",15);Tt("s",_s);Tt("ss",_s,Cl);$n(["s","ss"],bh);var OIt=C2("Seconds",!1);qt("S",0,0,function(){return~~(this.millisecond()/100)});qt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});qt(0,["SSS",3],0,"millisecond");qt(0,["SSSS",4],0,function(){return this.millisecond()*10});qt(0,["SSSSS",5],0,function(){return this.millisecond()*100});qt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});qt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});qt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});qt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});xr("millisecond","ms");Dr("millisecond",16);Tt("S",VD,pae);Tt("SS",VD,Cl);Tt("SSS",VD,mae);var Jf,Gae;for(Jf="SSSS";Jf.length<=9;Jf+="S")Tt(Jf,w2);function PIt(n,e){e[rm]=Wi(("0."+n)*1e3)}for(Jf="S";Jf.length<=9;Jf+="S")$n(Jf,PIt);Gae=C2("Milliseconds",!1);qt("z",0,0,"zoneAbbr");qt("zz",0,0,"zoneName");function FIt(){return this._isUTC?"UTC":""}function BIt(){return this._isUTC?"Coordinated Universal Time":""}var lt=_4.prototype;lt.add=TEt;lt.calendar=FEt;lt.clone=BEt;lt.diff=jEt;lt.endOf=tIt;lt.format=YEt;lt.from=ZEt;lt.fromNow=XEt;lt.to=QEt;lt.toNow=JEt;lt.get=WDt;lt.invalidAt=uIt;lt.isAfter=VEt;lt.isBefore=WEt;lt.isBetween=HEt;lt.isSame=$Et;lt.isSameOrAfter=zEt;lt.isSameOrBefore=UEt;lt.isValid=lIt;lt.lang=Hae;lt.locale=Wae;lt.localeData=$ae;lt.max=lEt;lt.min=aEt;lt.parsingFlags=cIt;lt.set=HDt;lt.startOf=eIt;lt.subtract=NEt;lt.toArray=oIt;lt.toObject=rIt;lt.toDate=sIt;lt.toISOString=qEt;lt.inspect=GEt;typeof Symbol!="undefined"&&Symbol.for!=null&&(lt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});lt.toJSON=aIt;lt.toString=KEt;lt.unix=nIt;lt.valueOf=iIt;lt.creationData=dIt;lt.eraName=pIt;lt.eraNarrow=mIt;lt.eraAbbr=_It;lt.eraYear=vIt;lt.year=Lae;lt.isLeapYear=rkt;lt.weekYear=xIt;lt.isoWeekYear=DIt;lt.quarter=lt.quarters=MIt;lt.month=yae;lt.daysInMonth=nkt;lt.week=lt.weeks=hkt;lt.isoWeek=lt.isoWeeks=fkt;lt.weeksInYear=IIt;lt.weeksInWeekYear=TIt;lt.isoWeeksInYear=kIt;lt.isoWeeksInISOWeekYear=EIt;lt.date=qae;lt.day=lt.days=Dkt;lt.weekday=kkt;lt.isoWeekday=Ekt;lt.dayOfYear=AIt;lt.hour=lt.hours=Okt;lt.minute=lt.minutes=RIt;lt.second=lt.seconds=OIt;lt.millisecond=lt.milliseconds=Gae;lt.utcOffset=_Et;lt.utc=bEt;lt.local=CEt;lt.parseZone=wEt;lt.hasAlignedHourOffset=yEt;lt.isDST=SEt;lt.isLocal=xEt;lt.isUtcOffset=DEt;lt.isUtc=Pae;lt.isUTC=Pae;lt.zoneAbbr=FIt;lt.zoneName=BIt;lt.dates=ic("dates accessor is deprecated. Use date instead.",qae);lt.months=ic("months accessor is deprecated. Use month instead",yae);lt.years=ic("years accessor is deprecated. Use year instead",Lae);lt.zone=ic("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vEt);lt.isDSTShifted=ic("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",LEt);function VIt(n){return fs(n*1e3)}function WIt(){return fs.apply(null,arguments).parseZone()}function Yae(n){return n}var _n=JB.prototype;_n.calendar=DDt;_n.longDateFormat=TDt;_n.invalidDate=MDt;_n.ordinal=ODt;_n.preparse=Yae;_n.postformat=Yae;_n.relativeTime=FDt;_n.pastFuture=BDt;_n.set=LDt;_n.eras=hIt;_n.erasParse=fIt;_n.erasConvertYear=gIt;_n.erasAbbrRegex=CIt;_n.erasNameRegex=bIt;_n.erasNarrowRegex=wIt;_n.months=JDt;_n.monthsShort=ekt;_n.monthsParse=ikt;_n.monthsRegex=okt;_n.monthsShortRegex=skt;_n.week=lkt;_n.firstDayOfYear=dkt;_n.firstDayOfWeek=ukt;_n.weekdays=wkt;_n.weekdaysMin=Skt;_n.weekdaysShort=ykt;_n.weekdaysParse=xkt;_n.weekdaysRegex=Ikt;_n.weekdaysShortRegex=Tkt;_n.weekdaysMinRegex=Nkt;_n.isPM=Akt;_n.meridiem=Pkt;function QL(n,e,t,i){var s=Yh(),o=gd().set(i,e);return s[t](o,n)}function Zae(n,e,t){if(Wh(n)&&(e=n,n=void 0),n=n||"",e!=null)return QL(n,e,t,"month");var i,s=[];for(i=0;i<12;i++)s[i]=QL(n,i,t,"month");return s}function pV(n,e,t,i){typeof n=="boolean"?(Wh(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,Wh(e)&&(t=e,e=void 0),e=e||"");var s=Yh(),o=n?s._week.dow:0,r,a=[];if(t!=null)return QL(e,(t+o)%7,i,"day");for(r=0;r<7;r++)a[r]=QL(e,(r+o)%7,i,"day");return a}function HIt(n,e){return Zae(n,e,"months")}function $It(n,e){return Zae(n,e,"monthsShort")}function zIt(n,e,t){return pV(n,e,t,"weekdays")}function UIt(n,e,t){return pV(n,e,t,"weekdaysShort")}function jIt(n,e,t){return pV(n,e,t,"weekdaysMin")}mg("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=Wi(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});Lt.lang=ic("moment.lang is deprecated. Use moment.locale instead.",mg);Lt.langData=ic("moment.langData is deprecated. Use moment.localeData instead.",Yh);var Pd=Math.abs;function KIt(){var n=this._data;return this._milliseconds=Pd(this._milliseconds),this._days=Pd(this._days),this._months=Pd(this._months),n.milliseconds=Pd(n.milliseconds),n.seconds=Pd(n.seconds),n.minutes=Pd(n.minutes),n.hours=Pd(n.hours),n.months=Pd(n.months),n.years=Pd(n.years),this}function Xae(n,e,t,i){var s=nu(e,t);return n._milliseconds+=i*s._milliseconds,n._days+=i*s._days,n._months+=i*s._months,n._bubble()}function qIt(n,e){return Xae(this,n,e,1)}function GIt(n,e){return Xae(this,n,e,-1)}function OY(n){return n<0?Math.floor(n):Math.ceil(n)}function YIt(){var n=this._milliseconds,e=this._days,t=this._months,i=this._data,s,o,r,a,l;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=OY(dR(t)+e)*864e5,e=0,t=0),i.milliseconds=n%1e3,s=Pl(n/1e3),i.seconds=s%60,o=Pl(s/60),i.minutes=o%60,r=Pl(o/60),i.hours=r%24,e+=Pl(r/24),l=Pl(Qae(e)),t+=l,e-=OY(dR(l)),a=Pl(t/12),t%=12,i.days=e,i.months=t,i.years=a,this}function Qae(n){return n*4800/146097}function dR(n){return n*146097/4800}function ZIt(n){if(!this.isValid())return NaN;var e,t,i=this._milliseconds;if(n=nc(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+i/864e5,t=this._months+Qae(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(dR(this._months)),n){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+n)}}function XIt(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Wi(this._months/12)*31536e6:NaN}function Zh(n){return function(){return this.as(n)}}var QIt=Zh("ms"),JIt=Zh("s"),eTt=Zh("m"),tTt=Zh("h"),iTt=Zh("d"),nTt=Zh("w"),sTt=Zh("M"),oTt=Zh("Q"),rTt=Zh("y");function aTt(){return nu(this)}function lTt(n){return n=nc(n),this.isValid()?this[n+"s"]():NaN}function W_(n){return function(){return this.isValid()?this._data[n]:NaN}}var cTt=W_("milliseconds"),uTt=W_("seconds"),dTt=W_("minutes"),hTt=W_("hours"),fTt=W_("days"),gTt=W_("months"),pTt=W_("years");function mTt(){return Pl(this.days()/7)}var Kd=Math.round,g1={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function _Tt(n,e,t,i,s){return s.relativeTime(e||1,!!t,n,i)}function vTt(n,e,t,i){var s=nu(n).abs(),o=Kd(s.as("s")),r=Kd(s.as("m")),a=Kd(s.as("h")),l=Kd(s.as("d")),c=Kd(s.as("M")),u=Kd(s.as("w")),d=Kd(s.as("y")),h=o<=t.ss&&["s",o]||o<t.s&&["ss",o]||r<=1&&["m"]||r<t.m&&["mm",r]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(h=h||u<=1&&["w"]||u<t.w&&["ww",u]),h=h||c<=1&&["M"]||c<t.M&&["MM",c]||d<=1&&["y"]||["yy",d],h[2]=e,h[3]=+n>0,h[4]=i,_Tt.apply(null,h)}function bTt(n){return n===void 0?Kd:typeof n=="function"?(Kd=n,!0):!1}function CTt(n,e){return g1[n]===void 0?!1:e===void 0?g1[n]:(g1[n]=e,n==="s"&&(g1.ss=e-1),!0)}function wTt(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,i=g1,s,o;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(i=Object.assign({},g1,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),s=this.localeData(),o=vTt(this,!t,i,s),t&&(o=s.pastFuture(+this,o)),s.postformat(o)}var GT=Math.abs;function M0(n){return(n>0)-(n<0)||+n}function qD(){if(!this.isValid())return this.localeData().invalidDate();var n=GT(this._milliseconds)/1e3,e=GT(this._days),t=GT(this._months),i,s,o,r,a=this.asSeconds(),l,c,u,d;return a?(i=Pl(n/60),s=Pl(i/60),n%=60,i%=60,o=Pl(t/12),t%=12,r=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=M0(this._months)!==M0(a)?"-":"",u=M0(this._days)!==M0(a)?"-":"",d=M0(this._milliseconds)!==M0(a)?"-":"",l+"P"+(o?c+o+"Y":"")+(t?c+t+"M":"")+(e?u+e+"D":"")+(s||i||n?"T":"")+(s?d+s+"H":"")+(i?d+i+"M":"")+(n?d+r+"S":"")):"P0D"}var cn=jD.prototype;cn.isValid=fEt;cn.abs=KIt;cn.add=qIt;cn.subtract=GIt;cn.as=ZIt;cn.asMilliseconds=QIt;cn.asSeconds=JIt;cn.asMinutes=eTt;cn.asHours=tTt;cn.asDays=iTt;cn.asWeeks=nTt;cn.asMonths=sTt;cn.asQuarters=oTt;cn.asYears=rTt;cn.valueOf=XIt;cn._bubble=YIt;cn.clone=aTt;cn.get=lTt;cn.milliseconds=cTt;cn.seconds=uTt;cn.minutes=dTt;cn.hours=hTt;cn.days=fTt;cn.weeks=mTt;cn.months=gTt;cn.years=pTt;cn.humanize=wTt;cn.toISOString=qD;cn.toString=qD;cn.toJSON=qD;cn.locale=Wae;cn.localeData=$ae;cn.toIsoString=ic("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qD);cn.lang=Hae;qt("X",0,0,"unix");qt("x",0,0,"valueOf");Tt("x",HD);Tt("X",zDt);$n("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});$n("x",function(n,e,t){t._d=new Date(Wi(n))});//! moment.js
Lt.version="2.29.4";yDt(fs);Lt.fn=lt;Lt.min=cEt;Lt.max=uEt;Lt.now=dEt;Lt.utc=gd;Lt.unix=VIt;Lt.months=HIt;Lt.isDate=m4;Lt.locale=mg;Lt.invalid=PD;Lt.duration=nu;Lt.isMoment=qc;Lt.weekdays=zIt;Lt.parseZone=WIt;Lt.localeData=Yh;Lt.isDuration=V6;Lt.monthsShort=$It;Lt.weekdaysMin=jIt;Lt.defineLocale=aV;Lt.updateLocale=Wkt;Lt.locales=Hkt;Lt.weekdaysShort=UIt;Lt.normalizeUnits=nc;Lt.relativeTimeRounding=bTt;Lt.relativeTimeThreshold=CTt;Lt.calendarFormat=PEt;Lt.prototype=lt;Lt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const j3=(n,e=2)=>{const t=n.toString().length;return t<e?"0".repeat(e-t)+n:n},wMt=(n=0,e)=>{const t=Lt.duration(e-n),i=j3(t.hours()),s=j3(t.minutes()),o=j3(t.seconds()),r=j3(t.milliseconds(),3);let a;return i!=="00"?a=`${i}:${s}:${o}.${r}`:s!=="00"?a=`${s}:${o}.${r}`:o!=="00"?a=`${s}:${o}.${r}`:a=`${s}:${o}.${r}`,a};function yMt(n){const e=new Date(n),t=e.getFullYear()+"-",i=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",s=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",o=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",r=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",a=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return t+i+s+o+r+a}const Cb=(n,e,t)=>{e.forEach(i=>n[i]=t)},yTt={class:"dialog-footer"},STt=wr("\u53D6\u6D88"),LTt=wr("\u786E\u5B9A"),xTt=Ht({name:"toolsDlg",emits:["bubbleFormData"],setup(n,{expose:e,emit:t}){const i="140px",s=ze(!1),o=ze("mock"),r=hs({mock:"\u4FEE\u6539\u5F55\u5236\u7684 Mock \u6570\u636E",code:"\u6269\u5C55 beforeAll/afterAll"}),a=hs({mockOpType:"rmApiRes",apiName:"",fieldName:"",fieldNewValue:""}),l=hs({positionType:"afterMockWxMethod",codeStr:""}),c=(m,b=!0)=>{u(),o.value=m,s.value=b},u=()=>{Cb(a,["mockOpType"],"rmApiRes"),Cb(a,["apiName","fieldName","fieldNewValue"],""),Cb(l,["positionType"],"afterMockWxMethod"),Cb(l,["codeStr"],"")},d=m=>{m===1&&Cb(a,["fieldName","fieldNewValue"],"")},h=()=>{s.value=!1},f=()=>{t("bubbleFormData",{type:o.value,data:Ki(o.value==="mock"?a:l)})},p=()=>{f(),s.value=!1};return e({showToolsDlg:c}),(m,b)=>{const w=iJ,y=tJ,L=B9,D=nO,E=GQ,T=aa;return O(),St(B(FQ),{modelValue:s.value,"onUpdate:modelValue":b[6]||(b[6]=x=>s.value=x),title:r[o.value]},{footer:Oe(()=>[M("span",yTt,[Ue(T,{onClick:h},{default:Oe(()=>[STt]),_:1}),Ue(T,{type:"primary",onClick:p},{default:Oe(()=>[LTt]),_:1})])]),default:Oe(()=>[o.value==="mock"?(O(),St(E,{key:0,model:a},{default:Oe(()=>[Ue(L,{label:"\u64CD\u4F5C\u7C7B\u578B\uFF1A","label-width":i},{default:Oe(()=>[Ue(y,{modelValue:a.mockOpType,"onUpdate:modelValue":b[0]||(b[0]=x=>a.mockOpType=x),onChange:d,placeholder:"Please select a zone"},{default:Oe(()=>[Ue(w,{label:"\u79FB\u9664\u6307\u5B9A\u63A5\u53E3 Mock",value:"rmApiRes"}),Ue(w,{label:"\u4FEE\u6539\u67D0\u4E2A\u63A5\u53E3\u5B57\u6BB5",value:"replaceApiFields"})]),_:1},8,["modelValue"])]),_:1}),Ue(L,{label:"\u6307\u5B9A\u63A5\u53E3\uFF1A","label-width":i},{default:Oe(()=>[Ue(D,{modelValue:a.apiName,"onUpdate:modelValue":b[1]||(b[1]=x=>a.apiName=x),autocomplete:"true"},null,8,["modelValue"])]),_:1}),a.mockOpType==="replaceApiFields"?(O(),St(L,{key:0,label:"\u6307\u5B9A\u5B57\u6BB5\uFF1A","label-width":i},{default:Oe(()=>[Ue(D,{modelValue:a.fieldName,"onUpdate:modelValue":b[2]||(b[2]=x=>a.fieldName=x),autocomplete:"true"},null,8,["modelValue"])]),_:1})):Mt("",!0),a.mockOpType==="replaceApiFields"?(O(),St(L,{key:1,label:"\u5B57\u6BB5\u65B0\u503C\uFF1A","label-width":i},{default:Oe(()=>[Ue(D,{modelValue:a.fieldNewValue,"onUpdate:modelValue":b[3]||(b[3]=x=>a.fieldNewValue=x),autocomplete:"true"},null,8,["modelValue"])]),_:1})):Mt("",!0)]),_:1},8,["model"])):Mt("",!0),o.value==="code"?(O(),St(E,{key:1,model:l},{default:Oe(()=>[Ue(L,{label:"\u4F4D\u7F6E\uFF1A","label-width":i},{default:Oe(()=>[Ue(y,{modelValue:l.positionType,"onUpdate:modelValue":b[4]||(b[4]=x=>l.positionType=x),placeholder:"Please select a zone"},{default:Oe(()=>[Ue(w,{label:"beforeAll",value:"beforeAll"}),Ue(w,{label:"afterAll",value:"afterAll"}),Ue(w,{label:"mock \u5FAE\u4FE1\u65B9\u6CD5\u540E",value:"afterMockWxMethod"})]),_:1},8,["modelValue"])]),_:1}),Ue(L,{label:"\u4EE3\u7801\uFF1A","label-width":i},{default:Oe(()=>[Ue(D,{rows:4,type:"textarea",modelValue:l.codeStr,"onUpdate:modelValue":b[5]||(b[5]=x=>l.codeStr=x),autocomplete:"true"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):Mt("",!0)]),_:1},8,["modelValue","title"])}}});var Jae=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t};const DTt=n=>(gZ("data-v-148ab344"),n=n(),pZ(),n),kTt={class:"button-area"},ETt=wr(" JSON \u5BFC\u5165 "),ITt=wr(" \u4FDD\u5B58 "),TTt={class:"mgnt20"},NTt=["onClick"],MTt=["title"],ATt={class:"arrow-btn-area"},RTt={class:"mgnt20"},OTt=["onClick"],PTt=wr("MOCK"),FTt=wr("Code"),BTt={class:"grid-content ep-bg-purple"},VTt={class:"card-cnt-left"},WTt={class:"card-cnt-menu"},HTt=["onClick"],$Tt={key:0,class:"cnt-info-mock"},zTt={key:1,class:"cnt-info-normal"},UTt={class:"cnt-info-normal-line"},jTt=["title"],KTt={key:0,class:"info-right"},qTt={key:0,class:"cnt-info-normal-line right-wider"},GTt=["title"],YTt=["title"],ZTt=wr(" \u7F16\u8F91 "),XTt=DTt(()=>M("div",{id:"container",class:"code-limit"},null,-1)),QTt=Ht({name:"GenCase",setup(n){let e;self.MonacoEnvironment={getWorker(De,pe){return pe==="json"?new dDt:pe==="css"||pe==="scss"||pe==="less"?new hDt:pe==="html"||pe==="handlebars"||pe==="razor"?new fDt:pe==="typescript"||pe==="javascript"?new gDt:new uDt}};let t=ze(0);const i=ze(null),s=ze(""),o=ze([]),r=ze(!1),a=ze(!1),l=ze(""),c=hs({commands:[]}),u=hs({}),d=hs({cmdIndex:0,menuIdx:0,action:NO,title:"\u83B7\u53D6 DOM \u5143\u7D20"}),h=hs(vst.cloneDeep(z9)),f=fe(()=>mst(c.commands)),p=ze(!0);let m=0;const b=De=>{p.value=De},w=()=>{k()},y=(De=!0)=>{r.value=De},L=fe(()=>[..._st(c).map(pe=>({type:"mockAPI",label:`mock \u5FAE\u4FE1\u539F\u751F API\uFF1A${pe}`,cmdIndex:void 0,text:void 0,tag:void 0,path:void 0,byPlatform:!1,command:void 0})),...pst(f.value)]),D=(De,pe=t.value)=>{t.value===pe&&l.value===De||(l.value=De,t.value=pe)},E=(De,pe)=>{D(De,pe),k(0,l.value)},T=De=>{Object.assign(d,De),b(!0),a.value=!0},x=(De,pe)=>{e.setScrollPosition({scrollTop:0}),pe&&(o.value=De.tasks),s.value=De.preview,e.setValue(De.preview),Object.assign(c,De.minitestJson),Object.assign(u,De.lineNums)},k=async(De=1,pe="")=>{y();try{let _t=await dst({loadAll:pe?0:1,jsonName:pe});_t.errno===0?(D(_t.tasks[0]),x(_t,De)):(console.error(_t),U2.error("\u6CA1\u6709\u627E\u5230 JSON \u6587\u4EF6\uFF0C\u8BF7\u5148\u5F55\u5236 JSON Case"))}catch(_t){console.error(_t),U2.error(JSON.stringify(_t).slice(0,100))}y(!1)},N=De=>{let pe=u[De];e.revealLineInCenter(pe)},V=fe(()=>l.value.replace(".json",".spec.js")),H=async()=>{y();let De=e.getValue(),pe=await fst({codeStr:De,originJsonData:c,jsonFileName:l.value,specFileName:V.value});if((pe==null?void 0:pe.errno)===0){let _t=/^[^.]+/g.exec(V.value);_t&&_t[0]&&Lst(_t[0]),U2({message:V.value+"\u4FDD\u5B58\u5B8C\u6210\uFF0C\u6587\u4EF6\u540D\u5DF2\u5199\u5165\u526A\u8D34\u677F",type:"success"})}else U2.error(V.value+"\u4FDD\u5B58\u5931\u8D25\uFF01"+pe.errmsg);y(!1)},G=De=>{b(!1);let{cmdIndex:pe,command:_t}=De;if(typeof pe!="number"||typeof _t=="undefined")return new TypeError("cmdIndex must be number, but got undefined");m=pe;let _e=c.commands[pe],{action:Ge,data:ye,menuIdx:We}=_e;Object.assign(d,{cmdIndex:pe,action:Ge,menuIdx:We,title:wU[We].title}),h[Ge].selectedValue=_t,h[Ge].inputOptions[_t]=ye,console.log(h),a.value=!0},te=async(De,pe)=>{c.commands.splice(pe,p.value?0:1,De),me()},ae=async()=>{c.commands.splice(m,1),me()},me=async(De={})=>{y();const pe=await hst(It({jsonName:l.value,originJsonData:c},De));return x(pe,0),y(!1),pe},we=async De=>{let{mockOpType:pe,apiName:_t,fieldName:_e,fieldNewValue:Ge,positionType:ye,codeStr:We}=De.data,gt;switch(De.type){case"mock":gt=await me({updateMock:{type:pe,apiName:_t,fieldName:_e,fieldNewValue:Ge}});break;case"code":gt=await me({insertCode:{type:ye,codeStr:We}});break}if(gt!=null&&gt.extraOpsResult){let{type:rt,removedTotalMockCount:Fe,totalMockCount:ht,replacedApis:ee,replacedFields:le,leftCount:Ce}=gt.extraOpsResult;U2.success(rt==="rmApiRes"?`mock \u63A5\u53E3\u603B\u6570${ht}\uFF0C\u5220\u9664\u603B\u6570 ${Fe}\uFF0C\u5269\u4F59\u603B\u6570 ${Ce}`:`mock \u63A5\u53E3\u603B\u6570${ht}\uFF0C\u66FF\u6362\u63A5\u53E3\u603B\u6570 ${ee}\uFF0C\u66FF\u6362\u5B57\u6BB5\u603B\u6570 ${le}`)}},be=De=>{var pe;return(pe=i.value)==null?void 0:pe.showToolsDlg(De)};let Me=ze(!0);const He=fe(()=>Me.value?3:1),mt=fe(()=>Me.value?13:15),ot=()=>{Me.value=!Me.value,console.log(233)};return Ds(()=>{e=use.create(document.getElementById("container"),{value:"// E2E Test Designed by \u4E58\u5BA2\u524D\u7AEF/\u82B1\u5C0F\u732A\u5C0F\u7A0B\u5E8F ",language:"javascript",automaticLayout:!0,theme:"vs-dark",renderLineHighlight:"all",selectOnLineNumbers:!0,minimap:{enabled:!0},wordWrap:"on",folding:!0,readOnly:!1,fontSize:16,scrollBeyondLastLine:!1,overviewRulerBorder:!1,foldingMaximumRegions:2e5})}),yy(()=>e.dispose()),(De,pe)=>{const _t=Bi("QuestionFilled"),_e=Bi("ArrowLeft"),Ge=Bi("Document"),ye=Bi("ArrowRight"),We=Bi("CirclePlus"),gt=Nit;return O(),W(Ui,null,[vr((O(),St(B(rU),{gutter:10},{default:Oe(()=>[B(Me)?(O(),St(B(wS),{key:0,span:B(He)},{default:Oe(()=>[M("div",kTt,[Ue(B(Hf),{class:"box-item",effect:"dark",content:"\u5C06IDE\u5F55\u5236\u56DE\u653E\u7684json\u8FDB\u884C\u5BFC\u5165, \u4F8B minitest-1.json",placement:"right-start"},{default:Oe(()=>[Ue(B(aa),{class:"import-btn",type:"primary",onClick:w},{default:Oe(()=>[ETt,Ue(B(ws),null,{default:Oe(()=>[Ue(_t)]),_:1})]),_:1})]),_:1}),B(V)?(O(),W(Ui,{key:0},[Ue(B(Hf),{class:"box-item",effect:"dark",content:"\u5C06"+B(V)+"\u4FDD\u5B58\u5230 case \u76EE\u5F55",placement:"right-start"},{default:Oe(()=>[Ue(B(aa),{class:"save-btn",type:"success",onClick:H},{default:Oe(()=>[ITt,Ue(B(ws),null,{default:Oe(()=>[Ue(_t)]),_:1})]),_:1})]),_:1},8,["content"]),Ue(B(aa),{class:"arrow-btn",onClick:ot},{default:Oe(()=>[Ue(B(ws),null,{default:Oe(()=>[Ue(_e)]),_:1})]),_:1})],64)):Mt("",!0)]),M("div",TTt,[(O(!0),W(Ui,null,Ru(o.value,(rt,Fe)=>(O(),W("p",{class:it(["lh20 file-item ellipsis",B(t)===Fe?"file-item-hl":""]),onClick:ht=>E(rt,Fe),key:Fe},[Ue(B(ws),{class:"vtln"},{default:Oe(()=>[Ue(Ge)]),_:1}),M("span",{class:"mgnl10",title:rt},Rn(rt),9,MTt)],10,NTt))),128))])]),_:1},8,["span"])):(O(),St(B(wS),{key:1,span:B(He)},{default:Oe(()=>[M("div",ATt,[Ue(B(aa),{style:{width:"50%","margin-right":"6px"},onClick:ot},{default:Oe(()=>[Ue(B(ws),null,{default:Oe(()=>[Ue(ye)]),_:1})]),_:1})]),M("div",RTt,[(O(!0),W(Ui,null,Ru(o.value,(rt,Fe)=>(O(),W("p",{class:it(["lh20 file-item",B(t)===Fe?"file-item-hl":""]),onClick:ht=>E(rt,Fe),key:Fe,style:{"text-align":"center","padding-left":"0"}},[Ue(B(ws),{class:"vtln"},{default:Oe(()=>[Ue(Ge)]),_:1})],10,OTt))),128))])]),_:1},8,["span"])),Ue(B(wS),{span:8},{default:Oe(()=>[o.value.length<=0?(O(),St(B(qet),{key:0,description:"\u7A7A\u7A7A\u5982\u4E5F\uFF0C\u5FEB\u5BFC\u5165\u4F60\u7684 json \u5427","image-size":250})):Mt("",!0),o.value.length>0?(O(),St(B(rU),{key:1,class:"mb-4 pding-btm-10"},{default:Oe(()=>[Ue(B(Hf),{class:"box-item",effect:"dark",content:"\u64CD\u4F5C\u5F55\u5236 Mock \u6570\u636E",placement:"right-start"},{default:Oe(()=>[Ue(B(aa),{size:"large",icon:B(g9),onClick:pe[0]||(pe[0]=rt=>be("mock")),round:""},{default:Oe(()=>[PTt]),_:1},8,["icon"])]),_:1}),Ue(B(Hf),{class:"box-item",effect:"dark",content:"\u5411 beforeAll/afterAll \u63D2\u5165\u4EE3\u7801",placement:"right-start"},{default:Oe(()=>[Ue(B(aa),{size:"large",onClick:pe[1]||(pe[1]=rt=>be("code")),icon:B(iX),round:""},{default:Oe(()=>[FTt]),_:1},8,["icon"])]),_:1})]),_:1})):Mt("",!0),M("div",BTt,[(O(!0),W(Ui,null,Ru(B(L),(rt,Fe)=>(O(),W("div",{key:Fe,class:"card-cnt"},[M("div",VTt,[M("div",WTt,[Ue(B(uet),{onCommand:T,placement:"bottom-start"},{dropdown:Oe(()=>[Ue(B(het),null,{default:Oe(()=>[(O(!0),W(Ui,null,Ru(B(wU),(ht,ee)=>(O(),St(B(det),{command:It({menuIdx:ee,cmdIndex:rt.cmdIndex},ht),key:ee},{default:Oe(()=>[wr(Rn(ht.title),1)]),_:2},1032,["command"]))),128))]),_:2},1024)]),default:Oe(()=>[Ue(B(aa),{class:"bg-mg"},{default:Oe(()=>[Ue(B(ws),null,{default:Oe(()=>[Ue(We)]),_:1})]),_:1})]),_:2},1024),wr(" \u3010"+Rn(Fe+1)+"\u3011 ",1)]),M("div",{class:"card-cnt-info",onClick:ht=>N(Fe+1)},[rt.type==="mockAPI"?(O(),W("div",$Tt,Rn(rt.label),1)):(O(),W("div",zTt,[M("div",UTt,[M("p",{class:it(rt.byPlatform?"info-left-full":"info-left"),title:rt.label},"\u64CD\u4F5C: "+Rn(rt.label),11,jTt),rt.byPlatform?Mt("",!0):(O(),W("p",KTt,"\u6807\u7B7E\u540D\uFF1A"+Rn(rt.tag?rt.tag:"--"),1))]),rt.byPlatform?Mt("",!0):(O(),W("div",qTt,[M("p",{class:"info-left",title:rt.text},"\u6587\u6848\uFF1A"+Rn(rt.text?rt.text:"--"),9,GTt),M("p",{class:"info-right",title:rt.path},"\u9875\u9762\uFF1A"+Rn(rt.path),9,YTt)]))]))],8,HTt)]),rt.byPlatform?(O(),St(B(aa),{key:0,class:"button",text:"",onClick:ht=>G(rt)},{default:Oe(()=>[ZTt,Ue(B(ws),null,{default:Oe(()=>[Ue(B(g9))]),_:1})]),_:2},1032,["onClick"])):Mt("",!0)]))),128))])]),_:1}),Ue(B(wS),{span:B(mt)},{default:Oe(()=>[XTt]),_:1},8,["span"])]),_:1})),[[gt,r.value]]),Ue(wDt,{modelValue:a.value,"onUpdate:modelValue":pe[2]||(pe[2]=rt=>a.value=rt),currentMenu:d,e2eExtendsForm:h,isCreate:p.value,onAddToCmds:te,dialogFlag:a.value,onDelFromCmds:ae},null,8,["modelValue","currentMenu","e2eExtendsForm","isCreate","dialogFlag"]),Ue(xTt,{ref_key:"toolsDlgRef",ref:i,onBubbleFormData:we},null,512)],64)}}});var JTt=Jae(QTt,[["__scopeId","data-v-148ab344"]]);const ele=[{path:"/gencase",name:"gencase",component:JTt,title:"\u7528\u4F8B\u7BA1\u7406"},{path:"/home",name:"home",component:()=>at(()=>import("./HomeView.ad0080f3.js"),["assets/HomeView.ad0080f3.js","assets/HomeView.2a819d51.css","assets/counter.73fab20a.js","assets/index2.b1bb7322.js"]),title:"\u6D4B\u8BD5\u62A5\u544A"},{path:"/screenShot",name:"screenShot",component:()=>at(()=>import("./ScreenShot.38410a46.js"),["assets/ScreenShot.38410a46.js","assets/ScreenShot.632e4a5c.css","assets/counter.73fab20a.js"]),title:"\u9875\u9762\u5FEB\u7167"},{path:"/JSError",name:"JSError",component:()=>at(()=>import("./JSError.013fc3c0.js"),["assets/JSError.013fc3c0.js","assets/JSError.4d9fa044.css","assets/counter.73fab20a.js","assets/index2.b1bb7322.js"]),title:"\u9519\u8BEF\u65E5\u5FD7"}],e9t=Lze({history:H$e("/"),routes:ele});const tle=n=>(gZ("data-v-755fef3c"),n=n(),pZ(),n),t9t={class:"menu-list"},i9t=tle(()=>M("div",{class:"menu-inner"},[M("img",{class:"menu-logo",src:"https://dpubstatic.udache.com/static/dpubimg/T1R-u2N8nn/footer_logo.png",alt:""}),M("div",{class:"menu-info"},"E2E Report")],-1)),n9t=tle(()=>M("div",{class:"menu-mark"},[M("a",{class:"doc",href:"https://mpxjs.cn/guide/tool/e2e-test.html"},"\u5B98\u65B9\u6587\u6863"),M("a",{class:"github",href:"https://github.com/mpx-ecology/mpx-e2e"})],-1)),s9t=Ht({name:"MenuList",setup(n){const e=Dze(),t=oZ(()=>{const i=kze();return i.path==="/"&&e.replace("/gencase"),i.path});return(i,s)=>(O(),W("div",t9t,[i9t,Ue(B(iit),{"default-active":B(t),class:"el-menu-demo",mode:"horizontal","text-color":"#fff","background-color":"#4A5259","active-text-color":"#77CD9E",router:!0},{default:Oe(()=>[(O(!0),W(Ui,null,Ru(B(ele),(o,r)=>(O(),St(B(nit),{key:r,index:o.path,route:o},{default:Oe(()=>[wr(Rn(o.title),1)]),_:2},1032,["index","route"]))),128))]),_:1},8,["default-active"]),n9t]))}});var o9t=Jae(s9t,[["__scopeId","data-v-755fef3c"]]);const r9t={class:"common-layout"},a9t={class:"common-container"},l9t=M("div",{class:"bottom-footer"},"E2E Test Designed by \u4E58\u5BA2\u524D\u7AEF/\u82B1\u5C0F\u732A\u5C0F\u7A0B\u5E8F",-1),c9t=Ht({name:"App",setup(n){return(e,t)=>(O(),W("div",r9t,[Ue(B(XQe),null,{default:Oe(()=>[Ue(B(JQe),null,{default:Oe(()=>[Ue(o9t)]),_:1}),Ue(B(sO),null,{default:Oe(()=>[Ue(B(eJe),null,{default:Oe(()=>[M("div",a9t,[Ue(B(pX))])]),_:1})]),_:1}),Ue(B(QQe),null,{default:Oe(()=>[l9t]),_:1})]),_:1})]))}}),GD=KZ(c9t);GD.use(X_e());GD.use(e9t);for(const[n,e]of Object.entries(w$e))GD.component(n,e);GD.mount("#app");i0e();export{Do as $,Ds as A,z2 as B,oZ as C,St as D,ws as E,Ui as F,aa as G,sO as H,Zn as I,FQ as J,hs as K,NQe as L,wZ as M,tO as N,Wt as O,C_ as P,Cg as Q,uYe as R,Ai as S,Fr as T,ja as U,Y1 as V,y_ as W,wy as X,hn as Y,g9t as Z,hi as _,Ht as a,nYe as a$,Ly as a0,vr as a1,d9t as a2,Pr as a3,Hn as a4,zg as a5,pl as a6,h9t as a7,cst as a8,Gi as a9,CE as aA,XZ as aB,OR as aC,il as aD,Yu as aE,_1 as aF,nO as aG,VC as aH,JGe as aI,uc as aJ,Op as aK,U1 as aL,jLe as aM,rRe as aN,zY as aO,Va as aP,J0e as aQ,C$e as aR,g$e as aS,_7e as aT,S7e as aU,gl as aV,MZ as aW,um as aX,ji as aY,xz as aZ,__e as a_,Dx as aa,TGe as ab,gXe as ac,IGe as ad,Wa as ae,Cz as af,Ls as ag,Hf as ah,MR as ai,QZ as aj,xQe as ak,Gv as al,Bme as am,Ru as an,hx as ao,yy as ap,qp as aq,E9 as ar,ig as as,cs as at,Of as au,xme as av,XR as aw,xo as ax,QR as ay,Gc as az,fn as b,pa as b0,Tm as b1,p9t as b2,f9t as b3,qet as b4,Qy as b5,Dse as b6,W as c,ti as d,B as e,wr as f,Mt as g,M as h,kn as i,Jae as j,fe as k,wMt as l,yMt as m,it as n,O as o,Bi as p,Ue as q,xt as r,Oe as s,Rn as t,li as u,gZ as v,er as w,pZ as x,ze as y,$t as z};
